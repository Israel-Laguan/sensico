(this.webpackJsonpmmmcrm=this.webpackJsonpmmmcrm||[]).push([[8],{406:function(e,t,r){},407:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r(406);var n=r(2),a=function(e){var t=e.children;return Object(n.jsx)("div",{className:"navslide navwrap",id:"app_content_toolbar",children:Object(n.jsx)("div",{className:"ui menu icon borderless","data-color":"inverted white",style:{height:40},children:t})})}},408:function(e,t,r){"use strict";var n=r(11),a=r.n(n),c=r(21),u=r(44),i=r(0),s=r(412),o=r(24),l=r(112);t.a=function(e){var t=e.url,r=void 0===t?null:t,n=e.params,b=void 0===n?{}:n,f=e.take,j=void 0===f?20:f,h=Object(i.useState)({take:j,skip:0}),p=Object(u.a)(h,2),v=p[0],O=p[1],m=Object(i.useState)(function(){var e="".concat("http://objetosbim.sencico.gob.pe/api","/").concat(r),t=!1;return Object.keys(b).length>0&&(t=!0,Object.keys(b).forEach((function(t,r){e+=0===r?"?".concat(t,"=").concat(b[t],"&"):"".concat(t,"=").concat(b[t],"&")}))),t||(e+="?"),e}()),x=Object(u.a)(m,2),w=x[0],g=x[1],k=Object(i.useState)(),S=Object(u.a)(k,2),y=S[0],N=S[1],C=function(e){N(e)},E=Object(i.useRef)(""),R=Object(i.useRef)(""),D=Object(i.useRef)(null),L=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r,n,c,u,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],r=i.length>1&&void 0!==i[1]?i[1]:null,Object(s.d)(v)!==E.current||t){e.next=4;break}return e.abrupt("return");case 4:return R.current=Object(s.d)(v),e.prev=5,n="",(r||D.current)&&(r!==D.current&&r&&(D.current=r),n=d(D.current)),e.next=10,Object(l.a)({url:w+R.current+n,method:"GET"});case 10:c=e.sent,u=c.data,E.current=R.current,R.current="",Object(s.d)(v)===E.current?C.call(void 0,{data:u.body.data,total:u.body.count}):L(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0),o.a.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){L()}),[v]),{dataResul:y,dataState:v,handleCustomSearch:function(e){if("Enter"===e.key){var t=e.target.value;L(!0,{search:t})}},setBaseUrl:g,setDataState:O,baseUrl:w,dataStateChange:function(e){O(e.dataState)},requestDataIfNeeded:L}};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.keys(e).length)return"";var t="";return Object.keys(e).forEach((function(r){t+="&$".concat(r,"=").concat(e[r],"&")})),t}},411:function(e,t,r){"use strict";var n=r(44),a=r(0);t.a=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(n.a)(e,1)[0];return Object(a.useEffect)((function(){function e(){var e=document.querySelector(".k-widget.k-grid.grid"),t=window.innerHeight-90;e&&(e.style.height="".concat(t,"px"))}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e())}}),[]),{width:t.width,height:t.height}}},413:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"e",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return j}));var n=r(11),a=r.n(n),c=r(21),u=r(13),i=r(31),s=r(26),o=r(24),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/brand/".concat(t));case 3:if((r=e.sent).data.status!==s.a){e.next=8;break}return e.abrupt("return",r.data.body);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post("/brand",t);case 3:if((r=e.sent).data.status!==s.a){e.next=9;break}return u.Notify.success("Se creo correctamente."),e.abrupt("return",!0);case 9:return r.data.msg?o.a.error(null,r.data.msg):o.a.error("Opps... hubo un error inesperador."),e.abrupt("return",!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),o.a.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.put("/brand/".concat(t),r);case 3:if((n=e.sent).data.status!==s.a){e.next=9;break}return u.Notify.success("Se edit\xf3 correctamente."),e.abrupt("return",!0);case 9:return n.data.msg?o.a.error(null,n.data.msg):o.a.error("Opps... hubo un error inesperador."),e.abrupt("return",!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),o.a.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.delete("/brand/".concat(t));case 3:if(e.sent.data.status!==s.a){e.next=7;break}return o.a.success(null,"Se elimino correctamente."),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(0),o.a.error(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/brand");case 3:(r=e.sent).data.status===s.a?t(r.data.body.data):t(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},416:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(12),a=r(126),c=r(401),u=r(2),i=["title","children","size","actions","show","setShow"],s=function(e){var t=e.title,r=void 0===t?"":t,s=e.children,o=e.size,l=void 0===o?"small":o,d=e.actions,b=e.show,f=void 0!==b&&b,j=(e.setShow,Object(a.a)(e,i));return Object(u.jsxs)(c.a,Object(n.a)(Object(n.a)({open:f,size:l},j),{},{children:[Object(u.jsx)(c.a.Header,{children:r}),Object(u.jsx)(c.a.Content,{children:s}),d&&Object(u.jsx)(c.a.Actions,{children:d})]}))}},432:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(12),a=r(11),c=r.n(a),u=r(21),i=r(44),s=r(407),o=r(416),l=r(32),d=r(384),b=r(399),f=r(0),j=r(182),h=r(400),p=r(88),v=r(413),O=r(13),m=r(2),x=Object(f.forwardRef)((function(e,t){var r=e.setShow,n=e.loadDataTable,a=e.id,i=Object(j.a)({initialValues:{name:""},validationSchema:p.b({name:p.d().required("Este campo es requerido.")}),onSubmit:function(){var e=Object(u.a)(c.a.mark((function e(t){var u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.Loading.pulse(),u=null,!a){e.next=8;break}return e.next=5,Object(v.e)(a,t);case 5:u=e.sent,e.next=11;break;case 8:return e.next=10,Object(v.a)(t);case 10:u=e.sent;case 11:if(!u){e.next=15;break}return r(!1),n(!0),e.abrupt("return");case 15:O.Loading.remove();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});Object(f.useImperativeHandle)(t,(function(){return{handleSubmit:function(){i.submitForm()}}}));var s=function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.Loading.pulse(),e.next=3,Object(v.c)(a);case 3:(t=e.sent)?i.setValues(t):O.Notify.failure("No se encontro la categoria"),O.Loading.remove();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){a&&s()}),[a]),Object(m.jsx)(h.a,{onSubmit:i.handleSubmit,children:Object(m.jsx)(h.a.Group,{widths:"equal",children:Object(m.jsx)(h.a.Input,{label:"Nombre",name:"name",value:i.values.name,error:i.errors.name,onChange:i.handleChange})})})})),w=x,g=r(408),k=r(414),S=r(411),y=function(){var e=Object(g.a)({url:"brand"}),t=e.dataResul,r=e.dataState,a=e.dataStateChange,j=e.requestDataIfNeeded,h=Object(f.useState)(null),p=Object(i.a)(h,2),x=p[0],y=p[1],N=Object(f.useState)(!1),C=Object(i.a)(N,2),E=C[0],R=C[1],D=Object(f.useRef)();Object(S.a)();return Object(m.jsxs)("div",{className:"Marcas",children:[Object(m.jsxs)(s.a,{children:[Object(m.jsx)("div",{class:"item ui colhidden",children:Object(m.jsx)("button",{class:"ui icon button",onClick:function(){return j(!0)},children:Object(m.jsx)("i",{class:"sync icon"})})}),Object(m.jsx)("div",{className:"item ui colhidden",children:Object(m.jsx)("div",{className:"ui big breadcrumb",children:Object(m.jsx)("h2",{className:"section active",children:"MARCAS"})})}),Object(m.jsx)("div",{className:"item ui colhidden",children:Object(m.jsxs)(d.a,{onClick:function(){y(null),R(!0)},className:"ui button",children:[Object(m.jsx)(l.h,{})," Nueva marca"]})})]}),Object(m.jsx)("div",{className:"Marcas__body app__container_body",children:Object(m.jsx)("div",{className:"Marcas__tabla",children:Object(m.jsxs)(k.a,Object(n.a)(Object(n.a)(Object(n.a)({sortable:!0,pageable:!0},r),t),{},{onDataStateChange:a,className:"grid",children:[Object(m.jsx)(k.b,{width:50,cell:function(e){var t=e.dataItem;return Object(m.jsx)("td",{style:{overflow:"inherit"},children:Object(m.jsx)(b.a,{icon:"ellipsis vertical",floating:!0,button:!0,className:"icon circular compact ui left pointing",children:Object(m.jsxs)(b.a.Menu,{children:[Object(m.jsx)(b.a.Item,{icon:"edit",className:"blue",text:"Editar",onClick:function(){return function(e){y(e),R(!0)}(t.id)}}),Object(m.jsx)(b.a.Item,{icon:"delete",className:"red",text:"Eliminar",onClick:function(){return function(e,t){O.Confirm.show("OPERADORES","\xbfDesea eliminar a la marca ".concat(t,"?"),"Aceptar","Cancelar",Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.Loading.pulse(),t.next=3,Object(v.b)(e);case 3:if(!t.sent){t.next=7;break}return j(!0),t.abrupt("return");case 7:O.Loading.remove();case 8:case"end":return t.stop()}}),t)}))))}(t.id,t.name)}})]})})})}}),Object(m.jsx)(k.b,{width:100,title:"ID",field:"id"}),Object(m.jsx)(k.b,{field:"name",title:"NOMBRES"}),Object(m.jsx)(k.b,{field:"slug",title:"URL"})]}))})}),Object(m.jsx)(o.a,{title:"Ficha marca",show:E,size:"mini",actions:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{onClick:function(){return R(!1)},children:"Cancelar"}),Object(m.jsx)(d.a,{primary:!0,onClick:function(){return D.current.handleSubmit()},children:"Guardar"})]}),children:Object(m.jsx)(w,{ref:D,setShow:R,loadDataTable:j,id:x})})]})}}}]);
//# sourceMappingURL=8.7dadacaf.chunk.js.map