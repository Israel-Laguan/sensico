{"version":3,"sources":["../node_modules/@progress/kendo-data-query/dist/es/utils.js","../node_modules/@progress/kendo-data-query/dist/es/filtering/filter-descriptor.interface.js","../node_modules/tslib/tslib.es6.js","../node_modules/@progress/kendo-data-query/dist/es/funcs.js","../node_modules/@progress/kendo-data-query/dist/es/filter-serialization.common.js","../node_modules/@progress/kendo-data-query/dist/es/odata.operators.js","../node_modules/@progress/kendo-data-query/dist/es/filtering/filter.operators.js","../node_modules/@progress/kendo-data-query/dist/es/odata-filtering.operators.js","../node_modules/@progress/kendo-data-query/dist/es/accessor.js","../node_modules/@progress/kendo-data-query/dist/es/mvc/operators.js","../node_modules/@progress/kendo-data-query/dist/es/mvc/deserialization.js","../node_modules/@progress/kendo-data-query/dist/es/sorting/sort-array.operator.js","../node_modules/@progress/kendo-data-query/dist/es/transducers.js","../node_modules/@progress/kendo-data-query/dist/es/filtering/filter-no-eval.js","../node_modules/@progress/kendo-data-query/dist/es/grouping/aggregate.operators.js","../node_modules/@progress/kendo-data-query/dist/es/filtering/filter-expression.factory.js","../node_modules/@progress/kendo-data-query/dist/es/sorting/sort.js","../node_modules/@progress/kendo-data-query/dist/es/grouping/group.operators.js","../node_modules/@progress/kendo-data-query/dist/es/array.operators.js","../node_modules/@progress/kendo-react-common/dist/es/browser-support.service.js","../node_modules/@progress/kendo-react-common/dist/es/canUseDOM.js","../node_modules/@progress/kendo-react-common/dist/es/classNames.js","../node_modules/@progress/kendo-react-common/dist/es/clone.js","../node_modules/@telerik/kendo-draggable/dist/es/main.js","../node_modules/@progress/kendo-react-common/dist/es/Draggable.js","../node_modules/@progress/kendo-react-common/dist/es/focus.js","../node_modules/@progress/kendo-react-common/dist/es/getTabIndex.js","../node_modules/@progress/kendo-react-common/dist/es/constants/index.js","../node_modules/@progress/kendo-react-common/dist/es/fieldList.js","../node_modules/@progress/kendo-react-common/dist/es/getter.js","../node_modules/@progress/kendo-react-common/dist/es/guid.js","../node_modules/@progress/kendo-react-common/dist/es/keys.js","../node_modules/@progress/kendo-react-common/dist/es/noop.js","../node_modules/@progress/kendo-react-common/dist/es/scrollbarWidth.js","../node_modules/@progress/kendo-react-common/dist/es/treeDataOperations.js","../node_modules/@progress/kendo-react-common/dist/es/validate-package.js","../node_modules/@progress/kendo-react-common/dist/es/hasRelativeStackingContext.js","../node_modules/@progress/kendo-react-common/dist/es/events/dispatchEvent.js","../node_modules/@progress/kendo-react-common/dist/es/hocs/AsyncFocusBlur.js","../node_modules/@progress/kendo-react-common/dist/es/hooks/useAsyncFocusBlur.js","../node_modules/@progress/kendo-react-common/dist/es/hooks/useDir.js","../node_modules/@progress/kendo-react-common/dist/es/hooks/useRtl.js","../node_modules/@progress/kendo-react-common/dist/es/hooks/useMouse.js","../node_modules/@progress/kendo-react-common/dist/es/icons/constants.js","../node_modules/@progress/kendo-react-common/dist/es/icons/Icon.js","../node_modules/@progress/kendo-react-common/dist/es/icons/SvgIcon.js","../node_modules/@progress/kendo-react-common/dist/es/typography/constants.js","../node_modules/@progress/kendo-react-data-tools/dist/es/messages/index.js","../node_modules/@progress/kendo-react-labels/dist/es/messages/index.js","../node_modules/@progress/kendo-react-common/dist/es/typography/Typography.js","../node_modules/@progress/kendo-react-data-tools/dist/es/pager/PagerNumericButtons.js","../node_modules/@progress/kendo-react-data-tools/dist/es/pager/PagerInput.js","../node_modules/@progress/kendo-react-labels/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-labels/dist/es/Label.js","../node_modules/@progress/kendo-react-labels/dist/es/Error.js","../node_modules/@progress/kendo-react-labels/dist/es/Hint.js","../node_modules/@progress/kendo-react-labels/dist/es/FloatingLabel.js","../node_modules/@progress/kendo-react-popup/dist/es/animation.js","../node_modules/@progress/kendo-popup-common/dist/es/align-point.js","../node_modules/@progress/kendo-popup-common/dist/es/align.js","../node_modules/@progress/kendo-popup-common/dist/es/owner-document.js","../node_modules/@progress/kendo-popup-common/dist/es/window.js","../node_modules/@progress/kendo-popup-common/dist/es/document.js","../node_modules/@progress/kendo-popup-common/dist/es/scrollbar-width.js","../node_modules/@progress/kendo-popup-common/dist/es/window-viewport.js","../node_modules/@progress/kendo-popup-common/dist/es/bounding-offset.js","../node_modules/@progress/kendo-popup-common/dist/es/offset-parent.js","../node_modules/@progress/kendo-popup-common/dist/es/is-body-offset.js","../node_modules/@progress/kendo-popup-common/dist/es/offset.js","../node_modules/@progress/kendo-popup-common/dist/es/parents.js","../node_modules/@progress/kendo-popup-common/dist/es/scroll-position.js","../node_modules/@progress/kendo-popup-common/dist/es/element-scroll-position.js","../node_modules/@progress/kendo-popup-common/dist/es/position.js","../node_modules/@progress/kendo-popup-common/dist/es/offset-parent-scroll-position.js","../node_modules/@progress/kendo-popup-common/dist/es/parent-scroll-position.js","../node_modules/@progress/kendo-popup-common/dist/es/collision.js","../node_modules/@progress/kendo-popup-common/dist/es/restrict-to-view.js","../node_modules/@progress/kendo-popup-common/dist/es/siblings.js","../node_modules/@progress/kendo-popup-common/dist/es/sibling-container.js","../node_modules/@progress/kendo-react-popup/dist/es/util.js","../node_modules/@progress/kendo-react-popup/dist/es/services/alignService.js","../node_modules/@progress/kendo-react-popup/dist/es/services/domService.js","../node_modules/@progress/kendo-popup-common/dist/es/position-with-scroll.js","../node_modules/@progress/kendo-popup-common/dist/es/apply-location-offset.js","../node_modules/@progress/kendo-popup-common/dist/es/add-scroll.js","../node_modules/@progress/kendo-popup-common/dist/es/remove-scroll.js","../node_modules/@progress/kendo-react-popup/dist/es/services/positionService.js","../node_modules/@progress/kendo-react-popup/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-popup/dist/es/Popup.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/messages/index.js","../node_modules/@progress/kendo-react-popup/dist/es/PopupWithContext.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListContainer.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListFilter.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/utils.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListDefaultItem.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListItem.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/List.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/VirtualScroll.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/Navigation.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/DropDownBase.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownList/DropDownList.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/ClearButton.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/SearchBar.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/settings.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/ComboBox/ComboBox.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/AutoComplete/AutoComplete.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelect/TagList.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelect/MultiSelect.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/common/MultiColumnList.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/MultiColumnComboBox/MultiColumnComboBox.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/itemIdUtils.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/SortedPublicItemIds.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/misc.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/itemUtils.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/getItemIdUponKeyboardNavigation.js","../node_modules/dom-helpers/esm/removeClass.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/react-transition-group/esm/CSSTransition.js","../node_modules/dom-helpers/esm/addClass.js","../node_modules/dom-helpers/esm/hasClass.js","../node_modules/@progress/kendo-react-animation/dist/es/util.js","../node_modules/@progress/kendo-react-animation/dist/es/AnimationChild.js","../node_modules/react-transition-group/esm/utils/ChildMapping.js","../node_modules/react-transition-group/esm/TransitionGroup.js","../node_modules/@progress/kendo-react-animation/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-animation/dist/es/Animation.js","../node_modules/@progress/kendo-react-animation/dist/es/Fade.js","../node_modules/@progress/kendo-react-animation/dist/es/Expand.js","../node_modules/@progress/kendo-react-animation/dist/es/Push.js","../node_modules/@progress/kendo-react-animation/dist/es/Slide.js","../node_modules/@progress/kendo-react-animation/dist/es/Zoom.js","../node_modules/@progress/kendo-react-animation/dist/es/Reveal.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/consts.js","../node_modules/@progress/kendo-react-treeview/dist/es/TreeViewItem.js","../node_modules/@progress/kendo-react-treeview/dist/es/utils/FieldsService.js","../node_modules/@progress/kendo-react-treeview/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-treeview/dist/es/TreeView.js","../node_modules/@progress/kendo-react-treeview/dist/es/TreeViewDragClue.js","../node_modules/@progress/kendo-react-treeview/dist/es/TreeViewDragAnalyzer.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownTree/useDropdownWidth.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownTree/ListNoData.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownTree/DropDownTree.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelectTree/MultiSelectTree.js","../node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelectTree/utils.js","../node_modules/@progress/kendo-react-data-tools/dist/es/pager/PagerPageSizes.js","../node_modules/@progress/kendo-react-data-tools/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-data-tools/dist/es/pager/Pager.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filteringCells/FilterComponent.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/virtualization/Virtualization.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filteringCells/BooleanFilter.js","../node_modules/@progress/kendo-date-math/dist/es/clone-date.js","../node_modules/@progress/kendo-date-math/dist/es/adjust-dst.js","../node_modules/@progress/kendo-date-math/dist/es/create-date.js","../node_modules/@progress/kendo-date-math/dist/es/get-date.js","../node_modules/@progress/kendo-date-math/dist/es/is-equal.js","../node_modules/@progress/kendo-date-math/dist/es/is-equal-date.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/virtualization/services/RowHeightService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/virtualization/services/ScrollerService.js","../node_modules/@progress/kendo-date-math/dist/es/day.enum.js","../node_modules/@progress/kendo-date-math/dist/es/add-days.js","../node_modules/@progress/kendo-date-math/dist/es/direction.enum.js","../node_modules/@progress/kendo-date-math/dist/es/day-of-week.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/models/NavigationAction.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/models/CalendarViewEnum.js","../node_modules/@progress/kendo-date-math/dist/es/week-in-year.js","../node_modules/@progress/kendo-date-math/dist/es/prev-day-of-week.js","../node_modules/@progress/kendo-date-math/dist/es/constants.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/CalendarCell.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/CalendarWeekCell.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/models/SelectionRange.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/CenturyViewService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/DecadeViewService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/MonthViewService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/YearViewService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/BusViewService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/utils.js","../node_modules/@progress/kendo-date-math/dist/es/last-day-of-month.js","../node_modules/@progress/kendo-date-math/dist/es/add-months.js","../node_modules/@progress/kendo-date-math/dist/es/set-year.js","../node_modules/@progress/kendo-date-math/dist/es/add-years.js","../node_modules/@progress/kendo-date-math/dist/es/add-decades.js","../node_modules/@progress/kendo-date-math/dist/es/add-centuries.js","../node_modules/@progress/kendo-date-math/dist/es/normalize-year.js","../node_modules/@progress/kendo-date-math/dist/es/first-decade-of-century.js","../node_modules/@progress/kendo-date-math/dist/es/last-decade-of-century.js","../node_modules/@progress/kendo-date-math/dist/es/first-year-of-decade.js","../node_modules/@progress/kendo-date-math/dist/es/duration-in-centuries.js","../node_modules/@progress/kendo-date-math/dist/es/last-year-of-decade.js","../node_modules/@progress/kendo-date-math/dist/es/duration-in-decades.js","../node_modules/@progress/kendo-date-math/dist/es/add-weeks.js","../node_modules/@progress/kendo-date-math/dist/es/first-day-of-month.js","../node_modules/@progress/kendo-date-math/dist/es/duration-in-months.js","../node_modules/@progress/kendo-date-math/dist/es/set-month.js","../node_modules/@progress/kendo-date-math/dist/es/first-month-of-year.js","../node_modules/@progress/kendo-date-math/dist/es/last-month-of-year.js","../node_modules/@progress/kendo-date-math/dist/es/duration-in-years.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/DOMService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/NavigationService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/ScrollSyncService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/WeekNamesService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/View.js","../node_modules/@progress/kendo-react-buttons/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-buttons/dist/es/util.js","../node_modules/@progress/kendo-react-buttons/dist/es/Button.js","../node_modules/@progress/kendo-react-buttons/dist/es/ButtonGroup.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/ButtonItem.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/SplitButtonItem.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/utils/navigation.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/utils/popup.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/SplitButton.js","../node_modules/@progress/kendo-react-buttons/dist/es/Chip/selection-reducer.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/DropDownButtonItem.js","../node_modules/@progress/kendo-react-buttons/dist/es/ListButton/DropDownButton.js","../node_modules/@progress/kendo-react-buttons/dist/es/toolbar/Toolbar.js","../node_modules/@progress/kendo-react-buttons/dist/es/toolbar/tools/ToolbarItem.js","../node_modules/@progress/kendo-react-buttons/dist/es/toolbar/tools/ToolbarSeparator.js","../node_modules/@progress/kendo-react-buttons/dist/es/toolbar/tools/ToolbarSpacer.js","../node_modules/@progress/kendo-react-buttons/dist/es/Chip/focus-reducer.js","../node_modules/@progress/kendo-react-buttons/dist/es/Chip/data-reducer.js","../node_modules/@progress/kendo-react-buttons/dist/es/Chip/ChipList.js","../node_modules/@progress/kendo-react-buttons/dist/es/Chip/Chip.js","../node_modules/@progress/kendo-react-buttons/dist/es/FloatingActionButton/FloatingActionButtonItem.js","../node_modules/@progress/kendo-react-buttons/dist/es/FloatingActionButton/utils.js","../node_modules/@progress/kendo-react-buttons/dist/es/FloatingActionButton/FloatingActionButton.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/CalendarHeaderTitle.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/messages/index.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/defaults.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/Header.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/TodayCommand.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/ViewList.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/CalendarNavigationItem.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/Navigation.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/Calendar.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/dateinput/models/mask.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/dateinput/utils.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/dateinput/models/kendo-date.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/models/TimePart.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/utils.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/dateinput/DateInput.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/datepicker/ToggleButton.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/common/PickerWrap.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/hooks/usePickerFloatingLabel.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/datepicker/DatePicker.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/services/DayPeriodService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/TimeList.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/services/DOMService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/services/HoursService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/services/MinutesService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/services/SecondsService.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/TimePart.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/TimeSelector.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/TimePicker.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/HorizontalViewList.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/MultiViewCalendar.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/daterangepicker/DateRangePicker.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/datetimepicker/DateTimeSelector.js","../node_modules/@progress/kendo-react-dateinputs/dist/es/datetimepicker/DateTimePicker.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filteringCells/DateFilter.js","../node_modules/@progress/kendo-react-inputs/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/utils/misc.js","../node_modules/@progress/kendo-drawing/dist/es/common/class.js","../node_modules/@progress/kendo-drawing/dist/es/common/support.js","../node_modules/@progress/kendo-drawing/dist/es/common/color/named-colors.js","../node_modules/@progress/kendo-drawing/dist/es/common/color/parse-color.js","../node_modules/@progress/kendo-drawing/dist/es/common/color/color.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/utils/color-parser.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/utils/color-cache.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/HexInput.js","../node_modules/@progress/kendo-react-inputs/dist/es/messages/index.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorInput.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorContrastLabels.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/utils/svg-calc.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorContrastSvg.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorGradient.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/utils/color-palette.service.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/models/palette-presets.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorPalette.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/Picker.js","../node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorPicker.js","../node_modules/@progress/kendo-react-inputs/dist/es/input/Input.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/parsing/result.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/parsing/stream.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/parsing/parsers.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/parsing/combinators.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/masking.service.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/utils.js","../node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/MaskedTextBox.js","../node_modules/@progress/kendo-react-inputs/dist/es/numerictextbox/utils/index.js","../node_modules/@progress/kendo-react-inputs/dist/es/numerictextbox/NumericTextBox.js","../node_modules/@progress/kendo-react-inputs/dist/es/slider/SliderLabel.js","../node_modules/@progress/kendo-react-inputs/dist/es/slider/Slider.js","../node_modules/@progress/kendo-react-inputs/dist/es/range-slider/range-raducer.js","../node_modules/@progress/kendo-react-inputs/dist/es/range-slider/RangeSlider.js","../node_modules/@progress/kendo-react-common/dist/es/hooks/useDraggable.js","../node_modules/@progress/kendo-react-inputs/dist/es/switch/Switch.js","../node_modules/@progress/kendo-react-inputs/dist/es/checkbox/Checkbox.js","../node_modules/@progress/kendo-react-inputs/dist/es/radiobutton/RadioButton.js","../node_modules/@progress/kendo-react-inputs/dist/es/radiobutton/RadioGroup.js","../node_modules/@progress/kendo-react-inputs/dist/es/textarea/TextArea.js","../node_modules/@progress/kendo-react-inputs/dist/es/rating/RatingItem.js","../node_modules/@progress/kendo-react-inputs/dist/es/rating/utils/index.js","../node_modules/@progress/kendo-react-inputs/dist/es/rating/rating-reducer.js","../node_modules/@progress/kendo-react-inputs/dist/es/rating/Rating.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filteringCells/NumericFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/navigation/constants.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filteringCells/TextFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/navigation/TableKeyboardNavigationContext.js","../node_modules/@progress/kendo-react-data-tools/dist/es/navigation/hooks.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/HeaderThElement.js","../node_modules/@progress/kendo-react-data-tools/dist/es/navigation/utils.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/utils/index.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/Header.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/HeaderCell.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/SortSettings.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/ColumnResizer.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/ColumnDraggable.js","../node_modules/@progress/kendo-react-data-tools/dist/es/header/HeaderRow.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/ColumnResize.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/CommonDragLogic.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/DragClue.js","../node_modules/@progress/kendo-react-data-tools/dist/es/drag/DropClue.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/filters/TextFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/filters/NumericFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/filters/DateFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/filters/EnumFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/filters/BooleanFilter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/operators.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/Expression.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/Group.js","../node_modules/@progress/kendo-react-data-tools/dist/es/filter/Filter.js","../node_modules/@progress/kendo-react-data-tools/dist/es/columnmenu/ColumnMenuOperators.js","../node_modules/@progress/kendo-react-data-tools/dist/es/utils/group-operations.js","../node_modules/@progress/kendo-react-data-tools/dist/es/navigation/TableKeyboardNavigation.js","../node_modules/@progress/kendo-react-data-tools/dist/es/selection/constants.js","../node_modules/@progress/kendo-react-data-tools/dist/es/selection/utils.js","../node_modules/@progress/kendo-react-data-tools/dist/es/selection/TableSelection.js","../node_modules/@progress/kendo-react-grid/dist/es/GridColumn.js","../node_modules/@progress/kendo-react-grid/dist/es/utils/index.js","../node_modules/@progress/kendo-react-grid/dist/es/messages/index.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridSelectionCell.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridHierarchyCell.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridEditCell.js","../node_modules/@progress/kendo-react-grid/dist/es/header/Header.js","../node_modules/@progress/kendo-react-grid/dist/es/interfaces/GridSortSettings.js","../node_modules/@progress/kendo-react-grid/dist/es/drag/ColumnResizer.js","../node_modules/@progress/kendo-react-grid/dist/es/drag/ColumnDraggable.js","../node_modules/@progress/kendo-react-grid/dist/es/header/GridHeaderCell.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/ColumnMenu.js","../node_modules/@progress/kendo-react-grid/dist/es/header/HeaderRow.js","../node_modules/@progress/kendo-react-grid/dist/es/filterCommon.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridFilterCell.js","../node_modules/@progress/kendo-react-grid/dist/es/header/FilterRow.js","../node_modules/@progress/kendo-react-grid/dist/es/drag/GroupingIndicator.js","../node_modules/@progress/kendo-react-grid/dist/es/header/GroupPanel.js","../node_modules/@progress/kendo-react-grid/dist/es/footer/Footer.js","../node_modules/@progress/kendo-react-grid/dist/es/VirtualScroll.js","../node_modules/@progress/kendo-react-grid/dist/es/drag/ColumnResize.js","../node_modules/@progress/kendo-react-grid/dist/es/drag/CommonDragLogic.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridCell.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridGroupCell.js","../node_modules/@progress/kendo-react-grid/dist/es/rows/GridRow.js","../node_modules/@progress/kendo-react-grid/dist/es/constants/index.js","../node_modules/@progress/kendo-react-grid/dist/es/header/GridHeaderSelectionCell.js","../node_modules/@progress/kendo-react-grid/dist/es/GridNoRecords.js","../node_modules/@progress/kendo-react-grid/dist/es/footer/FooterRow.js","../node_modules/@progress/kendo-react-grid/dist/es/package-metadata.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridDetailCell.js","../node_modules/@progress/kendo-react-grid/dist/es/cells/GridDetailHierarchyCell.js","../node_modules/@progress/kendo-react-grid/dist/es/Grid.js","../node_modules/@progress/kendo-react-data-tools/dist/es/virtualization/columns.js","../node_modules/@progress/kendo-react-grid/dist/es/paging/GridPagerSettings.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuItemGroup.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuItem.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuGroup.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuSort.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuItemContent.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuFilterCell.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuFilterUI.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuFilter.js","../node_modules/@progress/kendo-react-grid/dist/es/columnMenu/GridColumnMenuCheckboxFilter.js","../node_modules/@progress/kendo-react-grid/dist/es/rows/GridDetailRow.js","../node_modules/@progress/kendo-react-grid/dist/es/GridToolbar.js"],"names":["isPresent","value","undefined","isBlank","isArray","Array","isFunction","isString","isNotNullOrEmptyString","trim","length","isNullOrEmptyString","isNumeric","isNaN","parseFloat","isDate","getTime","isCompositeFilterDescriptor","source","filters","__assign","Object","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","__makeTemplateObject","cooked","raw","defineProperty","templateObject_1","templateObject_2","x","ifElse","predicate","right","left","compose","args","_i","data","reduceRight","acc","curr","wrapIf","str","toUTC","date","Date","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","quote","_a","field","ignoreCase","operator","replace","encodeValue","encodeURIComponent","toLower","tslib_1","normalizeField","isStringValue","isDateValue","serializeFilters","map","join","filter","brackets","normalizeOperator","descriptor","key","result","equal","equals","equalto","ge","greater","greaterthan","greaterthanequal","isempty","isequalto","isgreaterthan","isgreaterthanorequalto","islessthan","islessthanorequalto","isnotempty","isnotequalto","isnull","le","less","lessthan","lessthanequal","ne","notequal","notequals","notequalto","notsubstringof","toLowerCase","normalizeFilters","logic","normalizeDescriptor","singleOperatorFormatter","stringFormat","formatter","stringFnOperator","settings","fnFormatter","dateOperator","utcDates","JSON","stringify","formatDate","ifDate","numericOperator","typedOperator","stringOperator","appendEqual","nonValueExpression","serialize","contains","doesnotcontain","endswith","eq","gt","gte","isnotnull","lt","lte","neq","startswith","filterOperators","serializeAll","serializeFilter","serializeSort","orderby","sort","dir","order","emptyString","serializeKey","strings","val","a","b","toODataString","state","keys","skip","take","rules","getterCache","FIELD_REGEX","obj","what","getter","safe","fields","_","index","indexAccessor","push","idx","pairwise","empty","has","accessor","isNotEmpty","isNotEmptyArray","runOrEmpty","fn","formatDescriptors","sanitizeDateLiterals","RegExp","removeAfterDot","slice","indexOf","directionFormatter","_b","aggregates","group","formatSort","formatGroup","formatAggregates","aggregate","formatDateValue","transformSkip","Math","floor","transformTake","transformGroup","transformSort","transformAggregates","filterFormatter","set","target","prop","fieldName","g1","convert","mapper","values","reduce","bind","translateAggregate","translateAggregates","valueOrDefault","defaultValue","translateGroup","hasSubgroups","items","Aggregates","Member","member","HasSubgroups","Items","Key","compare","localeCompare","compareDesc","descriptorAsFunc","initial","transform","concat","identity","operatorsMap","doesnotendwith","doesnotstartwith","lastIndexOf","dateRegExp","transformFilter","itemProp","exec","typedGetter","convertValue","op","transformCompositeFilter","combiner","compileFilter","filterBy","start","end","mid","middle","leftLength","rightLength","temp","cursor1","cursor2","dest","merge","orderBy","descriptors","some","comparer","composeSortDescriptors","getDocument","document","BrowserSupportService","get","scrollbar","createElement","div","style","cssText","innerHTML","body","appendChild","offsetWidth","scrollWidth","removeChild","enumerable","configurable","canUseDOM","Boolean","window","classNames","arg","el","cloneObject","cloneValue","nextValue","newNextValue","proxy","e","event","callback","addEventListener","unbind","removeEventListener","noop","preventDefault","touchRegExp","normalizeEvent","type","match","pageX","changedTouches","pageY","clientX","clientY","originalEvent","isTouch","offsetX","offsetY","ctrlKey","shiftKey","altKey","Draggable","ref","this$1","press","drag","release","mouseOnly","_pressHandler","_dragHandler","_releaseHandler","_ignoreMouse","_mouseOnly","_touchstart","touches","_touchmove","_touchend","setTimeout","_restoreMouse","_mousedown","which","_mousemove","_mouseup","_pointerdown","isPrimary","button","_pointermove","_pointerup","prototypeAccessors","supportPointerEvent","PointerEvent","_element","ownerDocument","bindTo","element","_unbindFromCurrent","_bindToCurrent","_usePointers","update","destroy","defineProperties","default","__extends","extendStatics","d","setPrototypeOf","__proto__","__","constructor","create","_super","_this","draggable","KendoDraggable","props","onPress","onDrag","onRelease","childRef","componentDidMount","componentWillUnmount","render","React","only","children","propTypes","PropTypes","isRequired","focusFirstFocusableChild","HTMLInputElement","tabIndex","focus","querySelector","getTabIndex","disabled","useDefaultTabIndexWhenDisabled","parsedTabIndex","parseInt","NaN","fieldList","_match","guid","random","id","toString","Keys","getScrollbarWidth","scrollbarWidth","setScrollbarWidth","setProperty","item","subItemsField","subItems","mapItem","dataItem","callbackfn","child","mapTree","tree","extendDataItem","propsToExtend","validatePackage","packageMetadata","licensing","message","name","licensingDocsUrl","console","warn","hasRelativeStackingContext","elementSource","currentDocument","parent","isDifferent","getBoundingClientRect","top","dispatchEvent","eventHandler","dispatchedEvent","eventData","eventBaseData","syntheticEvent","nativeEvent","AsyncFocusBlur","onFocus","onBlur","onSyncFocus","onSyncBlur","focused","tick","nextTick","f","clearTimeout","current","handleFocus","handleBlur","useAsyncFocusBlur","useDir","elementRef","initialDir","setDir","rtlCandidate","getComputedStyle","direction","useRtl","useMouse","extend","handleMouseDown","onMouseDown","handleMouseUp","onMouseUp","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","SIZE_CLASSES","__rest","getOwnPropertySymbols","Icon","className","themeColor","size","flip","others","themeColorProp","defaultProps","sizeProp","flipProp","fontClassNames","mouseProps","role","displayName","SvgIcon","svgClassName","icon","svgStyle","viewBox","iconNameProp","viewBoxProp","elementClassNames","elementStyle","width","height","focusable","xmlns","dangerouslySetInnerHTML","__html","content","FONT_SIZE_CLASSES","FONT_WEIGHT_CLASSES","MARGIN_ENUM_CLASSES","MARGIN_ENUM_VALUES","MARGIN_SIDES_CLASSES","TEXT_ALIGN_CLASSES","TEXT_TRANSFORM_CLASSES","THEME_COLOR_CLASSES","generateTypography","component","fontSize","fontWeight","textAlign","textTransform","margin","Component","setMarginClasses","marginClassesList_1","forEach","marginSide","toUpperCase","PagerNumericButtons","handlePageChange","page","pageChange","handleSelectPageChange","prevDots","renderDots","postDots","totalPages","prevOptionDots","renderOptionDots","postOptionDots","buttons","numerics","href","currentPage","options","onChange","min","buttonCount","reminder","pagerInfo","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerItemPerPage","pagerPage","pagerOf","pagerTotalPages","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterAndLogic","filterOrLogic","filterAddExpression","filterAddGroup","filterClose","columnMenuFilterClearButton","columnMenuFilterSubmitButton","columnMenuFilterTitle","columnMenuSortAscending","columnMenuSortDescending","columnMenuFilterEqOperator","columnMenuFilterNotEqOperator","columnMenuFilterIsNullOperator","columnMenuFilterIsNotNullOperator","columnMenuFilterIsEmptyOperator","columnMenuFilterIsNotEmptyOperator","columnMenuFilterStartsWithOperator","columnMenuFilterContainsOperator","columnMenuFilterNotContainsOperator","columnMenuFilterEndsWithOperator","columnMenuFilterGteOperator","columnMenuFilterGtOperator","columnMenuFilterLteOperator","columnMenuFilterLtOperator","columnMenuFilterIsTrue","columnMenuFilterAfterOrEqualOperator","columnMenuFilterAfterOperator","columnMenuFilterBeforeOperator","columnMenuFilterBeforeOrEqualOperator","columnMenuFilterAndLogic","columnMenuFilterOrLogic","sortAriaLabel","filterAriaLabel","messages","PagerInput","_text","text","forceUpdate","intlService","provideIntlService","localizationService","provideLocalizationService","pageMessage","messagesMap","messageKey","defaultMessage","ofMessage","totalPagesMessage","toLanguageString","format","registerForLocalization","labelsOptional","productName","productCodes","publishDate","version","Label","editorId","editorRef","editorDisabled","editorValid","optional","useLocalization","localizedOptional","optionalElement","onLabelClick","editorActionElement","actionElement","click","labelClassName","htmlFor","Error","errorClassName","Hint","hintClassName","FloatingLabel","setState","label","editorValue","editorPlaceholder","spanClassNames","labelClassNames","clearSlide","transitionDuration","classList","remove","firefox","test","navigator","userAgent","align","anchorRect","anchorAlign","elementRect","elementAlign","anchorHorizontal","horizontal","anchorVertical","vertical","elementHorizontal","elementVertical","horizontalMargin","verticalMargin","point","round","getWindow","defaultView","documentElement","cachedWidth","windowViewport","win","wnd","innerHeight","innerWidth","scrollHeight","clientHeight","boundingOffset","viewport","bottom","offsetParent","position","isBodyOffset","offset","rect","display","rectOfHiddenElement","until","next","parentNode","scrollPosition","docElement","pageXOffset","scrollLeft","y","pageYOffset","scrollTop","elementStyles","offsetRect","parentElement","useRelative","parentOffset","parentStyles","borderTopWidth","borderLeftWidth","offsetParentElement","elementScrollPosition","parentScrollPosition","fit","viewPortSize","output","anchorSize","anchorAlignPoint","elementAlignPoint","marginToAdd","alignPoint","isBeforeAnchor","restrictToView","collisions","viewPort","elementTop","elementLeft","elementHeight","elementWidth","viewPortHeight","viewPortWidth","isHorizontalFlip","collision","isVerticalFlip","flippedHorizontal","flippedVertical","flipped","sibling","firstElementChild","nextElementSibling","anchor","container","siblingElements","parentElements","parents","containerElement","siblings","list","eitherRect","OVERFLOW_REGEXP","overflowStyle","styles","overflow","overflowX","overflowY","HAS_RELATIVE_STACKING_CONTEXT","CollisionType","AlignPoint","AlignService","_dom","alignElement","hasOffsetParent","absoluteRect","relativeRect","dom","removedOffset","stackingOffset","removeStackingOffset","stackingElementOffset","stackingScroll","stackingElementScroll","withScroll","addScroll","removeScroll","scrollX","scrollY","DOMService","addOffset","addition","offsetParentEl","nodeName","staticOffset","currentOffset","popup","scale","ref$1","offsetParentScrollPosition","positionScale","positionWithScroll","siblingContainer","relativeOffset","currentLocation","location","isOffsetBody","applyLocationOffset","scroll","scrollableParents","relativeContextElement","getRelativeContextElement","stackingElementViewPort","useRelativePosition","windowViewPort","getWindowViewPort","zIndex","zIndexStyle","zoomLevel","clientWidth","toFixed","isZoomed","PositionService","positionElement","initialElementRect","isEquivalent","aProps","getOwnPropertyNames","bProps","propName","Status","DEFAULT_OFFSET","ANIMATION_CONTAINER_SHOWN","Popup","hidden","previous","_popup","show","setPosition","animate","firstChild","onOpened","shown","popupAlign","popupContent","contentWidth","contentHeight","alignedOffset","_alignService","_positionService","_flipped","add","attachRepositionHandlers","onOpen","duration","slideClass","slideActiveClass","transitionend","deafultView","requestAnimationFrame","slide","animationDuration","onClosing","detachRepositionHandlers","onClosed","hiding","onClose","_domService","reposition","func","wait","timeout","context","later","leading","now","remaining","trailing","throttle","getDerivedStateFromProps","appendTo","popupClass","contentKey","nextState","showing","componentDidUpdate","prevProps","closing","transitionDelay","ReactDOM","enter","exit","openDuration","closeDuration","_scrollableParents","nodeType","PopupPropsContext","popupProps","PopupComponent","ListContainer","itemsCount","popupSettings","ListFilter","input","onKeyDown","matchText","word","String","itemIndexStartsWith","itemText","getItemValue","startsWith","getItemIndexByText","textField","matchCase","casing","findIndex","path","split","data_1","removeDataItems","toRemove","itemIndex","areSame","splice","item1","item2","getFocusedItem","selectedIndex","preventDefaultNonInputs","matchTags","tag1","tag2","data1","data2","matchDataCollections","ListDefaultItem","selected","defaultItem","ListItem","handleClick","renderer","nodata","clear","List","renderItems","valueField","groupField","optionsGuid","focusedIndex","_c","highlightSelected","itemRender","realIndex","renderNoValueElement","noDataRender","noDataElement","wrapperCssClass","wrapperStyle","listStyle","listRef","wrapperRef","listClassName","onScroll","unselectable","VirtualScroll","containerHeight","total","enabled","pageSize","itemHeight","prevScrollPos","listTranslate","scrollSyncing","scrollerRef","vs","setAttribute","calcScrollElementHeight","heightChanged","offsetHeight","newHeight","scrollElement","scrollHandler","changePage","newSkip","max","PageChange","translateTo","dY","reset","scrollToEnd","localScrollUp","targetTranslate","additionalOnTop","validateTranslate","localScrollDown","itemsLenght","scrollNonStrict","floatItemIndex","prev","translate","Navigation","navigate","keyCode","step","DropDownBase","navigation","handleItemClick","initState","handleItemSelect","togglePopup","applyState","events","filterChanged","filterable","opened","calculatePopupWidth","triggerOnPageChange","scrollToVirtualItem","virtual","selectedItemIndex","scrollToItem","renderScrollWrapper","getPopupSettings","renderScrollElement","listBoxId","didMount","popupWidth","shouldUpdate","calculateDir","dirCalculated","wrapper","vsEnabled","virtualScroll","scrollElem","viewportHeight","li","itemOffsetTop","offsetTop","diff","eventArgs","handler","triggerPageChangeCornerItems","dataItemKey","basicPropTypes","accessKey","loading","listNoDataRender","focusedItemIndex","header","footer","onFilterChange","onPageChange","required","validityStyles","DropDownList","base","searchState","last","_skipFocusEvent","_filterInput","_navigated","newSelected","triggerOnChange","renderDropDownWrapper","iconClassName","valueRender","valueDefaultRendering","valueElement","handleKeyDown","onKeyPress","handleKeyPress","handleWrapperClick","ariaLabelledBy","ariaDescribedBy","title","dummySelect","_select","opacity","border","valueMap","renderListContainer","listContainerProps","onPopupOpened","onPopupClosed","renderListFilter","renderDefaultItem","renderList","float","maxHeight","filterText","handleListFilterChange","handleDefaultItemClick","search","_typingTimeout","delay","selectNext","mappedData","isInLoop","character","charAt","sameCharsOnly","dataLength","startIndex","splitIndex","shuffleData","loopMatch","nextMatch","_valueDuringOnChange","leftRightKeysNavigation","_d","homeOrEndKeys","upOrDownKeys","shouldOpen","shouldClose","shouldNavigate","onNavigate","fromCharCode","charCode","focusElement","setValidity","setCustomValidity","validity","valid","validationMessage","customError","isValid","valueMissing","prevState","prevTotal","prevOpened","opening","selectedItem_1","prevSelectedItem","selectedItemChanged","dropdownlist","dropdown","newIndex","hasSelected","ClearButton","ActiveDescendant","SearchBar","_input","prevValue","prevSuggestedText","suggestedText","valueChanged","deleting","endsWith","activeElement","setSelectionRange","expanded","searchbar","autoComplete","placeholder","readOnly","owns","activedescendant","clearButton","clearButtonClick","ComboBox","_inputId","_suggested","toggleBtnClick","applyValueOnRejectSuggestions","currentTarget","onInputKeyDown","applyValueOnEnter","inputOnChange","suggest","selectionAtEnd","selectionEnd","prevText","deletedSuggestion","suggestValue","focusedItem","stopPropagation","selectedItem","_valueOnDidUpdate","selectedItemText","inputText","renderClearButton","combobox","renderSearchBar","getFocusedIndex","currentIndex","allowCustom","valueIndex","itemSelected","selectFocusedItem","valueItemText","ListComponent","suggested","suggestedItem","substring","AutoComplete","newText","itemFocus","onChangeHandler","prevSuggestion","prevUserInput","newValue","suggestion","userInput","applyInputValue","prevData","dataChanged","focusedItemChanged","typedText","newFocused","eventKey","readonly","inputValue","tagClassName","TagList","TagComponent","tag","tagData","focusedTag","onTagDelete","tagRender","FocusedItemType","isCustom","CustomItem","MultiSelect","PopupList","_valueItemsDuringOnChange","_tags","scrollToFocused","indexInValue","newItems","itemsToRemove","getFocusedState","customItem","nextFocusedItem","searchbarRef","onTagsNavigate","customItemSelect","focusedType","autoClose","customItemFocused","tags","tagsToRender","setItems","find","renderSearchbar","placeholderToShow","ariaActivedescendant","TagsList","itemsKey","newFocusedTag","hasFocused","removed","pop","srcItems","destItems","focusedInd","last_1","None","MultiColumnList","MultiColumnComboBox","comboBoxRef","columns","other","column","defaultWidth","uniqueKey","liProps","curGroup","prevGroup","groupGetter","rendering","handleEvent","onOpenHandler","onCloseHandler","onFocusHandler","onBlurHandler","onFilterChangeHandler","onPageChangeHandler","listProps","SEPARATOR","getItemById","itemId","childrenField","isIdZeroLevel","Number","rootParentItem","getRootParentId","getIdWithoutRootParentId","isIdEmptyOrZeroLevel","firstSeparatorIndex","getFirstChildId","createId","childId","parentId","getDirectParentId","lastSeparatorIndex","getAllShortIds","getShortId","SortedPublicItemIds","objects","init","publicItemIds","currentObj","hasId","publicItemId","getNestedValue","hasChildren","isItemExpandedAndWithChildren","fieldsSvc","getChildrenField","resolveItemsIds","publicIds","idField","sortedIds","resolveItemsIdsHelper","isEnabledAndAllParentsEnabled","ids","currentItems","currentItem","parentItemId","resolvedIds","getItemIdUponKeyboardNavigation","idUtils","getLastNotOpenedChildId","getIdUponUpKey","getNextItemId","getIdUponEndKey","replaceClassName","origClass","classToRemove","createContext","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","initialStatus","appear","isMounting","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","_inheritsLoose","_ref","_proto","updateStatus","nextStatus","cancelNextCallback","getTimeouts","mounting","performEnter","performExit","_this2","appearing","_ref2","nodeRef","findDOMNode","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","setNextCallback","_this4","active","node","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","_this$props","childProps","_objectWithoutPropertiesLoose","TransitionGroupContext","Provider","cloneElement","Children","contextType","removeClass","classes","c","baseVal","CSSTransition","_len","_key","appliedClasses","_this$resolveArgument","resolveArguments","removeClasses","addClass","_this$resolveArgument2","_this$resolveArgument3","getClassNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","hasClass","_addClass","_this$appliedClasses$","done","_extends","computedStyles","marginTop","marginBottom","marginLeft","marginRight","util","AnimationChild","transitionName","transitionEnterDuration","transitionExitDuration","animationEnteringStyle","animationEnteredStyle","animationExitingStyle","animationExitedStyle","childAnimationContainerClassNames","defaultStyle","animationStyle","entering","entered","exiting","exited","transitionProps","animatedElement","appearActive","enterActive","exitActive","getChildMapping","mapFn","isValidElement","getProp","getNextChildMapping","nextProps","prevChildMapping","nextChildMapping","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","k","TransitionGroup","handleExited","_assertThisInitialized","contextValue","firstRender","mounted","currentChildMapping","childFactory","Animation","componentChildStyle","stackChildren","componentChildClassName","Fade","Expand","animationProps","EXITING_ANIMATION_STYLE","Push","Slide","Zoom","Reveal","maxWidth","componentWillEnter","updateContainerDimensions","componentIsEntering","componentWillExit","newWidth","maxOffset","EXPAND_FIELD","CHILDREN_FIELD","SELECT_FIELD","CHECK_FIELD","CHECK_INDETERMINATE_FIELD","TreeViewItemPropsContext","TreeViewItemWithoutContext","itemGuid","onCheckChange","onExpandChange","onItemClick","assignDraggableMeta","treeGuid","subitems","renderSubitemsIfApplicable","itemInPart","renderItemInPart","getRootClassName","ariaExpanded","ariaSelected","ariaChecked","itemElement","renderExpandIcon","renderCheckbox","focusedItemId","currentItemId","onFocusDomElNeeded","checkboxElement","indeterminate","checkIndeterminate","fieldsService","checkboxes","checked","expandIcons","getIconClassName","TreeViewItem","tabbableItemId","itemUI","ariaMultiSelectable","getContentClassName","touchAction","itemHierarchicalIndex","treeViewItemProps","FieldsService","treeViewProps","expandField","selectField","hasChildrenField","disableField","checkField","checkIndeterminateField","focusIdField","focusId","TreeView","focusedItemPublicId","allowExplicitFocus","domItem","focusDomItem","setFocus","dispatchCheckChange","dispatchExpandChange","onItemDragStart","onItemDragOver","onItemDragEnd","dispatchItemClick","blurRequest","newItemId","nav","dispatchEventsOnKeyDown","refocusDueToFocusIdField","isEnabled","getFocusHierarchicalIndex","publicId","resolveItemId","getHierarchicalIndexById","componentName","TreeViewDragClue","visible","operationClassName","dynamicStyle","hide","padding","TreeViewDragAnalyzer","initialized","treeViewGuid","setDestimationMeta","elementFromPoint","destItemId","destTreeViewGuid","getDropOperation","isDropAllowed","destDomNodeWithMeta","top_1","useDropdownWidth","initialStyleWidth","setWidth","ListNoData","ValueHolder","toLevel","hierarchicalIndex","DropDownTree","calculatedId","_e","_f","_g","_h","_j","inputRef","selectRef","treeViewRef","skipFocusRef","_k","stateValue","setStateValue","controlled","hasValue","currentValueText","getValidity","popupStyles","_l","open","setOpen","isOpen","_m","setFocused","_o","setFilter","openPopup","openEvent","closePopup","closeEvent","onWrapperClick","isDefaultPrevented","ev","switchFocus","focusFn","onWrapperKeyDown","treeview","from","querySelectorAll","reverse","focusEvent","onWrapperMouseDown","changeValue","changeEvent","level","onClear","onExpand","expandEvent","treeViewData","NoData","listNoData","ValueComponent","valueHolder","localization","dropdowntree","MultiSelectTree","componentGuid","targetRef","tagsToRenderRef","popupRef","focusedTagState","setFocusedTagState","openState","setOpenState","focusedState","setFocusedState","_p","filterState","setFilterState","relatedItems","operation","treeviewElement","multiselecttree","PagerPageSizes","pageSizeChange","sizes","pageSizes","unshift","itemPerPageMessage","Pager","onWindowResize","responsive","first","changer","firstPageMessage","previousPageMessage","nextPageMessage","lastPageMessage","infoMessage","previousNext","renderButton","pagerPageSizes","info","ceil","registerForIntl","ScrollDirection","createFilterComponent","Cell","FilterComponent","filterChange","inputChange","existing","findCellFilter","filterResult","emptyFilter","operatorChange","clearButtonTitle","operators","operatorComponentProps","components","inputComponent","operatorComponent","cloneDate","BooleanFilterCell","_props","cellProps","adjustDST","hour","newDate","setHours","createDate","year","month","day","hours","minutes","seconds","milliseconds","setFullYear","isEqual","candidate","expected","isEqualDate","RowHeightService","rowHeight","detailRowHeight","offsets","heights","agg","rowIndex","expandDetail","updateRowHeight","collapseDetail","totalHeight","arr","normalize","ScrollAction","PageAction","ScrollerService","onScrollAction","onPageAction","firstLoaded","bottomOffset","topOffset","rowHeightService","lastLoaded","lastScrollTop","offsetBufferRows","rowsForHeight","skipWithOffset","rowOffset","offsetSize","up","firstItemIndex","lastItemIndex","nonVisibleBuffer","Day","scrollModifiers","Forward","Backward","scrollNormalizers","scrollValidators","Virtualization","animationInProgress","scrollTo","scrollProperty","scrollContainer","scrollToIndex","scrollToIndexTimeout","cancelAnimationFrame","animateToIndex","cancelAnimation","indexOffset","getContainerScrollDirection","scrollRange","scrollStep","modifyScroll","normalizeScroll","isScrollValid","progress","scrollToBottom","scrollDuration","abs","containerScroll","containerScrollPosition","maxScrollDifference","maxScroll","containerMaxScroll","sign","difference","containerScrollSize","containerOffsetSize","initServices","dimension","itemWidth","scrollerService","scrollOffsetSize","getContainerProperty","propertyName","handleScroll","scrollAction","pageAction","handleScrollAction","action","handlePageAction","activeIndex","itemOffset","isIndexVisible","containerTop","containerBottom","isListScrolled","onMount","lastTotal","lastDirection","lastTake","vertexLength","placeholderStyle","rootClassNames","scrollableClassNames","forceScroll","Direction","addDays","setDate","Action","CalendarViewEnum","dayOfWeek","weekDay","newDay","getDay","moveDateToWeekStart","weekStartDay","Monday","prevDayOfWeek","calcWeekInYear","firstWeekInYear","diffInMS","days","CalendarCell","handleMouseEnter","handleMouseLeave","shouldComponentUpdate","newProps","xProps","yProps","compareProps","isWeekend","formattedValue","isFocused","isSelected","isInRange","isRangeStart","isRangeMid","isRangeEnd","isRangeSplitStart","isRangeSplitEnd","isToday","isDisabled","view","isEndActive","activeRangeEnd","isStartActive","rootClassName","CalendarWeekCell","firstDate","EMPTY_SELECTIONRANGE","viewInRange","MIDNIGHT_DATE","MIN_DATE","MAX_DATE","MIN_TIME","MAX_TIME","setTime","origin","getToday","isInDateRange","isInSelectionRange","selectionRange","range","intersects","shiftWeekNames","names","dateInRange","domContainerFactory","lastDayOfMonth","addMonths","expectedMonth","setMonth","setYear","addYears","addDecades","addCenturies","normalizeYear","firstDecadeOfCentury","lastDecadeOfCentury","firstYearOfDecade","durationInCenturies","EMPTY_DATA","ACTIONS","Left","Up","Right","Down","PrevView","NextView","FirstInView","LastInView","CenturyViewService","addToDate","datesList","count","cellUID","focusedDate","isActiveView","selectedDate","viewDate","cells","lastDate","today","baseDate","cellOffset","cellDate","isSelectedFromArray","cellTitle","dates","isInArray","aboveMin","belowMax","isInSameView","move","modifier","navigationTitle","rowLength","lastYearOfDecade","durationInDecades","DecadeViewService","addWeeks","firstDayOfMonth","durationInMonths","MonthViewService","intl","firstMonthDate","lastMonthDate","firstDay","abbrMonthNames","wideMonthNames","prependCell","dateFormatNames","nameType","firstMonthOfYear","lastMonthOfYear","durationInYears","YearViewService","_intl","months","currentYear","candidateValue","services","decade","century","BusViewService","onViewChanged","configure","service","moveDown","moveUp","moveToBottom","activeView","canMoveDown","canMoveUp","clamp","viewOffset","didCalculate","ensureHeights","calendarHeight","calculateHeights","containerFactory","ul","td","th","tr","tbody","thead","table","monthHeader","repeat","fill","scrollable","navigationList","navElement","viewFactory","renderWeekHeader","viewElement","rows","contentElement","getScrollable","scrollableElement","monthView","yearView","decadeView","paddingLeft","paddingRight","getBody","hostContainer","batch","monthViewHeight","headerHeight","scrollableContentHeight","calendarWidth","monthViewWidth","scrollableContentWidth","yearViewHeight","scrollableYearContentHeight","yearViewWidth","decadeViewHeight","centuryViewHeight","decadeViewWidth","centuryViewWidth","navigationItemHeight","viewHeight","viewType","viewDimension","viewWidth","viewProp","appendedContent","KEY_TO_ACTION","UpperView","LowerView","NavigationService","bus","metaKey","ScrollSyncService","monthScrolled","navScrolled","magnitude","divideByMagnitude","powerByMagnitude","sync","scrollSiblingOf","scrolledElement","siblingComponent","calculateScroll","WeekNamesService","getWeekNames","includeWeekNumber","weekNames","emptyCell","View","buildWeekNumber","row","weekCellValue","getWeekNumber","uniqueID","weekCell","buildRow","cell","aria","firstWeekDateContext","rowCtx","weekNumber","ctx","onCellEnter","onCellLeave","showWeekNumbers","weekService","colSpan","time","isMonthView","isHorizontal","scope","prevWeekDate","nextWeekDate","weekInYear","notDisabled","toolbarButtons","Button","toggleIfApplicable","togglable","_selectedTemp","look","primary","iconClass","imageUrl","imageAlt","htmlAttributes","hasIcon","buttonProps","iconEl","alt","src","iconClasses","iconElement","ButtonGroup","mapButtons","groupClasses","groupProps","rtl","isLast","isRtl","ButtonItem","onDown","onPointerDown","renderContent","As","SplitButtonItem","getAnchorAlign","isDirectionRightToLeft","getPopupAlign","SELECTION_TYPE","SELECTION_ACTION","SplitButton","mainButton","buttonsData","dispatchPopupEvent","newState","dispatchClickEvent","arrowKey","clickedItemIndex","onSplitPartClick","toOpen","onDownSplitPart","onItemDown","toArray","buttonClass","renderPopup","isItemDisabled","onButtonClick","renderChildItems","DropDownButtonItem","DropDownButton","mouseDown","onClickMainButton","btn","Toolbar","focusedSelector","selectors","setTabIndex","defaultPrevented","focusButton","newSizes","onResize","keyboardNavigation","prevIndex","prevButton","ToolbarItem","ToolbarSeparator","spacer","FOCUS_ACTION","DATA_ACTION","ChipListSelectionContext","_args","ChipListFocusContext","ChipListDataContext","useSelection","selection","single","toggle","payload","multiple","none","selectionReducer","useFocus","focusReducer","useData","defaultData","reorder","dataReducer","ChipList","chipListRef","ChipComponent","chip","Chip","handleChange","dispatchStateValue","handleDataChange","newData","onDataChange","stateData","dispatchData","itemsReducer","dispatchFocus","removable","chipRef","dispatchSelection","handleRemove","onRemove","selectedIcon","removeIcon","FloatingActionButtonItem","getImperativeHandle","itemClassNames","ItemComp","customProp","toStringValues","fabAlign","horizontalPosition","center","verticalPosition","FloatingActionButton","alignOffset","positionMode","shape","setFocusedIndex","buttonId","listId","xFab","xCenterFab","yFab","yCenterFab","dispatchItemClickEvent","itemProps","handleItemDown","currIndex","maxNavIndex","isAtBottom","buttonClassNames","fabItems","hAlign","ltr","isIconFab","spacing","iconWidth","boxShadow","CalendarHeaderTitle","Header","getTitle","currentDate","rangeLength","nextDate","handleTitleClick","titleClassNames","headerTitleProps","headerTitle","commands","prevView","nextView","increaseValue","decreaseValue","toggleCalendar","swapStartEnd","separator","toggleDateTimeSelector","selectNow","timePickerCancel","timePickerSet","toggleTimeSelector","toggleClock","dateTimePickerCancel","dateTimePickerSet","TodayCommand","todayIsInRange","isTodayClick","todayMessage","todayClassNames","ViewList","isActive","shouldScroll","focusActiveDate","focusedCell","nextActiveCell","blurActiveDate","handleVirtualizationMount","virtualization","indexToScroll","buildMonthView","cols","buildDates","calendarView","handleDateChange","scrollableHeight","getTake","handleTodayClick","lastView","lastFocus","smoothScroll","_prevProps","_prevState","didViewChange","activeDate","didViewChanged","viewListBody","CalendarNavigationItem","buildNavigationItem","navigationItemProps","navigationItem","maxViewHeight","navigationBody","virtualizationProp","calculateValue","propValue","Calendar","didNavigationChange","scrollSyncService","calendarViewList","handleNavigationChange","handleViewChange","canNavigateDown","valueDuringOnChange","preventScroll","defaultActiveView","bottomView","topView","oldValue","Promise","resolve","then","didValueChange","sanitizedValue","calendarBody","Mask","symbols","dateSymbolMap","part","pattern","wrapperClasses","KendoDate","intlProvider","formatPlaceholder","leadingZero","typedMonthPart","knownParts","_value","monthNames","allFormatedMonths","setValue","modifyExisting","splitDateFormat","getExisting","getDateObject","getTextAndFormat","dateFormatString","sampleFormat","setExisting","symbol","modifyPart","setMinutes","setSeconds","parsePart","currentChar","resetLeadingZero","dateParts","baseFormat","replaced","prefix","suffix","parsedDate","matchMonth","middleNumber","parseDate","monthNumber","isAbbrMonth","partMap","symbolMap","hasLeadingZero","parts","partPattern","typedChar","monthAsNum","dateFormatParts","partLength","returnValue","mask","resultText","resultFormat","r","currentSymbol","dateFieldName","TIME_PART","setter","method","clone","defaultGetters","generateGetters","getters","g","getterByPart","convertToObject","gettersFactory","generateSnappers","steps","minValue","snapValue","snappersFactory","snapTime","snappers","getNow","normalizeTimes","maxValue","isInTimeRange","isSmallerThanMin","normalizedValue","normalizedMin","isBiggerThanMax","DateInput","kendoDate","paste","_wrapper","updateOnPaste","triggerChange","spinnersMouseDown","handlePaste","elementChange","currentFormat","dateBeforeChange","oldTextOrigin","oldFormat","newTextOrigin","selectionStart","oldTextSeparator","oldText","deletedSymbol","approximateStringMatching","navigationOnly","setSelection","selectionBySymbol","switchDateSegment","elementClick","selectionByIndex","nativeWheel","wheel","deltaY","increasePart","decreasePart","modifyDateSegmentValue","elementKeyDown","elementOnFocus","elementOnBlur","passive","_lastSelectedSymbol","currentText","inputId","ariaProps","wrapperClassesInstance","dateinput","span","spellCheck","autoCorrect","ariaHasPopup","onWheel","onInput","onPaste","spinners","inRange","minTime","maxTime","rangeOverflow","rangeUnderflow","j","previousFormatSymbol","currentStepSymbol","skeleton","datetime","era","weekday","hour12","minute","second","timeZoneName","validate","ToggleButton","PickerWrap","PickerFloatingLabel","floatingLabelProps","dateInput","setShow","usePickerFloatingLabel","DatePicker","_popupId","_dateInput","_calendar","shouldFocusDateInput","setCalendarRef","calendar","nextShow","handleInputValueChange","handleValueChange","handleCalendarValueChange","mergeTime","showDuringOnChange","handleIconClick","handleIconMouseDown","defaultShow","toggleButton","pickerWrap","prevShow","nextTickId","otherPopupSettings","wrapperClassNames","popupClassNames","dateInputProps","calendarProps","datepicker","pickerWrapComp","dateInputComp","toggleButtonComp","popupComp","calendarComp","isAM","inReverseRange","DayPeriodService","hourAM","candidateAM","normalizedRange","dayPeriod","am","pm","isRangeChanged","limitRange","valueInList","minHour","maxHour","timeListHeight","timeWrapper","rangeValue","clampToRange","distanceFromMin","limit","borderValue","barrier","limitDown","limitUp","HOURS_IN_DAY","HoursService","boundRange","insertUndividedMax","toListItem","selectedValue","getHour","countFromMin","addLast","addMissing","isLastMissing","missing","isMissing","divideByStep","lastHour","missingItem","MINUTES_IN_HOUR","MinutesService","getMinute","lastMinute","SECONDS_IN_HOUR","SecondsService","getSecond","lastSecond","TimeList","distance","scrollUp","bottomThreshold","topThreshold","listHeight","configureServices","newMin","newMax","serviceSettings","defaults","handleMouseOver","msTransform","formatRegExp","TimePart","timeLists","timeList","activeListIndex","hasActiveButton","timeFormatReducer","timeFormatFilter","all","prevItem","focusList","listReducer","showNowButton","hasSteps","nowButton","handleListBlur","handleListFocus","timeInRange","onNowClick","selectNowMessage","_nowButton","cancelButton","TimeSelector","focusActiveList","timePart","handleAccept","mergeValue","handleReject","onReject","handleNowClick","valueMerger","cancelMessage","setMessage","_cancelButton","_acceptButton","TimePicker","_timeSelector","setTimeSelectorRef","timeSelector","handleValueReject","normalizeTime","toggleClockMessage","toggleTimeMessage","timepicker","HorizontalViewList","rotateSelectionRange","needRotate","allowReverse","views","extractDateFromValue","MultiViewCalendar","extractMultipleFromValue","extractRangeFromValue","extractFocusedDate","selectedMultiple","selectedRange","wrapperID","calculateFocusFromValue","clampRange","rangeWithFocused","generateRange","shouldSwap","activeRange","canNavigate","isListInRange","clampDate","shouldAutoCorrect","handleCellEnter","mode","handlePrevButtonClick","handleNextButtonClick","index_1","calculatedFocus","extractActiveRange","lastViewsCount","_focusedDate","wrapperClassName","visualizedRange","wrapperAria","prevViewTitle","nextViewTittle","isPrevDisabled","isNextDisabled","prevBtnAria","nextBtnAria","isDateInList","didViewsCountChange","WRAPPER_STYLES","DateRangePicker","_startDateInput","_endDateInput","_startInputId","_endInputId","shouldFocusCalendar","startDateInput","focusCalendarElement","calculateShow","handleReverseClick","handleReverseMouseDown","endDateInput","handleEndChange","handleStartChange","handleCalendarChange","focusDateInputElement","startDateInputId","startDateInputSettings","endDateInputId","endDateInputSettings","startMessage","endMessage","separatorMessage","startDateInputProps","endDateInputProps","calendarSettings","reverseButton","swapButton","DateTimeSelector","_calendarWrap","tab","_timePart","calendarElement","nextPart","shouldFocusPart","dateValue","timeValue","mergeDate","timeOverride","hasDateValue","handleTimeListContainerChange","handleDateClick","handleTimeClick","handleTimePartMount","setButtonClassName","dateMessage","timeMessage","normalizeRange","DateTimePicker","_dateTimeSelector","dateInputElement","handleDateIconClick","dataInputProps","dateTimePicker","dateTimeSelector","DateFilterCell","fitIntoBounds","contender","Class","browser","namedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","browserRxs","edge","webkit","safari","opera","msie","mozilla","agent","documentMode","matchUserAgent","matchNamedColor","color","colorNames","regexp","BaseColor","toHSV","toRGB","toHex","toBytes","toCss","toCssRgba","rgb","toDisplay","parseColor","c1","c2","sqrt","pow","Bytes","RGB","h","delta","v","HSV","toHSL","l","HSL","hex","alpha","pad","q","hue2rgb","alphaFromHex","m","ret","Color","formats","resolvedColor","resolveColor","formatRegex","re","processor","process","channels","normalizeByte","padDigit","substr","brightness","percBrightness","isDark","fromBytes","fromRGB","fromHSV","fromHSL","parsedColor","parse","getHSV","parsed","getRGBA","getColorFromHSV","hsva","hue","saturation","getColorFromHue","getRGBFromRGBA","foregroundColor","backgroundColor","r1","b1","a1","r2","g2","b2","getLuminance","getContrastFromTwoRGBAs","luminance1","luminance2","cache","HexInput","onHexChange","originalHex","numericIncreaseValue","numericDecreaseValue","sliderIncreaseValue","sliderDecreaseValue","sliderDragTitle","colorGradientR","colorGradientG","colorGradientB","colorGradientA","colorGradientHex","colorGradientContrastRatio","colorGradientAALevel","colorGradientAAALevel","colorGradientPass","colorGradientFail","checkboxValidation","checkboxOptionalText","switchValidation","ColorInput","onRgbaRChange","dispatchRgbaChange","onRgbaGChange","onRgbaBChange","onRgbaAChange","hexMessage","rMessage","gMessage","bMessage","aMessage","NumericTextBox","rgba","onRgbaChange","ColorContrastLabels","contrastRatioMessage","AALevelMessage","AAALevelMessage","passMessage","failMessage","contrast","bgColor","requiredAAContrast","requiredAAAContrast","contrastText","aaText","aaaText","success","error","svgPath","points","command","line","pointA","pointB","lengthX","lengthY","angle","atan2","ColorContrastSvg","renderSvgCurveLine","controlPointCalc","lineCalc","gradientRectMetrics","metrics","findValue","low","high","currentContrast","getPaths","stepCount","reversed","bezierCommandCalc","PI","cos","sin","cpsX","cpsY","pointerEvents","DEFAULT_SELECTED_COLOR","ColorGradient","isUncontrolled","cacheHex","dispatchChangeEvent","getColorFromRGBA","cacheRgba","onAlphaSliderChange","handleHsvaChange","onHueSliderChange","gradientWrapper","changePosition","onGradientWrapperClick","getGradientRectMetrics","deltaX","getStateFromValue","isFirstRender","setAlphaSliderBackground","renderRectangleDragHandle","cacheHsva","cachedColor","getCachedHsva","getCachedRgba","getCachedHex","alphaSlider","sliderTrack","background","Slider","ColorPaletteService","colorRows","setColorMatrix","palette","getCellCoordsFor","colors","_loop_1","_loop_2","col","this_1","state_2","state_1","getColorAt","cellCoords","getNextCell","horizontalStep","verticalStep","clampIndex","PALETTEPRESETS","basic","office","apex","austin","clarity","slipstream","metro","flow","hardcover","trek","verve","monochrome","DEFAULT_PRESET","ColorPalette","handleCellNavigation","handleEnter","onColorClick","selectedColor","focusedColor","paletteService","paletteInfo","getPaletteInfo","svc","selectedCellCoords","focusedCellCoords","createCellId","renderRows","focusedColorCooridanates","newCoords","rgbaValue","preset","renderColumns","rowIsSelected","selectedColumn","rowIsFocused","focusedColumn","tileSize","minWidth","Picker","horizontalAlign","popupAnchor","DEFAULT_PALETTE_SETTINGS","isControlled","ColorPicker","gradientSettings","paletteSettings","onActiveColorClick","focusableElementRef","gradientRef","paletteRef","blurTimeoutRef","buttonRef","stateOpen","setStateOpen","isValueControlled","isOpenControlled","nextOpen","isBlur","onKeyDownHandler","onClickHandler","onActiveColorClickHandler","onBlurTimeout","isPalette","currentValue","onPaletteChangeHandler","ResultType","Input","isInvalid","handleAutoFill","animationName","parent_1","badInput","patternMismatch","stepMismatch","tooLong","typeMismatch","visited","touched","modified","inputClassName","textbox","onAnimationStart","Result","rest","Undefined","chain","fold","Stream","control","inputCursor","controlCursor","eof","char","peek","eat_input","eat_control","eat","Parser","run","stream","isLiteral","Literal","token","creator","rule","literal","rawMask","prompt","promptPlaceholder","rawLiteral","includeLiterals","sequence","parser","p2","greedy","MaskingService","maskTokens","unmaskTokens","rawTokens","validationTokens","tokenize","validationValue","maskedValue","unmasked","rawValue","maskRaw","masked","maskInput","splitPoint","maskRemoved","maskInserted","maskInRange","pasted","beforeChange","afterChange","unchanged","changed","adjustPosition","caretChar","_token","maskParser","maskTokenCreator","tokens","unmaskTokenCreator","rawTokenCreator","validationTokenCreator","defaultRules","returnFalse","sameRules","rules1","rules2","same","MaskedTextBox","_service","_isPasted","_selection","pasteHandler","rightPart","to","focusHandler","blurHandler","maskValidation","prevSelection","nextSelection","updateService","autoCapitalize","onDragStart","onDrop","extra","entries","DEFAULT_NUMBER","DIGITS_REGEX","getStateOrPropsValue","formatValue","formatNumber","fractionLength","maxFractionLength","value1","value2","toFixedPrecision","precision","maxPrecision","limitPrecision","increasedValue","eventValue","currentLooseValue","getLastNumberIndex","decreasedValue","rangeSelection","nextLooseValue","formatInfo","maxPosition","formatSuffixIndex","currSuffix","getMaxCursorPosition","minPosition","formatPrefixIndex","currPrefix","getMinCursorPosition","setInvalid","parseNumber","prevLooseValue","valueIsCorrected","getInitialPosition","decimalIdex","decimal","reverseString","inputRegex","getPrefix","getSuffix","reversedString","getFirstNumberIndex","getDecimalCount","currentDecimalPlace","changeBasedSelection","selectionPosition","isDelete","sanitizeRegex","isCurrentLeadingZero","isNextLeadingZero","numberCounter","newSelection","sanitizeNumber","numberSymbols","restrictedSymbols","positiveResult","negativeResult","zeroResult","oneResult","getFormatSymbols","currentLooseValueAsString","prevLooseValueAsString","sanitizeGroupRegex","allSymbolsRegex","sanitizedString","numberStart","numberEnd","decimalIndex","sanitizedFormattedString","formattedMax","maxDecimalIndex","maxDecimalCount","formattedMin","minDecimalIndex","minDecimalCount","positivePrefix","negativePrefix","zeroPrefix","onePrefix","positiveInfo","negativeInfo","zeroInfo","oneInfo","getFormatPrefixSufix","isFormatContainPrefixSuffix","nestedInfo","isPercentFormat","percentSign","isPaste","minusSign","isMinusSymbolAdded","currentNumberStart","oldNumberStart","isMinusSymbolRemoved","valueCandidate","currentLastNumberIndex","isDecimalDuplicated","formatInfoIndex","prefixIndex","suffixIndex","prefixFound","suffixFound","prefixGap","suffixGap","currentDecimalCount","endsOnDecimal","valueUntillDecimal","looseDecimalPlace","useInternationalization","elementWrapperRef","valueDuringChangeRef","setForceUpdate","stateRef","decimalSelect","valueIsOutOfRange","isPasteRef","prevLooseValueRef","stateValueRef","looseValue","validityGetter","valueGetter","nameGetter","requiredGetter","validityStylesGetter","propsGetter","getCurrentState","rangedValue","wrapper_1","_x","stateCandidate","rangeOnEnter","onPasteHandler","onIncrease","onDecrease","onWheelHandler","numerictextbox","inputType","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","SLIDER_LABEL_ATTRIBUTE","decrementTitle","decrement","incrementTitle","increment","isLabel","getAttribute","change","dragStart","dragOver","computed","percentage","lS","percentValue","trackStyles","sliderItemsStyle","paddingTop","flexDirection","flexGrow","_sliderTrack","RANGE_ACTION","useRange","handleDispatchAction","increase","decrease","rangeReducer","RangeSlider","sliderRef","sliderSelectionRef","startHandle","endHandle","currentDrag","setCurrentDrag","sliderTrackRef","sliderTrackWrapRef","percentStart","percentEnd","calcNewDistance","calcKey","handleStartKeyDown","handleEndKeyDown","handleTrackPress","useDraggable","startTabIndex","endTabIndex","Switch","defaultValidationMessage","wrapperWidth","_id","dummyInput","eventTimeStamp","timeStamp","handleWrapperFocus","handleWrapperBlur","defaultChecked","offLabel","onLabel","switchClassName","ariaAttributes","Checkbox","labelPlacement","labelOptional","stateChecked","setStateChecked","valueIsBoolean","isCheckedControlled","currentChecked","useValueAsChecked","checkedProp","valueProp","indeterminateProp","localizeMessage","optionalMessage","currentVal","handleKeyUp","checkboxClasses","inputProps","onKeyUp","checkboxInput","checkboxLabel","userSelect","RadioButton","radioButtonLabel","radio","RadioGroup","layout","Item","checkedRadioValue","radioGroupName","radioGroupClasses","radioOptions","option","isCurrentlyChecked","noOptionChecked","radioButtonProps","TextArea","autoSize","textAreaHeight","setTextAreaHeight","spanProps","textAreaProps","resize","RatingItem","handleMouseMove","half","hovered","RATING_ACTION","toRound","num","percent","isHalf","calcIsFirstHalf","isCorrectValue","useRating","select","deselect","ratingReducer","Rating","ratingRef","stateHover","dispatchStateHover","hoveredValue","handleItemMouseMove","remainder","itemValue","NumericFilterCell","KEYBOARD_NAV_DATA_LEVEL","TextFilterCell","KEYBOARD_NAV_DATA_SCOPE","KEYBOARD_NAV_DATA_HEADER","KEYBOARD_NAV_DATA_BODY","KEYBOARD_NAV_DATA_ID","FOCUSABLE_ELEMENTS_BASE","FOCUSABLE_ELEMENTS","TABBABLE_ELEMENTS","selector","tableKeyboardNavigationScopeAttributes","tableKeyboardNavigationHeaderAttributes","tableKeyboardNavigationBodyAttributes","TableKeyboardNavigationContext","useTableKeyboardNavigation","elementId","navigatable","navigationContext","activeId","HeaderThElement","ariaSort","rowSpan","columnId","ariaColumnIndex","ariaLabel","navigationAttributes","generateNavigatableId","navigationId","idPrefix","getNavigatableId","dataId","isNavigatable","getHeaderElement","getBodyElement","findNextIdByRowIndex","initialRowIndex","cellIndex","matrix","isReverse","currentRowIndex","currentId","findNextIdByCellIndex","initialCellIndex","currentCellIndex","findId","navigationMatrix","cellId","getFilterColumnId","tableKeyboardNavigationTools","closest","elementForFocus","contextStateRef","prevElement","navigationStateRef","nextColumn","currentDepth","depth","getColumnWidth","currentSum","getIndex","columnResize","resizable","setIsRtl","headerRow","filterRow","HeaderCell","clickProps","defaultRendering","allowUnsort","ColumnResizer","ColumnDraggable","pressHandler","dragHandler","releaseHandler","ariaRowIndex","sortSeqMap","true","false","ariaSortMap","HeaderRow","cellClick","sortChange","sortable","oldDescriptor","newDescriptor","cellKeyDown","rowIndexes","columnIndex","sortIndex","sortDir","headerCellProps","selectionChange","selectionValue","headerSelectionValue","cellRender","sortIcon","ColumnMenu","columnMenu","kFirst","locked","headerClassName","borderRightWidth","rightBorder","sortLabel","ariaAttrs","isAccessible","ariaDescription","headerCell","onSortChange","columnMenuFilter","columnMenuFilterChange","columnsMap","ColumnResize","triggerResize","dragCue","stopImmediatePropagation","tdElement","oldWidth","setWidths","coef","indexInOriginal","toAdjust","more","cc","colToAdjust","targetWidth","minResizableWidth","updateColElements","affectedColumns","colIndex","currentColumnFloatWidth","currentWidth","setColWidth","colGroupMain","colGroupHeader","colGroupFooter","CommonDragLogic","columnReorder","groupReorder","columnToGroup","reorderable","groupable","startColumn","startGroup","currentColumn","currentGroup","dropElementClue","dragElementClue","groupPanelDivElement","refGroupPanelDiv","refDropElementClue","refDragElementClue","getColumnIndex","getGroupIndex","invalidIndex","targetElement","updateDragElementClue","updateDropElementClue","prevColumnIndex","nextColumnIndex","prevGroupIndex","nextGroupIndex","parentIndex","innerText","DragClue","hiddenElementRef","hiddenElement","dragClue","createPortal","DropClue","dropClue","TextFilter","nextFilter","NumericFilter","DateFilter","EnumFilter","locService","locData","textOperators","BooleanFilter","numericOperators","dateOperators","booleanOperators","Operators","unaryOperator","setInitialValue","Expression","onFieldChange","nextFieldName","nextField","prevFilter","o","triggerOnFilterChange","onOperatorChange","prevFilterNoValue","onInputChange","onFilterRemove","removeEvent","Group","onGroupRemove","onAddExpression","firstField","newExpression","onAddGroup","defaultGroupFilter","onLogicAnd","changeLogic","onLogicOr","replaceFilter","Filter","cur","ColumnMenuOperators","generateMatrix","headerRows","bodyRows","cellSpan","maxDepth","freeSlotIndex","mi","lastHeaderIndex","tableKeyboardNavigation","activeElementIsFocused","prevNavigationIndexes","firstId","firstIdElement","navigationTools","focusedElement","onNavigationAction","dataLevel","navigatableElement","isVertical","currentIdIndexes","idForFocus","currentIndexes","TABLE_ROW_INDEX_ATTRIBUTE","TABLE_COL_INDEX_ATTRIBUTE","TABLE_PREVENT_SELECTION_ELEMENT","closestTagName","tagName","getRowIndex","getSelectionOptions","selectable","TableSelection","selectionEnabled","selectionDrag","selectionMode","selectionCell","draggableRef","overlayElementRef","dragStartRef","overlaySettings","setOverlaySettings","offsetParentRef","isDraggedRef","isPreventedRef","onPressHandler","hasAttribute","onDragHandler","getOffset","onReleaseHandler","overlayElement","visibility","startElement","endElement","startTdElement","startTrElement","endTdElement","endTrElement","startColIndex","startRowIndex","endColIndex","endRowIndex","isDrag","trElement","GridColumn","editable","filterCell","filterTitle","editor","footerCell","orderIndex","flatData","dataIndex","groupDefined","maxLevel","rowType","readColumns","elements","oldColumns","idInfo","columnProps","oldColumn","prevId","declarationIndex","ret_1","flat_1","pIndex","sanitizeColumns","GridSelectionCell","handleOnChange","GridHierarchyCell","GridEditCell","editCellClasses","GRID_COL_INDEX_ATTRIBUTE","headerWrap","syncScroll","_event","scrollableDataElement","setScrollLeft","staticHeaders","borderWidth","isDragged","autofit","GridHeaderCell","blurTimeout","blur","closeMenu","anchorClick","_content","ChildComponent","_anchor","outline","onCloseMenu","noRecords","groupPanelEmpty","groupColumn","ungroupColumn","filterClearButton","filterSubmitButton","sortAscending","sortDescending","searchPlaceholder","filterCheckAll","filterChooseOperator","filterSelectedItems","pagerMessagesMap","pagerMessageKey","serviceIndex","onGroupChange","groupChange","dblClickHandler","filterLogicList","IsUnaryFilter","operatorMap","iterable","booleanFilterValues","defaultHideSecondFilter","numeric","boolean","cellInputChange","defaultOperator","getDefaultOperator","filterType","getFilterType","cellBoolDropdownChange","cellOperatorChange","GridFilterCell","renderOperatorEditor","boolDropdownChange","filterComponent","booleanValues","FilterRow","headerCellClassName","oldFilters","filterCells","currentActiveFilter","currentFilters","activeFilter","filterCellProps","GroupingIndicator","groupRemove","GroupPanel","newGroups","onGroupSortChange","groupDesc","groups","resolveTitle","refCallback","Footer","footerWrap","cached","topCacheCount","attendedSkip","propsSkip","scrollableVirtual","realSkip","heightContainer","fixedScroll","askedSkip","tableTranslate","allRows","tableBody","accumulate","syncTimeout","rowHeights","targetFloorScrollPosition","rowsCount","floatRowIndex","rowpercentage","microAdjust","rowIndexOffset","grid","fixateInitialWidths","columnIds","leafsForAdjust","stack","currentCol","leafs","indexesForAdjust","tables","colgroups","maxWidths","colgroup","leafColumns","currentColumnFloorWidth","remainingCount","perCol","GridCell","dataAsString","GridGroupCell","columnsCount","definedField","GridRow","isAltRow","isInEdit","isHidden","GridHeaderSelectionCell","GridNoRecords","FooterRow","renderCell","tdProps","hasParentFooterCell","GridDetailCell","ariaColIndex","detail","GridDetailHierarchyCell","Grid","_columns","_columnsMap","tableElement","_header","_footer","forceUpdateTimeout","_gridId","scrollIntoView","selectedRow","fitColumns","columnVirtualization","dataItems","getLeafDataItems","componentId","selectedField","getArguments","rowClick","onRowClick","rowDblClick","onRowDoubleClick","itemChange","onItemChange","expandChange","onHeaderSelectionChange","selectionRelease","onSelectionChange","selectionEvent","raiseDataEvent","pagerPageChange","targetId","resetTableWidth","onColumnResize","targetColumnId","_data","dragLogic","shuffledColumns","getSnapshotBeforeUpdate","propsData","tableUserSelect","groupingFooter","resolvedGroupsCount","initColumns","toolbar","groupingPanel","headerCellRender","filterCellRender","tableWidth","tableViewPortWidth","colSpans","hiddenColumns","widths","widthOfHiddenColumns","considerNext","totalWidth","hiddenSeqLength","updateIndex","hiddenCols","lastVisible","anyHidden","allHidden","every","tableColumnsVirtualization","isColHidden","hiddenRows","shift","currentAriaRowIndex","absoluteDataIndex","rowIndexStart","dataIndex_1","detailRowCount_1","isAlt","absoluteIndex","rowId","detailRowId","gridRow","rowDataIndex","currentColumnIsInEdit","editField","inEdit","dataRow","rowRender","detailColspan","pagerProps","normalizeSettings","pageable","pager","colGroups","enableDragClues","event_1","moreData","dataStateChange","onDataStateChange","dataState","getDataState","spliced","eventColumnProps","onColumnReorder","nextIndex","groupIndex","colElements","columnElements","groupCount","propData","itemForColumnsGen","autoGenerateColumns","defaultServiceProps","columnIndexOffset","colIndexByLevel","needKFirst","ci","stickyLeftWidth","stickyRightWidth","mapColumns","GridColumnMenuItemGroup","GridColumnMenuItem","GridColumnMenuGroup","onGroupClick","column_1","newGroup","isGrouped","ASC_DIR","DESC_DIR","sortedAsc","sortedIndex","sortedDesc","GridColumnMenuSort","onAscClick","onSort","onDescClick","selectedDir","currentSortIndex","GridColumnMenuItemContent","GridColumnMenuFilterCell","GridColumnMenuFilterUI","firstFilterProps","hideSecondFilter","secondFilterProps","logicData","logicValue","onLogicChange","rootFilterOrDefault","rootFilter","filterGroupByField","nf","GridColumnMenuFilter","filterGroup","removeGroup","insertGroup","onFilterExpand","firstFilterChange","secondFilterChange","filterIndex","logicChange","rootFilters","currentFilterGroup","submit","updatedFilter","filterUI","currentHideSecondFilter","currentOperators","firstFilterCellProps","secondFilterCellProps","filterLogic","logicProps","FilterUI","filterUIProps","isFilterValid","expandState","onSubmit","onReset","GridColumnMenuCheckboxFilter","defaultFilter","parseData","originalData","isUnique","getFilterIndex","handleSearchChange","filterOperator","searchBoxFilterOperator","filterExpression","uniqueData","handleClear","currentFilter","compositeFilterIndex","handleCheckBoxChange","newFilter","fieldFilters","isAllSelected","isAllChecked","filters_1","dataFromProps","firstArray","secondArray","ex","filterValues","filterItem","searchBox","uniqueFilterValues","includes","GridDetailRow","GridToolbar"],"mappings":"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","file":"static/js/0.445d0a1a.chunk.js","sourcesContent":["/**\n * @hidden\n */\nexport var isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nexport var isBlank = function (value) { return value === null || value === undefined; };\n/**\n * @hidden\n */\nexport var isArray = function (value) { return Array.isArray(value); };\n/**\n * @hidden\n */\nexport var isFunction = function (value) { return typeof value === 'function'; };\n/**\n * @hidden\n */\nexport var isString = function (value) { return typeof value === 'string'; };\n/**\n * @hidden\n */\nexport var isTruthy = function (value) { return !!value; };\n/**\n * @hidden\n */\nexport var isNullOrEmptyString = function (value) { return isBlank(value) || value.trim().length === 0; };\n/**\n * @hidden\n */\nexport var isNotNullOrEmptyString = function (value) { return !isNullOrEmptyString(value); };\n/**\n * @hidden\n */\nexport var isNumeric = function (value) { return !isNaN(value - parseFloat(value)); };\n/**\n * @hidden\n */\nexport var isDate = function (value) { return value && value.getTime; };\n","import { isPresent } from '../utils';\n// tslint:enable:max-line-length\n/**\n * @hidden\n * Type guard for `CompositeFilterDescriptor`.\n */\nexport var isCompositeFilterDescriptor = function (source) {\n    return isPresent(source.filters);\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @hidden\n */\nexport var ifElse = function (predicate, right, left) { return function (value) { return predicate(value) ? right(value) : left(value); }; };\n/**\n * @hidden\n * Performs the right-to-left function composition. Functions should have a unary.\n */\nexport var compose = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (data) { return args.reduceRight(function (acc, curr) { return curr(acc); }, data); };\n};\n/**\n * @hidden\n */\nexport var constant = function (x) { return function () { return x; }; };\n/**\n * @hidden\n */\nexport var identity = function (x) { return x; };\n","import * as tslib_1 from \"tslib\";\nimport { isString, isDate } from './utils';\n/**\n * @hidden\n * Creates a single arity function which wraps the value based on the provided predicate.\n * @example\n * ```\n * wrapIf(() => ignoreCase) `tolower(${field})`\n * //ignoreCase=true -> tolower(${field})`\n * //ignoreCase=false -> ${field}`\n * ```\n */\nexport var wrapIf = function (predicate) { return function (str) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return predicate() ? \"\" + str[0] + args[0] + str[1] : args[0];\n}; };\n/**\n * @hidden\n */\nexport var toUTC = function (date) {\n    return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n};\n/**\n * @hidden\n */\nexport var quote = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: \"'\" + value.replace(/'/g, \"''\") + \"'\",\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nexport var encodeValue = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: \"\" + encodeURIComponent(value),\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nexport var toLower = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        field: wrapIf(function () { return ignoreCase; })(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"tolower(\", \")\"], [\"tolower(\", \")\"])), field),\n        value: value,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nexport var normalizeField = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: value,\n        field: field.replace(/\\./g, \"/\"),\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nexport var isStringValue = function (x) { return isString(x.value); };\n/**\n * @hidden\n */\nexport var isDateValue = function (x) { return isDate(x.value); };\n/**\n * @hidden\n */\nexport var serializeFilters = function (map, join) { return function (filter) {\n    var brackets = wrapIf(function () { return filter.filters.length > 1; });\n    return brackets(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"(\", \")\"], [\"(\",\n        \")\"])), filter.filters\n        .map(map)\n        .join(join(filter)));\n}; };\nvar templateObject_1, templateObject_2;\n","import * as tslib_1 from \"tslib\";\nimport { isPresent, isNotNullOrEmptyString } from './utils';\nimport { serializeFilter } from './odata-filtering.operators';\nimport { ifElse, constant } from './funcs';\nvar serializeSort = function (orderby) {\n    var str = orderby\n        .filter(function (sort) { return isPresent(sort.dir); })\n        .map(function (sort) {\n        var order = sort.field.replace(/\\./g, \"/\");\n        return sort.dir === \"desc\" ? order + \" desc\" : order;\n    }).join(\",\");\n    return str ? \"$orderby=\" + str : str;\n};\nvar emptyString = constant('');\nvar concat = function (a) { return function (b) { return a + b; }; };\nvar serializeKey = function (strings, val) { return ifElse(isPresent, concat(strings[0]), emptyString)(val); };\nvar rules = function (settings, state) { return function (key) { return ({\n    \"filter\": serializeFilter(state.filter || {}, settings),\n    \"skip\": serializeKey(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"$skip=\", \"\"], [\"$skip=\", \"\"])), state.skip),\n    \"sort\": serializeSort(state.sort || []),\n    \"take\": serializeKey(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"$top=\", \"\"], [\"$top=\", \"\"])), state.take)\n}[key]); }; };\n// tslint:enable:max-line-length\n/**\n * Converts a [State]({% slug api_kendo-data-query_state %}) into an OData v4 compatible string.\n *\n * @param {State} state - The state that will be serialized.\n * @param {ODataSettings} settings - The settings that are used during the serialization.\n * @returns {string} - The serialized state.\n */\nexport var toODataString = function (state, settings) {\n    if (settings === void 0) { settings = {}; }\n    return (Object.keys(state)\n        .map(rules(settings, state))\n        .filter(isNotNullOrEmptyString)\n        .join('&'));\n};\nvar templateObject_1, templateObject_2;\n","import { isPresent, isString, isArray } from '../utils';\nimport { isCompositeFilterDescriptor } from './filter-descriptor.interface';\nvar operatorMap = function (key) { return ({\n    \"!=\": \"neq\",\n    \"<\": \"lt\",\n    \"<=\": \"lte\",\n    \"==\": \"eq\",\n    \">\": \"gt\",\n    \">=\": \"gte\",\n    equal: \"eq\",\n    equals: \"eq\",\n    equalto: \"eq\",\n    ge: \"gte\",\n    greater: \"gt\",\n    greaterthan: \"gt\",\n    greaterthanequal: \"gte\",\n    isempty: \"isempty\",\n    isequalto: \"eq\",\n    isgreaterthan: \"gt\",\n    isgreaterthanorequalto: \"gte\",\n    islessthan: \"lt\",\n    islessthanorequalto: \"lte\",\n    isnotempty: \"isnotempty\",\n    isnotequalto: \"neq\",\n    isnull: \"isnull\",\n    le: \"lte\",\n    less: \"lt\",\n    lessthan: \"lt\",\n    lessthanequal: \"lte\",\n    ne: \"neq\",\n    notequal: \"neq\",\n    notequals: \"neq\",\n    notequalto: \"neq\",\n    notsubstringof: \"doesnotcontain\"\n}[key.toLowerCase()] || key); };\nvar normalizeOperator = function (descriptor) {\n    if (descriptor.filters) {\n        descriptor.filters = descriptor.filters.map(function (filter) {\n            var result = Object.assign({}, filter);\n            if (!isCompositeFilterDescriptor(filter) && isString(filter.operator)) {\n                result.operator = operatorMap(filter.operator);\n            }\n            if (isCompositeFilterDescriptor(filter)) {\n                normalizeOperator(result);\n            }\n            return result;\n        });\n    }\n};\nvar normalizeDescriptor = function (descriptor) {\n    if (!isCompositeFilterDescriptor(descriptor)) {\n        return {\n            filters: isArray(descriptor) ? descriptor : [descriptor],\n            logic: \"and\"\n        };\n    }\n    return Object.assign({}, descriptor);\n};\n// tslint:disable:max-line-length\n/**\n * Converts a [FilterDescriptor]({% slug api_kendo-data-query_filterdescriptor %}) into a [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}). If a `CompositeFilterDescriptor` is passed, no modifications will be made.\n *\n * @param {CompositeFilterDescriptor | FilterDescriptor} descriptor - The descriptor that will be normalized.\n * @returns {CompositeFilterDescriptor} - The normalized descriptor.\n */\n// tslint:enable:max-line-length\nexport var normalizeFilters = function (descriptor) {\n    if (isPresent(descriptor)) {\n        descriptor = normalizeDescriptor(descriptor);\n        normalizeOperator(descriptor);\n    }\n    return descriptor;\n};\n","import * as tslib_1 from \"tslib\";\nimport { isCompositeFilterDescriptor } from './filtering/filter-descriptor.interface';\nimport { compose, ifElse } from './funcs';\nimport { normalizeField, quote, toLower, isDateValue, isStringValue, serializeFilters, encodeValue, toUTC } from './filter-serialization.common';\nimport { normalizeFilters } from './filtering/filter.operators';\nvar formatDate = function (_a) {\n    var utcDates = _a.utcDates;\n    return function (_a) {\n        var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n        return ({\n            value: JSON.stringify(!utcDates ? toUTC(value) : value).replace(/\"/g, \"\"),\n            field: field,\n            ignoreCase: ignoreCase,\n            operator: operator\n        });\n    };\n};\nvar fnFormatter = function (_a) {\n    var operator = _a.operator;\n    return function (_a) {\n        var field = _a.field, value = _a.value;\n        return operator + \"(\" + field + \",\" + value + \")\";\n    };\n};\nvar singleOperatorFormatter = function (_a) {\n    var operator = _a.operator;\n    return function (_a) {\n        var field = _a.field, value = _a.value;\n        return field + \" \" + operator + \" \" + value;\n    };\n};\nvar stringFormat = function (formatter) { return compose(formatter, encodeValue, quote, toLower, normalizeField); };\nvar stringFnOperator = function (settings) { return stringFormat(fnFormatter(settings)); };\nvar stringOperator = function (settings) { return stringFormat(singleOperatorFormatter(settings)); };\nvar numericOperator = function (settings) { return compose(singleOperatorFormatter(settings), normalizeField); };\nvar dateOperator = function (settings) { return compose(singleOperatorFormatter(settings), normalizeField, formatDate(settings)); };\nvar ifDate = function (settings) { return ifElse(isDateValue, dateOperator(settings), numericOperator(settings)); };\nvar typedOperator = function (settings) { return ifElse(isStringValue, stringOperator(settings), ifDate(settings)); };\nvar appendEqual = function (str) { return str + \" eq -1\"; };\nvar nonValueExpression = function (formatter) { return compose(formatter, normalizeField); };\nvar filterOperators = function (operator, settings) { return ({\n    contains: stringFnOperator(tslib_1.__assign({}, settings, { operator: \"contains\" })),\n    doesnotcontain: compose(appendEqual, stringFnOperator(tslib_1.__assign({}, settings, { operator: \"indexof\" }))),\n    endswith: stringFnOperator(tslib_1.__assign({}, settings, { operator: \"endswith\" })),\n    eq: typedOperator(tslib_1.__assign({}, settings, { operator: \"eq\" })),\n    gt: typedOperator(tslib_1.__assign({}, settings, { operator: \"gt\" })),\n    gte: typedOperator(tslib_1.__assign({}, settings, { operator: \"ge\" })),\n    isempty: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" eq ''\";\n    }),\n    isnotempty: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" ne ''\";\n    }),\n    isnotnull: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" ne null\";\n    }),\n    isnull: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" eq null\";\n    }),\n    lt: typedOperator(tslib_1.__assign({}, settings, { operator: \"lt\" })),\n    lte: typedOperator(tslib_1.__assign({}, settings, { operator: \"le\" })),\n    neq: typedOperator(tslib_1.__assign({}, settings, { operator: \"ne\" })),\n    startswith: stringFnOperator(tslib_1.__assign({}, settings, { operator: \"startswith\" }))\n}[operator]); };\nvar join = function (x) { return \" \" + x.logic + \" \"; };\nvar serialize = function (settings) { return function (x) { return filterOperators(x.operator, settings)(x); }; };\nvar serializeAll = function (settings) { return serializeFilters(function (filter) { return ifElse(isCompositeFilterDescriptor, serializeAll(settings), serialize(settings))(filter); }, join); };\n/**\n * @hidden\n */\nexport var serializeFilter = function (filter, settings) {\n    if (settings === void 0) { settings = {}; }\n    if (filter.filters && filter.filters.length) {\n        return \"$filter=\" + serializeAll(settings)(normalizeFilters(filter));\n    }\n    return \"\";\n};\n","import { isPresent } from './utils';\nvar getterCache = {};\nvar FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\n// tslint:disable-next-line:no-string-literal\ngetterCache['undefined'] = function (obj) { return obj; };\n/**\n * @hidden\n */\nexport var getter = function (field, safe) {\n    var key = field + safe;\n    if (getterCache[key]) {\n        return getterCache[key];\n    }\n    var fields = [];\n    field.replace(FIELD_REGEX, function (_, index, indexAccessor, field) {\n        fields.push(isPresent(index) ? index : (indexAccessor || field));\n        return undefined;\n    });\n    getterCache[key] = function (obj) {\n        var result = obj;\n        for (var idx = 0; idx < fields.length; idx++) {\n            result = result[fields[idx]];\n            if (!isPresent(result) && safe) {\n                return result;\n            }\n        }\n        return result;\n    };\n    return getterCache[key];\n};\n","import * as tslib_1 from \"tslib\";\nimport { isCompositeFilterDescriptor } from '../filtering/filter-descriptor.interface';\nimport { isPresent, isNotNullOrEmptyString, isArray } from '../utils';\nimport { getter } from '../accessor';\nimport { compose, ifElse, identity } from '../funcs';\nimport { isStringValue, isDateValue, quote, serializeFilters, toUTC, encodeValue } from '../filter-serialization.common';\nvar toQueryString = function (values) { return values.reduce(function (acc, _a) {\n    var key = _a[0], value = _a[1];\n    return acc.concat([key + \"=\" + value]);\n}, []); };\nvar toObject = function (values) { return values.reduce(function (acc, _a) {\n    var key = _a[0], value = _a[1];\n    var _b;\n    return (tslib_1.__assign({}, acc, (_b = {}, _b[key] = value, _b)));\n}, {}); };\nvar pairwise = function (key) { return function (value) { return [key, value]; }; };\nvar empty = function () { return null; };\nvar isNotEmptyArray = function (value) { return isPresent(value) && isArray(value) && value.length > 0; };\nvar has = function (accessor) { return function (value) { return isPresent(accessor(value)); }; };\nvar isNotEmpty = function (accessor) { return function (value) { return isNotEmptyArray(accessor(value)); }; };\nvar runOrEmpty = function (predicate, fn) { return ifElse(predicate, fn, empty); };\nvar calcPage = function (_a) {\n    var skip = _a.skip, take = _a.take;\n    return Math.floor((skip || 0) / take) + 1;\n};\nvar formatDescriptors = function (accessor, formatter) { return function (state) { return (accessor(state).map(formatter).join(\"~\")); }; };\nvar removeAfter = function (what) { return function (str) { return str.slice(0, str.indexOf(what)); }; };\nvar replace = function (patterns) {\n    return compose.apply(void 0, patterns.map(function (_a) {\n        var left = _a[0], right = _a[1];\n        return function (s) { return s.replace(new RegExp(left, \"g\"), right); };\n    }));\n};\nvar sanitizeDateLiterals = replace([[\"\\\"\", \"\"], [\":\", \"-\"]]);\nvar removeAfterDot = removeAfter(\".\");\nvar directionFormatter = function (_a) {\n    var field = _a.field, _b = _a.dir, dir = _b === void 0 ? \"asc\" : _b;\n    return field + \"-\" + dir;\n};\nvar aggregateFormatter = function (_a) {\n    var field = _a.field, aggregate = _a.aggregate;\n    return field + \"-\" + aggregate;\n};\nvar take = getter(\"take\");\nvar aggregates = getter(\"aggregates\");\nvar skip = getter(\"skip\");\nvar group = getter(\"group\");\nvar sort = getter(\"sort\", true);\nvar formatSort = formatDescriptors(sort, directionFormatter);\nvar formatGroup = formatDescriptors(group, directionFormatter);\nvar formatAggregates = formatDescriptors(aggregates, aggregateFormatter);\nvar prefixDateValue = function (value) { return \"datetime'\" + value + \"'\"; };\nvar formatDateValue = compose(prefixDateValue, removeAfterDot, sanitizeDateLiterals, JSON.stringify, toUTC);\nvar formatDate = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: formatDateValue(value),\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\nvar normalizeSort = function (state) { return Object.assign({}, state, {\n    sort: (sort(state) || []).filter(function (_a) {\n        var dir = _a.dir;\n        return isNotNullOrEmptyString(dir);\n    })\n}); };\nvar transformSkip = compose(pairwise('page'), calcPage);\nvar transformTake = compose(pairwise('pageSize'), take);\nvar transformGroup = compose(pairwise('group'), formatGroup);\nvar transformSort = compose(pairwise('sort'), formatSort);\nvar transformAggregates = compose(pairwise('aggregate'), formatAggregates);\nvar serializePage = runOrEmpty(has(skip), transformSkip);\nvar serializePageSize = runOrEmpty(has(take), transformTake);\nvar serializeGroup = runOrEmpty(isNotEmpty(group), transformGroup);\nvar serializeAggregates = runOrEmpty(has(aggregates), transformAggregates);\nvar serializeSort = compose(runOrEmpty(isNotEmpty(sort), transformSort), normalizeSort);\nvar hasField = function (_a) {\n    var field = _a.field;\n    return isNotNullOrEmptyString(field);\n};\nvar filterFormatter = function (_a) {\n    var field = _a.field, operator = _a.operator, value = _a.value;\n    return field + \"~\" + operator + \"~\" + value;\n};\nvar dateFormatter = ifElse(isDateValue, compose(filterFormatter, formatDate), filterFormatter);\nvar typedFormatter = function (encode) { return runOrEmpty(hasField, ifElse(isStringValue, compose(filterFormatter, quote, encode ? encodeValue : identity), dateFormatter)); };\nvar join = function (_a) {\n    var logic = _a.logic;\n    return \"~\" + logic + \"~\";\n};\nvar serialize = function (encode) { return serializeFilters(function (filter) { return ifElse(isCompositeFilterDescriptor, serialize(encode), typedFormatter(encode))(filter); }, join); };\nvar serializeFilter = function (_a, encode) {\n    var filter = _a.filter;\n    if (filter && filter.filters) {\n        var filters = serialize(encode)(filter);\n        if (filters.length) {\n            return ['filter', filters];\n        }\n    }\n    return null;\n};\nvar rules = function (state, encode) {\n    if (encode === void 0) { encode = true; }\n    return function (key) { return ({\n        \"aggregates\": serializeAggregates(state),\n        \"filter\": serializeFilter(state, encode),\n        \"group\": serializeGroup(state),\n        \"skip\": serializePage(state),\n        \"sort\": serializeSort(state),\n        \"take\": serializePageSize(state)\n    }[key]); };\n};\n/**\n * Converts a [DataSourceRequestState]({% slug api_kendo-data-query_datasourcerequeststate %}) into a string\n * that is comparable with the `DataSourceRequest` format in UI for ASP.NET MVC.\n *\n * @param {DataRequestState} state - The state that will be serialized.\n * @returns {string} - The serialized state.\n *\n * @example\n * {% platform_content angular %}\n * ```ts\n *  import {\n *      toDataSourceRequestString,\n *      translateDataSourceResultGroups,\n *      translateAggregateResults\n * } from '@progress/kendo-data-query';\n *\n * export class Service {\n *  private BASE_URL: string = '...';\n *\n *  constructor(private http: Http) { }\n *\n *  // Omitted for brevity...\n *\n *  private fetch(state: DataSourceRequestState): Observable<DataResult> {\n *   const queryStr = `${toDataSourceRequestString(state)}`; //serialize the state\n *   const hasGroups = state.group && state.group.length;\n *\n *   return this.http\n *       .get(`${this.BASE_URL}?${queryStr}`) //send the state to the server\n *       .map(response => response.json())\n *       .map(({Data, Total, AggregateResults}) => // process the response\n *           (<GridDataResult>{\n *               //if there are groups convert them to compatible format\n *               data: hasGroups ? translateDataSourceResultGroups(Data) : Data,\n *               total: Total,\n *               // convert the aggregates if such exists\n *               aggregateResult: translateAggregateResults(AggregateResults)\n *           })\n *       );\n *  }\n * }\n * ```\n * {% endplatform_content %}\n *\n * {% platform_content react %}\n * ```jsx\n * import React from 'react';\n * import { toDataSourceRequestString, translateDataSourceResultGroups } from '@progress/kendo-data-query';\n *\n * export function withState(WrappedGrid) {\n *     return class StatefullGrid extends React.Component {\n *         constructor(props) {\n *             super(props);\n *             this.state = { dataState: { skip: 0, take: 20 } };\n *         }\n *\n *         render() {\n *             return (\n *                 <WrappedGrid\n *                     filterable={true}\n *                     sortable={true}\n *                     pageable={{ pageSizes: true }}\n *                     {...this.props}\n *                     total={this.state.total}\n *                     data={this.state.data}\n *                     skip={this.state.dataState.skip}\n *                     pageSize={this.state.dataState.take}\n *                     filter={this.state.dataState.filter}\n *                     sort={this.state.dataState.sort}\n *                     dataStateChange={this.dataStateChange}\n *                 />\n *             );\n *         }\n *\n *         componentDidMount() {\n *             this.fetchData(this.state.dataState);\n *         }\n *\n *         dataStateChange = (changeEvent) => {\n *             this.setState({ dataState: changeEvent.data });\n *             this.fetchData(changeEvent.data);\n *         }\n *\n *         fetchData(dataState) {\n *             const queryStr = `${toDataSourceRequestString(dataState)}`; // Serialize the state\n *             const hasGroups = dataState.group && dataState.group.length;\n *\n *             const base_url = 'api/Products';\n *             const init = { method: 'GET', accept: 'application/json', headers: {} };\n *\n *             fetch(`${base_url}?${queryStr}`, init)\n *                 .then(response => response.json())\n *                 .then(({ data, total }) => {\n *                     this.setState({\n *                         data: hasGroups ? translateDataSourceResultGroups(data) : data,\n *                         total,\n *                         dataState\n *                     });\n *                 });\n *         }\n *     }\n * }\n * ```\n * {% endplatform_content %}\n */\nexport var toDataSourceRequestString = function (state) { return (toQueryString(Object.keys(state)\n    .map(rules(state))\n    .filter(isPresent)).join('&')); };\n/**\n * Converts a [DataSourceRequestState]({% slug api_kendo-data-query_datasourcerequeststate %}) into an object\n * that is compatible with the `DataSourceRequest` format in UI for ASP.NET MVC.\n *\n * @param {DataRequestState} state - The state that will be serialized.\n * @returns {any} - The serialized state.\n */\nexport var toDataSourceRequest = function (state) { return (toObject(Object.keys(state)\n    .map(rules(state, false))\n    .filter(isPresent))); };\n","import { isPresent } from '../utils';\nimport { compose } from '../funcs';\n// tslint:enable:max-line-length\nvar set = function (field, target, value) {\n    target[field] = value;\n    return target;\n};\nvar toCamelCase = function (str) { return str.replace(/(^[A-Z])/g, function (_, g1) { return g1.toLowerCase(); }); };\nvar prop = function (fieldName) { return function (obj) {\n    var value = obj[fieldName];\n    if (isPresent(value)) {\n        return value;\n    }\n    return obj[toCamelCase(fieldName)];\n}; };\nvar member = prop(\"Member\");\nvar aggregateMethodName = prop(\"AggregateMethodName\");\nvar value = prop(\"Value\");\nvar convert = function (mapper) { return function (values) { return Object.keys(values).reduce(mapper.bind(null, values), {}); }; };\nvar translateAggregate = convert(function (source, acc, field) { return set(field.toLowerCase(), acc, source[field]); });\nvar translateAggregates = convert(function (source, acc, field) { return set(field, acc, translateAggregate(source[field])); });\nvar valueOrDefault = function (value, defaultValue) { return isPresent(value) ? value : defaultValue; };\nvar normalizeGroup = function (group) { return ({\n    aggregates: group.Aggregates || group.aggregates,\n    field: group.Member || group.member || group.field,\n    hasSubgroups: group.HasSubgroups || group.hasSubgroups || false,\n    items: group.Items || group.items,\n    value: valueOrDefault(group.Key, valueOrDefault(group.key, group.value))\n}); };\nvar translateGroup = compose(function (_a) {\n    var field = _a.field, hasSubgroups = _a.hasSubgroups, value = _a.value, aggregates = _a.aggregates, items = _a.items;\n    return ({\n        aggregates: translateAggregates(aggregates),\n        field: field,\n        items: hasSubgroups ? items.map(translateGroup) : items,\n        value: value\n    });\n}, normalizeGroup);\n// tslint:disable:max-line-length\n/**\n * Converts the grouped result, which is returned into the `Data` field of the UI for ASP.NET MVC `ToDataSourceResult` method, to a comparable format.\n * @param data - The value of the `Data` field of the response.\n * @returns {GroupResult[]} - The converted result.\n */\nexport var translateDataSourceResultGroups = function (data) { return data.map(translateGroup); };\n/**\n * Converts the `AggregateResults` field content, which is returned by the UI for ASP.NET MVC `ToDataSourceResult` method, to a comparable format.\n * @param data - The value of the `AggregateResults` field of the response.\n * @returns {AggregateResult} - The converted result.\n */\n// tslint:enable:max-line-length\nexport var translateAggregateResults = function (data) { return ((data || []).reduce(function (acc, x) { return set(member(x), acc, set(aggregateMethodName(x).toLowerCase(), acc[member(x)] || {}, value(x))); }, {})); };\n","import { isPresent, isBlank } from '../utils';\nimport { getter } from '../accessor';\nvar compare = function (a, b) {\n    if (isBlank(a)) {\n        return a === b ? 0 : -1;\n    }\n    if (isBlank(b)) {\n        return 1;\n    }\n    if (a.localeCompare) {\n        return a.localeCompare(b);\n    }\n    return a > b ? 1 : (a < b ? -1 : 0);\n};\nvar compareDesc = function (a, b) { return compare(b, a); };\nvar descriptorAsFunc = function (descriptor) {\n    var prop = getter(descriptor.field, true);\n    return function (a, b) { return (descriptor.dir === 'asc' ? compare : compareDesc)(prop(a), prop(b)); };\n};\nvar initial = function (_a, _b) { return 0; };\n// tslint:disable:max-line-length\n/**\n * Converts the `SortDescriptors` into a [Comparer]({% slug api_kendo-data-query_comparer %}) function that can be used through `Array.sort`. If multiple descriptors are provided, sorting is applied in a right-to-left order.\n * @param {SortDescriptor[]} descriptors - The descriptors which will be converted.\n * @returns {Comparer} - The produced function.\n *\n * @example\n * ```ts\n * import { composeSortDescriptors } from '@progress/kendo-data-query';\n *\n * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n * const comparer = composeSortDescriptors([{ field: \"name\", dir: \"asc\" }]);\n * const result = data.sort(comparer);\n * // output: [{ name: \"Beef\" }, { name: \"Pepper\" }, { name: \"Pork\" }];\n * ```\n */\n// tslint:enable:max-line-length\nexport var composeSortDescriptors = function (descriptors) { return (descriptors\n    .filter(function (x) { return isPresent(x.dir); })\n    .map(function (descriptor) { return descriptorAsFunc(descriptor); })\n    .reduce(function (acc, curr) { return function (a, b) { return acc(a, b) || curr(a, b); }; }, initial)); };\n","import { isPresent, isNumeric, isDate } from './utils';\nimport { getter } from './accessor';\nvar valueToString = function (value) {\n    value = isPresent(value) && value.getTime ? value.getTime() : value;\n    return value + \"\";\n};\n/**\n * @hidden\n */\nexport var groupCombinator = function (field) {\n    var prop = getter(field, true);\n    var position = 0;\n    return function (agg, value) {\n        agg[field] = agg[field] || {};\n        var groupValue = prop(value);\n        var key = valueToString(groupValue);\n        var values = agg[field][key] || { __position: position++, aggregates: {}, items: [], value: groupValue };\n        values.items.push(value);\n        agg[field][key] = values;\n        return agg;\n    };\n};\n/**\n * @hidden\n */\nexport var expandAggregates = function (result) {\n    if (result === void 0) { result = {}; }\n    Object.keys(result).forEach(function (field) {\n        var aggregates = result[field];\n        Object.keys(aggregates).forEach(function (aggregate) {\n            aggregates[aggregate] = aggregates[aggregate].result();\n        });\n    });\n    return result;\n};\nvar aggregatesFuncs = function (name) { return ({\n    average: function () {\n        var value = 0;\n        var count = 0;\n        return {\n            calc: function (curr) {\n                if (isNumeric(curr)) {\n                    value += curr;\n                    count++;\n                }\n                else {\n                    value = curr;\n                }\n            },\n            result: function () { return isNumeric(value) ? value / count : value; }\n        };\n    },\n    count: function () {\n        var state = 0;\n        return {\n            calc: function () { return state++; },\n            result: function () { return state; }\n        };\n    },\n    max: function () {\n        var state = Number.NEGATIVE_INFINITY;\n        return {\n            calc: function (value) {\n                state = isNumeric(state) || isDate(state) ? state : value;\n                if (state < value && (isNumeric(value) || isDate(value))) {\n                    state = value;\n                }\n            },\n            result: function () { return state; }\n        };\n    },\n    min: function () {\n        var state = Number.POSITIVE_INFINITY;\n        return {\n            calc: function (value) {\n                state = isNumeric(state) || isDate(state) ? state : value;\n                if (state > value && (isNumeric(value) || isDate(value))) {\n                    state = value;\n                }\n            },\n            result: function () { return state; }\n        };\n    },\n    sum: function () {\n        var state = 0;\n        return {\n            calc: function (value) {\n                value = isPresent(value) ? value : 0;\n                state += value;\n            },\n            result: function () { return state; }\n        };\n    }\n}[name]()); };\n/**\n * @hidden\n */\nexport var aggregatesCombinator = function (descriptors) {\n    var functions = descriptors.map(function (descriptor) {\n        var fieldAccessor = getter(descriptor.field, true);\n        var aggregateName = (descriptor.aggregate || \"\").toLowerCase();\n        var aggregateAccessor = getter(aggregateName, true);\n        return function (state, value) {\n            var fieldAggregates = state[descriptor.field] || {};\n            var aggregateFunction = aggregateAccessor(fieldAggregates)\n                || aggregatesFuncs(aggregateName);\n            aggregateFunction.calc(fieldAccessor(value));\n            fieldAggregates[descriptor.aggregate] = aggregateFunction;\n            state[descriptor.field] = fieldAggregates;\n            return state;\n        };\n    });\n    return function (state, value) { return functions.reduce(function (agg, calc) { return calc(agg, value); }, state); };\n};\n/**\n * @hidden\n * Adds the value to the `arr` and produces a new array.\n *\n * > The original array will be modified.\n */\nexport var concat = function (arr, value) {\n    arr.push(value);\n    return arr;\n};\n/**\n * @hidden\n * Returns a reducer that will apply the specified transformation to the value.\n */\nexport var map = function (transform) { return (function (reduce) { return (function (acc, curr, index) { return reduce(acc, transform(curr, index)); }); }); };\n/**\n * @hidden\n * Returns a reducer that will filter out items which do not match the `Predicate`.\n */\nexport var filter = function (predicate) { return (function (reduce) { return (function (acc, curr) { return predicate(curr) ? reduce(acc, curr) : acc; }); }); };\n/**\n * @hidden\n */\nexport var isTransformerResult = function (source) {\n    return isPresent(source.__value);\n};\nvar reduced = function (x) {\n    if (isTransformerResult(x)) {\n        return x;\n    }\n    return {\n        __value: x,\n        reduced: true\n    };\n};\n/**\n * @hidden\n * Returns a reducer that will take the specified number of items.\n */\nexport var take = function (count) { return (function (reduce) { return (function (acc, curr) { return count-- > 0 ? reduce(acc, curr) : reduced(acc); }); }); };\n/**\n * @hidden\n * Returns a reducer that will take the specified number of items.\n */\nexport var takeWhile = function (predicate) { return (function (reduce) { return (function (acc, curr) { return predicate(curr) ? reduce(acc, curr) : reduced(acc); }); }); };\n/**\n * @hidden\n * Returns a reducer that will skip the specified number of items.\n */\nexport var skip = function (count) { return (function (reduce) { return (function (acc, curr) { return count-- <= 0 ? reduce(acc, curr) : acc; }); }); };\n/**\n * @hidden\n * Transforms the data by applying the supplied transformer.\n */\nexport var exec = function (transform, initialValue, data) {\n    var result = initialValue;\n    for (var idx = 0, length_1 = data.length; idx < length_1; idx++) {\n        result = transform(result, data[idx], idx);\n        if (isTransformerResult(result)) {\n            result = result.__value;\n            break;\n        }\n    }\n    return result;\n};\n","import { isCompositeFilterDescriptor } from \"./filter-descriptor.interface\";\nimport { getter } from \"../accessor\";\nimport { isFunction, isPresent, isDate, isString, isBlank, isNumeric } from \"../utils\";\nvar logic = {\n    \"or\": {\n        concat: function (acc, fn) { return function (a) { return acc(a) || fn(a); }; },\n        identity: function () { return false; }\n    },\n    \"and\": {\n        concat: function (acc, fn) { return function (a) { return acc(a) && fn(a); }; },\n        identity: function () { return true; }\n    }\n};\nvar operatorsMap = {\n    contains: function (a, b) { return (a || \"\").indexOf(b) >= 0; },\n    doesnotcontain: function (a, b) { return (a || \"\").indexOf(b) === -1; },\n    doesnotendwith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) < 0; },\n    doesnotstartwith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === -1; },\n    endswith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) >= 0; },\n    eq: function (a, b) { return a === b; },\n    gt: function (a, b) { return a > b; },\n    gte: function (a, b) { return a >= b; },\n    isempty: function (a) { return a === ''; },\n    isnotempty: function (a) { return a !== ''; },\n    isnotnull: function (a) { return isPresent(a); },\n    isnull: function (a) { return isBlank(a); },\n    lt: function (a, b) { return a < b; },\n    lte: function (a, b) { return a <= b; },\n    neq: function (a, b) { return a != b; },\n    startswith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === 0; }\n};\nvar dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\nvar convertValue = function (value, ignoreCase) {\n    if (value != null && isString(value)) {\n        var date = dateRegExp.exec(value);\n        if (date) {\n            return new Date(+date[1]).getTime();\n        }\n        else if (ignoreCase) {\n            return value.toLowerCase();\n        }\n    }\n    else if (value != null && isDate(value)) {\n        return value.getTime();\n    }\n    return value;\n};\nvar typedGetter = function (prop, value, ignoreCase) {\n    if (!isPresent(value)) {\n        return prop;\n    }\n    var acc = prop;\n    if (isString(value)) {\n        var date = dateRegExp.exec(value);\n        if (date) {\n            value = new Date(+date[1]);\n        }\n        else {\n            acc = function (a) {\n                var x = prop(a);\n                if (typeof x === 'string' && ignoreCase) {\n                    return x.toLowerCase();\n                }\n                else {\n                    return isNumeric(x) ? x + \"\" : x;\n                }\n            };\n        }\n    }\n    if (isDate(value)) {\n        return function (a) {\n            var x = acc(a);\n            return isDate(x) ? x.getTime() : x;\n        };\n    }\n    return acc;\n};\nvar transformFilter = function (_a) {\n    var field = _a.field, ignoreCase = _a.ignoreCase, value = _a.value, operator = _a.operator;\n    field = !isPresent(field) ? function (a) { return a; } : field;\n    ignoreCase = isPresent(ignoreCase) ? ignoreCase : true;\n    var itemProp = typedGetter(isFunction(field) ? field : getter(field, true), value, ignoreCase);\n    value = convertValue(value, ignoreCase);\n    var op = isFunction(operator) ? operator : operatorsMap[operator];\n    return function (a) { return op(itemProp(a), value, ignoreCase); };\n};\n/**\n * @hidden\n */\nexport var transformCompositeFilter = function (filter) {\n    var combiner = logic[filter.logic];\n    return filter.filters\n        .filter(isPresent)\n        .map(function (x) { return isCompositeFilterDescriptor(x) ? transformCompositeFilter(x) : transformFilter(x); })\n        .reduce(combiner.concat, combiner.identity);\n};\n","import { exec, map, aggregatesCombinator, expandAggregates } from '../transducers';\nvar identity = map(function (x) { return x; });\n// tslint:disable:max-line-length\n/**\n * Applies the specified [AggregateDescriptors]({% slug api_kendo-data-query_aggregatedescriptor %}) to the data. Returns an [AggregateResult]({% slug api_kendo-data-query_aggregateresult %}) instance.\n *\n * @example\n * ```ts\n * const data = [\n *    { unitPrice: 23, unitsInStock: 21 },\n *    { unitPrice: 10, unitsInStock: 12 },\n *    { unitPrice: 20, unitsInStock: 33 }\n * ];\n *\n * const result = aggregateBy(data, [\n *   { aggregate: \"sum\", field: \"unitPrice\" },\n *   { aggregate: \"sum\", field: \"unitsInStock\" }\n * ]);\n *\n * //output:\n * // {\n * //     \"unitPrice\": { \"sum\": 53 },\n * //     \"unitsInStock\": { \"sum\": 66 }\n * // }\n * ```\n * @param {T[]} data - The data on which the calculation will be executed.\n * @param {AggregateDescriptor[]} descriptors - The aggregate operations that will be executed.\n * @param {any} transformers - For internal use.\n * @returns {AggregateResult} - The aggregated result.\n * For more information, refer to the [aggregateresult]({% slug api_kendo-data-query_aggregateresult %}) configuration.\n */\n// tslint:enable:max-line-length\nexport var aggregateBy = function (data, descriptors, transformers) {\n    if (descriptors === void 0) { descriptors = []; }\n    if (transformers === void 0) { transformers = identity; }\n    var initialValue = {};\n    if (!descriptors.length) {\n        return initialValue;\n    }\n    var result = exec(transformers(aggregatesCombinator(descriptors)), initialValue, data);\n    return expandAggregates(result);\n};\n","import { isPresent } from '../utils';\nimport { isCompositeFilterDescriptor } from './filter-descriptor.interface';\nimport { normalizeFilters } from './filter.operators';\nimport { transformCompositeFilter } from \"./filter-no-eval\";\n// tslint:disable:max-line-length\n/**\n * Creates a [Predicate]({% slug api_kendo-data-query_predicate %}) function for the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n *\n * @param {CompositeFilterDescriptor} descriptor - The descriptor for which the predicate is created.\n * @returns {Predicate} - The created function instance.\n *\n * @example\n * ```ts\n * import { compileFilter } from '@progress/kendo-data-query';\n *\n * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n * const predicate = compileFilter({ logic: \"and\", filters: [{ field: \"name\", operator: \"startswith\", value: \"P\" }] });\n * const result = data.filter(predicate);\n *\n * ```\n */\n// tslint:enable:max-line-length\nexport var compileFilter = function (descriptor) {\n    if (!descriptor || descriptor.filters.length === 0) {\n        return function () { return true; };\n    }\n    return transformCompositeFilter(descriptor);\n};\n// tslint:disable:max-line-length\n/**\n * Filters the provided array according to the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n *\n * @param {T[]} data - The data that will be filtered.\n * @param {(CompositeFilterDescriptor | FilterDescriptor)} descriptor - The filter criteria that will be applied.\n * @returns {T[]} - The filtered data.\n *\n * @example\n * ```ts\n * import { filterBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *  { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *  { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *  { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = filterBy(data, {\n *     logic: 'and',\n *     filters: [\n *           { field: \"name\", operator: \"startswith\", value: \"p\", ignoreCase: true },\n *           { field: \"subcategory\", operator: \"eq\", value: \"Meat\" },\n *     ]\n * });\n *\n * // output:\n * // [{ \"name\": \"Pork\", \"category\": \"Food\", \"subcategory\": \"Meat\" }]\n * ```\n */\n// tslint:enable:max-line-length\nexport var filterBy = function (data, descriptor) {\n    if (!isPresent(descriptor) || (isCompositeFilterDescriptor(descriptor) && descriptor.filters.length === 0)) {\n        return data;\n    }\n    return data.filter(compileFilter(normalizeFilters(descriptor)));\n};\n","var merge = function (data, left, middle, right, compare) {\n    var leftLength = middle - left;\n    var rightLength = right - middle;\n    var temp = [];\n    for (var idx = 0; idx < leftLength; idx++) {\n        temp.push(data[left + idx]);\n    }\n    var cursor1 = 0;\n    var cursor2 = middle;\n    var dest = left;\n    do {\n        if (compare(data[cursor2], temp[cursor1]) < 0) {\n            data[dest++] = data[cursor2++];\n            rightLength--;\n        }\n        else {\n            data[dest++] = temp[cursor1++];\n            leftLength--;\n        }\n    } while (rightLength > 0 && leftLength > 0);\n    while (leftLength) {\n        data[dest++] = temp[cursor1++];\n        leftLength--;\n    }\n    while (rightLength) {\n        data[dest++] = data[cursor2++];\n        rightLength--;\n    }\n};\n/**\n * @hidden\n */\nexport var sort = function (data, start, end, compare) {\n    if (end - start < 2) {\n        return;\n    }\n    var mid = (start + end) >>> 1; // tslint:disable-line:no-bitwise\n    sort(data, start, mid, compare);\n    sort(data, mid, end, compare);\n    merge(data, start, mid, end, compare);\n};\n","import { exec, map, groupCombinator } from '../transducers';\nimport { isArray, isPresent } from '../utils';\nimport { aggregateBy } from './aggregate.operators';\nimport { filterBy } from '../filtering/filter-expression.factory';\n/**\n * @hidden\n */\nexport var normalizeGroups = function (descriptors) {\n    descriptors = isArray(descriptors) ? descriptors : [descriptors];\n    return descriptors.map(function (x) { return Object.assign({ dir: \"asc\" }, x); });\n};\nvar identity = map(function (x) { return x; });\n/**\n * Groups the provided data according to the specified descriptors.\n *\n * @param {Array} data - The data that will be grouped.\n * @param {GroupDescriptor[]} descriptors - The descriptors.\n * @param {any} transformers - For internal use.\n * @param {Array} originalData - For internal use.\n * @returns {(Array<GroupResult<T>> | T[])} - The grouped data.\n *\n * @example\n * ```ts\n *\n * import { groupBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = groupBy(data, [{ field: \"subcategory\" }]);\n * ```\n */\nexport var groupBy = function (data, descriptors, transformers, originalData) {\n    if (descriptors === void 0) { descriptors = []; }\n    if (transformers === void 0) { transformers = identity; }\n    if (originalData === void 0) { originalData = data; }\n    descriptors = normalizeGroups(descriptors);\n    if (!descriptors.length) {\n        return data;\n    }\n    var descriptor = descriptors[0];\n    var initialValue = {};\n    var view = exec(transformers(groupCombinator(descriptor.field)), initialValue, data);\n    var result = [];\n    Object.keys(view).forEach(function (field) {\n        Object.keys(view[field]).forEach(function (value) {\n            var group = view[field][value];\n            var aggregateResult = {};\n            var filteredData = originalData;\n            if (isPresent(descriptor.aggregates)) {\n                filteredData = filterBy(originalData, {\n                    field: descriptor.field,\n                    ignoreCase: false,\n                    operator: 'eq',\n                    value: group.value\n                });\n                aggregateResult = aggregateBy(filteredData, descriptor.aggregates);\n            }\n            result[group.__position] = {\n                aggregates: aggregateResult,\n                field: field,\n                items: descriptors.length > 1 ?\n                    groupBy(group.items, descriptors.slice(1), identity, filteredData)\n                    : group.items,\n                value: group.value\n            };\n        });\n    });\n    return result;\n};\n","import { isPresent, isString } from './utils';\nimport { composeSortDescriptors } from './sorting/sort-array.operator';\nimport { groupBy, normalizeGroups } from './grouping/group.operators';\nimport { normalizeFilters } from './filtering/filter.operators';\nimport { compileFilter } from './filtering/filter-expression.factory';\nimport { exec, skip, take, filter, concat } from './transducers';\nimport { getter } from './accessor';\nimport { compose } from './funcs';\nimport { sort } from './sorting/sort';\n/**\n * Orders the specified array according to the provided sort descriptors.\n *\n * @param {T[]} data - The data to be sorted.\n * @param {SortDescriptor[]} descriptors - The descriptors by which the data will be sorted.\n * @returns {T[]} - The sorted data.\n *\n * @example\n * ```ts\n * import { orderBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = orderBy(data, [{ field: \"name\", dir: \"asc\" }]);\n * ```\n */\nexport var orderBy = function (data, descriptors) {\n    if (descriptors.some(function (x) { return isPresent(x.dir); })) {\n        data = data.slice(0);\n        var comparer = composeSortDescriptors(descriptors);\n        sort(data, 0, data.length, comparer);\n    }\n    return data;\n};\nvar defaultComparer = function (a, b) { return a === b; };\nvar normalizeComparer = function (comparer) {\n    if (isString(comparer)) {\n        var accessor_1 = getter(comparer);\n        comparer = function (a, b) { return accessor_1(a) === accessor_1(b); };\n    }\n    return comparer;\n};\nvar _distinct = function (data, comparer) {\n    return data.filter(function (x, idx, xs) { return xs.findIndex(comparer.bind(null, x)) === idx; });\n};\n/**\n * Reduces the provided array so it contains only unique values.\n *\n * @param {T[]} data - The array that will be reduced.\n * @param {(Comparer | string)} comparer - An optional custom comparer function or the field name that will be used for comparison.\n * @returns {T[]} - The reduced data.\n *\n * @example\n * ```ts\n * import { distinct } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = distinct(data, \"subcategory\");\n *\n * // output:\n * // result => [\n * //     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n * //     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" }\n * // ];\n * ```\n */\nexport var distinct = function (data, comparer) {\n    if (comparer === void 0) { comparer = defaultComparer; }\n    return _distinct(data, normalizeComparer(comparer));\n};\n/**\n * @hidden\n */\nexport var count = function (data, predicate) {\n    var counter = 0;\n    for (var idx = 0, length_1 = data.length; idx < length_1; idx++) {\n        if (predicate(data[idx])) {\n            counter++;\n        }\n    }\n    return counter;\n};\n/**\n * @hidden\n */\nexport var limit = function (data, predicate) {\n    if (predicate) {\n        return data.filter(predicate);\n    }\n    return data;\n};\n/**\n * Applies the specified operation descriptors to the data.\n *\n * @param {T[]} data - The data to be processed.\n * @param {State} state - The operation descriptors that will be applied to the data.\n * @returns {DataResult} - The processed data.\n *\n * @example\n * ```ts\n *\n * const result = process(data, {\n *     skip: 10,\n *     take: 20,\n *     group: [{\n *       field: 'category.categoryName',\n *             aggregates: [\n *                   { aggregate: \"sum\", field: \"unitPrice\" },\n *                   { aggregate: \"sum\", field: \"unitsInStock\" }\n *             ]\n *       }],\n *     sort: [{ field: 'productName', dir: 'desc' }],\n *     filter: {\n *         logic: \"or\",\n *         filters: [\n *           { field: \"discontinued\", operator: \"eq\", value: true },\n *           { field: \"unitPrice\", operator: \"lt\", value: 22 }\n *         ]\n *     }\n * });\n *\n * ```\n */\nexport var process = function (data, state) {\n    var skipCount = state.skip, takeCount = state.take, filterDescriptor = state.filter, sort = state.sort, group = state.group;\n    var sortDescriptors = normalizeGroups(group || []).concat(sort || []);\n    if (sortDescriptors.length) {\n        data = orderBy(data, sortDescriptors);\n    }\n    var hasFilters = isPresent(filterDescriptor) && filter.length;\n    var hasGroups = isPresent(group) && group.length;\n    if (!hasFilters && !hasGroups) {\n        return {\n            data: takeCount ? data.slice(skipCount, skipCount + takeCount) : data,\n            total: data.length\n        };\n    }\n    var total;\n    var transformers = [];\n    var predicate;\n    if (hasFilters) {\n        predicate = compileFilter(normalizeFilters(filterDescriptor));\n        total = count(data, predicate);\n        transformers.push(filter(predicate));\n    }\n    else {\n        total = data.length;\n    }\n    if (isPresent(skipCount) && isPresent(takeCount)) {\n        transformers.push(skip(skipCount));\n        transformers.push(take(takeCount));\n    }\n    if (transformers.length) {\n        var transform = compose.apply(void 0, transformers);\n        var result = hasGroups ?\n            groupBy(data, group, transform, limit(data, predicate)) :\n            exec(transform(concat), [], data);\n        return { data: result, total: total };\n    }\n    return {\n        data: hasGroups ? groupBy(data, group) : data,\n        total: total\n    };\n};\n","/**\n * @hidden\n */\nvar getDocument = function () { return typeof document !== 'undefined' ? document : {}; };\n/**\n * @hidden\n */\nvar BrowserSupportService = /** @class */ (function () {\n    function BrowserSupportService() {\n    }\n    Object.defineProperty(BrowserSupportService.prototype, \"scrollbarWidth\", {\n        get: function () {\n            var document = getDocument();\n            if (!this.scrollbar && document && document.createElement) {\n                var div = document.createElement('div');\n                div.style.cssText = 'overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block';\n                div.innerHTML = '&nbsp;';\n                document.body.appendChild(div);\n                this.scrollbar = div.offsetWidth - div.scrollWidth;\n                document.body.removeChild(div);\n            }\n            return this.scrollbar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BrowserSupportService;\n}());\nexport { BrowserSupportService };\n","/**\n * @hidden\n */\nexport var canUseDOM = Boolean(\n// from fbjs\ntypeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement);\n","/**\n * @hidden\n */\nexport var classNames = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args\n        .filter(function (arg) { return arg !== true && !!arg; })\n        .map(function (arg) {\n        return Array.isArray(arg)\n            ? classNames.apply(void 0, arg) : typeof arg === 'object'\n            ? Object\n                .keys(arg)\n                .map(function (key, idx) { return arg[idx] || (arg[key] && key) || null; })\n                .filter(function (el) { return el !== null; })\n                .join(' ')\n            : arg;\n    })\n        .filter(function (arg) { return !!arg; })\n        .join(' ');\n};\n","/**\n * @hidden\n */\nexport var cloneDate = function (date) { return date ? new Date(date.getTime()) : null; };\n/**\n * @hidden\n */\nexport function clone(obj) {\n    var result = {};\n    cloneObject(obj, result);\n    return result;\n}\n/**\n * @hidden\n */\nexport function cloneObject(obj, result) {\n    for (var field in obj) {\n        if (obj.hasOwnProperty(field)) {\n            var value = obj[field];\n            result[field] = cloneValue(value, result[field]);\n        }\n    }\n}\n/**\n * @hidden\n */\nexport function cloneValue(value, nextValue) {\n    if (Array.isArray(value)) {\n        return cloneArray(value);\n    }\n    else if (value instanceof Date) {\n        return cloneDate(value);\n    }\n    else if (value && typeof value === 'object') {\n        var newNextValue = nextValue || {};\n        cloneObject(value, newNextValue);\n        return newNextValue;\n    }\n    else {\n        return value;\n    }\n}\n/**\n * @hidden\n */\nexport function cloneArray(array) {\n    return array.map(function (value) { return cloneValue(value, undefined); });\n}\n","var proxy = function (a, b) { return function (e) { return b(a(e)); }; };\n\nvar bind = function (el, event, callback) { return el.addEventListener && el.addEventListener(event, callback); };\n\nvar unbind = function (el, event, callback) { return el && el.removeEventListener && el.removeEventListener(event, callback); };\n\nvar noop = function () { /* empty */ };\n\nvar preventDefault = function (e) { return e.preventDefault(); };\n\nvar touchRegExp = /touch/;\n\n// 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\nvar IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n    if (e.type.match(touchRegExp)) {\n        return {\n            pageX: e.changedTouches[0].pageX,\n            pageY: e.changedTouches[0].pageY,\n            clientX: e.changedTouches[0].clientX,\n            clientY: e.changedTouches[0].clientY,\n            type: e.type,\n            originalEvent: e,\n            isTouch: true\n        };\n    }\n\n    return {\n        pageX: e.pageX,\n        pageY: e.pageY,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        offsetX: e.offsetX,\n        offsetY: e.offsetY,\n        type: e.type,\n        ctrlKey: e.ctrlKey,\n        shiftKey: e.shiftKey,\n        altKey: e.altKey,\n        originalEvent: e\n    };\n}\n\nexport var Draggable = function Draggable(ref) {\n    var this$1 = this;\n    var press = ref.press; if ( press === void 0 ) press = noop;\n    var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n    var release = ref.release; if ( release === void 0 ) release = noop;\n    var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._ignoreMouse = false;\n    this._mouseOnly = mouseOnly;\n\n    this._touchstart = function (e) {\n        if (e.touches.length === 1) {\n            this$1._pressHandler(e);\n        }\n    };\n\n    this._touchmove = function (e) {\n        if (e.touches.length === 1) {\n            this$1._dragHandler(e);\n        }\n    };\n\n    this._touchend = function (e) {\n        // the last finger has been lifted, and the user is not doing gesture.\n        // there might be a better way to handle this.\n        if (e.touches.length === 0 && e.changedTouches.length === 1) {\n            this$1._releaseHandler(e);\n            this$1._ignoreMouse = true;\n            setTimeout(this$1._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n        }\n    };\n\n    this._restoreMouse = function () {\n        this$1._ignoreMouse = false;\n    };\n\n    this._mousedown = function (e) {\n        var which = e.which;\n\n        if ((which && which > 1) || this$1._ignoreMouse) {\n            return;\n        }\n\n        bind(this$1.document, \"mousemove\", this$1._mousemove);\n        bind(this$1.document, \"mouseup\", this$1._mouseup);\n        this$1._pressHandler(e);\n    };\n\n    this._mousemove = function (e) {\n        this$1._dragHandler(e);\n    };\n\n    this._mouseup = function (e) {\n        unbind(this$1.document, \"mousemove\", this$1._mousemove);\n        unbind(this$1.document, \"mouseup\", this$1._mouseup);\n        this$1._releaseHandler(e);\n    };\n\n    this._pointerdown = function (e) {\n        if (e.isPrimary && e.button === 0) {\n            bind(this$1.document, \"pointermove\", this$1._pointermove);\n            bind(this$1.document, \"pointerup\", this$1._pointerup);\n            bind(this$1.document, \"pointercancel\", this$1._pointerup);\n            bind(this$1.document, \"contextmenu\", preventDefault);\n\n            this$1._pressHandler(e);\n        }\n    };\n\n    this._pointermove = function (e) {\n        if (e.isPrimary) {\n            this$1._dragHandler(e);\n        }\n    };\n\n    this._pointerup = function (e) {\n        if (e.isPrimary) {\n            unbind(this$1.document, \"pointermove\", this$1._pointermove);\n            unbind(this$1.document, \"pointerup\", this$1._pointerup);\n            unbind(this$1.document, \"pointercancel\", this$1._pointerup);\n            unbind(this$1.document, \"contextmenu\", preventDefault);\n\n            this$1._releaseHandler(e);\n        }\n    };\n};\n\nvar prototypeAccessors = { document: { configurable: true } };\n\nDraggable.supportPointerEvent = function supportPointerEvent () {\n    return (typeof window !== 'undefined') && window.PointerEvent;\n};\n\nprototypeAccessors.document.get = function () {\n    return this._element\n    ? this._element.ownerDocument\n    : document;\n};\n\nDraggable.prototype.bindTo = function bindTo (element) {\n    if (element === this._element) {\n        return;\n    }\n\n    if (this._element) {\n        this._unbindFromCurrent();\n    }\n\n    this._element = element;\n    this._bindToCurrent();\n};\n\nDraggable.prototype._bindToCurrent = function _bindToCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        bind(element, \"pointerdown\", this._pointerdown);\n        return;\n    }\n\n    bind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        bind(element, \"touchstart\", this._touchstart);\n        bind(element, \"touchmove\", this._touchmove);\n        bind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._unbindFromCurrent = function _unbindFromCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        unbind(element, \"pointerdown\", this._pointerdown);\n        unbind(this.document, \"pointermove\", this._pointermove);\n        unbind(this.document, \"pointerup\", this._pointerup);\n        unbind(this.document, \"contextmenu\", preventDefault);\n        unbind(this.document, \"pointercancel\", this._pointerup);\n        return;\n    }\n\n    unbind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        unbind(element, \"touchstart\", this._touchstart);\n        unbind(element, \"touchmove\", this._touchmove);\n        unbind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._usePointers = function _usePointers () {\n    return !this._mouseOnly && Draggable.supportPointerEvent();\n};\n\nDraggable.prototype.update = function update (ref) {\n        var press = ref.press; if ( press === void 0 ) press = noop;\n        var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n        var release = ref.release; if ( release === void 0 ) release = noop;\n        var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._mouseOnly = mouseOnly;\n};\n\nDraggable.prototype.destroy = function destroy () {\n    this._unbindFromCurrent();\n    this._element = null;\n};\n\nObject.defineProperties( Draggable.prototype, prototypeAccessors );\n\n// Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\nDraggable.default = Draggable;\n\n// Rollup won't output exports['default'] otherwise\nexport default Draggable;\n\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport KendoDraggable from '@telerik/kendo-draggable';\n/**\n * Represents the KendoReact Draggable component.\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.element = null;\n        _this.draggable = new KendoDraggable({\n            press: function (event) {\n                if (_this.element && _this.props.onPress) {\n                    _this.props.onPress.call(undefined, {\n                        target: _this,\n                        event: event,\n                        element: _this.element\n                    });\n                }\n            },\n            drag: function (event) {\n                if (_this.element && _this.props.onDrag) {\n                    _this.props.onDrag.call(undefined, {\n                        target: _this,\n                        event: event,\n                        element: _this.element\n                    });\n                }\n            },\n            release: function (event) {\n                if (_this.element && _this.props.onRelease) {\n                    _this.props.onRelease.call(undefined, {\n                        target: _this,\n                        event: event\n                    });\n                }\n            }\n        });\n        _this.childRef = function (element) {\n            var childRef = _this.props.childRef;\n            _this.element = element;\n            if (childRef && typeof childRef === 'function') {\n                childRef(element);\n            }\n        };\n        return _this;\n    }\n    Draggable.prototype.componentDidMount = function () {\n        if (this.element) {\n            this.draggable.bindTo(this.element);\n        }\n    };\n    Draggable.prototype.componentWillUnmount = function () {\n        this.draggable.destroy();\n    };\n    Draggable.prototype.render = function () {\n        return (React.cloneElement(React.Children.only(this.props.children), { ref: this.childRef }));\n    };\n    Draggable.propTypes = {\n        children: PropTypes.element.isRequired\n    };\n    return Draggable;\n}(React.Component));\nexport { Draggable };\n","/**\n * @hidden\n */\nexport var focusFirstFocusableChild = function (target) {\n    if (target) {\n        if ((target instanceof HTMLInputElement || target.tabIndex !== -1) && target.focus) {\n            target.focus();\n            return;\n        }\n        var element = target.querySelector('input, [tabindex]:not([tabindex=\"-1\"])');\n        if (element && element.focus) {\n            element.focus();\n        }\n    }\n};\n","/* eslint-disable radix */\n/**\n * @hidden\n */\nvar DISABLED_TABINDEX = -1;\n/**\n * @hidden\n */\nvar DEFAULT_TABINDEX = 0;\n/**\n * @hidden\n */\nexport var getTabIndex = function (tabIndex, disabled, useDefaultTabIndexWhenDisabled) {\n    var parsedTabIndex = typeof tabIndex === 'string' ? parseInt(tabIndex, undefined) : tabIndex;\n    if (parsedTabIndex === NaN) {\n        return undefined;\n    }\n    return parsedTabIndex !== undefined\n        ? parsedTabIndex\n        : disabled ?\n            (useDefaultTabIndexWhenDisabled ? undefined : DISABLED_TABINDEX)\n            : DEFAULT_TABINDEX;\n};\n","/**\n * @hidden\n */\nexport var FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\n","import { FIELD_REGEX } from './constants';\n/**\n * @hidden\n */\nexport function fieldList(field) {\n    var fields = [];\n    field.replace(FIELD_REGEX, function (_match, index, indexAccessor, fieldName) {\n        fields.push(index !== undefined ? index : (indexAccessor || fieldName));\n    });\n    return fields;\n}\n","import { fieldList } from './fieldList';\nvar getterCache = {};\ngetterCache.undefined = function () { return undefined; };\n/**\n * Can be used for getting value from object using field path. For example `users[index].name`.\n *\n * @example\n * ```jsx-no-run\n * const values = {users:[{lastName: 'Doe'}]};\n * const firstUserLastName = getter('user[0].lastName');\n *\n * console.log(firstUserLastName(values))\n *\n * // result: 'Doe'\n * ```\n */\nexport function getter(field) {\n    if (getterCache[field]) {\n        return getterCache[field];\n    }\n    var fields = fieldList(field);\n    getterCache[field] = function (obj) {\n        var result = obj;\n        for (var idx = 0; idx < fields.length && result; idx++) {\n            result = result[fields[idx]];\n        }\n        return result;\n    };\n    return getterCache[field];\n}\n","/* eslint-disable no-bitwise */\n/**\n * @hidden\n */\nexport var guid = function () {\n    var id = '';\n    var i;\n    var random;\n    for (i = 0; i < 32; i++) {\n        random = Math.random() * 16 | 0;\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            id += '-';\n        }\n        id += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16);\n    }\n    return id;\n};\n","/**\n * @hidden\n */\nexport var Keys = {\n    backspace: 8,\n    tab: 9,\n    enter: 13,\n    shift: 16,\n    esc: 27,\n    space: 32,\n    pageUp: 33,\n    pageDown: 34,\n    end: 35,\n    home: 36,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    delete: 46\n};\n","/**\n * @hidden\n */\nexport var noop = function () { };\n","import { BrowserSupportService } from './browser-support.service';\nimport { canUseDOM } from './canUseDOM';\n/**\n * @hidden\n */\nexport var getScrollbarWidth = function () {\n    if (!canUseDOM || !document.body) {\n        return false;\n    }\n    var scrollbarWidth = new BrowserSupportService().scrollbarWidth;\n    return scrollbarWidth;\n};\n/**\n * @hidden\n */\nexport var setScrollbarWidth = function () {\n    if (!canUseDOM || !document.body) {\n        return false;\n    }\n    var scrollbarWidth = new BrowserSupportService().scrollbarWidth;\n    document.body.style.setProperty('--kendo-scrollbar-width', scrollbarWidth + \"px\");\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// Gets and sets the children. Returns the children or the re-created item with the new children.\nfunction children(item, subItemsField, subItems) {\n    var _a;\n    if (subItems) {\n        return __assign({}, item, (_a = {}, _a[subItemsField] = subItems.length ? subItems.slice() : undefined, _a));\n    }\n    else {\n        return item && item[subItemsField] ? item[subItemsField].slice() : [];\n    }\n}\nfunction mapItem(dataItem, subItemsField, callbackfn) {\n    if (dataItem[subItemsField]) {\n        var subItems = children(dataItem, subItemsField).map(function (child) { return mapItem(child, subItemsField, callbackfn); });\n        return callbackfn(children(dataItem, subItemsField, subItems));\n    }\n    return callbackfn(dataItem);\n}\n/**\n * Creates a new array with the results of calling the provided callback function\n * on every element in the provided data tree.\n *\n * @param {any[]} tree - The data tree.\n * @param {string} subItemsField - The field which points to the subitems collection of each data item.\n * @param {(value: any) => any} callback - The callback function.\n * @returns {any[]} - The new data tree.\n */\nexport var mapTree = function (tree, subItemsField, callback) {\n    return tree.map(function (item) { return mapItem(item, subItemsField, callback); }).slice();\n};\n/**\n * Creates a new array with the results of calling the provided callback function\n * on the element which match the `level` in the provided data tree.\n *\n * @param {any[]} tree - The data tree.\n * @param {number[]} level - An array of indexes of each parent and current item in the data tree.\n * @param {string} subItemsField - The field which points to the subitems collection of each data item.\n * @param {(value: any) => any} callback - The callback function.\n * @returns {any[]} - The new data tree.\n */\nexport var mapTreeItem = function (tree, level, subItemsField, callback) {\n    var curData = tree;\n    var parentNodes = [];\n    for (var i = 0; i < level.length; i++) {\n        curData = curData[level[i]];\n        curData = Array.isArray(curData) ? curData : curData[subItemsField];\n        parentNodes.push(curData);\n    }\n    var parent = parentNodes.length > 1 ? parentNodes[parentNodes.length - 2] : tree;\n    var newItemIndex = level[level.length - 1];\n    var newItem = callback(parent[newItemIndex]);\n    parent.splice(newItemIndex, 1, newItem);\n};\n/**\n * Similar to the `Object.assign` function. Additionally, creates a new array for the subitems.\n *\n * @param {object} item - The source data item.\n * @param {string} subItemsField - The field which points to the subitems collection of each data item.\n * @param {object} propsToExtend - The props with which the source data item will be extended.\n * @returns {object} - The target data item.\n */\nexport var extendDataItem = function (item, subItemsField, propsToExtend) {\n    var _a;\n    return Object.assign({}, item, item[subItemsField] ? (_a = {}, _a[subItemsField] = item[subItemsField].slice(), _a) : {}, propsToExtend || {});\n};\n/**\n * Returns the data item path in the tree based on the level parameter.\n *\n * @param {any[]} tree - The data tree.\n * @param {number[]} level - The level of the target tree item.\n * @param {string} subItemsField - The field which points to the subitems collection of each data item.\n * @returns {any[]} - The path of the data item.\n */\nexport var getItemPath = function (tree, level, subItemsField) {\n    var nodes = [];\n    var itemLevel = level.slice();\n    if (itemLevel.length) {\n        var element = tree[itemLevel.shift() || 0];\n        nodes.push(element);\n        while (itemLevel.length && subItemsField) {\n            element = element[subItemsField][itemLevel.shift() || 0];\n            nodes.push(element);\n        }\n    }\n    return nodes;\n};\n","import * as licensing from '@progress/kendo-licensing';\n/**\n * @hidden\n */\nexport function validatePackage(packageMetadata) {\n    if (typeof licensing !== 'undefined') {\n        licensing.validatePackage(packageMetadata);\n    }\n    else {\n        var message = \"License activation failed for \" + packageMetadata.name + \"\\n\";\n        message += 'The @progress/kendo-licensing script is not loaded.\\n';\n        message += \"See \" + packageMetadata.licensingDocsUrl + \" for more information.\\n\";\n        console.warn(message);\n    }\n}\n","import { canUseDOM } from './canUseDOM';\n/** @hidden */\nexport var hasRelativeStackingContext = function (elementSource) {\n    if (!canUseDOM) {\n        return false;\n    }\n    // Component need to pass element to make sure document owner is correct.\n    // This however might be performance hit if checked for example on each drag event.\n    var currentDocument = elementSource ? elementSource.ownerDocument : document;\n    if (!currentDocument || !currentDocument.body) {\n        return false;\n    }\n    var top = 10;\n    var parent = currentDocument.createElement('div');\n    parent.style.transform = 'matrix(10, 0, 0, 10, 0, 0)';\n    parent.innerHTML = \"<div style=\\\"position: fixed; top: \" + top + \"px;\\\">child</div>\";\n    currentDocument.body.appendChild(parent);\n    var isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n    currentDocument.body.removeChild(parent);\n    return isDifferent;\n};\n","/**\n * @hidden\n * Dispatches a new event based on an event that was already internally dispatched to KendoReact users.\n *\n * @param eventHandler - The public event handler that is assigned by the user.\n * When undefined, the method is not an option.\n * @param dispatchedEvent - The event that was already dispatched internally.\n * @param target - The target component of the new event.\n * @param eventData - The additional data that will be passed through the new event.\n * When the new event has no additional data\n *  other than the `BaseEvent` arguments, pass `undefined`.\n */\nexport function dispatchEvent(eventHandler, dispatchedEvent, target, eventData) {\n    if (eventHandler) {\n        var eventBaseData = {\n            syntheticEvent: dispatchedEvent,\n            nativeEvent: dispatchedEvent.nativeEvent,\n            target: target\n        };\n        eventHandler.call(undefined, Object.assign(eventBaseData, eventData));\n    }\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useAsyncFocusBlur } from '../hooks/useAsyncFocusBlur';\n/**\n * An utility High-order Component for asynchronous focus/blur handling.\n *\n * By default, the `onFocus` and `onBlur` callbacks are called every time a child components receives/loses focus.\n * Use this utility HOC for scenarios where you need to know if the parent has received focus for the first time, or completely lost focus.\n *\n * @returns\n */\nexport var AsyncFocusBlur = function (_a) {\n    var children = _a.children, onFocus = _a.onFocus, onBlur = _a.onBlur, onSyncFocus = _a.onSyncFocus, onSyncBlur = _a.onSyncBlur;\n    var args = useAsyncFocusBlur({ onFocus: onFocus, onBlur: onBlur, onSyncFocus: onSyncFocus, onSyncBlur: onSyncBlur });\n    return children.call(undefined, __assign({}, args));\n};\n","import * as React from 'react';\n/**\n * An utility function for asynchronous focus/blur handling.\n *\n * By default, the `onFocus` and `onBlur` callbacks are called every time a child components receives/loses focus.\n * Use this utility hook for scenarios where you need to know if the parent has received focus for the first time, or completely lost focus.\n *\n * @returns\n */\nexport function useAsyncFocusBlur(_a) {\n    var onFocus = _a.onFocus, onBlur = _a.onBlur, onSyncFocus = _a.onSyncFocus, onSyncBlur = _a.onSyncBlur;\n    var focused = React.useRef(false);\n    var tick = React.useRef(0);\n    var nextTick = React.useCallback(function (f) {\n        clearTimeout(tick.current);\n        tick.current = window.setTimeout(function () { return f(); });\n    }, [tick]);\n    var handleFocus = React.useCallback(function () {\n        var event = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            event[_i] = arguments[_i];\n        }\n        clearTimeout(tick.current);\n        if (onSyncFocus) {\n            onSyncFocus.call.apply(onSyncFocus, [undefined].concat(event));\n        }\n        if (focused.current) {\n            return;\n        }\n        ;\n        focused.current = true;\n        if (onFocus) {\n            onFocus.call.apply(onFocus, [undefined].concat(event));\n        }\n    }, [focused, onFocus, onSyncFocus]);\n    var handleBlur = React.useCallback(function () {\n        var event = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            event[_i] = arguments[_i];\n        }\n        if (onSyncBlur) {\n            onSyncBlur.call.apply(onSyncBlur, [undefined].concat(event));\n        }\n        nextTick(function () {\n            if (!focused.current) {\n                return;\n            }\n            if (onBlur) {\n                focused.current = false;\n                onBlur.call.apply(onBlur, [undefined].concat(event));\n            }\n        });\n    }, [focused, nextTick, onBlur, onSyncBlur]);\n    React.useEffect(function () {\n        return function () {\n            clearTimeout(tick.current);\n        };\n    }, []);\n    return {\n        onFocus: handleFocus,\n        onBlur: handleBlur\n    };\n}\n","import * as React from 'react';\n/**\n * @hidden\n */\nexport function useDir(elementRef, initialDir, args) {\n    // Dir prop is read only on initial rendering due to specifics of getComputedStyles - see below\n    var _a = React.useState(initialDir), dir = _a[0], setDir = _a[1];\n    React.useEffect(function () {\n        if (!dir && window && elementRef.current) {\n            // Note: getComputedStyle forces reflow\n            var rtlCandidate = window.getComputedStyle(elementRef.current).direction;\n            if (rtlCandidate) {\n                // rerender is needed as DOM is read after first render\n                setDir(rtlCandidate);\n            }\n        }\n    }, args);\n    return dir;\n}\n","import * as React from 'react';\n// Same as 'useDir'. Export to avoid breaking change.\n// 'useRtl' is incorrect naming, since applies that the returned value is `true` or `false`.\n// but instead, it is returning `ltr` or `rtl`.\n/**\n * @hidden\n */\nexport function useRtl(elementRef, initialDir, args) {\n    // Dir prop is read only on initial rendering due to specifics of getComputedStyles - see below\n    var _a = React.useState(initialDir), dir = _a[0], setDir = _a[1];\n    React.useEffect(function () {\n        if (!dir && window && elementRef.current) {\n            // Note: getComputedStyle forces reflow\n            var rtlCandidate = window.getComputedStyle(elementRef.current).direction;\n            if (rtlCandidate) {\n                // rerender is needed as DOM is read after first render\n                setDir(rtlCandidate);\n            }\n        }\n    }, args);\n    return dir;\n}\n","import * as React from 'react';\n/**\n * @hidden\n */\nexport var useMouse = function (props, target, extend) {\n    if (extend === void 0) { extend = {}; }\n    var handleMouseDown = React.useCallback(function (event) {\n        if (extend.onMouseDown) {\n            extend.onMouseDown.call(undefined, event);\n        }\n        if (props.onMouseDown) {\n            props.onMouseDown.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseDown, props.onMouseDown, target]);\n    var handleMouseUp = React.useCallback(function (event) {\n        if (extend.onMouseUp) {\n            extend.onMouseUp.call(undefined, event);\n        }\n        if (props.onMouseUp) {\n            props.onMouseUp.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseUp, props.onMouseUp, target]);\n    var handleClick = React.useCallback(function (event) {\n        if (extend.onClick) {\n            extend.onClick.call(undefined, event);\n        }\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onClick, props.onClick, target]);\n    var handleDoubleClick = React.useCallback(function (event) {\n        if (extend.onDoubleClick) {\n            extend.onDoubleClick.call(undefined, event);\n        }\n        if (props.onDoubleClick) {\n            props.onDoubleClick.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onDoubleClick, props.onDoubleClick, target]);\n    var handleMouseEnter = React.useCallback(function (event) {\n        if (extend.onMouseEnter) {\n            extend.onMouseEnter.call(undefined, event);\n        }\n        if (props.onMouseEnter) {\n            props.onMouseEnter.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseEnter, props.onMouseEnter, target]);\n    var handleMouseLeave = React.useCallback(function (event) {\n        if (extend.onMouseLeave) {\n            extend.onMouseLeave.call(undefined, event);\n        }\n        if (props.onMouseLeave) {\n            props.onMouseLeave.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseLeave, props.onMouseLeave, target]);\n    var handelMouseMove = React.useCallback(function (event) {\n        if (extend.onMouseMove) {\n            extend.onMouseMove.call(undefined, event);\n        }\n        if (props.onMouseMove) {\n            props.onMouseMove.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseMove, props.onMouseMove, target]);\n    var handleMouseOut = React.useCallback(function (event) {\n        if (extend.onMouseOut) {\n            extend.onMouseOut.call(undefined, event);\n        }\n        if (props.onMouseOut) {\n            props.onMouseOut.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseOut, props.onMouseOut, target]);\n    var handleMouseOver = React.useCallback(function (event) {\n        if (extend.onMouseOver) {\n            extend.onMouseOver.call(undefined, event);\n        }\n        if (props.onMouseOver) {\n            props.onMouseOver.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [extend.onMouseOver, props.onMouseOver, target]);\n    return {\n        onClick: handleClick,\n        onMouseUp: handleMouseUp,\n        onMouseDown: handleMouseDown,\n        onDoubleClick: handleDoubleClick,\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave,\n        onMouseMove: handelMouseMove,\n        onMouseOut: handleMouseOut,\n        onMouseOver: handleMouseOver\n    };\n};\n","/**\n * @hidden\n */\nexport var SIZE_CLASSES = {\n    'default': '',\n    'xsmall': 'k-icon-xs',\n    'small': 'k-icon-sm',\n    'medium': 'k-icon-md',\n    'large': 'k-icon-lg',\n    'xlarge': 'k-icon-xl'\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '../classNames';\nimport { SIZE_CLASSES } from './constants';\nimport { useMouse } from '../main';\n/**\n * Represents the [KendoReact Icon component]({% slug overview_icon %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Icon name=\"home\"/>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var Icon = React.forwardRef(function (props, ref) {\n    var className = props.className, name = props.name, themeColor = props.themeColor, size = props.size, flip = props.flip, style = props.style, others = __rest(props, [\"className\", \"name\", \"themeColor\", \"size\", \"flip\", \"style\"]);\n    var target = React.useRef(null);\n    var elementRef = React.useRef(null);\n    React.useImperativeHandle(target, function () { return ({\n        element: elementRef.current\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var themeColorProp = React.useMemo(function () { return themeColor || defaultProps.themeColor; }, [themeColor]);\n    var sizeProp = React.useMemo(function () { return size || defaultProps.size; }, [size]);\n    var flipProp = React.useMemo(function () { return flip || defaultProps.flip; }, [flip]);\n    var fontClassNames = React.useMemo(function () { return classNames('k-icon', 'k-i-' + name, 'k-color-' + themeColorProp, {\n        'k-flip-h': flipProp === 'horizontal' || flipProp === 'both',\n        'k-flip-v': flipProp === 'vertical' || flipProp === 'both'\n    }, SIZE_CLASSES[sizeProp], className); }, [name, themeColorProp, sizeProp, flipProp, className]);\n    var mouseProps = useMouse(props, target);\n    return (React.createElement(\"span\", __assign({ ref: elementRef }, others, mouseProps, { className: fontClassNames, style: style, role: \"presentation\" })));\n});\nIcon.propTypes = {\n    style: PropTypes.object,\n    classNames: PropTypes.string,\n    name: PropTypes.string,\n    themeColor: PropTypes.oneOf([\n        'inherit', 'primary', 'secondary', 'tertiary',\n        'info', 'success', 'error', 'warning',\n        'dark', 'light', 'inverse'\n    ]),\n    size: PropTypes.oneOf(['default', 'xsmall', 'small', 'medium', 'large', 'xlarge']),\n    flip: PropTypes.oneOf(['default', 'horizontal', 'vertical', 'both'])\n};\nvar defaultProps = {\n    size: 'default',\n    themeColor: 'inherit',\n    flip: 'default'\n};\nIcon.displayName = 'KendoIcon';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '../classNames';\nimport { SIZE_CLASSES } from './constants';\n/**\n * Represents the [KendoReact SvgIcon component]({% slug overview_svgicon %}).\n *\n * @example\n * ```jsx\n * import { accessibility } from '@progress/kendo-svg-icons';\n *\n * const App = () => {\n *   return (\n *       <SvgIcon icon={accessibility} />\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var SvgIcon = React.forwardRef(function (props, ref) {\n    var children = props.children, className = props.className, svgClassName = props.svgClassName, icon = props.icon, flip = props.flip, size = props.size, style = props.style, svgStyle = props.svgStyle, themeColor = props.themeColor, viewBox = props.viewBox, others = __rest(props, [\"children\", \"className\", \"svgClassName\", \"icon\", \"flip\", \"size\", \"style\", \"svgStyle\", \"themeColor\", \"viewBox\"]);\n    var elementRef = React.useRef(null);\n    React.useImperativeHandle(ref, function () { return ({\n        element: elementRef.current\n    }); });\n    var iconNameProp = React.useMemo(function () { return icon ? icon.name : defaultProps.icon; }, [icon]);\n    var themeColorProp = React.useMemo(function () { return themeColor || defaultProps.themeColor; }, [themeColor]);\n    var sizeProp = React.useMemo(function () { return size || defaultProps.size; }, [size]);\n    var flipProp = React.useMemo(function () { return flip || defaultProps.flip; }, [flip]);\n    var viewBoxProp = React.useMemo(function () { return viewBox || defaultProps.viewBox; }, [viewBox]);\n    var elementClassNames = React.useMemo(function () { return classNames('k-svg-icon', 'k-color-' + themeColorProp, 'k-svg-i-' + iconNameProp, {\n        'k-flip-h': flipProp === 'horizontal' || flipProp === 'both',\n        'k-flip-v': flipProp === 'vertical' || flipProp === 'both'\n    }, SIZE_CLASSES[sizeProp], className); }, [iconNameProp, themeColorProp, sizeProp, flipProp, className]);\n    var elementStyle = React.useMemo(function () {\n        if (props.width && props.height) {\n            return __assign({ width: props.width, height: props.height }, style);\n        }\n        else if (props.width) {\n            return __assign({ width: props.width, height: props.width }, style);\n        }\n        else if (props.height) {\n            return __assign({ width: props.height, height: props.height }, style);\n        }\n        else {\n            return __assign({}, style);\n        }\n    }, [props.width, props.height, style]);\n    return (React.createElement(\"span\", { className: elementClassNames, style: elementStyle, ref: elementRef },\n        React.createElement(\"svg\", __assign({ className: svgClassName, style: svgStyle, \"aria-hidden\": true, focusable: \"false\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: icon ? icon.viewBox : viewBoxProp, dangerouslySetInnerHTML: icon ? { __html: icon.content } : undefined }, others), icon ? undefined : children)));\n});\nSvgIcon.propTypes = {\n    style: PropTypes.object,\n    classNames: PropTypes.string,\n    children: PropTypes.any,\n    icon: PropTypes.object,\n    themeColor: PropTypes.oneOf([\n        'inherit', 'primary', 'secondary', 'tertiary',\n        'info', 'success', 'error', 'warning',\n        'dark', 'light', 'inverse'\n    ]),\n    size: PropTypes.oneOf(['default', 'xsmall', 'small', 'medium', 'large', 'xlarge']),\n    flip: PropTypes.oneOf(['default', 'horizontal', 'vertical', 'both'])\n};\nvar defaultProps = {\n    size: 'default',\n    themeColor: 'inherit',\n    flip: 'default',\n    icon: '',\n    viewBox: '0 0 24 24'\n};\nSvgIcon.displayName = 'KendoSvgIcon';\n","/**\n * @hidden\n */\nexport var FONT_SIZE_CLASSES = {\n    'xsmall': 'k-fs-xs',\n    'small': 'k-fs-sm',\n    'medium': 'k-fs-md',\n    'large': 'k-fs-lg',\n    'xlarge': 'k-fs-xl'\n};\n/**\n * @hidden\n */\nexport var FONT_WEIGHT_CLASSES = {\n    'light': 'k-font-weight-light',\n    'normal': 'k-font-weight-normal',\n    'bold': 'k-font-weight-bold'\n};\n/**\n * @hidden\n */\nexport var MARGIN_ENUM_CLASSES = {\n    'xsmall': 'k-m-xs',\n    'small': 'k-m-sm',\n    'medium': 'k-m-md',\n    'large': 'k-m-lg',\n    'xlarge': 'k-m-xl',\n    'thin': 'k-m-thin',\n    'hair': 'k-m-hair'\n};\n/**\n * @hidden\n */\nexport var MARGIN_ENUM_VALUES = {\n    'xsmall': 'xs',\n    'small': 'sm',\n    'medium': 'md',\n    'large': 'lg',\n    'xlarge': 'xl',\n    'thin': 'thin',\n    'hair': 'hair'\n};\n/**\n * @hidden\n */\nexport var MARGIN_SIDES_CLASSES = {\n    'top': 'k-mt-',\n    'right': 'k-mr-',\n    'bottom': 'k-mb-',\n    'left': 'k-ml-'\n};\n/**\n * @hidden\n */\nexport var TEXT_ALIGN_CLASSES = {\n    'left': 'k-text-left',\n    'right': 'k-text-right',\n    'center': 'k-text-center',\n    'justify': 'k-text-justify'\n};\n/**\n * @hidden\n */\nexport var TEXT_TRANSFORM_CLASSES = {\n    'lowercase': 'k-text-lowercase',\n    'uppercase': 'k-text-uppercase',\n    'capitalize': 'k-text-capitalize'\n};\n/**\n * @hidden\n */\nexport var THEME_COLOR_CLASSES = {\n    'inherit': 'k-color-inherit',\n    'primary': 'k-color-primary',\n    'secondary': 'k-color-secondary',\n    'tertiary': 'k-color-tertiary',\n    'info': 'k-color-info',\n    'success': 'k-color-success',\n    'warning': 'k-color-warning',\n    'error': 'k-color-error',\n    'dark': 'k-color-dark',\n    'light': 'k-color-light',\n    'inverse': 'k-color-inverse'\n};\n","var _a;\n/**\n * @hidden\n */\nexport var pagerInfo = 'pager.info';\n/**\n * @hidden\n */\nexport var pagerFirstPage = 'pager.firstPage';\n/**\n * @hidden\n */\nexport var pagerPreviousPage = 'pager.previousPage';\n/**\n * @hidden\n */\nexport var pagerNextPage = 'pager.nextPage';\n/**\n * @hidden\n */\nexport var pagerLastPage = 'pager.lastPage';\n/**\n * @hidden\n */\nexport var pagerItemPerPage = 'pager.itemsPerPage';\n/**\n * @hidden\n */\nexport var pagerPage = 'pager.page';\n/**\n * @hidden\n */\nexport var pagerOf = 'pager.of';\n/**\n * @hidden\n */\nexport var pagerTotalPages = 'pager.totalPages';\n/**\n * @hidden\n */\nexport var filterEqOperator = 'filter.eqOperator';\n/**\n * @hidden\n */\nexport var filterNotEqOperator = 'filter.notEqOperator';\n/**\n * @hidden\n */\nexport var filterIsNullOperator = 'filter.isNullOperator';\n/**\n * @hidden\n */\nexport var filterIsNotNullOperator = 'filter.isNotNullOperator';\n/**\n * @hidden\n */\nexport var filterIsEmptyOperator = 'filter.isEmptyOperator';\n/**\n * @hidden\n */\nexport var filterIsNotEmptyOperator = 'filter.isNotEmptyOperator';\n/**\n * @hidden\n */\nexport var filterStartsWithOperator = 'filter.startsWithOperator';\n/**\n * @hidden\n */\nexport var filterContainsOperator = 'filter.containsOperator';\n/**\n * @hidden\n */\nexport var filterNotContainsOperator = 'filter.notContainsOperator';\n/**\n * @hidden\n */\nexport var filterEndsWithOperator = 'filter.endsWithOperator';\n/**\n * @hidden\n */\nexport var filterGteOperator = 'filter.gteOperator';\n/**\n * @hidden\n */\nexport var filterGtOperator = 'filter.gtOperator';\n/**\n * @hidden\n */\nexport var filterLteOperator = 'filter.lteOperator';\n/**\n * @hidden\n */\nexport var filterLtOperator = 'filter.ltOperator';\n/**\n * @hidden\n */\nexport var filterIsTrue = 'filter.isTrue';\n/**\n * @hidden\n */\nexport var filterIsFalse = 'filter.isFalse';\n/**\n * @hidden\n */\nexport var filterAfterOrEqualOperator = 'filter.afterOrEqualOperator';\n/**\n * @hidden\n */\nexport var filterAfterOperator = 'filter.afterOperator';\n/**\n * @hidden\n */\nexport var filterBeforeOperator = 'filter.beforeOperator';\n/**\n * @hidden\n */\nexport var filterBeforeOrEqualOperator = 'filter.beforeOrEqualOperator';\n/**\n * @hidden\n */\nexport var filterAndLogic = 'filter.andLogic';\n/**\n * @hidden\n */\nexport var filterOrLogic = 'filter.orLogic';\n/**\n * @hidden\n */\nexport var filterAddExpression = 'filter.addExpression';\n/**\n * @hidden\n */\nexport var filterAddGroup = 'filter.addGroup';\n/**\n * @hidden\n */\nexport var filterClose = 'filter.close';\n/**\n * @hidden\n */\nexport var columnMenuFilterClearButton = 'columnMenu.filterClearButton';\n/**\n * @hidden\n */\nexport var columnMenuFilterSubmitButton = 'columnMenu.filterSubmitButton';\n/**\n * @hidden\n */\nexport var columnMenuFilterTitle = 'columnMenu.filterTitle';\n/**\n * @hidden\n */\nexport var columnMenuSortAscending = 'columnMenu.sortAscending';\n/**\n * @hidden\n */\nexport var columnMenuSortDescending = 'columnMenu.sortDescending';\n/**\n * @hidden\n */\nexport var columnMenuFilterEqOperator = 'columnMenu.filterEqOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterNotEqOperator = 'columnMenu.filterNotEqOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterIsNullOperator = 'columnMenu.filterIsNullOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterIsNotNullOperator = 'columnMenu.filterIsNotNullOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterIsEmptyOperator = 'columnMenu.filterIsEmptyOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterIsNotEmptyOperator = 'columnMenu.filterIsNotEmptyOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterStartsWithOperator = 'columnMenu.filterStartsWithOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterContainsOperator = 'columnMenu.filterContainsOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterNotContainsOperator = 'columnMenu.filterNotContainsOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterEndsWithOperator = 'columnMenu.filterEndsWithOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterGteOperator = 'columnMenu.filterGteOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterGtOperator = 'columnMenu.filterGtOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterLteOperator = 'columnMenu.filterLteOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterLtOperator = 'columnMenu.filterLtOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterIsTrue = 'columnMenu.filterIsTrue';\n/**\n * @hidden\n */\nexport var columnMenuFilterAfterOrEqualOperator = 'columnMenu.filterAfterOrEqualOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterAfterOperator = 'columnMenu.filterAfterOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterBeforeOperator = 'columnMenu.filterBeforeOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterBeforeOrEqualOperator = 'columnMenu.filterBeforeOrEqualOperator';\n/**\n * @hidden\n */\nexport var columnMenuFilterAndLogic = 'columnMenu.filterAndLogic';\n/**\n * @hidden\n */\nexport var columnMenuFilterOrLogic = 'columnMenu.filterOrLogic';\n/**\n * @hidden\n */\nexport var sortAriaLabel = 'sort.ariaLabel';\n/**\n * @hidden\n */\nexport var filterAriaLabel = 'filter.ariaLabel';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[pagerItemPerPage] = 'items per page',\n    _a[pagerInfo] = '{0} - {1} of {2} items',\n    _a[pagerFirstPage] = 'Go to the first page',\n    _a[pagerPreviousPage] = 'Go to the previous page',\n    _a[pagerNextPage] = 'Go to the next page',\n    _a[pagerLastPage] = 'Go to the last page',\n    _a[pagerPage] = 'Page',\n    _a[pagerOf] = 'Of',\n    _a[pagerTotalPages] = '{0}',\n    _a[sortAriaLabel] = 'Sortable',\n    _a[filterAriaLabel] = 'Filter',\n    _a[filterEqOperator] = 'Is equal to',\n    _a[filterNotEqOperator] = 'Is not equal to',\n    _a[filterIsNullOperator] = 'Is null',\n    _a[filterIsNotNullOperator] = 'Is not null',\n    _a[filterIsEmptyOperator] = 'Is empty',\n    _a[filterIsNotEmptyOperator] = 'Is not empty',\n    _a[filterStartsWithOperator] = 'Starts with',\n    _a[filterContainsOperator] = 'Contains',\n    _a[filterNotContainsOperator] = 'Does not contain',\n    _a[filterEndsWithOperator] = 'Ends with',\n    _a[filterGteOperator] = 'Is greater than or equal to',\n    _a[filterGtOperator] = 'Is greater than',\n    _a[filterLteOperator] = 'Is less than or equal to',\n    _a[filterLtOperator] = 'Is less than',\n    _a[filterIsTrue] = 'Is true',\n    _a[filterIsFalse] = 'Is false',\n    _a[filterAfterOrEqualOperator] = 'Is after or equal to',\n    _a[filterAfterOperator] = 'Is after',\n    _a[filterBeforeOperator] = 'Is before',\n    _a[filterBeforeOrEqualOperator] = 'Is before or equal to',\n    _a[filterAndLogic] = 'And',\n    _a[filterOrLogic] = 'Or',\n    _a[filterAddExpression] = 'Add Expression',\n    _a[filterAddGroup] = 'Add Group',\n    _a[filterClose] = 'Close',\n    _a[columnMenuFilterClearButton] = 'Clear',\n    _a[columnMenuFilterSubmitButton] = 'Filter',\n    _a[columnMenuFilterTitle] = 'Filter',\n    _a[columnMenuSortAscending] = 'Sort Ascending',\n    _a[columnMenuSortDescending] = 'Sort Descending',\n    _a[columnMenuFilterEqOperator] = 'Is equal to',\n    _a[columnMenuFilterNotEqOperator] = 'Is not equal to',\n    _a[columnMenuFilterIsNullOperator] = 'Is null',\n    _a[columnMenuFilterIsNotNullOperator] = 'Is not null',\n    _a[columnMenuFilterIsEmptyOperator] = 'Is empty',\n    _a[columnMenuFilterIsNotEmptyOperator] = 'Is not empty',\n    _a[columnMenuFilterStartsWithOperator] = 'Starts with',\n    _a[columnMenuFilterContainsOperator] = 'Contains',\n    _a[columnMenuFilterNotContainsOperator] = 'Does not contain',\n    _a[columnMenuFilterEndsWithOperator] = 'Ends with',\n    _a[columnMenuFilterGteOperator] = 'Is greater than or equal to',\n    _a[columnMenuFilterGtOperator] = 'Is greater than',\n    _a[columnMenuFilterLteOperator] = 'Is less than or equal to',\n    _a[columnMenuFilterLtOperator] = 'Is less than',\n    _a[columnMenuFilterIsTrue] = 'Is true',\n    _a[columnMenuFilterAfterOrEqualOperator] = 'Is after or equal to',\n    _a[columnMenuFilterAfterOperator] = 'Is after',\n    _a[columnMenuFilterBeforeOperator] = 'Is before',\n    _a[columnMenuFilterBeforeOrEqualOperator] = 'Is before or equal to',\n    _a[columnMenuFilterAndLogic] = 'And',\n    _a[columnMenuFilterOrLogic] = 'Or',\n    _a);\n","var _a;\n/**\n * @hidden\n */\nexport var labelsOptional = 'labels.optional';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[labelsOptional] = '(Optional)',\n    _a);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { FONT_SIZE_CLASSES, FONT_WEIGHT_CLASSES, MARGIN_ENUM_CLASSES, MARGIN_ENUM_VALUES, MARGIN_SIDES_CLASSES, TEXT_ALIGN_CLASSES, TEXT_TRANSFORM_CLASSES, THEME_COLOR_CLASSES } from './constants';\n/**\n * @hidden\n */\nvar generateTypography = function (element) {\n    var component = React.forwardRef(function (props, ref) {\n        var className = props.className, fontSize = props.fontSize, fontWeight = props.fontWeight, textAlign = props.textAlign, textTransform = props.textTransform, themeColor = props.themeColor, margin = props.margin, others = __rest(props, [\"className\", \"fontSize\", \"fontWeight\", \"textAlign\", \"textTransform\", \"themeColor\", \"margin\"]);\n        var target = React.useRef(null);\n        var elementRef = React.useRef(null);\n        React.useImperativeHandle(target, function () { return ({\n            element: elementRef.current,\n            props: props\n        }); });\n        React.useImperativeHandle(ref, function () { return target.current; });\n        var defaultClass = function () {\n            var classMap = element === 'p' ? 'paragraph' : element;\n            return \"k-\" + classMap;\n        };\n        var Component = element;\n        var setMarginClassPerSide = function (marginSide, value) {\n            var val = typeof value === 'string' ? MARGIN_ENUM_VALUES[value] : value;\n            return \"\" + MARGIN_SIDES_CLASSES[marginSide] + val;\n        };\n        var setMarginClasses = function () {\n            if (margin === undefined) {\n                return;\n            }\n            if (typeof margin === 'string') {\n                return [MARGIN_ENUM_CLASSES[margin]];\n            }\n            // The the predefined Kendo classes are starting from 0 to 24.\n            if (typeof margin === 'number' && margin >= 0 && margin <= 24) {\n                return [\"k-m-\" + margin];\n            }\n            if (typeof margin === 'object') {\n                var marginClassesList_1 = [];\n                Object.keys(margin).forEach(function (key) {\n                    if (margin[key] !== null && margin[key] !== undefined) {\n                        marginClassesList_1.push(setMarginClassPerSide(key, margin[key]));\n                    }\n                });\n                var classes = marginClassesList_1.join(' ');\n                return classes;\n            }\n        };\n        var setTypographyClasses = function () {\n            var typographyArray = [\n                defaultClass(),\n                FONT_SIZE_CLASSES[fontSize],\n                FONT_WEIGHT_CLASSES[fontWeight],\n                TEXT_ALIGN_CLASSES[textAlign],\n                TEXT_TRANSFORM_CLASSES[textTransform],\n                THEME_COLOR_CLASSES[themeColor],\n                setMarginClasses(),\n                className\n            ];\n            var typographyClasses = typographyArray.filter(function (n) { return n !== undefined; }).join(' ');\n            return typographyClasses;\n        };\n        return (React.createElement(Component, __assign({ ref: elementRef, className: setTypographyClasses() }, others), props.children));\n    });\n    component.propTypes = {\n        style: PropTypes.object,\n        className: PropTypes.string,\n        fontSize: PropTypes.oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']),\n        fontWeight: PropTypes.oneOf(['light', 'normal', 'bold']),\n        margin: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.object,\n            PropTypes.oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'thin', 'hair'])\n        ]),\n        textAlign: PropTypes.oneOf(['left', 'right', 'center', 'justify']),\n        textTransform: PropTypes.oneOf(['lowercase', 'uppercase', 'capitalize']),\n        themeColor: PropTypes.oneOf([\n            'inherit', 'primary', 'secondary', 'tertiary',\n            'info', 'success', 'error', 'warning',\n            'dark', 'light', 'inverse'\n        ])\n    };\n    component.displayName = \"KendoReactTypography\" + element.toUpperCase();\n    return component;\n};\n/**\n * Represents [KendoReact Typography Heading1 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h1>Heading 1</Typography.h1>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h1 = generateTypography('h1');\n/**\n * Represents [KendoReact Typography Heading2 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h2>Heading 2</Typography.h2>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h2 = generateTypography('h2');\n/**\n * Represents [KendoReact Typography Heading3 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h3>Heading 3</Typography.h3>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h3 = generateTypography('h3');\n/**\n * Represents [KendoReact Typography Heading4 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h4>Heading 4</Typography.h4>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h4 = generateTypography('h4');\n/**\n * Represents [KendoReact Typography Heading5 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h5>Heading 5</Typography.h5>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h5 = generateTypography('h5');\n/**\n * Represents [KendoReact Typography Heading6 component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h6>Heading 6</Typography.h6>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar h6 = generateTypography('h6');\n/**\n * Represents [KendoReact Typography Paragraph component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.p>I'm a paragraph text.</Typography.p>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar p = generateTypography('p');\n/**\n * Represents [KendoReact Typography Code component]({% slug overview_typography %}).\n * Use to create a single-line code snippet.\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.code>code</Typography.code>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar code = generateTypography('code');\n/**\n * Represents [KendoReact Typography Pre component]({% slug overview_typography %}).\n * Used along with [KendoReact Typography Code component]({% slug overview_typography %}) to create multi-line code snippet.\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *     <Typography.pre>\n *       <Typography.code dangerouslySetInnerHTML={{__html: `\n *         const handleChange = ({ target }) => {\n *           const { name, value } = target;\n *           const newData = Object.assign({}, data, { [name]: value });\n *           setData(newData);\n *         }\n *       `}} />\n *     </Typography.pre>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar pre = generateTypography('pre');\n/**\n * Represents the [KendoReact Typography component]({% slug overview_typography %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *       <Typography.h2>Heading 2</Typography.h2>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var Typography = {\n    h1: h1,\n    h2: h2,\n    h3: h3,\n    h4: h4,\n    h5: h5,\n    h6: h6,\n    p: p,\n    code: code,\n    pre: pre\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\nvar dots = '...';\n/**\n * @hidden\n */\nvar PagerNumericButtons = /** @class */ (function (_super) {\n    __extends(PagerNumericButtons, _super);\n    function PagerNumericButtons() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handlePageChange = function (e, page) {\n            e.preventDefault();\n            _this.props.pageChange(page, e);\n        };\n        _this.handleSelectPageChange = function (e) {\n            e.preventDefault();\n            _this.props.pageChange(e.target.value, e);\n        };\n        return _this;\n    }\n    PagerNumericButtons.prototype.render = function () {\n        var _this = this;\n        var prevDots = this.start > 1 && this.renderDots(this.start - 1);\n        var postDots = this.end < this.props.totalPages && this.renderDots(this.end + 1);\n        var prevOptionDots = this.start > 1 && this.renderOptionDots(this.start - 1);\n        var postOptionDots = this.end < this.props.totalPages && this.renderOptionDots(this.end + 1);\n        var buttons = [];\n        for (var idx = this.start; idx <= this.end; idx++) {\n            buttons.push(idx);\n        }\n        var numerics = buttons.map(function (page) { return (React.createElement(\"li\", { key: page },\n            React.createElement(\"a\", { href: \"#\", onClick: function (e) { return _this.handlePageChange(e, page); }, className: classNames('k-link', {\n                    'k-state-selected': _this.props.currentPage === page\n                }) }, page))); });\n        var options = buttons.map(function (page) { return (React.createElement(\"option\", { key: page, className: classNames('k-link') }, page)); });\n        return (React.createElement(\"div\", { className: \"k-pager-numbers-wrap\" },\n            React.createElement(\"select\", { className: \"k-dropdown\", value: this.props.currentPage, onChange: function (e) { return _this.handleSelectPageChange(e); } },\n                prevOptionDots,\n                options,\n                postOptionDots),\n            React.createElement(\"ul\", { className: \"k-pager-numbers k-reset\" },\n                prevDots,\n                numerics,\n                postDots)));\n    };\n    PagerNumericButtons.prototype.renderDots = function (page) {\n        var _this = this;\n        return (React.createElement(\"li\", null,\n            React.createElement(\"a\", { className: \"k-link\", onClick: function (e) { return _this.handlePageChange(e, page); }, href: \"#\" }, dots)));\n    };\n    PagerNumericButtons.prototype.renderOptionDots = function (page) {\n        return (React.createElement(\"option\", { className: \"k-link\", value: page }, dots));\n    };\n    Object.defineProperty(PagerNumericButtons.prototype, \"end\", {\n        get: function () {\n            return Math.min((this.start + this.props.buttonCount) - 1, this.props.totalPages);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PagerNumericButtons.prototype, \"start\", {\n        get: function () {\n            var page = this.props.currentPage;\n            var buttonCount = this.props.buttonCount;\n            if (page > buttonCount) {\n                var reminder = (page % buttonCount);\n                return (reminder === 0) ? (page - buttonCount) + 1 : (page - reminder) + 1;\n            }\n            return 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PagerNumericButtons;\n}(React.Component));\nexport { PagerNumericButtons };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService, provideIntlService } from '@progress/kendo-react-intl';\nimport { messages, pagerOf, pagerPage, pagerTotalPages } from './../messages';\n/**\n * @hidden\n */\nvar PagerInput = /** @class */ (function (_super) {\n    __extends(PagerInput, _super);\n    function PagerInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._text = undefined;\n        _this.onChange = function (e) {\n            var text = _this._text = e.target.value.replace(/\\D/g, '');\n            _this.forceUpdate();\n            if (text) {\n                _this.props.pageChange(parseInt(text, 10), e);\n            }\n        };\n        _this.value = function () {\n            var value = _this._text === undefined ? _this.props.currentPage.toString() : _this._text;\n            _this._text = undefined;\n            return value;\n        };\n        return _this;\n    }\n    PagerInput.prototype.render = function () {\n        var _this = this;\n        var intlService = provideIntlService(this);\n        var localizationService = provideLocalizationService(this);\n        var pageMessage = this.props.messagesMap ? this.props.messagesMap(pagerPage) :\n            ({ messageKey: pagerPage, defaultMessage: messages[pagerPage] });\n        var ofMessage = this.props.messagesMap ? this.props.messagesMap(pagerOf) :\n            ({ messageKey: pagerOf, defaultMessage: messages[pagerOf] });\n        var totalPagesMessage = this.props.messagesMap ? this.props.messagesMap(pagerTotalPages) :\n            ({ messageKey: pagerTotalPages, defaultMessage: messages[pagerTotalPages] });\n        return (React.createElement(\"span\", { className: \"k-pager-input k-label\" },\n            localizationService.toLanguageString(pageMessage.messageKey, pageMessage.defaultMessage),\n            React.createElement(\"input\", { className: \"k-textbox\", value: this.value(), onBlur: function () { return _this.forceUpdate(); }, onChange: this.onChange }), localizationService.toLanguageString(ofMessage.messageKey, ofMessage.defaultMessage) + \" \" + intlService\n            .format(localizationService.toLanguageString(totalPagesMessage.messageKey, totalPagesMessage.defaultMessage), [\n            this.props.totalPages\n        ])));\n    };\n    return PagerInput;\n}(React.Component));\nexport { PagerInput };\nregisterForLocalization(PagerInput);\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-labels',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344736,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { labelsOptional, messages } from './messages';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * Represents the KendoReact Label component.\n *\n * @example\n * ```jsx\n * const sizes = [\"X-Small\", \"Small\", \"Medium\", \"Large\", \"X-Large\", \"2X-Large\"];\n * const App = () => {\n *     const ddlRef = React.useRef(null);\n *     const labelId = 'ddl-sizes-label';\n *     const editorId = 'ddl-sizes';\n *\n *     return (\n *         <div>\n *             <Label id={labelId} editorId={editorId} editorRef={ddlRef}>\n *                 Shirt Size:\n *             </Label>\n *             <DropDownList\n *                 ref={ddlRef}\n *                 id={editorId}\n *                 ariaLabelledBy={labelId}\n *                 data={sizes}\n *             />\n *             <br />\n *         </div>\n *     );\n * };\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var Label = function (props) {\n    validatePackage(packageMetadata);\n    var id = props.id, editorId = props.editorId, editorRef = props.editorRef, editorDisabled = props.editorDisabled, children = props.children, editorValid = props.editorValid, style = props.style, className = props.className, optional = props.optional;\n    var localizationService = useLocalization();\n    var localizedOptional = optional ? localizationService\n        .toLanguageString(labelsOptional, messages[labelsOptional]) : '';\n    var optionalElement = localizedOptional && (React.createElement(\"span\", { className: 'k-label-optional' }, localizedOptional));\n    var onLabelClick = React.useCallback(function (e) {\n        if (editorRef && editorRef.current && !editorDisabled) {\n            if (editorRef.current.focus) {\n                e.preventDefault();\n                editorRef.current.focus();\n            }\n            var editorActionElement = editorRef.current.actionElement;\n            if (editorActionElement) {\n                e.preventDefault();\n                editorActionElement.click();\n            }\n        }\n    }, [editorRef]);\n    var labelClassName = classNames({\n        'k-label': true,\n        'k-label-empty': !children,\n        'k-text-error': editorValid === false,\n        'k-text-disabled': editorDisabled === true\n    }, className);\n    return (React.createElement(\"label\", { id: id, htmlFor: editorId, onClick: onLabelClick, style: style, className: labelClassName },\n        children,\n        optionalElement));\n};\nLabel.propTypes = {\n    id: PropTypes.string,\n    editorId: PropTypes.string,\n    editorRef: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.shape({ current: PropTypes.any })\n    ]),\n    editorValid: PropTypes.bool,\n    editorDisabled: PropTypes.bool,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    optional: PropTypes.bool\n};\nLabel.displayName = 'KendoReactLabel';\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * Represents the KendoReact Error component.\n * Render the error text that will be shown underneath the form editor after a validation.\n */\nexport var Error = function (props) {\n    validatePackage(packageMetadata);\n    var errorClassName = classNames({\n        'k-form-error': true,\n        'k-text-start': props.direction === 'start',\n        'k-text-end': props.direction === 'end'\n    }, props.className);\n    return (React.createElement(\"div\", { id: props.id, role: 'alert', style: props.style, className: errorClassName }, props.children));\n};\nError.propTypes = {\n    id: PropTypes.string,\n    direction: PropTypes.oneOf(['start', 'end']),\n    children: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.node\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string\n};\nError.defaultProps = {\n    direction: 'start'\n};\nError.displayName = 'KendoReactError';\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * Represents the KendoReact Hint component.\n * Render the hint text that will be shown underneath the form editor.\n */\nexport var Hint = function (props) {\n    validatePackage(packageMetadata);\n    var hintClassName = classNames({\n        'k-form-hint': true,\n        'k-text-start': props.direction === 'start',\n        'k-text-end': props.direction === 'end',\n        'k-text-disabled': props.editorDisabled === true\n    }, props.className);\n    return (React.createElement(\"div\", { id: props.id, style: props.style, className: hintClassName }, props.children));\n};\nHint.propTypes = {\n    id: PropTypes.string,\n    direction: PropTypes.oneOf(['start', 'end']),\n    children: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.node\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n    editorDisabled: PropTypes.bool\n};\nHint.defaultProps = {\n    direction: 'start'\n};\nHint.displayName = 'KendoReactHint';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { labelsOptional, messages } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * Represents the KendoReact FloatingLabel component.\n *\n * @example\n * ```jsx\n * const sizes = [\"X-Small\", \"Small\", \"Medium\", \"Large\", \"X-Large\", \"2X-Large\"];\n * const App = () => {\n *     const [ddlState, setDdlState] = React.useState();\n *     const editorId = 'ddl-sizes';\n *     return (\n *         <FloatingLabel label={'Shirt Size:'} editorId={editorId} editorValue={ddlState}>\n *             <DropDownList\n *                 id={editorId}\n *                 value={ddlState}\n *                 data={sizes}\n *                 onChange={(e) => setDdlState(e.target.value)}\n *             />\n *         </FloatingLabel>\n *     );\n * };\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar FloatingLabel = /** @class */ (function (_super) {\n    __extends(FloatingLabel, _super);\n    function FloatingLabel(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            focused: false\n        };\n        /**\n         * @hidden\n         */\n        _this.handleFocus = function (_) {\n            _this.setState({ focused: true });\n        };\n        /**\n         * @hidden\n         */\n        _this.handleBlur = function (_) {\n            _this.setState({ focused: false });\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    FloatingLabel.prototype.render = function () {\n        var _a = this.props, label = _a.label, editorId = _a.editorId, className = _a.className, editorValue = _a.editorValue, editorPlaceholder = _a.editorPlaceholder, editorValid = _a.editorValid, editorDisabled = _a.editorDisabled, style = _a.style, id = _a.id, optional = _a.optional;\n        var localizationService = provideLocalizationService(this);\n        var localizedOptional = optional ? localizationService\n            .toLanguageString(labelsOptional, messages[labelsOptional]) : '';\n        var optionalElement = localizedOptional && (React.createElement(\"span\", { className: 'k-label-optional' }, localizedOptional));\n        var spanClassNames = classNames({\n            'k-textbox-container': true,\n            'k-state-focused': this.state.focused,\n            'k-state-empty': !editorPlaceholder && !editorValue && (editorValue !== 0),\n            'k-text-disabled': editorDisabled,\n            'k-rtl': this.props.dir === 'rtl'\n        }, className);\n        var labelClassNames = classNames({\n            'k-label': true,\n            'k-text-error': editorValid === false,\n            'k-text-disabled': editorDisabled\n        });\n        return (React.createElement(\"span\", { className: spanClassNames, onFocus: this.handleFocus, onBlur: this.handleBlur, style: style, dir: this.props.dir },\n            this.props.children,\n            label\n                ? editorId\n                    ? React.createElement(\"label\", { id: id, htmlFor: editorId, className: labelClassNames },\n                        label,\n                        optionalElement)\n                    : React.createElement(\"span\", { id: id, className: labelClassNames },\n                        label,\n                        optionalElement)\n                : null));\n    };\n    /**\n     * @hidden\n     */\n    FloatingLabel.propTypes = {\n        label: PropTypes.string,\n        editorId: PropTypes.string,\n        editorValue: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number]),\n        editorPlaceholder: PropTypes.string,\n        editorValid: PropTypes.bool,\n        editorDisabled: PropTypes.bool,\n        id: PropTypes.string,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        optional: PropTypes.bool\n    };\n    return FloatingLabel;\n}(React.Component));\nexport { FloatingLabel };\nregisterForLocalization(FloatingLabel);\n","var clearSlide = function (element) {\n    element.style.transitionDuration = '';\n    element.classList.remove('k-slide-down-appear', 'k-slide-down-appear-active', 'k-slide-down-exit', 'k-slide-down-exit-active', 'k-slide-up-appear', 'k-slide-up-appear-active', 'k-slide-up-exit', 'k-slide-up-exit-active');\n};\nvar firefox = typeof window !== 'undefined' &&\n    /Firefox/.test(window.navigator.userAgent);\n/**\n * @hidden\n */\nexport var slide = function (element, direction, duration, type, callback) {\n    if (duration === 0) {\n        return callback();\n    }\n    var slideClass = 'k-slide-' + direction + '-' + type;\n    var slideActiveClass = slideClass + '-active';\n    var transitionend = function () {\n        // if event is attached using react,\n        // the animation does not work well in firefox,\n        // when the show/hide button is toggled quickly.\n        element.removeEventListener('transitionend', transitionend);\n        clearSlide(element);\n        callback();\n    };\n    element.addEventListener('transitionend', transitionend);\n    var ownerDocument = element.ownerDocument;\n    if (!ownerDocument) {\n        return;\n    }\n    var deafultView = ownerDocument.defaultView;\n    if (!deafultView) {\n        return;\n    }\n    var animate = function () {\n        clearSlide(element);\n        element.classList.add(slideClass);\n        deafultView.requestAnimationFrame(function () {\n            element.style.transitionDuration = duration + 'ms';\n            element.classList.add(slideActiveClass);\n        });\n    };\n    if (firefox) {\n        deafultView.requestAnimationFrame(animate);\n    }\n    else {\n        animate();\n    }\n};\n","export default {\n    \"bottom\": \"bottom\",\n    \"center\": \"center\",\n    \"middle\": \"middle\",\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"top\": \"top\"\n};\n","import point from './align-point';\n\nvar align = function (options) {\n    var anchorRect = options.anchorRect;\n    var anchorAlign = options.anchorAlign;\n    var elementRect = options.elementRect;\n    var elementAlign = options.elementAlign;\n    var margin = options.margin; if ( margin === void 0 ) margin = {};\n    var anchorHorizontal = anchorAlign.horizontal;\n    var anchorVertical = anchorAlign.vertical;\n    var elementHorizontal = elementAlign.horizontal;\n    var elementVertical = elementAlign.vertical;\n\n    var horizontalMargin = margin.horizontal || 0;\n    var verticalMargin = margin.vertical || 0;\n\n    var top = anchorRect.top;\n    var left = anchorRect.left;\n\n    if (anchorVertical === point.bottom) {\n        top += anchorRect.height;\n    }\n\n    if (anchorVertical === point.center || anchorVertical === point.middle) {\n        top += Math.round(anchorRect.height / 2);\n    }\n\n    if (elementVertical === point.bottom) {\n        top -= elementRect.height;\n        verticalMargin *= -1;\n    }\n\n    if (elementVertical === point.center || elementVertical === point.middle) {\n        top -= Math.round(elementRect.height / 2);\n        verticalMargin *= -1;\n    }\n\n    if (anchorHorizontal === point.right) {\n        left += anchorRect.width;\n    }\n\n    if (anchorHorizontal === point.center || anchorHorizontal === point.middle) {\n        left += Math.round(anchorRect.width / 2);\n    }\n\n    if (elementHorizontal === point.right) {\n        left -= elementRect.width;\n        horizontalMargin *= -1;\n    }\n\n    if (elementHorizontal === point.center || elementHorizontal === point.middle) {\n        left -= Math.round(elementRect.width / 2);\n        horizontalMargin *= -1;\n    }\n\n    return {\n        top: top + verticalMargin,\n        left: left + horizontalMargin\n    };\n};\n\nexport default align;\n","export default function ownerDocument(element) {\n    return element.ownerDocument || element.document || element;\n}\n","import ownerDocument from './owner-document';\n\nvar getWindow = function (element) { return ownerDocument(element).defaultView; };\n\nexport default getWindow;\n","import ownerDocument from './owner-document';\n\nvar getDocument = function (element) { return ownerDocument(element).documentElement; };\n\nexport default getDocument;\n","var cachedWidth = 0;\n\nexport default function scrollbarWidth() {\n    if (!cachedWidth && typeof document !== 'undefined') {\n        var div = document.createElement(\"div\");\n\n        div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n        div.innerHTML = \"&nbsp;\";\n        document.body.appendChild(div);\n\n        cachedWidth = div.offsetWidth - div.scrollWidth;\n\n        document.body.removeChild(div);\n    }\n\n    return cachedWidth;\n}\n","import wnd from './window';\nimport getDocument from './document';\nimport scrollbarWidth from './scrollbar-width';\n\nexport default function windowViewport(element) {\n    var win = wnd(element);\n    var document = getDocument(element);\n    var result = {\n        height: win.innerHeight,\n        width: win.innerWidth\n    };\n\n    if (document.scrollHeight - document.clientHeight > 0) {\n        result.width -= scrollbarWidth();\n    }\n\n    return result;\n}\n","import windowViewport from './window-viewport';\n\nvar boundingOffset = function (element) {\n    if (!element.getBoundingClientRect) {\n        var viewport = windowViewport(element);\n        return {\n            bottom: viewport.height,\n            left: 0,\n            right: viewport.width,\n            top: 0\n        };\n    }\n\n    var ref = element.getBoundingClientRect();\n    var bottom = ref.bottom;\n    var left = ref.left;\n    var right = ref.right;\n    var top = ref.top;\n\n    return {\n        bottom: bottom,\n        left: left,\n        right: right,\n        top: top\n    };\n};\n\nexport default boundingOffset;\n","import documentElement from './document';\n\nvar offsetParent = function (element) {\n    var offsetParent = element.offsetParent;\n\n    while (offsetParent && offsetParent.style.position === \"static\") {\n        offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || documentElement(element);\n};\n\nexport default offsetParent;\n","import offsetParent from './offset-parent';\n\nvar isBodyOffset = function (element) { return (offsetParent(element) === element.ownerDocument.body); };\n\nexport default isBodyOffset;\n","var rectOfHiddenElement = function (element) {\n    var ref = element.style;\n    var display = ref.display;\n    var left = ref.left;\n    var position = ref.position;\n\n    element.style.display = '';\n    element.style.left = '-10000px';\n    element.style.position = 'absolute';\n\n    var rect = element.getBoundingClientRect();\n\n    element.style.display = display;\n    element.style.left = left;\n    element.style.position = position;\n\n    return rect;\n};\n\nvar offset = function (element) {\n    var rect = element.getBoundingClientRect();\n    var left = rect.left;\n    var top = rect.top;\n\n    if (!rect.height && !rect.width) {\n        rect = rectOfHiddenElement(element);\n    }\n\n    return {\n        top: top,\n        left: left,\n        height: rect.height,\n        width: rect.width\n    };\n};\n\nexport default offset;\n","export default function (element, until) {\n    var result = [];\n    var next = element.parentNode;\n\n    while (next) {\n        result.push(next);\n\n        if (next === until) { break; }\n\n        next = next.parentNode;\n    }\n\n    return result;\n};\n","import docElement from './document';\nimport wnd from './window';\n\nexport default function scrollPosition(element) {\n    var documentElement = docElement(element);\n    var win = wnd(element);\n\n    return {\n        x: win.pageXOffset || documentElement.scrollLeft || 0,\n        y: win.pageYOffset || documentElement.scrollTop || 0\n    };\n}\n","import scrollPosition from './scroll-position';\n\nexport default function (element) {\n    if (element === (element.ownerDocument || {}).body) {\n        return scrollPosition(element);\n    }\n\n    return {\n        x: element.scrollLeft,\n        y: element.scrollTop\n    };\n};\n","import offsetParent from './offset-parent';\nimport offsetRect from './offset';\nimport wnd from './window';\n\nvar position = function (element, parent) {\n    var win = wnd(element);\n    var elementStyles = win.getComputedStyle(element);\n    var offset = offsetRect(element);\n    var parentElement = parent || offsetParent(element);\n\n    var ownerDocument = element.ownerDocument;\n    var useRelative = parentElement !== ownerDocument.body && parentElement !== ownerDocument.documentElement;\n\n    var parentOffset = { top: 0, left: 0 };\n\n    if (elementStyles.position !== \"fixed\" && useRelative) {\n        var parentStyles = win.getComputedStyle(parentElement);\n\n        parentOffset = offsetRect(parentElement);\n        parentOffset.top += parseInt(parentStyles.borderTopWidth, 10);\n        parentOffset.left += parseInt(parentStyles.borderLeftWidth, 10);\n    }\n\n    return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left,\n        height: offset.height,\n        width: offset.width\n    };\n};\n\nexport default position;\n","import elementScrollPosition from './element-scroll-position';\nimport parentScrollPosition from './parent-scroll-position';\n\nexport default function (offsetParentElement, element) { return ( // eslint-disable-line no-arrow-condition\n    offsetParentElement ? elementScrollPosition(offsetParentElement) : parentScrollPosition(element)\n); };\n","import offsetParent from './offset-parent';\nimport elementScrollPosition from './element-scroll-position';\n\nexport default function parentScrollPosition(element) {\n    var parent = offsetParent(element);\n\n    return parent ? elementScrollPosition(parent) : { x: 0, y: 0 };\n}\n","export default {\n    \"fit\": \"fit\",\n    \"flip\": \"flip\"\n};\n","import alignPoint from './align-point';\nimport collision from './collision';\n\nvar fit = function(position, size, viewPortSize) {\n    var output = 0;\n\n    if (position + size > viewPortSize) {\n        output = viewPortSize - (position + size);\n    }\n\n    if (position < 0) {\n        output = -position;\n    }\n\n    return output;\n};\n\nvar flip = function(ref) {\n    var offset = ref.offset;\n    var size = ref.size;\n    var anchorSize = ref.anchorSize;\n    var viewPortSize = ref.viewPortSize;\n    var anchorAlignPoint = ref.anchorAlignPoint;\n    var elementAlignPoint = ref.elementAlignPoint;\n    var margin = ref.margin;\n\n    var output = 0;\n\n    var isPositionCentered = elementAlignPoint === alignPoint.center || elementAlignPoint === alignPoint.middle;\n    var isOriginCentered = anchorAlignPoint === alignPoint.center || anchorAlignPoint === alignPoint.middle;\n    var marginToAdd = 2 * margin; //2x to keep margin after flip\n\n    if (elementAlignPoint !== anchorAlignPoint && !isPositionCentered && !isOriginCentered) {\n        var isBeforeAnchor = anchorAlignPoint === alignPoint.top || anchorAlignPoint === alignPoint.left;\n        if (offset < 0 && isBeforeAnchor) {\n            output = size + anchorSize + marginToAdd;\n            if (offset + output + size > viewPortSize) {\n                output = 0; //skip flip\n            }\n        } else if (offset >= 0 && !isBeforeAnchor) {\n            if (offset + size > viewPortSize) {\n                output += -(anchorSize + size + marginToAdd);\n            }\n\n            if (offset + output < 0) {\n                output = 0; //skip flip\n            }\n        }\n    }\n\n    return output;\n};\n\nvar restrictToView = function (options) {\n    var anchorRect = options.anchorRect;\n    var anchorAlign = options.anchorAlign;\n    var elementRect = options.elementRect;\n    var elementAlign = options.elementAlign;\n    var collisions = options.collisions;\n    var viewPort = options.viewPort;\n    var margin = options.margin; if ( margin === void 0 ) margin = {};\n    var elementTop = elementRect.top;\n    var elementLeft = elementRect.left;\n    var elementHeight = elementRect.height;\n    var elementWidth = elementRect.width;\n    var viewPortHeight = viewPort.height;\n    var viewPortWidth = viewPort.width;\n    var horizontalMargin = margin.horizontal || 0;\n    var verticalMargin = margin.vertical || 0;\n\n    var left = 0;\n    var top = 0;\n\n    var isHorizontalFlip = collisions.horizontal === collision.flip;\n    var isVerticalFlip = collisions.vertical === collision.flip;\n\n    if (collisions.vertical === collision.fit) {\n        top += fit(elementTop, elementHeight, viewPortHeight);\n    }\n\n    if (collisions.horizontal === collision.fit) {\n        left += fit(elementLeft, elementWidth, viewPortWidth);\n    }\n\n    if (isVerticalFlip) {\n        top += flip({\n            margin: verticalMargin,\n            offset: elementTop,\n            size: elementHeight,\n            anchorSize: anchorRect.height,\n            viewPortSize: viewPortHeight,\n            anchorAlignPoint: anchorAlign.vertical,\n            elementAlignPoint: elementAlign.vertical\n        });\n    }\n\n    if (isHorizontalFlip) {\n        left += flip({\n            margin: horizontalMargin,\n            offset: elementLeft,\n            size: elementWidth,\n            anchorSize: anchorRect.width,\n            viewPortSize: viewPortWidth,\n            anchorAlignPoint: anchorAlign.horizontal,\n            elementAlignPoint: elementAlign.horizontal\n        });\n    }\n    var flippedHorizontal = isHorizontalFlip && left !== 0;\n    var flippedVertical = isVerticalFlip && top !== 0;\n\n    return {\n        flipped: flippedHorizontal || flippedVertical,\n        flip: {\n            horizontal: flippedHorizontal,\n            vertical: flippedVertical\n        },\n        offset: {\n            left: left,\n            top: top\n        }\n    };\n};\n\nexport default restrictToView;\n","export default function (element) {\n    var result = [];\n\n    var sibling = element.parentNode.firstElementChild;\n\n    while (sibling) {\n        if (sibling !== element) {\n            result.push(sibling);\n        }\n\n        sibling = sibling.nextElementSibling;\n    }\n    return result;\n};\n","/* eslint-disable no-loop-func */\n\nimport parents from './parents';\nimport siblings from './siblings';\n\nexport default function (anchor, container) {\n    var parentElements = parents(anchor);\n    var containerElement = container;\n    var siblingElements;\n    var result;\n\n    while (containerElement) {\n        siblingElements = siblings(containerElement);\n\n        result = parentElements.reduce(\n            function (list, p) { return list.concat(siblingElements.filter(function (s) { return s === p; })); },\n            []\n        )[0];\n\n        if (result) { break; }\n\n        containerElement = containerElement.parentElement;\n    }\n\n    return result;\n};\n\n","import { parents, siblingContainer } from '@progress/kendo-popup-common';\nimport { canUseDOM, hasRelativeStackingContext } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nexport var eitherRect = function (rect, offset) {\n    if (!rect) {\n        return { height: 0, left: offset.left, top: offset.top, width: 0 };\n    }\n    return rect;\n};\n/**\n * @hidden\n */\nexport var replaceOffset = function (rect, offset) {\n    if (!offset) {\n        return rect;\n    }\n    var result = {\n        height: rect.height,\n        left: offset.left,\n        top: offset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nexport var removeStackingOffset = function (rect, stackingOffset) {\n    if (!stackingOffset) {\n        return rect;\n    }\n    var result = {\n        height: rect.height,\n        left: rect.left - stackingOffset.left,\n        top: rect.top - stackingOffset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nexport var isDifferentOffset = function (oldOffset, newOffset) {\n    var oldLeft = oldOffset.left, oldTop = oldOffset.top;\n    var newLeft = newOffset.left, newTop = newOffset.top;\n    return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nexport var hasBoundingRect = function (elem) { return !!elem.getBoundingClientRect; };\n/**\n * @hidden\n */\nexport var OVERFLOW_REGEXP = /auto|scroll/;\n/**\n * @hidden\n */\nvar overflowStyle = function (element) {\n    var styles = window.getComputedStyle(element);\n    return \"\" + styles.overflow + styles.overflowX + styles.overflowY;\n};\n/**\n * @hidden\n */\nexport var scrollableParents = function (element) {\n    var parentElements = [];\n    if (!canUseDOM) {\n        return parentElements;\n    }\n    var parent = element.parentElement;\n    while (parent) {\n        if (OVERFLOW_REGEXP.test(overflowStyle(parent))) {\n            parentElements.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    parentElements.push(window);\n    return parentElements;\n};\n/**\n * @hidden\n */\nexport var FRAME_DURATION = 1000 / 60; // 1000ms divided by 60fps\n/**\n * @hidden\n */\nexport var HAS_RELATIVE_STACKING_CONTEXT = hasRelativeStackingContext();\n/**\n * @hidden\n */\nexport var zIndex = function (anchor, container) {\n    if (!anchor || !canUseDOM) {\n        return null;\n    }\n    var sibling = siblingContainer(anchor, container);\n    if (!sibling) {\n        return null;\n    }\n    var result = [anchor].concat(parents(anchor, sibling)).reduce(function (index, p) {\n        var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n        var current = parseInt(zIndexStyle, 10);\n        return current > index ? current : index;\n    }, 0);\n    return result ? (result + 1) : null;\n};\n/**\n * @hidden\n */\nexport var CollisionType = {\n    fit: 'fit',\n    flip: 'flip'\n};\n/**\n * @hidden\n */\nexport var AlignPoint = {\n    left: 'left',\n    center: 'center',\n    right: 'right',\n    bottom: 'bottom',\n    top: 'top'\n};\n/**\n * @hidden\n */\nexport var throttle = function (func, wait, options) {\n    if (options === void 0) { options = {}; }\n    var timeout, context, args, result;\n    var previous = 0;\n    options = options || {};\n    var later = function () {\n        previous = options.leading === false ? 0 : new Date().getTime();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) {\n            context = args = null;\n        }\n    };\n    var throttled = function () {\n        var now = new Date().getTime();\n        if (!previous && options.leading === false) {\n            previous = now;\n        }\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) {\n                context = args = null;\n            }\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n    return throttled;\n};\n","import { eitherRect, removeStackingOffset } from '../util';\n/**\n * @hidden\n */\nvar AlignService = /** @class */ (function () {\n    function AlignService(_dom) {\n        this._dom = _dom;\n    }\n    AlignService.prototype.alignElement = function (settings) {\n        var anchor = settings.anchor, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, offset = settings.offset;\n        var fixedMode = !this._dom.hasOffsetParent(element);\n        var anchorRect = fixedMode ?\n            this.absoluteRect(anchor, element, offset) :\n            this.relativeRect(anchor, element, offset);\n        return this._dom.align({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            elementAlign: elementAlign,\n            elementRect: this._dom.offset(element)\n        });\n    };\n    AlignService.prototype.absoluteRect = function (anchor, element, offset) {\n        var dom = this._dom;\n        var rect = eitherRect(dom.offset(anchor), offset);\n        var stackingOffset = dom.stackingElementOffset(element);\n        var removedOffset = removeStackingOffset(rect, stackingOffset);\n        var stackingScroll = dom.stackingElementScroll(element);\n        var withScroll = dom.addScroll(removedOffset, stackingScroll);\n        var scrollPosition = this.elementScrollPosition(anchor, element);\n        var result = dom.removeScroll(withScroll, scrollPosition);\n        result.left += window.scrollX || window.pageXOffset;\n        result.top += window.scrollY || window.pageYOffset;\n        return result;\n    };\n    AlignService.prototype.elementScrollPosition = function (anchor, element) {\n        return anchor ? { x: 0, y: 0 } : this._dom.scrollPosition(element);\n    };\n    AlignService.prototype.relativeRect = function (anchor, element, offset) {\n        return eitherRect(this._dom.position(anchor, element), offset);\n    };\n    return AlignService;\n}());\nexport { AlignService };\n","import { align, applyLocationOffset, boundingOffset, getWindowViewPort, isBodyOffset, offset, positionWithScroll, restrictToView, addScroll, removeScroll, scrollPosition, siblingContainer } from '@progress/kendo-popup-common';\nimport { HAS_RELATIVE_STACKING_CONTEXT, scrollableParents, zIndex } from '../util';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DOMService = /** @class */ (function () {\n    function DOMService() {\n    }\n    DOMService.prototype.addOffset = function (current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    };\n    DOMService.prototype.align = function (settings) {\n        return align(settings);\n    };\n    DOMService.prototype.boundingOffset = function (el) {\n        return boundingOffset(el);\n    };\n    DOMService.prototype.getWindow = function () {\n        return canUseDOM ? window : null;\n    };\n    DOMService.prototype.isBodyOffset = function (el) {\n        return isBodyOffset(el);\n    };\n    DOMService.prototype.hasOffsetParent = function (el) {\n        if (!el) {\n            return false;\n        }\n        var offsetParentEl = el.offsetParent;\n        return offsetParentEl &&\n            !(offsetParentEl.nodeName === 'BODY' &&\n                window.getComputedStyle(offsetParentEl).position === 'static');\n    };\n    DOMService.prototype.offset = function (el) {\n        if (!el) {\n            return null;\n        }\n        return offset(el);\n    };\n    DOMService.prototype.staticOffset = function (element) {\n        if (!element) {\n            return null;\n        }\n        var _a = element.style, left = _a.left, top = _a.top;\n        element.style.left = '0px';\n        element.style.top = '0px';\n        var currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        return currentOffset;\n    };\n    DOMService.prototype.position = function (element, popup) {\n        if (!element || !popup) {\n            return null;\n        }\n        var parentSibling = siblingContainer(element, popup);\n        return positionWithScroll(element, parentSibling);\n    };\n    DOMService.prototype.relativeOffset = function (el, currentLocation) {\n        return applyLocationOffset(this.offset(el), currentLocation, this.isBodyOffset(el));\n    };\n    DOMService.prototype.addScroll = function (rect, scroll) {\n        return addScroll(rect, scroll);\n    };\n    DOMService.prototype.removeScroll = function (rect, scroll) {\n        return removeScroll(rect, scroll);\n    };\n    DOMService.prototype.restrictToView = function (settings) {\n        return restrictToView(settings);\n    };\n    DOMService.prototype.scrollPosition = function (el) {\n        return scrollPosition(el);\n    };\n    DOMService.prototype.scrollableParents = function (el) {\n        return scrollableParents(el);\n    };\n    DOMService.prototype.stackingElementOffset = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    };\n    DOMService.prototype.stackingElementScroll = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    };\n    DOMService.prototype.stackingElementViewPort = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return {\n            height: relativeContextElement.scrollHeight,\n            width: relativeContextElement.scrollWidth\n        };\n    };\n    DOMService.prototype.getRelativeContextElement = function (el) {\n        if (!el || !HAS_RELATIVE_STACKING_CONTEXT) {\n            return null;\n        }\n        var parent = el.parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    };\n    DOMService.prototype.useRelativePosition = function (el) {\n        return !!this.getRelativeContextElement(el);\n    };\n    DOMService.prototype.windowViewPort = function (el) {\n        return getWindowViewPort(el);\n    };\n    DOMService.prototype.zIndex = function (anchor, container) {\n        return zIndex(anchor, container);\n    };\n    DOMService.prototype.zoomLevel = function () {\n        if (!canUseDOM) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2));\n    };\n    DOMService.prototype.isZoomed = function () {\n        return this.zoomLevel() > 1;\n    };\n    return DOMService;\n}());\nexport { DOMService };\n","import offsetParentScrollPosition from './offset-parent-scroll-position';\nimport offsetParent from './offset-parent';\nimport position from './position';\n\nexport default function (element, parent, scale) {\n    if ( scale === void 0 ) scale = 1;\n\n    var offsetParentElement = parent ? offsetParent(parent) : null;\n    var ref = position(element, offsetParentElement);\n    var top = ref.top;\n    var left = ref.left;\n    var height = ref.height;\n    var width = ref.width;\n    var ref$1 = offsetParentScrollPosition(offsetParentElement, element);\n    var x = ref$1.x;\n    var y = ref$1.y;\n    var ownerDocument = element.ownerDocument;\n    var positionScale = offsetParentElement === ownerDocument.body || offsetParentElement === ownerDocument.documentElement ? 1 : scale;\n\n    return {\n        top: top + y * positionScale,\n        left: left + x * positionScale,\n        height: height,\n        width: width\n    };\n};\n","export default function applyLocationOffset(rect, location, isOffsetBody) {\n    var top = rect.top;\n    var left = rect.left;\n\n    if (isOffsetBody) {\n        left = 0;\n        top = 0;\n    }\n\n    return {\n        top: top + location.top,\n        left: left + location.left,\n        height: rect.height,\n        width: rect.width\n    };\n}\n","export default function addScroll(rect, scroll) {\n    return {\n        top: rect.top + scroll.y,\n        left: rect.left + scroll.x,\n        height: rect.height,\n        width: rect.width\n    };\n}\n","export default function removeScroll(rect, scroll) {\n    return {\n        top: rect.top - scroll.y,\n        left: rect.left - scroll.x,\n        height: rect.height,\n        width: rect.width\n    };\n}\n","import { eitherRect, replaceOffset } from '../util';\n/**\n * @hidden\n */\nvar PositionService = /** @class */ (function () {\n    function PositionService(_dom) {\n        this._dom = _dom;\n    }\n    PositionService.prototype.positionElement = function (settings) {\n        var anchor = settings.anchor, currentLocation = settings.currentLocation, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, collisions = settings.collisions;\n        var dom = this._dom;\n        var viewPort = settings.viewPort || dom.stackingElementViewPort(element) || dom.windowViewPort(element);\n        var anchorRect = eitherRect(dom.offset(anchor), currentLocation);\n        var initialElementRect = replaceOffset(dom.staticOffset(element), currentLocation);\n        var elementRect = this.elementRect(element, initialElementRect);\n        var result = dom.restrictToView({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            collisions: collisions,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            viewPort: viewPort\n        });\n        return {\n            flipped: result.flipped,\n            offset: dom.addOffset(initialElementRect, result.offset)\n        };\n    };\n    PositionService.prototype.elementRect = function (element, rect) {\n        return this._dom.removeScroll(rect, this._dom.scrollPosition(element));\n    };\n    return PositionService;\n}());\nexport { PositionService };\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-popup',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344607,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { slide } from './animation';\nimport { classNames, canUseDOM } from '@progress/kendo-react-common';\nimport { CollisionType, AlignPoint, throttle, FRAME_DURATION } from './util';\nimport { AlignService } from './services/alignService';\nimport { DOMService } from './services/domService';\nimport { PositionService } from './services/positionService';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nfunction isEquivalent(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!!a !== !!b) {\n        return false;\n    }\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nvar DEFAULT_OFFSET = {\n    left: -1000,\n    top: 0\n};\nvar Status;\n(function (Status) {\n    Status[\"hiding\"] = \"hiding\";\n    Status[\"hidden\"] = \"hidden\";\n    Status[\"showing\"] = \"showing\";\n    Status[\"shown\"] = \"shown\";\n    Status[\"reposition\"] = \"reposition\";\n})(Status || (Status = {}));\nvar ANIMATION_CONTAINER = 'k-animation-container';\nvar ANIMATION_CONTAINER_SHOWN = 'k-animation-container-shown';\nvar ANIMATION_CONTAINER_RELATIVE = 'k-animation-container-relative';\nvar ANIMATION_CONTAINER_CHILD = 'k-child-animation-container';\nvar K_POPUP = 'k-popup';\n/**\n * @hidden\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = { current: Status.hidden, previous: Status.hidden, props: {} };\n        _this._popup = null;\n        _this.show = function (popup) {\n            _this.setPosition(popup);\n            _this.animate(popup.firstChild, 'enter', _this.onOpened);\n            _this.setState({ current: Status.shown, previous: _this.state.current });\n        };\n        _this.setPosition = function (popup) {\n            var _a = _this.props, anchorAlign = _a.anchorAlign, popupAlign = _a.popupAlign, collision = _a.collision, offset = _a.offset, anchor = _a.anchor;\n            var popupContent = popup.firstElementChild;\n            var _b = getComputedStyle(popupContent), contentWidth = _b.width, contentHeight = _b.height;\n            // The absolute position prevents appearing of a scrollbar which could move the anchor element and breaks the positioning.\n            popupContent.style.position = 'absolute';\n            // Width and height are required since absolute position breaks the element sizing.\n            popupContent.style.width = contentWidth;\n            popupContent.style.height = contentHeight;\n            var alignedOffset = _this._alignService.alignElement({\n                anchor: anchor,\n                element: popupContent,\n                elementAlign: popupAlign,\n                anchorAlign: anchorAlign,\n                offset: offset\n            });\n            var position = _this._positionService.positionElement({\n                anchor: anchor,\n                anchorAlign: anchorAlign,\n                collisions: collision,\n                element: popupContent,\n                currentLocation: alignedOffset,\n                elementAlign: popupAlign\n            });\n            if (position.offset) {\n                popup.style.top = position.offset.top + 'px';\n                popup.style.left = position.offset.left + 'px';\n                popupContent.style.position = '';\n                popupContent.style.width = '';\n                popupContent.style.height = '';\n            }\n            _this._flipped = position.flipped;\n        };\n        _this.onOpened = function () {\n            var element = _this._popup;\n            if (!element) {\n                return;\n            }\n            if (_this.props.show) {\n                element.classList.add(ANIMATION_CONTAINER_SHOWN);\n            }\n            _this.attachRepositionHandlers(element);\n            if (_this.props.onOpen) {\n                _this.props.onOpen.call(undefined, { target: _this });\n            }\n        };\n        _this.animate = function (element, type, callback) {\n            slide(element, _this._flipped ? 'up' : 'down', _this.animationDuration[type], type, callback);\n        };\n        _this.onClosing = function (popup) {\n            if (!_this.props.show) {\n                popup.classList.remove(ANIMATION_CONTAINER_SHOWN);\n            }\n            _this.detachRepositionHandlers();\n        };\n        _this.onClosed = function () {\n            if (_this.state.current === Status.hiding && _this.state.previous === Status.shown) {\n                _this.setState({ current: Status.hidden, previous: _this.state.current });\n            }\n            if (_this.props.onClose) {\n                _this.props.onClose.call(undefined, { target: _this });\n            }\n        };\n        validatePackage(packageMetadata);\n        _this._domService = new DOMService();\n        _this._alignService = new AlignService(_this._domService);\n        _this._positionService = new PositionService(_this._domService);\n        _this.reposition = throttle(_this.reposition.bind(_this), FRAME_DURATION);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Popup.getDerivedStateFromProps = function (props, state) {\n        var show = props.show, anchor = props.anchor, anchorAlign = props.anchorAlign, appendTo = props.appendTo, collision = props.collision, popupAlign = props.popupAlign, className = props.className, popupClass = props.popupClass, style = props.style, offset = props.offset, contentKey = props.contentKey;\n        var nextState = __assign({}, state, { props: {\n                show: show, anchor: anchor, anchorAlign: anchorAlign, appendTo: appendTo, collision: collision, popupAlign: popupAlign, className: className, popupClass: popupClass, style: style, offset: offset, contentKey: contentKey\n            } });\n        if (props.show) {\n            if (state.current === Status.hidden || state.current === Status.hiding) {\n                return __assign({}, nextState, { current: Status.showing, previous: state.current });\n            }\n            if (state.current === Status.showing) {\n                return __assign({}, nextState, { current: Status.shown, previous: state.current });\n            }\n            if (state.current === Status.shown &&\n                (!isEquivalent(offset, state.props.offset) ||\n                    !isEquivalent(anchorAlign, state.props.anchorAlign) ||\n                    !isEquivalent(appendTo, state.props.appendTo) ||\n                    !isEquivalent(collision, state.props.collision) ||\n                    !isEquivalent(popupAlign, state.props.popupAlign) ||\n                    !isEquivalent(style, state.props.style) ||\n                    anchor !== state.props.anchor ||\n                    popupClass !== state.props.popupClass ||\n                    className !== state.props.className)) {\n                return __assign({}, nextState, { current: Status.reposition, previous: state.current });\n            }\n            return nextState;\n        }\n        if (state.current === Status.hiding || state.current === Status.hidden) {\n            return __assign({}, nextState, { current: Status.hidden, previous: state.current });\n        }\n        return __assign({}, nextState, { current: Status.hiding, previous: state.current });\n    };\n    /**\n     * @hidden\n     */\n    Popup.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.current === Status.showing && this._popup) {\n            this.show(this._popup);\n        }\n        else if (this.state.current === Status.hiding && this._popup) {\n            this.onClosing(this._popup);\n            this.animate(this._popup.firstChild, 'exit', this.onClosed);\n        }\n        else if (this.state.current === Status.reposition && this.state.previous === Status.shown) {\n            this.setState({ current: Status.shown, previous: this.state.current });\n        }\n        else if (this.state.current === Status.shown &&\n            prevProps.contentKey !== this.props.contentKey && this._popup) {\n            this.setPosition(this._popup);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Popup.prototype.componentDidMount = function () {\n        if (this.state.current === Status.showing && this._popup) {\n            this.show(this._popup);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Popup.prototype.componentWillUnmount = function () {\n        this.detachRepositionHandlers();\n    };\n    /**\n     * @hidden\n     */\n    Popup.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, className = _a.className, popupClass = _a.popupClass, show = _a.show, id = _a.id;\n        var appendTo = this.props.appendTo ?\n            this.props.appendTo :\n            canUseDOM ?\n                (this.props.anchor && this.props.anchor.ownerDocument ? this.props.anchor.ownerDocument.body : document.body)\n                : undefined;\n        if (this.state.current === Status.reposition && this.state.previous === Status.shown && this._popup) {\n            this.setPosition(this._popup);\n        }\n        var style = Object.assign({}, { position: 'absolute' }, this.props.style || {});\n        var closing = this.state.current === Status.hiding;\n        if ((show || closing) && appendTo) {\n            var popup = (React.createElement(\"div\", { className: classNames(ANIMATION_CONTAINER, ANIMATION_CONTAINER_RELATIVE, className), id: id, ref: function (e) { return _this._popup = e; }, style: style },\n                React.createElement(\"div\", { className: classNames(popupClass, K_POPUP, ANIMATION_CONTAINER_CHILD), style: { transitionDelay: '0ms' } }, children)));\n            return ReactDOM.createPortal(popup, appendTo);\n        }\n        return null;\n    };\n    Object.defineProperty(Popup.prototype, \"animationDuration\", {\n        get: function () {\n            var animate = this.props.animate;\n            var enter = 0;\n            var exit = 0;\n            if (animate) {\n                if (animate === true) {\n                    enter = exit = 300;\n                }\n                else {\n                    enter = animate.openDuration || 0;\n                    exit = animate.closeDuration || 0;\n                }\n            }\n            return { enter: enter, exit: exit };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Popup.prototype.attachRepositionHandlers = function (element) {\n        var _this = this;\n        this.detachRepositionHandlers();\n        this._scrollableParents = this._domService.scrollableParents(this.props.anchor || element);\n        this._scrollableParents.map(function (p) { return p.addEventListener('scroll', _this.reposition); });\n        window.addEventListener('resize', this.reposition);\n    };\n    Popup.prototype.detachRepositionHandlers = function () {\n        var _this = this;\n        if (this._scrollableParents) {\n            this._scrollableParents.map(function (p) { return p.removeEventListener('scroll', _this.reposition); });\n            this._scrollableParents = undefined;\n        }\n        window.removeEventListener('resize', this.reposition);\n    };\n    Popup.prototype.reposition = function () {\n        this.setState({ current: Status.reposition, previous: this.state.current });\n    };\n    /**\n     * @hidden\n     */\n    Popup.propTypes = {\n        anchor: function (props) {\n            var anchor = props.anchor;\n            if (anchor && typeof anchor.nodeType !== 'number') {\n                return new Error('Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed.');\n            }\n            return null;\n        },\n        appendTo: function (props) {\n            var element = props.appendTo;\n            if (element && typeof element.nodeType !== 'number') {\n                return new Error('Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed.');\n            }\n            return null;\n        },\n        className: PropTypes.string,\n        id: PropTypes.string,\n        popupClass: PropTypes.string,\n        collision: PropTypes.shape({\n            horizontal: PropTypes.oneOf([\n                CollisionType.fit,\n                CollisionType.flip\n            ]),\n            vertical: PropTypes.oneOf([\n                CollisionType.fit,\n                CollisionType.flip\n            ])\n        }),\n        anchorAlign: PropTypes.shape({\n            horizontal: PropTypes.oneOf([\n                AlignPoint.left,\n                AlignPoint.center,\n                AlignPoint.right\n            ]),\n            vertical: PropTypes.oneOf([\n                AlignPoint.top,\n                AlignPoint.center,\n                AlignPoint.bottom\n            ])\n        }),\n        popupAlign: PropTypes.shape({\n            horizontal: PropTypes.oneOf([\n                AlignPoint.left,\n                AlignPoint.center,\n                AlignPoint.right\n            ]),\n            vertical: PropTypes.oneOf([\n                AlignPoint.top,\n                AlignPoint.center,\n                AlignPoint.bottom\n            ])\n        }),\n        offset: PropTypes.shape({\n            left: PropTypes.number,\n            top: PropTypes.number\n        }),\n        children: PropTypes.oneOfType([\n            PropTypes.element,\n            PropTypes.node\n        ]),\n        show: PropTypes.bool,\n        animate: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                openDuration: PropTypes.number,\n                closeDuration: PropTypes.number\n            })\n        ])\n    };\n    /**\n     * @hidden\n     */\n    Popup.defaultProps = {\n        collision: {\n            horizontal: CollisionType.fit,\n            vertical: CollisionType.flip\n        },\n        anchorAlign: {\n            horizontal: AlignPoint.left,\n            vertical: AlignPoint.bottom\n        },\n        popupAlign: {\n            horizontal: AlignPoint.left,\n            vertical: AlignPoint.top\n        },\n        offset: DEFAULT_OFFSET,\n        animate: true,\n        // appendTo: document.body,\n        show: false\n    };\n    return Popup;\n}(React.Component));\nexport { Popup };\n","var _a;\n/**\n * @hidden\n */\nexport var nodata = 'dropdowns.nodata';\n/**\n * @hidden\n */\nexport var clear = 'dropdowns.clear';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[clear] = 'clear',\n    _a[nodata] = 'NO DATA FOUND.',\n    _a);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Popup as PopupComponent } from './Popup';\n/**\n * The PopupPropsContext. It allows to configure the Popup props from a wrapper component.\n *\n * @example\n * ```jsx-no-run\n *  <PopupPropsContext.Provider value={props => ({ ...props, appendTo: document.querySelector('myPopupsContainer') })}>\n *      <DropDownList />\n *      <Editor />\n *  </PopupPropsContext.Provider>\n * ```\n */\nexport var PopupPropsContext = React.createContext(function (props) { return props; });\n/**\n * The KendoReact Popup component.\n */\nexport var Popup = React.forwardRef(function (props, ref) {\n    var contextPropsCallback = React.useContext(PopupPropsContext);\n    var popupProps = contextPropsCallback.call(undefined, props);\n    return (React.createElement(PopupComponent, __assign({ ref: ref }, popupProps)));\n});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Popup } from '@progress/kendo-react-popup';\n/**\n * @hidden\n */\nvar ListContainer = /** @class */ (function (_super) {\n    __extends(ListContainer, _super);\n    function ListContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListContainer.prototype.render = function () {\n        var _a = this.props, children = _a.children, width = _a.width, dir = _a.dir, itemsCount = _a.itemsCount, popupSettings = _a.popupSettings;\n        return (React.createElement(Popup, __assign({ style: { width: width, direction: dir }, contentKey: itemsCount && itemsCount.join() }, popupSettings), children));\n    };\n    return ListContainer;\n}(React.Component));\nexport default ListContainer;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/**\n * @hidden\n */\nvar ListFilter = /** @class */ (function (_super) {\n    __extends(ListFilter, _super);\n    function ListFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListFilter.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"span\", { className: \"k-list-filter\" },\n            React.createElement(\"input\", { ref: function (input) { return _this.input = input; }, value: this.props.value || '', className: \"k-textbox\", onChange: this.props.onChange, onKeyDown: this.props.onKeyDown }),\n            React.createElement(\"span\", { className: \"k-icon k-i-search\" })));\n    };\n    return ListFilter;\n}(React.Component));\nexport default ListFilter;\n","/**\n * @hidden\n */\nvar isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nvar sameCharsOnly = function (word, character) {\n    for (var idx = 0; idx < word.length; idx++) {\n        if (word.charAt(idx) !== character) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @hidden\n */\nvar shuffleData = function (data, splitIndex, defaultItem) {\n    var result = data;\n    if (defaultItem) {\n        result = [defaultItem].concat(result);\n    }\n    return result.slice(splitIndex).concat(result.slice(0, splitIndex));\n};\n/**\n * @hidden\n */\nvar matchText = function (text, word, ignoreCase) {\n    if (!isPresent(text)) {\n        return false;\n    }\n    var temp = String(text);\n    if (ignoreCase) {\n        temp = temp.toLowerCase();\n    }\n    return temp.indexOf(word) === 0;\n};\n/**\n * @hidden\n */\nvar scrollToItem = function (scrollElem, list, itemIndex, translate, virtualScroll) {\n    var viewportHeight = scrollElem.offsetHeight;\n    var li = list.children.item(itemIndex);\n    var itemOffsetTop = li.offsetTop + (virtualScroll ? translate - scrollElem.scrollTop : 0);\n    var itemHeight = li.offsetHeight;\n    if (virtualScroll) {\n        var diff = 0;\n        if (itemOffsetTop + itemHeight > viewportHeight) {\n            diff = itemOffsetTop + itemHeight - viewportHeight;\n        }\n        else if (itemOffsetTop < 0) {\n            diff = itemOffsetTop;\n        }\n        if (diff !== 0) {\n            scrollElem.scrollTop += diff;\n        }\n        else if (scrollElem.scrollTop === 0 && translate !== 0) {\n            scrollElem.scrollTop = translate;\n        }\n    }\n    else {\n        if (itemOffsetTop + itemHeight > viewportHeight + scrollElem.scrollTop) {\n            scrollElem.scrollTop = (itemOffsetTop + itemHeight - viewportHeight);\n        }\n        else if (itemOffsetTop < scrollElem.scrollTop) {\n            scrollElem.scrollTop -= scrollElem.scrollTop - itemOffsetTop;\n        }\n    }\n};\n/**\n * @hidden\n */\nvar itemIndexStartsWith = function (items, text, field) {\n    var result = -1;\n    if (text) {\n        text = text.toLowerCase();\n        for (var i = 0; i < items.length; i++) {\n            var itemText = (getItemValue(items[i], field) || '') + '';\n            if (itemText && itemText.toLowerCase().startsWith(text)) {\n                result = i;\n                break;\n            }\n        }\n    }\n    return result;\n};\n/**\n * @hidden\n */\nvar getItemIndexByText = function (data, text, textField, matchCase) {\n    if (matchCase === void 0) { matchCase = false; }\n    var casing = function (value) { return matchCase ? value : value.toLowerCase(); };\n    return data.findIndex(function (item) {\n        return textField ? casing(getItemValue(item, textField)) === casing(text) :\n            casing(text) === casing(item.toString());\n    });\n};\n/**\n * @hidden\n */\nvar getItemValue = function (item, field) {\n    if (field && isPresent(item)) {\n        var path = field.split('.');\n        var data_1 = item;\n        path.forEach(function (p) {\n            data_1 = data_1 ? data_1[p] : undefined;\n        });\n        return data_1;\n    }\n    return item;\n};\n/**\n * @hidden\n */\nvar matchDataCollections = function (data1, data2, key) {\n    if (data1 === void 0) { data1 = []; }\n    if (data2 === void 0) { data2 = []; }\n    if (data1 === data2) {\n        return true;\n    }\n    if (data1.length !== data2.length) {\n        return false;\n    }\n    for (var i = 0; i < data1.length; i++) {\n        if (!areSame(data1[i], data2[i], key)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @hidden\n */\nvar removeDataItems = function (items, toRemove, key) {\n    toRemove.forEach(function (item) {\n        var itemIndex = items.findIndex(function (i) { return areSame(i, item, key); });\n        if (itemIndex !== -1) {\n            items.splice(itemIndex, 1);\n        }\n    });\n};\n/**\n * @hidden\n */\nvar areSame = function (item1, item2, key) {\n    return item1 === item2 ||\n        (isPresent(item1) === isPresent(item2) && getItemValue(item1, key) === getItemValue(item2, key));\n};\n/**\n * @hidden\n */\nvar getFocusedItem = function (data, value, textField) {\n    if (value) {\n        var selectedIndex = getItemIndexByText(data, value, textField, true);\n        return selectedIndex !== -1 ? data[selectedIndex] : data[itemIndexStartsWith(data, value, textField)];\n    }\n    return data[0];\n};\n/**\n * @hidden\n */\nvar suggestValue = function (value, data, textField) {\n    if (data === void 0) { data = []; }\n    var suggested = '';\n    if (value) {\n        var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n        if (suggestedItem) {\n            var suggestedText = getItemValue(suggestedItem, textField);\n            if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n                suggested = suggestedText.substring(value.length);\n            }\n        }\n    }\n    return suggested;\n};\n/**\n * @hidden\n */\nvar preventDefaultNonInputs = function (event) {\n    if (event.target.nodeName !== 'INPUT') {\n        event.preventDefault();\n    }\n};\n/**\n * @hidden\n */\nvar matchTags = function (tag1, tag2, key) {\n    if (!!tag1 !== !!tag2 || tag1.text !== tag2.text) {\n        return false;\n    }\n    return tag1 === tag2 || matchDataCollections(tag1.data, tag2.data, key);\n};\nexport { isPresent, sameCharsOnly, shuffleData, matchText, scrollToItem, itemIndexStartsWith, getItemIndexByText, getItemValue, matchDataCollections, removeDataItems, areSame, getFocusedItem, preventDefaultNonInputs, suggestValue, matchTags };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\nimport { getItemValue } from './utils';\nvar preventDefault = function (e) { return e.preventDefault(); };\n/**\n * @hidden\n */\nvar ListDefaultItem = /** @class */ (function (_super) {\n    __extends(ListDefaultItem, _super);\n    function ListDefaultItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListDefaultItem.prototype.render = function () {\n        var _a = this.props, selected = _a.selected, defaultItem = _a.defaultItem, textField = _a.textField;\n        return (React.createElement(\"div\", { onClick: this.props.onClick, onMouseDown: preventDefault, className: classNames('k-list-optionlabel', {\n                'k-state-selected': selected\n            }) }, getItemValue(defaultItem, textField) || ''));\n    };\n    return ListDefaultItem;\n}(React.Component));\nexport default ListDefaultItem;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\nimport { getItemValue } from './utils';\n// tslint:enable:max-line-length\n/**\n * @hidden\n */\nvar ListItem = /** @class */ (function (_super) {\n    __extends(ListItem, _super);\n    function ListItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (e) { return _this.props.onClick(_this.props.index, e); };\n        return _this;\n    }\n    ListItem.prototype.render = function () {\n        var _a = this.props, selected = _a.selected, group = _a.group, dataItem = _a.dataItem, renderer = _a.render;\n        var item = (React.createElement(\"li\", { id: this.props.id, role: \"option\", \"aria-selected\": selected, className: classNames('k-item', {\n                'k-state-selected': selected,\n                'k-state-focused': this.props.focused,\n                'k-first': Boolean(group)\n            }), onClick: this.handleClick },\n            getItemValue(dataItem, this.props.textField).toString(),\n            group !== undefined ? React.createElement(\"div\", { className: \"k-group\" }, group) : null));\n        return renderer !== undefined ? renderer.call(undefined, item, this.props) : item;\n    };\n    return ListItem;\n}(React.Component));\nexport default ListItem;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport ListItem from './ListItem';\nimport { areSame, getItemValue } from './utils';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, nodata } from '../messages';\n/**\n * @hidden\n */\nvar List = /** @class */ (function (_super) {\n    __extends(List, _super);\n    function List() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    List.prototype.renderItems = function () {\n        var _this = this;\n        var _a = this.props, textField = _a.textField, valueField = _a.valueField, groupField = _a.groupField, optionsGuid = _a.optionsGuid, _b = _a.skip, skip = _b === void 0 ? 0 : _b, focusedIndex = _a.focusedIndex, _c = _a.highlightSelected, highlightSelected = _c === void 0 ? true : _c, value = _a.value, data = _a.data, itemRender = _a.itemRender;\n        var isArray = Array.isArray(value);\n        return data.map(function (item, index) {\n            var realIndex = skip + index;\n            var selected = highlightSelected &&\n                ((!isArray && areSame(item, value, valueField)) ||\n                    (isArray && value.findIndex(function (i) { return areSame(i, item, valueField); }) !== -1));\n            var group = undefined;\n            var current, previous;\n            if (index > 0 && groupField !== undefined) {\n                current = getItemValue(item, groupField);\n                previous = getItemValue(data[index - 1], groupField);\n                if (current && previous && current !== previous) {\n                    group = current;\n                }\n            }\n            return (React.createElement(ListItem, { id: \"option-\" + optionsGuid + \"-\" + realIndex, dataItem: item, selected: selected, focused: focusedIndex === index, index: realIndex, key: realIndex, onClick: _this.props.onClick, textField: textField, group: group, render: itemRender }));\n        });\n    };\n    List.prototype.renderNoValueElement = function (localizationService) {\n        var noDataRender = this.props.noDataRender;\n        var noDataElement = (React.createElement(\"div\", { className: 'k-nodata' },\n            React.createElement(\"div\", null, localizationService.toLanguageString(nodata, messages[nodata]))));\n        return noDataRender ?\n            noDataRender.call(undefined, noDataElement) : noDataElement;\n    };\n    List.prototype.render = function () {\n        var localizationService = provideLocalizationService(this);\n        var _a = this.props, id = _a.id, show = _a.show, wrapperCssClass = _a.wrapperCssClass, wrapperStyle = _a.wrapperStyle, listStyle = _a.listStyle, listRef = _a.listRef, wrapperRef = _a.wrapperRef, _b = _a.listClassName, listClassName = _b === void 0 ? 'k-list' : _b;\n        var items = this.renderItems();\n        return (items.length ? (React.createElement(\"div\", { className: wrapperCssClass, style: wrapperStyle, ref: wrapperRef, onMouseDown: this.props.onMouseDown, onBlur: this.props.onBlur, onScroll: this.props.onScroll, unselectable: \"on\" },\n            React.createElement(\"ul\", { id: id, role: \"listbox\", \"aria-hidden\": !show ? true : undefined, className: listClassName + ' k-reset', ref: listRef, style: listStyle }, items))) : this.renderNoValueElement(localizationService));\n    };\n    return List;\n}(React.Component));\nexport default List;\nregisterForLocalization(List);\n","var maxHeightIE = 1533915;\n/**\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll() {\n        var _this = this;\n        this.containerHeight = 0;\n        this.skip = 0;\n        this.total = 0;\n        this.enabled = false;\n        this.pageSize = 0;\n        this.itemHeight = 0;\n        this.prevScrollPos = 0;\n        this.listTranslate = 0;\n        this.scrollSyncing = false;\n        this.scrollerRef = function (element) {\n            var vs = _this;\n            vs.container = element;\n            if (element) {\n                element.setAttribute('unselectable', 'on');\n                window.setTimeout(vs.calcScrollElementHeight.bind(vs), 0);\n            }\n        };\n        this.calcScrollElementHeight = function () {\n            _this.scrollSyncing = true;\n            var heightChanged = false;\n            _this.itemHeight = _this.list ? _this.list.children[0].offsetHeight : _this.itemHeight;\n            _this.containerHeight = Math.min(maxHeightIE, _this.itemHeight * _this.total);\n            var newHeight = _this.containerHeight;\n            if (_this.scrollElement) {\n                heightChanged = _this.scrollElement.style.height !== newHeight + 'px';\n                if (heightChanged) {\n                    _this.scrollElement.style.height = newHeight + 'px';\n                }\n            }\n            _this.scrollSyncing = false;\n            return heightChanged;\n        };\n        this.scrollHandler = this.scrollHandler.bind(this);\n    }\n    Object.defineProperty(VirtualScroll.prototype, \"translate\", {\n        get: function () {\n            return this.listTranslate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VirtualScroll.prototype.changePage = function (skip, e) {\n        var newSkip = Math.min(Math.max(0, skip), this.total - this.pageSize);\n        if (newSkip !== this.skip) {\n            this.PageChange({ skip: newSkip, take: this.pageSize }, e);\n        }\n    };\n    VirtualScroll.prototype.translateTo = function (dY) {\n        this.listTranslate = dY;\n        if (this.list) {\n            this.list.style.transform = 'translateY(' + dY + 'px)';\n        }\n    };\n    VirtualScroll.prototype.reset = function () {\n        if (this.container) {\n            this.calcScrollElementHeight();\n            this.container.scrollTop = 0;\n            this.translateTo(0);\n        }\n    };\n    VirtualScroll.prototype.scrollToEnd = function () {\n        if (this.container && this.list) {\n            this.calcScrollElementHeight();\n            this.container.scrollTop = this.container.scrollHeight - this.container.offsetHeight;\n            this.translateTo(this.container.scrollHeight - this.list.offsetHeight);\n        }\n    };\n    VirtualScroll.prototype.localScrollUp = function (e) {\n        var height = this.itemHeight;\n        var scrollTop = this.container.scrollTop;\n        var targetTranslate = this.listTranslate;\n        var items;\n        var additionalOnTop = scrollTop - targetTranslate;\n        if (additionalOnTop > height) {\n            return;\n        }\n        for (items = 0; items < this.skip; items++) {\n            if (targetTranslate + height + additionalOnTop <= scrollTop) {\n                break;\n            }\n            targetTranslate -= height;\n        }\n        targetTranslate = this.validateTranslate(targetTranslate);\n        if (this.skip - items <= 0 && targetTranslate >= scrollTop) {\n            this.translateTo(0);\n            this.changePage(0, e);\n            this.container.scrollTop = 0;\n            return;\n        }\n        if (targetTranslate !== this.listTranslate) {\n            this.translateTo(targetTranslate);\n            this.changePage(this.skip - items, e);\n        }\n    };\n    VirtualScroll.prototype.localScrollDown = function (e) {\n        var height = this.itemHeight;\n        var scrollTop = this.container.scrollTop;\n        var targetTranslate = this.listTranslate;\n        var itemsLenght = this.list.children.length;\n        var items;\n        for (items = 0; items < itemsLenght; items++) {\n            if (targetTranslate + height >= scrollTop) {\n                break;\n            }\n            targetTranslate += height;\n        }\n        targetTranslate = this.validateTranslate(targetTranslate);\n        if (items >= itemsLenght && this.skip + items >= this.total) {\n            this.translateTo(targetTranslate);\n            this.changePage(this.total - 1, e);\n        }\n        else if (targetTranslate !== this.listTranslate) {\n            this.translateTo(targetTranslate);\n            this.changePage(this.skip + items, e);\n        }\n    };\n    VirtualScroll.prototype.scrollNonStrict = function (e) {\n        var floatItemIndex = this.total * this.prevScrollPos / (this.containerHeight);\n        var itemIndex = Math.min(Math.floor(floatItemIndex), this.total - 1);\n        var targetTranslate = this.containerHeight * floatItemIndex / this.total;\n        targetTranslate = this.validateTranslate(targetTranslate);\n        this.translateTo(targetTranslate);\n        this.changePage(itemIndex, e);\n    };\n    VirtualScroll.prototype.scrollHandler = function (e) {\n        var scrollTop = this.container ? this.container.scrollTop : 0;\n        var prev = this.prevScrollPos;\n        this.prevScrollPos = scrollTop;\n        if (!this.enabled || !this.list || !this.container || this.scrollSyncing) {\n            return;\n        }\n        if (scrollTop - prev <= 0 && scrollTop > this.listTranslate - this.list.scrollHeight / 10) {\n            this.localScrollUp(e);\n        }\n        else if (scrollTop - prev > 0 && scrollTop < this.listTranslate + this.list.scrollHeight * 2 / 3) {\n            this.localScrollDown(e);\n        }\n        else {\n            this.scrollNonStrict(e);\n        }\n    };\n    VirtualScroll.prototype.validateTranslate = function (translate) {\n        translate = Math.max(0, translate);\n        translate = Math.min(this.containerHeight - this.list.offsetHeight, translate);\n        return translate;\n    };\n    return VirtualScroll;\n}());\nexport default VirtualScroll;\n","import { isPresent } from './utils';\nimport { Keys } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar Navigation = /** @class */ (function () {\n    function Navigation() {\n    }\n    Navigation.prototype.navigate = function (args) {\n        var keyCode = args.keyCode;\n        if (keyCode === Keys.up || keyCode === Keys.left) {\n            return this.next({ current: args.current, min: args.min, max: args.max, step: -1 });\n        }\n        else if (keyCode === Keys.down || keyCode === Keys.right) {\n            return this.next({ current: args.current, min: args.min, max: args.max, step: 1 });\n        }\n        else if (keyCode === Keys.home) {\n            return 0;\n        }\n        else if (keyCode === Keys.end) {\n            return args.max;\n        }\n    };\n    Navigation.prototype.next = function (args) {\n        if (!isPresent(args.current)) {\n            return args.min;\n        }\n        else {\n            return Math.min(args.max, Math.max(args.current + args.step, args.min));\n        }\n    };\n    return Navigation;\n}());\nexport { Navigation };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport VirtualScroll from './VirtualScroll';\nimport { Navigation } from './Navigation';\nimport { scrollToItem, areSame } from './utils';\nimport { guid } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DropDownBase = /** @class */ (function () {\n    function DropDownBase(component) {\n        var _this = this;\n        this.vs = new VirtualScroll();\n        this.navigation = new Navigation();\n        this.handleItemClick = function (index, event) {\n            var state = _this.initState();\n            state.syntheticEvent = event;\n            _this.component.handleItemSelect(index, state);\n            _this.togglePopup(state);\n            _this.applyState(state);\n        };\n        this.handleFocus = function (event) {\n            if (!_this.component.state.focused) {\n                var state = _this.initState();\n                state.data.focused = true;\n                state.events.push({ type: 'onFocus' });\n                state.syntheticEvent = event;\n                _this.applyState(state);\n            }\n        };\n        this.filterChanged = function (text, state) {\n            var _a = _this.component.props, textField = _a.textField, filterable = _a.filterable;\n            if (filterable) {\n                state.events.push({\n                    type: 'onFilterChange',\n                    filter: {\n                        field: textField,\n                        operator: 'contains',\n                        ignoreCase: true,\n                        value: text\n                    }\n                });\n            }\n        };\n        this.togglePopup = function (state) {\n            var props = _this.component.props;\n            var opened = props.opened !== undefined ? props.opened : _this.component.state.opened;\n            if (props.opened === undefined) {\n                state.data.opened = !opened;\n            }\n            if (opened) {\n                state.events.push({ type: 'onClose' });\n            }\n            else {\n                state.events.push({ type: 'onOpen' });\n                _this.calculatePopupWidth();\n            }\n        };\n        this.pageChange = function (page, syntheticEvent) {\n            var state = _this.initState();\n            state.syntheticEvent = syntheticEvent;\n            _this.triggerOnPageChange(state, page.skip, page.take);\n            _this.applyState(state);\n        };\n        this.scrollToVirtualItem = function (virtual, selectedItemIndex) {\n            var vs = _this.vs;\n            vs.enabled = false;\n            if (virtual.skip === 0) {\n                vs.reset();\n            }\n            else if (virtual.skip + virtual.pageSize === virtual.total) {\n                vs.scrollToEnd();\n            }\n            else {\n                var scrollTop = vs.translate;\n                if (scrollTop === 0) {\n                    vs.calcScrollElementHeight();\n                    scrollTop = (vs.itemHeight * virtual.skip);\n                    vs.translateTo(scrollTop - vs.itemHeight);\n                }\n                if (vs.container) {\n                    vs.container.scrollTop = scrollTop;\n                }\n                _this.scrollToItem(selectedItemIndex, true);\n            }\n            window.setTimeout(function () { return vs.enabled = true; }, 10);\n        };\n        // Common rendering\n        this.renderScrollWrapper = function (children, onScroll) {\n            var popupSettings = _this.getPopupSettings();\n            var vs = _this.vs;\n            return vs.enabled ? (React.createElement(\"div\", { onScroll: function (e) {\n                    vs.scrollHandler(e);\n                    if (onScroll) {\n                        onScroll.call(undefined, e);\n                    }\n                }, ref: vs.scrollerRef, style: {\n                    height: popupSettings.height,\n                    overflowY: 'scroll'\n                } }, children)) :\n                (children);\n        };\n        this.renderScrollElement = function () {\n            var vs = _this.vs;\n            return vs.enabled && (React.createElement(\"div\", { ref: function (element) { return vs.scrollElement = element; }, key: 'scrollElementKey' }));\n        };\n        this.listBoxId = guid();\n        this.guid = guid();\n        this.component = component;\n        this.vs.PageChange = this.pageChange;\n    }\n    DropDownBase.prototype.didMount = function () {\n        var props = this.component.props;\n        var popupSettings = props.popupSettings || {};\n        var style = props.style || {};\n        var popupWidth = popupSettings.width;\n        var shouldUpdate = props.opened === true;\n        if (popupWidth === undefined) {\n            this.calculatePopupWidth();\n        }\n        if (props.dir === undefined && style.direction === undefined) {\n            this.calculateDir();\n            shouldUpdate = true;\n        }\n        if (shouldUpdate) {\n            this.component.forceUpdate();\n        }\n    };\n    DropDownBase.prototype.calculateDir = function () {\n        var element = this.component.element;\n        if (element && element.ownerDocument && element.ownerDocument.defaultView) {\n            this.dirCalculated = element.ownerDocument.defaultView.getComputedStyle(element).direction || undefined;\n        }\n    };\n    DropDownBase.prototype.calculatePopupWidth = function () {\n        if (this.wrapper) {\n            this.popupWidth = this.wrapper.offsetWidth + 'px';\n        }\n    };\n    DropDownBase.prototype.scrollToItem = function (itemIndex, vsEnabled) {\n        var list = this.list || this.vs.list;\n        if (list && itemIndex >= 0) {\n            var vs = this.vs;\n            var scrollElement = (vs.container || list.parentNode);\n            var virtualScroll = vsEnabled !== undefined ? vsEnabled : vs.enabled;\n            scrollToItem(scrollElement, list, itemIndex, vs.translate, virtualScroll);\n        }\n    };\n    DropDownBase.prototype.initState = function () {\n        var state = {\n            data: {},\n            events: [],\n            syntheticEvent: undefined\n        };\n        return state;\n    };\n    DropDownBase.prototype.applyState = function (state) {\n        var _this = this;\n        if (Object.keys(state.data).length > 0) {\n            this.component.setState(state.data);\n        }\n        var eventArgs = {\n            syntheticEvent: state.syntheticEvent,\n            nativeEvent: state.syntheticEvent ? state.syntheticEvent.nativeEvent : undefined,\n            target: this.component,\n            value: this.component.value\n        };\n        state.events.forEach(function (eventData) {\n            var type = eventData.type;\n            delete eventData.type;\n            var handler = type && _this.component.props[type];\n            if (handler) {\n                handler.call(undefined, __assign({}, eventArgs, eventData));\n            }\n        });\n    };\n    DropDownBase.prototype.triggerOnPageChange = function (state, skip, take) {\n        var virtual = this.component.props.virtual;\n        if (virtual) {\n            var newSkip = Math.min(Math.max(0, skip), Math.max(0, virtual.total - take));\n            if (newSkip !== virtual.skip) {\n                state.events.push({\n                    type: 'onPageChange',\n                    page: { skip: newSkip, take: take }\n                });\n            }\n        }\n    };\n    DropDownBase.prototype.triggerPageChangeCornerItems = function (item, state) {\n        var props = this.component.props;\n        var _a = props.data, data = _a === void 0 ? [] : _a, dataItemKey = props.dataItemKey, virtual = props.virtual;\n        var opened = props.opened !== undefined ? props.opened : this.component.state.opened;\n        if (item && virtual && this.vs.enabled) {\n            if (virtual.skip > 0 && areSame(item, data[0], dataItemKey)) {\n                this.triggerOnPageChange(state, virtual.skip - 1, virtual.pageSize);\n            }\n            else if (!opened && virtual.skip + virtual.pageSize < virtual.total &&\n                areSame(item, data[data.length - 1], dataItemKey)) {\n                this.triggerOnPageChange(state, virtual.skip + 1, virtual.pageSize);\n            }\n        }\n    };\n    DropDownBase.prototype.getPopupSettings = function () {\n        return Object\n            .assign({}, DropDownBase.defaultProps.popupSettings, this.component.props.popupSettings);\n    };\n    DropDownBase.basicPropTypes = {\n        opened: PropTypes.bool,\n        disabled: PropTypes.bool,\n        dir: PropTypes.string,\n        tabIndex: PropTypes.number,\n        accessKey: PropTypes.string,\n        data: PropTypes.array,\n        textField: PropTypes.string,\n        className: PropTypes.string,\n        label: PropTypes.string,\n        loading: PropTypes.bool,\n        popupSettings: PropTypes.shape({\n            animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n                    openDuration: PropTypes.number,\n                    closeDuration: PropTypes.number\n                })]),\n            popupClass: PropTypes.string,\n            className: PropTypes.string,\n            appendTo: PropTypes.any,\n            width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            height: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n        }),\n        onOpen: PropTypes.func,\n        onClose: PropTypes.func,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        itemRender: PropTypes.func,\n        listNoDataRender: PropTypes.func,\n        focusedItemIndex: PropTypes.func,\n        header: PropTypes.node,\n        footer: PropTypes.node\n    };\n    DropDownBase.propTypes = __assign({}, DropDownBase.basicPropTypes, { value: PropTypes.any, defaultValue: PropTypes.any, filterable: PropTypes.bool, filter: PropTypes.string, virtual: PropTypes.shape({\n            pageSize: PropTypes.number.isRequired,\n            skip: PropTypes.number.isRequired,\n            total: PropTypes.number.isRequired\n        }), onFilterChange: PropTypes.func, onPageChange: PropTypes.func });\n    DropDownBase.defaultProps = {\n        popupSettings: {\n            height: '200px'\n        },\n        required: false,\n        validityStyles: true\n    };\n    return DropDownBase;\n}());\nexport default DropDownBase;\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-dropdowns',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344816,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, getTabIndex } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    function DropDownList(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this.searchState = { word: '', last: '' };\n        _this._skipFocusEvent = false;\n        _this._filterInput = null;\n        _this._navigated = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.base.wrapper) {\n                _this.base.wrapper.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey, defaultItem = _a.defaultItem;\n            var skip = virtual ? virtual.skip : 0;\n            var item = (index === -1 && defaultItem !== undefined) ?\n                defaultItem : data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.renderDropDownWrapper = function () {\n            var _a = _this.props, dataItemKey = _a.dataItemKey, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, disabled = _a.disabled, tabIndex = _a.tabIndex, loading = _a.loading, iconClassName = _a.iconClassName, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, valueRender = _a.valueRender;\n            var focused = _this.state.focused;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var value = _this.value;\n            var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n            var text = getItemValue(value, textField);\n            var valueDefaultRendering = (React.createElement(\"span\", { className: \"k-input\" }, text));\n            var valueElement = valueRender !== undefined ?\n                valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n            return (React.createElement(\"span\", { ref: function (el) { return _this.base.wrapper = el; }, role: 'listbox', tabIndex: getTabIndex(tabIndex, disabled), accessKey: _this.props.accessKey, className: classNames('k-dropdown-wrap', {\n                    'k-state-focused': focused,\n                    'k-state-disabled': disabled\n                }), onKeyDown: _this.handleKeyDown, onKeyPress: _this.handleKeyPress, onClick: disabled ? undefined : _this.handleWrapperClick, \"aria-disabled\": disabled || undefined, \"aria-haspopup\": true, \"aria-expanded\": opened || false, \"aria-owns\": _this.base.listBoxId, \"aria-activedescendant\": opened ? ('option-' + _this.base.guid + '-' + (selectedIndex + virtual.skip)) : undefined, \"aria-label\": _this.props.label, \"aria-labelledby\": _this.props.ariaLabelledBy, \"aria-describedby\": _this.props.ariaDescribedBy, id: _this.props.id, title: _this.props.title },\n                valueElement,\n                React.createElement(\"span\", { className: \"k-select\" },\n                    React.createElement(\"span\", { className: classNames('k-icon', iconClassName, {\n                            'k-i-arrow-s': !loading && !iconClassName,\n                            'k-i-loading': loading && !iconClassName\n                        }) })),\n                _this.dummySelect(value)));\n        };\n        _this.dummySelect = function (value) {\n            /* Dummy component to support forms */\n            return (React.createElement(\"select\", { name: _this.props.name, ref: function (el) { _this._select = el; }, tabIndex: -1, \"aria-hidden\": true, title: _this.props.label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value })));\n        };\n        _this.renderListContainer = function () {\n            var _a = _this.props, header = _a.header, footer = _a.footer, dir = _a.dir, _b = _a.data, data = _b === void 0 ? [] : _b;\n            var base = _this.base;\n            var popupSettings = base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var virtual = _this.props.virtual !== undefined;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: popupSettings.popupClass,\n                    className: classNames('k-list-container k-reset', popupSettings.className),\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length]\n            };\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                _this.renderListFilter(),\n                virtual && _this.renderDefaultItem(),\n                virtual && header,\n                _this.base.renderScrollWrapper(React.createElement(React.Fragment, null,\n                    !virtual && _this.renderDefaultItem(),\n                    !virtual && header,\n                    _this.renderList(),\n                    !virtual && footer,\n                    _this.base.renderScrollElement())),\n                virtual && footer));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n            var vs = _this.base.vs;\n            var skip = virtual.skip;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\" + vs.translate + \"px)\";\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: _this.focusedIndex(), value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { return vs.list = _this.base.list = list; }, wrapperStyle: !vs.enabled ?\n                    { maxHeight: popupSettings.height } : { float: 'left', width: '100%' }, wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined, listStyle: vs.enabled ?\n                    { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender }));\n        };\n        _this.renderListFilter = function () {\n            var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            return _this.props.filterable && (React.createElement(ListFilter, { value: filterText, ref: function (filter) { return _this._filterInput = filter && filter.input; }, onChange: _this.handleListFilterChange, onKeyDown: _this.handleKeyDown }));\n        };\n        _this.renderDefaultItem = function () {\n            var _a = _this.props, textField = _a.textField, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey;\n            return defaultItem !== undefined && (React.createElement(ListDefaultItem, { defaultItem: defaultItem, textField: textField, selected: areSame(_this.value, defaultItem, dataItemKey), key: \"defaultitemkey\", onClick: _this.handleDefaultItemClick }));\n        };\n        _this.search = function (event) {\n            clearTimeout(_this._typingTimeout);\n            if (!_this.props.filterable) {\n                _this._typingTimeout = window.setTimeout(function () { return _this.searchState.word = ''; }, _this.props.delay);\n                _this.selectNext(event);\n            }\n        };\n        _this.selectNext = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var mappedData = data.map(function (item, idx) {\n                return { item: item, itemIndex: idx };\n            });\n            var word = _this.searchState.word;\n            var last = _this.searchState.last;\n            var isInLoop = sameCharsOnly(word, last);\n            var dataLength = mappedData.length;\n            var startIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, _this.value, dataItemKey); }));\n            var defaultItem;\n            if (_this.props.defaultItem) {\n                defaultItem = { item: _this.props.defaultItem, itemIndex: -1 };\n                dataLength += 1;\n                startIndex += 1;\n            }\n            startIndex += isInLoop ? 1 : 0;\n            mappedData = shuffleData(mappedData, startIndex, defaultItem);\n            var text, loopMatch, nextMatch, index = 0;\n            var _c = _this.props, textField = _c.textField, ignoreCase = _c.ignoreCase;\n            for (; index < dataLength; index++) {\n                text = getItemValue(mappedData[index].item, textField);\n                loopMatch = isInLoop && matchText(text, last, ignoreCase);\n                nextMatch = matchText(text, word, ignoreCase);\n                if (loopMatch || nextMatch) {\n                    index = mappedData[index].itemIndex;\n                    break;\n                }\n            }\n            if (index !== dataLength) {\n                var state = _this.base.initState();\n                state.syntheticEvent = event;\n                _this.handleItemSelect(index, state);\n                _this.applyState(state);\n                _this._valueDuringOnChange = undefined;\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, filterable = _a.filterable, disabled = _a.disabled, _c = _a.leftRightKeysNavigation, leftRightKeysNavigation = _c === void 0 ? true : _c, _d = _a.virtual, virtual = _d === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _d;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var keyCode = event.keyCode;\n            var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n            var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n            var shouldOpen = !opened &&\n                ((event.altKey && keyCode === Keys.down) || keyCode === Keys.enter || keyCode === Keys.space);\n            var shouldClose = opened && ((event.altKey && keyCode === Keys.up) || keyCode === Keys.esc);\n            var leftOrRightKeys = leftRightKeysNavigation && (keyCode === Keys.left || keyCode === Keys.right);\n            var shouldNavigate = upOrDownKeys || (!filterable && (leftOrRightKeys || homeOrEndKeys));\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (disabled) {\n                return;\n            }\n            else if (homeOrEndKeys && _this.base.vs.enabled) {\n                if (keyCode === Keys.home) {\n                    if (virtual.skip !== 0) {\n                        _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[0], state);\n                    }\n                }\n                else {\n                    if (virtual.skip < virtual.total - virtual.pageSize) {\n                        _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[data.length - 1], state);\n                    }\n                }\n            }\n            else if (opened && keyCode === Keys.enter) {\n                var focusedIndex = _this.focusedIndex();\n                if (focusedIndex !== undefined) {\n                    _this.handleItemSelect(focusedIndex, state);\n                }\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldOpen || shouldClose) {\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldNavigate) {\n                _this.onNavigate(state, keyCode);\n                event.preventDefault();\n            }\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.handleBlur = function (event) {\n            if (_this._skipFocusEvent || !_this.state.focused) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.handleDefaultItemClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.triggerOnChange(_this.props.defaultItem, state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleKeyPress = function (event) {\n            if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n                return;\n            }\n            var character = String.fromCharCode(event.charCode || event.keyCode);\n            if (_this.props.ignoreCase) {\n                character = character.toLowerCase();\n            }\n            if (character === ' ') {\n                event.preventDefault();\n            }\n            _this.searchState = {\n                word: _this.searchState.word + character,\n                last: _this.searchState.last + character\n            };\n            _this.search(event);\n        };\n        _this.handleListFilterChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = event.target.value;\n            }\n            _this.base.filterChanged(event.target.value, state);\n            _this.applyState(state);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._filterInput) {\n                _this.focusElement(_this._filterInput);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () {\n                    if (_this.state.focused && _this.base.wrapper) {\n                        _this.focusElement(_this.base.wrapper);\n                    }\n                });\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._select && _this._select.setCustomValidity) {\n                _this._select.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(DropDownList.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"actionElement\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.base.wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"value\", {\n        /**\n         * The value of the DropDownList.\n         */\n        get: function () {\n            var value;\n            if (this._valueDuringOnChange !== undefined) {\n                value = this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                value = this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                value = this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                value = this.props.defaultValue;\n            }\n            if (!isPresent(value) && this.props.defaultItem !== undefined) {\n                value = this.props.defaultItem;\n            }\n            return value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DropDownList.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DropDownList is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DropDownList.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DropDownList.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        if (!this.base.getPopupSettings().animate) {\n            if (opening) {\n                this.onPopupOpened();\n            }\n            else if (closing) {\n                // this.onPopupClosed();\n            }\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var selectedItem_1 = this.value;\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem_1, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && this._navigated) {\n                if (this._navigated && virtual && virtual.skip === 0) {\n                    this.base.vs.reset();\n                }\n                else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n                    this.base.vs.scrollToEnd();\n                }\n            }\n        }\n        this._navigated = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, style = _a.style, className = _a.className, label = _a.label, dir = _a.dir, virtual = _a.virtual;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = getItemValue(this.value, this.props.textField);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var base = this.base;\n        var vs = base.vs;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            base.vs.skip = virtual.skip;\n            base.vs.total = virtual.total;\n            base.vs.pageSize = virtual.pageSize;\n        }\n        var dropdownlist = (React.createElement(\"span\", { ref: function (dropdown) { return _this._element = dropdown; }, className: classNames('k-widget k-dropdown', {\n                'k-state-invalid': !isValid\n            }, className), style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir, onMouseDown: opened ? preventDefaultNonInputs : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur },\n            this.renderDropDownWrapper(),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorValue: text, editorValid: isValid, editorDisabled: this.props.disabled, style: { width: style ? style.width : undefined }, children: dropdownlist })) : dropdownlist;\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _c;\n        var vs = this.base.vs;\n        var value = this.value;\n        var index = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var newIndex = this.base.navigation.navigate({\n            current: virtual.skip + index,\n            max: (vs.enabled ? virtual.total : data.length) - 1,\n            min: defaultItem !== undefined ? -1 : 0,\n            keyCode: keyCode\n        });\n        if (newIndex !== undefined) {\n            this.handleItemSelect(newIndex, state);\n        }\n        this.applyState(state);\n    };\n    DropDownList.prototype.focusedIndex = function () {\n        var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, dataItemKey = _a.dataItemKey, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var value = this.value;\n        var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n        if (!hasSelected && filterText && virtual.skip === 0) {\n            return focusedItemIndex ? focusedItemIndex(data, filterText, textField) :\n                data.indexOf(getFocusedItem(data, filterText, textField));\n        }\n        else {\n            return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n        }\n    };\n    DropDownList.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 30);\n    };\n    DropDownList.prototype.triggerOnChange = function (item, state) {\n        if (areSame(this.value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    DropDownList.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.propTypes = __assign({ delay: PropTypes.number, ignoreCase: PropTypes.bool, iconClassName: PropTypes.string, defaultItem: PropTypes.any, valueRender: PropTypes.func, valueMap: PropTypes.func, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, leftRightKeysNavigation: PropTypes.bool, title: PropTypes.string }, DropDownBase.propTypes);\n    /**\n     * @hidden\n     */\n    DropDownList.defaultProps = __assign({ delay: 500, tabIndex: 0, ignoreCase: true }, DropDownBase.defaultProps, { required: false });\n    return DropDownList;\n}(React.Component));\nexport default DropDownList;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, clear } from '../messages';\n/**\n * @hidden\n */\nvar ClearButton = /** @class */ (function (_super) {\n    __extends(ClearButton, _super);\n    function ClearButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) { return e.preventDefault(); };\n        return _this;\n    }\n    ClearButton.prototype.render = function () {\n        var title = provideLocalizationService(this).toLanguageString(clear, messages[clear]);\n        return (React.createElement(\"span\", { className: \"k-icon k-clear-value k-i-close\", role: \"button\", onClick: this.props.onClick, onMouseDown: this.onMouseDown, tabIndex: -1, title: title, key: \"clearbutton\" }));\n    };\n    return ClearButton;\n}(React.Component));\nexport default ClearButton;\nregisterForLocalization(ClearButton);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport ClearButton from './ClearButton';\n/**\n * @hidden\n */\nvar SearchBar = /** @class */ (function (_super) {\n    __extends(SearchBar, _super);\n    function SearchBar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SearchBar.prototype, \"input\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchBar.prototype.componentDidUpdate = function (prevProps) {\n        var prevValue = prevProps.value;\n        var prevSuggestedText = prevProps.suggestedText;\n        var _a = this.props, value = _a.value, suggestedText = _a.suggestedText, focused = _a.focused;\n        var input = this.input;\n        var valueChanged = prevValue !== value || suggestedText !== prevSuggestedText;\n        var deleting = valueChanged && prevValue.startsWith(value) &&\n            !(prevSuggestedText && suggestedText && prevSuggestedText.endsWith(suggestedText));\n        if (focused && input && document.activeElement !== input) {\n            input.focus();\n        }\n        if (suggestedText && valueChanged && !deleting && input) {\n            input.setSelectionRange(value.length - suggestedText.length, value.length);\n        }\n    };\n    SearchBar.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, _b = _a.expanded, expanded = _b === void 0 ? false : _b, disabled = _a.disabled, _c = _a.role, role = _c === void 0 ? 'listbox' : _c, render = _a.render;\n        var searchbar = (React.createElement(\"span\", { className: \"k-searchbar\", key: \"searchbar\" },\n            React.createElement(\"input\", { autoComplete: \"off\", id: this.props.id, type: \"text\", size: this.props.size, placeholder: this.props.placeholder, className: \"k-input\", tabIndex: this.props.tabIndex, accessKey: this.props.accessKey, role: role, name: this.props.name, value: this.props.value, onChange: this.props.onChange, ref: function (input) { return _this._input = input; }, onKeyDown: this.props.onKeyDown, onFocus: this.props.onFocus, onBlur: this.props.onBlur, \"aria-disabled\": disabled || undefined, disabled: disabled || undefined, readOnly: this.props.readOnly || undefined, \"aria-haspopup\": \"listbox\", \"aria-expanded\": expanded, \"aria-owns\": this.props.owns, \"aria-activedescendant\": expanded ? this.props.activedescendant : undefined, \"aria-describedby\": this.props.ariaDescribedBy, \"aria-labelledby\": this.props.ariaLabelledBy })));\n        return [\n            (render ? render.call(undefined, searchbar) : searchbar),\n            !this.props.loading && this.props.clearButton && React.createElement(ClearButton, { onClick: this.props.clearButtonClick, key: \"clearbutton\" }),\n            this.props.loading && React.createElement(\"span\", { className: \"k-icon k-i-loading\", key: \"loading\" })\n        ];\n    };\n    return SearchBar;\n}(React.Component));\nexport default SearchBar;\n","/**\n * @hidden\n */\nexport var ActiveDescendant;\n(function (ActiveDescendant) {\n    ActiveDescendant[ActiveDescendant[\"PopupList\"] = 0] = \"PopupList\";\n    ActiveDescendant[ActiveDescendant[\"TagsList\"] = 1] = \"TagsList\";\n})(ActiveDescendant || (ActiveDescendant = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    function ComboBox(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._inputId = guid();\n        _this._suggested = '';\n        _this.itemHeight = 0;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey;\n            var skip = virtual ? virtual.skip : 0;\n            var item = data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (_this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.toggleBtnClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.onScroll = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, groupField = _a.groupField;\n            if (!groupField || !data.length) {\n                return;\n            }\n            var _c = _this.base, vs = _c.vs, list = _c.list;\n            var itemHeight = _this.itemHeight =\n                _this.itemHeight || (vs.enabled ? vs.itemHeight : (list ? list.children[0].offsetHeight : 0));\n            var target = event.target;\n            var scrollTop = target.scrollTop - (vs.skip * itemHeight);\n            var group = data[0][groupField];\n            for (var i = 1; i < data.length; i++) {\n                if (itemHeight * i > scrollTop) {\n                    break;\n                }\n                if (data[i] && data[i][groupField]) {\n                    group = data[i][groupField];\n                }\n            }\n            if (group !== _this.state.group) {\n                _this.setState({\n                    group: group\n                });\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n            }\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                _this.onNavigate(state, keyCode);\n                _this.applyState(state);\n                return;\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    _this.applyValueOnEnter(event.currentTarget.value, state);\n                }\n                else if (keyCode === Keys.esc) {\n                    _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.inputOnChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = event.currentTarget;\n            var value = input.value;\n            if (_this.props.suggest) {\n                var selectionAtEnd = input.selectionEnd === value.length;\n                var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n                if (!isPresent(prevText)) {\n                    prevText = getItemValue(_this.value, _this.props.textField) || '';\n                }\n                var deletedSuggestion = prevText && prevText === value;\n                var deleting = prevText && prevText.length > value.length;\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n            }\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            _this._suggested = '';\n            _this.base.filterChanged('', state);\n            if (_this.props.filter === undefined && _this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            _this.triggerOnChange(null, state);\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(ComboBox.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"value\", {\n        /**\n         * The value of the ComboBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the ComboBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the component is set.\n         */\n        get: function () {\n            // remove the undefined check when this is fixed:\n            // https://github.com/telerik/kendo-react-private/issues/252\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : ComboBox.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : ComboBox.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var selectedItem = this.value;\n        this._valueOnDidUpdate = selectedItem;\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n        }\n        if (opening && this._input) {\n            this._input.focus();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, _b = _a.clearButton, clearButton = _b === void 0 ? ComboBox.defaultProps.clearButton : _b, label = _a.label, textField = _a.textField, className = _a.className, style = _a.style, loading = _a.loading, iconClassName = _a.iconClassName, virtual = _a.virtual;\n        var focused = this.state.focused;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var inputText = isPresent(text) ? text : selectedItemText;\n        var renderClearButton = clearButton && (!!(inputText) || isPresent(this.value));\n        var base = this.base;\n        var vs = base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var combobox = (React.createElement(\"span\", { className: classNames('k-widget k-combobox', {\n                'k-combobox-clearable': clearButton,\n                'k-state-invalid': !isValid\n            }, className), ref: function (element) { return _this._element = element; }, style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir },\n            React.createElement(\"span\", { ref: function (wrapper) { return base.wrapper = wrapper; }, className: classNames('k-dropdown-wrap', {\n                    'k-state-disabled': disabled,\n                    'k-state-focused': focused && !disabled\n                }) },\n                this.renderSearchBar(renderClearButton, inputText || '', id),\n                React.createElement(\"span\", { className: \"k-select\", onClick: this.toggleBtnClick, onMouseDown: function (e) { return e.preventDefault(); } },\n                    React.createElement(\"span\", { className: classNames('k-icon', iconClassName, {\n                            'k-i-arrow-s': !loading && !iconClassName,\n                            'k-i-loading': loading && !iconClassName\n                        }) }))),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: inputText, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: combobox }))\n            : combobox;\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        var focusedIndex = this.getFocusedIndex();\n        var vs = this.base.vs;\n        var value = this.value;\n        this._suggested = '';\n        if (focusedIndex !== -1 && !isPresent(value)) {\n            this.handleItemSelect(focusedIndex, state);\n        }\n        else if (text === '') {\n            this.handleItemSelect(0, state);\n        }\n        else {\n            var currentIndex = virtual.skip + focusedIndex;\n            var newIndex = this.base.navigation.navigate({\n                keyCode: keyCode,\n                current: currentIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: 0\n            });\n            if (newIndex !== undefined) {\n                this.handleItemSelect(newIndex, state);\n            }\n        }\n    };\n    ComboBox.prototype.applyValueOnEnter = function (value, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var currentValueText = getItemValue(this.value, textField);\n        var valueIndex = currentValueText === value ?\n            this.index : getItemIndexByText(data, value, textField);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = undefined;\n        this._suggested = '';\n        if (itemSelected) { // typed text match item from list\n            newSelected = data[valueIndex];\n        }\n        else {\n            if (allowCustom) { // any custom text not in list\n                newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n            }\n            else {\n                return this.selectFocusedItem(value, state);\n            }\n        }\n        this.triggerOnChange(newSelected, state);\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        if (this.props.filter === undefined && this.state.text !== undefined) {\n            state.data.text = undefined;\n        }\n        this.applyState(state);\n    };\n    ComboBox.prototype.applyValueOnRejectSuggestions = function (text, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var valueItemText = getItemValue(this.value, textField);\n        this._suggested = '';\n        if (text === valueItemText || (text === '' && !isPresent(valueItemText))) {\n            if (opened) {\n                this.base.togglePopup(state);\n            }\n            return this.applyState(state);\n        }\n        var valueIndex = getItemIndexByText(data, text, textField, true);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = null;\n        if (itemSelected) {\n            newSelected = data[valueIndex];\n        }\n        else if (allowCustom) {\n            newSelected = text ? (textField ? (_a = {}, _a[textField] = text, _a) : text) : null;\n        }\n        this.triggerOnChange(newSelected, state);\n        if (this.state.text !== undefined) {\n            state.data.text = undefined;\n            this.base.filterChanged('', state);\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    ComboBox.prototype.selectFocusedItem = function (text, state) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var skip = virtual.skip;\n        var focusedIndex = (text === '' && skip === 0) ? 0 :\n            focusedItemIndex(data, text, textField);\n        if (focusedIndex !== -1) {\n            this.handleItemSelect(focusedIndex + skip, state);\n        }\n        else {\n            this.triggerOnChange(null, state);\n            if (this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        return this.applyState(state);\n    };\n    ComboBox.prototype.renderListContainer = function () {\n        var base = this.base;\n        var _a = this.props, dir = _a.dir, header = _a.header, footer = _a.footer, _b = _a.data, data = _b === void 0 ? [] : _b, groupField = _a.groupField;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupSettings = base.getPopupSettings();\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        var group = this.state.group;\n        if (group === undefined && groupField !== undefined) {\n            group = getItemValue(data[0], groupField);\n        }\n        return (React.createElement(ListContainer, { width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element,\n                show: opened,\n                popupClass: popupSettings.popupClass,\n                className: classNames('k-list-container k-reset', popupSettings.className),\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated, itemsCount: [data.length] },\n            header,\n            group && React.createElement(\"div\", { className: \"k-group-header\" }, group),\n            base.renderScrollWrapper([this.renderList(), base.renderScrollElement()], this.onScroll),\n            footer));\n    };\n    ComboBox.prototype.renderList = function () {\n        var _this = this;\n        var base = this.base;\n        var _a = this.props, textField = _a.textField, dataItemKey = _a.dataItemKey, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var popupSettings = base.getPopupSettings();\n        var vs = base.vs;\n        var skip = virtual.skip;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var translate = \"translateY(\" + vs.translate + \"px)\";\n        var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n        var ListComponent = this.props.list || List;\n        return (React.createElement(ListComponent, { id: base.listBoxId, show: opened, data: data, focusedIndex: focusedIndex, value: value, textField: textField, valueField: dataItemKey, groupField: this.props.groupField, optionsGuid: base.guid, listRef: function (list) { vs.list = _this.base.list = list; _this.itemHeight = 0; }, wrapperStyle: !vs.enabled ?\n                { maxHeight: popupSettings.height } : { float: 'left', width: '100%' }, wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined, listStyle: vs.enabled ?\n                { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: function (e) { return e.preventDefault(); }, onScroll: this.onScroll }));\n    };\n    ComboBox.prototype.renderSearchBar = function (clearButton, text, id) {\n        var _this = this;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var value = this.value;\n        var selectedIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, value, dataItemKey); }));\n        if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n            this._suggested = '';\n        }\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: text + this._suggested, suggestedText: this._suggested, ref: function (el) { return _this._input = el && el.input; }, onKeyDown: this.onInputKeyDown, onChange: this.inputOnChange, onFocus: this.base.handleFocus, onBlur: this.handleBlur, disabled: disabled, expanded: opened, owns: this.base.listBoxId, activedescendant: this.base.guid + '-' + (selectedIndex + virtual.skip), role: \"combobox\", clearButton: clearButton, clearButtonClick: this.clearButtonClick, ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy, render: this.props.valueRender }));\n    };\n    ComboBox.prototype.triggerOnChange = function (item, state) {\n        var value = this.value;\n        if ((!isPresent(value) && !isPresent(item)) || areSame(value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    ComboBox.prototype.getFocusedIndex = function () {\n        var value = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        if (isPresent(value) && text === undefined) {\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        }\n        else if (text) {\n            return focusedItemIndex(data, text, textField);\n        }\n        else {\n            return virtual.skip === 0 ? 0 : -1;\n        }\n    };\n    ComboBox.prototype.suggestValue = function (value) {\n        var _a = this.props, data = _a.data, textField = _a.textField;\n        this._suggested = suggestValue(value, data, textField);\n    };\n    ComboBox.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.propTypes = __assign({}, DropDownBase.propTypes, { dataItemKey: PropTypes.string, groupField: PropTypes.string, suggest: PropTypes.bool, placeholder: PropTypes.string, allowCustom: PropTypes.bool, clearButton: PropTypes.bool, iconClassName: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, list: PropTypes.any, valueRender: PropTypes.func });\n    /**\n     * @hidden\n     */\n    ComboBox.defaultProps = __assign({}, DropDownBase.defaultProps, { allowCustom: false, clearButton: true, required: false });\n    return ComboBox;\n}(React.Component));\nexport default ComboBox;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport SearchBar from './../common/SearchBar';\nimport ListContainer from './../common/ListContainer';\nimport List from './../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { itemIndexStartsWith, getItemValue, areSame, getFocusedItem } from '../common/utils';\nimport { guid, Keys, classNames } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact AutoComplete component]({% slug overview_autocomplete %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    autocomplete = null;\n *    render() {\n *       return (\n *          <div>\n *              <AutoComplete\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.autocomplete = component}\n *              />\n *              <button onClick={() => alert(this.autocomplete.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    function AutoComplete(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._inputId = guid();\n        _this._suggested = '';\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props.data, data = _a === void 0 ? [] : _a;\n            var newText = getItemValue(data[index], _this.props.textField);\n            _this.triggerOnChange(newText, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var focusedItem = data[index];\n            if (!areSame(_this.state.focusedItem, focusedItem, textField)) {\n                state.data.focusedItem = focusedItem;\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.togglePopup = function (state) {\n            _this.base.togglePopup(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.onChangeHandler = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var input = event.currentTarget;\n            var value = input.value;\n            var selectionAtEnd = input.selectionEnd === value.length;\n            state.syntheticEvent = event;\n            var prevSuggestion = _this._suggested;\n            var prevValue = _this.value;\n            var prevUserInput = prevValue &&\n                prevValue.substring(0, prevValue.length - prevSuggestion.length);\n            var deletedSuggestion = prevUserInput && prevUserInput === value;\n            var deleting = prevUserInput && prevUserInput.length > value.length;\n            var suggest = _this.props.suggest;\n            var opened = _this.props.opened !== undefined ?\n                _this.props.opened : _this.state.opened;\n            if (suggest !== undefined && suggest !== false) {\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n                var newValue = value + _this._suggested;\n                var suggestion = { userInput: value, value: _this._suggested };\n                _this.triggerOnChange(newValue, state, { suggestion: suggestion });\n            }\n            else {\n                _this._suggested = '';\n                _this.triggerOnChange(value, state);\n            }\n            if ((!opened && value) || (opened && !value)) {\n                _this.togglePopup(state);\n            }\n            state.data.focusedItem = undefined;\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            var newValue = '';\n            _this._suggested = '';\n            _this.triggerOnChange(newValue, state);\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (opened) {\n                _this.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var preventDefault = function () {\n                if (opened) {\n                    event.preventDefault();\n                }\n            };\n            if (keyCode === Keys.enter || keyCode === Keys.esc) {\n                preventDefault();\n                _this.applyInputValue(event.currentTarget.value, state, event.keyCode);\n            }\n            else if (keyCode === Keys.up || keyCode === Keys.down) {\n                preventDefault();\n                _this.onNavigate(state, keyCode);\n            }\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyInputValue(event.currentTarget.value, state);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(AutoComplete.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"value\", {\n        /**\n         * The value of the AutoComplete.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the AutoComplete.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the AutoComplete is set.\n         */\n        get: function () {\n            // The AutoComplete component is in a invalid state\n            // only if it's required and the value is null!\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== '');\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : AutoComplete.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : AutoComplete.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props.data, data = _a === void 0 ? [] : _a;\n        var _b = prevProps.data, prevData = _b === void 0 ? [] : _b;\n        var focusedIndex = this.focusedIndex();\n        var focusedItem = data[focusedIndex];\n        var dataChanged = prevData !== data;\n        var focusedItemChanged = focusedItem !== undefined && prevState.focusedItem !== focusedItem;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        if ((opened && (focusedItemChanged || dataChanged)) || opening) {\n            this.base.scrollToItem(focusedIndex);\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, label = _a.label, className = _a.className, style = _a.style, loading = _a.loading, suggest = _a.suggest;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var focused = this.state.focused;\n        var base = this.base;\n        var value = this.value;\n        var renderClearButton = this.props.clearButton !== false && !loading && !!value;\n        var id = this.props.id || this._inputId;\n        if (typeof suggest === 'string') {\n            this._suggested = suggest;\n        }\n        var autoComplete = (React.createElement(\"span\", { className: classNames('k-widget k-autocomplete', className, {\n                'k-state-disabled': disabled,\n                'k-state-focused': focused && !disabled,\n                'k-state-invalid': !isValid\n            }), ref: function (element) {\n                _this._element = element;\n                base.wrapper = element;\n            }, style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir },\n            this.renderSearchBar(renderClearButton, value || '', id),\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading\" }),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: value, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: autoComplete }))\n            : autoComplete;\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.onNavigate = function (state, keyCode) {\n        var _this = this;\n        var typedText = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var focusedIndex = this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, typedText, textField) :\n                data.indexOf(getFocusedItem(data, typedText, textField)));\n        var newFocused = this.base.navigation.navigate({\n            keyCode: keyCode,\n            current: focusedIndex,\n            max: data.length - 1,\n            min: 0\n        });\n        if (newFocused !== undefined) {\n            this.itemFocus(newFocused, state);\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.applyInputValue = function (value, state, eventKey) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n        this._suggested = '';\n        if (opened && eventKey === Keys.enter) {\n            var newValue = getItemValue(data[this.focusedIndex(value)], textField);\n            this.triggerOnChange(newValue, state);\n        }\n        if (opened) {\n            this.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    AutoComplete.prototype.renderSearchBar = function (clearButton, value, id) {\n        var _this = this;\n        var base = this.base;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, readonly = _a.readonly;\n        var focused = this.state.focused;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: value, suggestedText: this._suggested, focused: focused, name: this.props.name, ref: function (searchbar) { return _this._input = searchbar && searchbar.input; }, onKeyDown: this.onInputKeyDown, onChange: this.onChangeHandler, onFocus: base.handleFocus, onBlur: this.handleBlur, disabled: disabled, readOnly: readonly, expanded: opened, owns: base.listBoxId, activedescendant: 'option-' + base.guid + '-' + this.focusedIndex(), role: \"combobox\", clearButton: clearButton, clearButtonClick: this.clearButtonClick, ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy, render: this.props.valueRender }));\n    };\n    AutoComplete.prototype.renderListContainer = function () {\n        var base = this.base;\n        var _a = this.props, dir = _a.dir, header = _a.header, footer = _a.footer, _b = _a.data, data = _b === void 0 ? [] : _b;\n        var popupSettings = base.getPopupSettings();\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        return (React.createElement(ListContainer, { width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element,\n                show: opened,\n                popupClass: popupSettings.popupClass,\n                className: classNames('k-list-container k-reset', popupSettings.className),\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated, itemsCount: [data.length] },\n            header,\n            this.renderList(),\n            footer));\n    };\n    AutoComplete.prototype.renderList = function () {\n        var base = this.base;\n        var popupSettings = base.getPopupSettings();\n        var _a = this.props, textField = _a.textField, _b = _a.data, data = _b === void 0 ? [] : _b, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n        var value = this.value;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(List, { id: base.listBoxId, show: opened, data: data.slice(), focusedIndex: this.focusedIndex(), value: value, textField: textField, valueField: textField, highlightSelected: false, optionsGuid: base.guid, listRef: function (list) { return base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-scroller\", onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: function (e) { return e.preventDefault(); } }));\n    };\n    AutoComplete.prototype.triggerOnChange = function (newValue, state, eventArgs) {\n        if (this.value === newValue && !eventArgs) {\n            return;\n        }\n        state.data.value = newValue;\n        this._valueDuringOnChange = newValue;\n        state.events.push(__assign({ type: 'onChange' }, (eventArgs || {})));\n    };\n    AutoComplete.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    AutoComplete.prototype.suggestValue = function (value) {\n        this._suggested = '';\n        if (value) {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n            if (suggestedItem) {\n                var suggestedText = getItemValue(suggestedItem, textField);\n                if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n                    this._suggested = suggestedText.substring(value.length);\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.focusedIndex = function (value) {\n        var _this = this;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var inputValue = value !== undefined ? value : this.value;\n        return this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, inputValue, textField) :\n                Math.max(0, data.indexOf(getFocusedItem(data, inputValue, textField))));\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.propTypes = __assign({}, DropDownBase.basicPropTypes, { suggest: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]), placeholder: PropTypes.string, value: PropTypes.string, defaultValue: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, readonly: PropTypes.bool, clearButton: PropTypes.bool, valueRender: PropTypes.func, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    AutoComplete.defaultProps = __assign({}, DropDownBase.defaultProps);\n    return AutoComplete;\n}(React.Component));\nexport default AutoComplete;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nvar tagClassName = 'k-button';\nvar focusedTagClassName = tagClassName + ' k-state-focused';\nvar preventDefault = function (event) { return event.preventDefault(); };\nvar stopPropagation = function (event) { return event.stopPropagation(); };\n/**\n * @hidden\n */\nvar TagList = /** @class */ (function (_super) {\n    __extends(TagList, _super);\n    function TagList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TagList.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, data = _a.data, guid = _a.guid;\n        var TagComponent = this.props.tag;\n        return (React.createElement(\"ul\", { className: \"k-reset\", role: \"listbox\", id: 'tagslist-' + guid }, data.map(function (tagData, index) {\n            var tag = TagComponent ? (React.createElement(TagComponent, { tagData: tagData, guid: guid, focusedTag: _this.props.focused, onTagDelete: _this.props.onTagDelete })) : (React.createElement(\"li\", { className: tagData === _this.props.focused ? focusedTagClassName : tagClassName, key: tagData.text + index, id: \"tag-\" + guid + \"-\" + tagData.text.replace(/\\s+/g, '-'), onMouseDown: preventDefault, onClick: stopPropagation, \"aria-selected\": true, role: \"option\", \"aria-setsize\": data.length },\n                React.createElement(\"span\", null, tagData.text),\n                React.createElement(\"span\", { \"aria-label\": \"delete\", className: \"k-select\", onClick: function (e) { return _this.props.onTagDelete.call(undefined, tagData.data, e); } },\n                    React.createElement(\"span\", { className: \"k-icon k-i-close\" }))));\n            return _this.props.tagRender ?\n                _this.props.tagRender(tagData, tag) : tag;\n        })));\n    };\n    return TagList;\n}(React.Component));\nexport default TagList;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport TagList from './TagList';\nimport SearchBar from '../common/SearchBar';\nimport DropDownBase from '../common/DropDownBase';\nimport { ActiveDescendant } from './../common/settings';\nimport { itemIndexStartsWith, getItemValue, areSame, removeDataItems, isPresent, preventDefaultNonInputs, matchTags } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar preventDefault = function (event) { return event.preventDefault(); };\nvar isCustom = function (type) { return type === FocusedItemType.CustomItem; };\nvar FocusedItemType;\n(function (FocusedItemType) {\n    FocusedItemType[FocusedItemType[\"None\"] = 0] = \"None\";\n    FocusedItemType[FocusedItemType[\"ListItem\"] = 1] = \"ListItem\";\n    FocusedItemType[FocusedItemType[\"CustomItem\"] = 2] = \"CustomItem\";\n})(FocusedItemType || (FocusedItemType = {}));\n/**\n * Represents the [KendoReact MultiSelect component]({% slug overview_multiselect %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    multiselect = null;\n *    render() {\n *       return (\n *          <div>\n *              <MultiSelect\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.multiselect = component}\n *              />\n *              <button onClick={() => alert(this.multiselect.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    function MultiSelect(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            activedescendant: ActiveDescendant.PopupList\n        };\n        _this._valueItemsDuringOnChange = null;\n        _this._inputId = guid();\n        _this.base = new DropDownBase(_this);\n        _this._tags = [];\n        _this._skipFocusEvent = false;\n        _this.scrollToFocused = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var dataItem = data[index - skip];\n            var indexInValue = _this.value.findIndex(function (i) { return areSame(i, dataItem, dataItemKey); });\n            var newItems = [];\n            if (indexInValue !== -1) { // item is already selected\n                newItems = _this.value;\n                newItems.splice(indexInValue, 1);\n            }\n            else {\n                newItems = _this.value.concat([dataItem]);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (text) {\n                if (_this.state.text) {\n                    state.data.text = '';\n                }\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            _this.triggerOnChange(newItems, state);\n            _this.base.triggerPageChangeCornerItems(dataItem, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.onTagDelete = function (itemsToRemove, event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            if (!_this.state.focused) {\n                state.data.focused = true;\n                _this.focus();\n            }\n            var selected = _this.value;\n            removeDataItems(selected, itemsToRemove, _this.props.dataItemKey);\n            _this.triggerOnChange(selected, state);\n            _this.applyState(state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, allowCustom = _a.allowCustom, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var customItem = allowCustom && text;\n            var nextFocusedItem = data[index - skip];\n            if (nextFocusedItem && focusedIndex !== index) {\n                if (_this.state.focusedIndex !== index) {\n                    state.data.focusedIndex = index;\n                    state.data.activedescendant = ActiveDescendant.PopupList;\n                }\n            }\n            else if (customItem && index === -1) {\n                if (_this.state.focusedIndex !== undefined) {\n                    state.data.focusedIndex = undefined;\n                }\n            }\n            _this.base.triggerPageChangeCornerItems(nextFocusedItem, state);\n        };\n        _this.searchbarRef = function (searchbar) {\n            var input = _this._input = searchbar && searchbar.input;\n            if (input && _this.state.focused) {\n                window.setTimeout(function () { return input.focus(); }, 0);\n            }\n        };\n        _this.onChangeHandler = function (event) {\n            var state = _this.base.initState();\n            var value = event.currentTarget.value;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            state.data.focusedIndex = undefined;\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            if (_this.value.length > 0) {\n                _this.triggerOnChange([], state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (isPresent(text) && text !== '') {\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedItem = _this.getFocusedState().focusedItem;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!text && _this.value.length > 0 &&\n                (keyCode === Keys.left || keyCode === Keys.right ||\n                    keyCode === Keys.home || keyCode === Keys.end ||\n                    keyCode === Keys.delete || keyCode === Keys.backspace)) {\n                return _this.onTagsNavigate(event, state);\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.up || keyCode === Keys.down) {\n                    event.preventDefault();\n                    _this.onNavigate(state, keyCode);\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    if (_this.props.allowCustom && text && focusedItem === null) {\n                        _this.customItemSelect(event);\n                    }\n                    else {\n                        _this.selectFocusedItem(event);\n                    }\n                }\n                else if (keyCode === Keys.esc) {\n                    togglePopup();\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.renderListContainer = function () {\n            var base = _this.base;\n            var _a = _this.props, header = _a.header, footer = _a.footer, allowCustom = _a.allowCustom, dir = _a.dir, _b = _a.data, data = _b === void 0 ? [] : _b;\n            var popupSettings = _this.base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var virtual = _this.props.virtual !== undefined;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: popupSettings.popupClass,\n                    className: classNames('k-list-container k-reset', popupSettings.className),\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length, _this.value.length]\n            };\n            var focusedType = _this.getFocusedState().focusedType;\n            var customItem = allowCustom && text && (React.createElement(\"div\", { className: \"k-list\", key: \"customitem\", onClick: _this.customItemSelect },\n                React.createElement(\"div\", { className: classNames('k-item k-custom-item', { 'k-state-focused': isCustom(focusedType) }) },\n                    text,\n                    React.createElement(\"span\", { className: \"k-icon k-i-plus\", style: { float: 'right' } }))));\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                virtual && header,\n                _this.base.renderScrollWrapper(React.createElement(React.Fragment, null,\n                    !virtual && header,\n                    customItem,\n                    _this.renderList(),\n                    !virtual && footer,\n                    _this.base.renderScrollElement())),\n                virtual && footer));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var vs = _this.base.vs;\n            var skip = virtual ? virtual.skip : 0;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\" + vs.translate + \"px)\";\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: focusedIndex - skip, value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { vs.list = _this.base.list = list; }, wrapperStyle: vs.enabled ?\n                    { float: 'left', width: '100%' } : { maxHeight: popupSettings.height }, wrapperCssClass: vs.enabled ? undefined : 'k-list-scroller', listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listKey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: preventDefault, onBlur: _this.handleBlur }));\n        };\n        _this.customItemSelect = function (event) {\n            var _a;\n            var itemText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var textField = _this.props.textField;\n            if (!itemText) {\n                return;\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var item = textField ? (_a = {}, _a[textField] = itemText, _a) : itemText;\n            if (_this.state.text !== undefined) {\n                state.data.text = '';\n            }\n            state.data.focusedIndex = undefined;\n            _this.base.filterChanged('', state);\n            var newItems = _this.value.concat([item]);\n            _this.triggerOnChange(newItems, state);\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = _this._input;\n            if (!opened && input) {\n                _this.focusElement(input);\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.events.push({ type: 'onFocus' });\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.handleItemSelect(index, state);\n            if (_this.props.autoClose) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.handleBlur = function (event) {\n            if (!_this.state.focused || _this._skipFocusEvent) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            var _a = _this.props, allowCustom = _a.allowCustom, filterable = _a.filterable;\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                if (_this.state.opened) {\n                    state.data.opened = false;\n                }\n                state.events.push({ type: 'onClose' });\n            }\n            if (!allowCustom && !filterable && _this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._input && _this.state.focused) {\n                _this.focusElement(_this._input);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () { if (_this.state.focused) {\n                    _this.focusElement(_this._input);\n                } }, 0);\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MultiSelect.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelect.prototype, \"value\", {\n        /**\n         * Represents the value of the MultiSelect.\n         */\n        get: function () {\n            var result = [];\n            if (this._valueItemsDuringOnChange) {\n                result.push.apply(result, this._valueItemsDuringOnChange);\n            }\n            else if (this.props.value) {\n                result.push.apply(result, this.props.value);\n            }\n            else if (this.state.value) {\n                result.push.apply(result, this.state.value);\n            }\n            else if (this.props.defaultValue) {\n                result.push.apply(result, this.props.defaultValue);\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelect.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MultiSelect.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelect.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MultiSelect is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value.length > 0 && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelect.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MultiSelect.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelect.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MultiSelect.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiSelect.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var virtual = this.props.virtual;\n        var skip = virtual ? virtual.skip : 0;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        var popupSettings = this.base.getPopupSettings();\n        if (!popupSettings.animate && closing) {\n            this.onPopupClosed();\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var _a = this.getFocusedState(), focusedItem = _a.focusedItem, focusedIndex = _a.focusedIndex;\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, focusedIndex - skip);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(focusedIndex);\n            }\n            else if (opened && prevOpened && focusedItem && this.scrollToFocused) {\n                this.base.scrollToItem(focusedIndex - skip);\n            }\n        }\n        this.scrollToFocused = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelect.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelect.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _c = this.getFocusedState(), focusedType = _c.focusedType, focusedIndex = _c.focusedIndex;\n        var customItem = allowCustom && text;\n        var customItemFocused = isCustom(focusedType);\n        var base = this.base;\n        var vs = base.vs;\n        if (opened && keyCode === Keys.up && customItemFocused) {\n            if (this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n        }\n        else {\n            var newFocused = base.navigation.navigate({\n                keyCode: keyCode,\n                current: focusedIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: customItem ? -1 : 0\n            });\n            if (newFocused !== undefined) {\n                this.itemFocus(newFocused, state);\n                this.scrollToFocused = true;\n            }\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    MultiSelect.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, style = _a.style, className = _a.className, label = _a.label, dir = _a.dir, disabled = _a.disabled, tags = _a.tags, textField = _a.textField, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var _b = this.state, focused = _b.focused, text = _b.text, focusedTag = _b.focusedTag;\n        var vs = this.base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var tagsToRender = [];\n        if (tags === undefined) {\n            this.value.forEach(function (item) {\n                tagsToRender.push({ text: getItemValue(item, textField), data: [item] });\n            });\n        }\n        else {\n            tagsToRender.push.apply(tagsToRender, tags);\n        }\n        this.setItems(tagsToRender, this._tags);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var component = (React.createElement(\"span\", { ref: function (dropdown) { return _this._element = dropdown; }, className: classNames('k-widget k-multiselect', className, {\n                'k-state-focused': focused && !disabled,\n                'k-state-invalid': !isValid,\n                'k-state-disabled': disabled\n            }), style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir, onFocus: this.handleFocus, onBlur: this.handleBlur },\n            React.createElement(\"div\", { onClick: this.handleWrapperClick, ref: function (wrapper) { return _this.base.wrapper = wrapper; }, className: \"k-multiselect-wrap k-floatwrap\", onMouseDown: preventDefaultNonInputs },\n                tagsToRender.length > 0 && React.createElement(TagList, { tagRender: this.props.tagRender, onTagDelete: this.onTagDelete, data: tagsToRender, guid: this.base.guid, focused: focusedTag ? tagsToRender.find(function (t) { return matchTags(t, focusedTag, dataItemKey); }) : undefined }),\n                this.renderSearchbar(id)),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: text || getItemValue(this.value[0], textField), editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: component })) : component;\n    };\n    MultiSelect.prototype.renderSearchbar = function (id) {\n        var _a = this.state, activedescendant = _a.activedescendant, focusedTag = _a.focusedTag;\n        var _b = this.props, disabled = _b.disabled, placeholder = _b.placeholder, ariaDescribedBy = _b.ariaDescribedBy;\n        var text = (this.props.filter !== undefined ? this.props.filter : this.state.text) || '';\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var clearButton = !!text || this.value.length > 0;\n        var placeholderToShow = this.value.length === 0 && !text ? placeholder : undefined;\n        var ariaActivedescendant = activedescendant === ActiveDescendant.TagsList && focusedTag !== undefined ?\n            \"tag-\" + this.base.guid + \"-\" + focusedTag.text.replace(/\\s+/g, '-') :\n            \"option-\" + this.base.guid + \"-\" + focusedIndex;\n        return (React.createElement(SearchBar, { id: id, size: Math.max((placeholderToShow || '').length, text.length, 1), tabIndex: this.props.tabIndex, accessKey: this.props.accessKey, placeholder: placeholderToShow, value: text, onChange: this.onChangeHandler, onKeyDown: this.onInputKeyDown, ref: this.searchbarRef, disabled: disabled, expanded: opened, owns: this.base.listBoxId, activedescendant: ariaActivedescendant, ariaDescribedBy: \"tagslist-\" + this.base.guid + (ariaDescribedBy ? (' ' + ariaDescribedBy) : ''), clearButton: clearButton, clearButtonClick: this.clearButtonClick, loading: this.props.loading, ariaLabelledBy: this.props.ariaLabelledBy }));\n    };\n    MultiSelect.prototype.onTagsNavigate = function (event, state) {\n        var keyCode = event.keyCode;\n        var focusedTag = this.state.focusedTag;\n        var tags = this._tags;\n        var itemsKey = this.props.dataItemKey;\n        var focusedIndex = focusedTag ?\n            tags.findIndex(function (t) { return matchTags(t, focusedTag, itemsKey); }) : -1;\n        var newFocusedTag = undefined;\n        var hasFocused = focusedIndex !== -1;\n        if (keyCode === Keys.left) {\n            if (hasFocused) {\n                focusedIndex = Math.max(0, focusedIndex - 1);\n            }\n            else {\n                focusedIndex = tags.length - 1;\n            }\n            newFocusedTag = tags[focusedIndex];\n        }\n        else if (keyCode === Keys.right) {\n            if (focusedIndex === tags.length - 1) {\n                newFocusedTag = undefined;\n            }\n            else if (hasFocused) {\n                focusedIndex = Math.min(tags.length - 1, focusedIndex + 1);\n                newFocusedTag = tags[focusedIndex];\n            }\n        }\n        else if (keyCode === Keys.home) {\n            newFocusedTag = tags[0];\n        }\n        else if (keyCode === Keys.end) {\n            newFocusedTag = tags[tags.length - 1];\n        }\n        else if (keyCode === Keys.delete) {\n            if (hasFocused) {\n                var items = this.value;\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        else if (keyCode === Keys.backspace) {\n            var items = this.value;\n            if (hasFocused) {\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n            else if (!hasFocused && tags.length) {\n                var removed = tags.pop();\n                removeDataItems(items, removed.data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        if (newFocusedTag !== focusedTag) {\n            state.data.focusedTag = newFocusedTag;\n            state.data.activedescendant = ActiveDescendant.TagsList;\n        }\n        this.applyState(state);\n    };\n    MultiSelect.prototype.triggerOnChange = function (items, state) {\n        if (this.props.value === undefined) {\n            state.data.value = items.slice();\n        }\n        this._valueItemsDuringOnChange = [];\n        this.setItems(items, this._valueItemsDuringOnChange);\n        state.events.push({ type: 'onChange' });\n    };\n    MultiSelect.prototype.selectFocusedItem = function (event) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var skip = virtual ? virtual.skip : 0;\n        if (data[focusedIndex - skip] !== undefined) {\n            this.handleItemClick(focusedIndex, event);\n        }\n    };\n    MultiSelect.prototype.setItems = function (srcItems, destItems) {\n        destItems.length = 0;\n        destItems.push.apply(destItems, srcItems);\n    };\n    MultiSelect.prototype.getFocusedState = function () {\n        var focusedIndex = this.state.focusedIndex;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual, textField = _a.textField, _c = _a.focusedItemIndex, focusedItemIndex = _c === void 0 ? itemIndexStartsWith : _c;\n        var skip = (virtual && virtual.skip) || 0;\n        var focusedInd;\n        if (focusedIndex !== undefined) {\n            return {\n                focusedIndex: focusedIndex,\n                focusedItem: data[focusedIndex - skip],\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        var selected = this.value;\n        if (allowCustom && text) {\n            return { focusedItem: null, focusedIndex: -1, focusedType: FocusedItemType.CustomItem };\n        }\n        else if (text) {\n            focusedInd = focusedItemIndex(data, text, textField);\n            return {\n                focusedItem: data[focusedInd],\n                focusedIndex: focusedInd + skip,\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        else if (selected.length) {\n            var last_1 = selected[selected.length - 1];\n            focusedInd = data.findIndex(function (i) { return areSame(i, last_1, dataItemKey); });\n            if (data[focusedInd] !== undefined) {\n                return {\n                    focusedIndex: focusedInd + skip,\n                    focusedItem: data[focusedInd],\n                    focusedType: FocusedItemType.ListItem\n                };\n            }\n            return { focusedType: FocusedItemType.None, focusedIndex: -1 };\n        }\n        return skip === 0 ?\n            { focusedItem: data[0], focusedIndex: 0, focusedType: FocusedItemType.ListItem } :\n            { focusedType: FocusedItemType.None, focusedIndex: -1 };\n    };\n    MultiSelect.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 0);\n    };\n    MultiSelect.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueItemsDuringOnChange = null;\n    };\n    /**\n     * @hidden\n     */\n    MultiSelect.propTypes = __assign({}, DropDownBase.propTypes, { autoClose: PropTypes.bool, value: PropTypes.arrayOf(PropTypes.any), defaultValue: PropTypes.arrayOf(PropTypes.any), dataItemKey: PropTypes.string, placeholder: PropTypes.string, tags: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string,\n            data: PropTypes.arrayOf(PropTypes.any)\n        })), tagRender: PropTypes.func, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    MultiSelect.defaultProps = __assign({}, DropDownBase.defaultProps, { autoClose: true, required: false });\n    return MultiSelect;\n}(React.Component));\nexport default MultiSelect;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport List from './List';\n/**\n * @hidden\n */\nexport var MultiColumnList = function (props) {\n    return React.createElement(List, __assign({}, props, { listClassName: \"k-grid-list\" }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MultiColumnList } from './../common/MultiColumnList';\nimport { classNames, getScrollbarWidth, setScrollbarWidth, getter } from '@progress/kendo-react-common';\nimport ComboBox from '../ComboBox/ComboBox';\nvar columnWidth = function (width, defaultWidth) {\n    if (width) {\n        return typeof width === 'number' ? width + 'px' : width;\n    }\n    return defaultWidth;\n};\n/**\n * Represents the MultiColumnComboBox component.\n */\nexport var MultiColumnComboBox = React.forwardRef(function (props, ref) {\n    var target = React.useRef(null);\n    var comboBoxRef = React.useRef(null);\n    var scrollbarWidth = getScrollbarWidth();\n    var _a = props.columns, columns = _a === void 0 ? defaultProps.columns : _a, _b = props.popupSettings, popupSettings = _b === void 0 ? defaultProps.popupSettings : _b, onOpen = props.onOpen, onClose = props.onClose, onFocus = props.onFocus, onBlur = props.onBlur, onChange = props.onChange, onFilterChange = props.onFilterChange, onPageChange = props.onPageChange, other = __rest(props, [\"columns\", \"popupSettings\", \"onOpen\", \"onClose\", \"onFocus\", \"onBlur\", \"onChange\", \"onFilterChange\", \"onPageChange\"]);\n    React.useImperativeHandle(target, function () {\n        return ({\n            element: comboBoxRef.current && comboBoxRef.current.element,\n            focus: function () {\n                if (comboBoxRef.current) {\n                    comboBoxRef.current.focus();\n                }\n            },\n            get value() { return comboBoxRef.current && comboBoxRef.current.value; },\n            get name() { return comboBoxRef.current && comboBoxRef.current.name; },\n            props: props\n        });\n    });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var popupWidth = React.useMemo(function () {\n        return \"calc(\" + columns.map(function (column) { return columnWidth(column.width, defaultProps.width); }).filter(Boolean).join(' + ') + \" + \" + scrollbarWidth + \"px)\";\n    }, [columns, scrollbarWidth]);\n    var header = React.useMemo(function () { return (React.createElement(React.Fragment, null,\n        props.header,\n        React.createElement(\"div\", { className: \"k-grid-header\" },\n            React.createElement(\"div\", { className: \"k-grid-header-wrap\" },\n                React.createElement(\"table\", { role: \"presentation\" },\n                    React.createElement(\"colgroup\", null, columns.map(function (column, i) {\n                        return (React.createElement(\"col\", { key: column.uniqueKey ? column.uniqueKey : i, style: { width: column.width ? column.width : defaultProps.width } }));\n                    })),\n                    React.createElement(\"tbody\", null,\n                        React.createElement(\"tr\", null, columns.map(function (column, i) {\n                            return (React.createElement(\"th\", { key: column.uniqueKey ? column.uniqueKey : i, className: \"k-header\" }, column.header || '\\u00A0'));\n                        })))))))); }, [props.header, columns]);\n    var skip = props.virtual ? props.virtual.skip : 0;\n    var itemRender = React.useCallback(function (li, liProps) {\n        var children = columns.map(function (column, i) { return (React.createElement(\"span\", { className: \"k-cell\", style: { width: column.width ? column.width : defaultProps.width }, key: column.uniqueKey ? column.uniqueKey : i }, column.field ? getter(column.field)(liProps.dataItem) : '')); });\n        var group = undefined;\n        var curGroup, prevGroup, groupGetter, data = props.data || [];\n        var index = liProps.index - skip;\n        if (props.groupField !== undefined) {\n            groupGetter = getter(props.groupField);\n            curGroup = groupGetter(data[index]);\n            prevGroup = groupGetter(data[index - 1]);\n            if (curGroup && prevGroup && curGroup !== prevGroup) {\n                group = curGroup;\n            }\n        }\n        if (group) {\n            children.push(React.createElement(\"div\", { key: \"group\", className: \"k-cell k-group-cell\" },\n                React.createElement(\"span\", null, group)));\n        }\n        var rendering = React.cloneElement(li, __assign({}, li.props), children);\n        return props.itemRender ? props.itemRender.call(undefined, rendering, liProps) : rendering;\n    }, [columns, props.groupField, props.itemRender, props.data, skip]);\n    var handleEvent = React.useCallback(function (handler, event) {\n        if (handler) {\n            handler.call(undefined, __assign({}, event, { target: target.current }));\n        }\n    }, []);\n    var onOpenHandler = React.useCallback(function (event) { return handleEvent(onOpen, event); }, [onOpen]);\n    var onCloseHandler = React.useCallback(function (event) { return handleEvent(onClose, event); }, [onClose]);\n    var onFocusHandler = React.useCallback(function (event) { return handleEvent(onFocus, event); }, [onFocus]);\n    var onBlurHandler = React.useCallback(function (event) { return handleEvent(onBlur, event); }, [onBlur]);\n    var onChangeHandler = React.useCallback(function (event) { return handleEvent(onChange, event); }, [onChange]);\n    var onFilterChangeHandler = React.useCallback(function (event) { return handleEvent(onFilterChange, event); }, [onFilterChange]);\n    var onPageChangeHandler = React.useCallback(function (event) { return handleEvent(onPageChange, event); }, [onPageChange]);\n    React.useEffect(function () { setScrollbarWidth(); });\n    var List = React.useCallback(function (listProps) { return React.createElement(MultiColumnList, __assign({}, listProps)); }, []);\n    return (React.createElement(ComboBox, __assign({}, other, { list: List, popupSettings: __assign({ width: popupWidth }, popupSettings, { popupClass: 'k-dropdowngrid-popup', className: classNames('k-popup-flush', popupSettings.className) }), ref: comboBoxRef, header: header, itemRender: itemRender, onOpen: onOpenHandler, onClose: onCloseHandler, onFocus: onFocusHandler, onBlur: onBlurHandler, onChange: onChangeHandler, onFilterChange: onFilterChangeHandler, onPageChange: onPageChangeHandler })));\n});\nvar propTypes = __assign({}, ComboBox.propTypes, { columns: PropTypes.any.isRequired });\nvar defaultProps = {\n    columns: [],\n    popupSettings: {},\n    width: '200px'\n};\nMultiColumnComboBox.displayName = 'KendoMultiColumnComboBox';\n// TODO: delete casting when @types/react is updated!\nMultiColumnComboBox.propTypes = propTypes;\nMultiColumnComboBox.defaultProps = defaultProps;\n","/**\n * @hidden\n */\nexport var EMPTY_ID = '';\n/**\n * @hidden\n */\nexport var ZERO_LEVEL_ZERO_NODE_ID = '0';\n/**\n * @hidden\n */\nexport var SEPARATOR = '_';\n/**\n * @hidden\n */\nexport function getItemById(itemId, items, childrenField) {\n    if (isIdZeroLevel(itemId)) {\n        return items[Number(itemId)];\n    }\n    else {\n        var rootParentItem = items[Number(getRootParentId(itemId))];\n        var subItems = (rootParentItem && rootParentItem[childrenField]) || [];\n        return subItems.length ?\n            getItemById(getIdWithoutRootParentId(itemId), subItems, childrenField) : undefined;\n    }\n}\n/**\n * @hidden\n */\nexport function getRootParentId(itemId) {\n    return isIdEmptyOrZeroLevel(itemId) ? itemId : itemId.split(SEPARATOR)[0];\n}\n/**\n * @hidden\n */\nexport function getIdWithoutRootParentId(itemId) {\n    if (isIdEmptyOrZeroLevel(itemId)) {\n        return itemId;\n    }\n    else {\n        var firstSeparatorIndex = itemId.indexOf(SEPARATOR);\n        return itemId.substring(firstSeparatorIndex + 1);\n    }\n}\n/**\n * @hidden\n */\nexport function getFirstChildId(itemId) {\n    return createId('0', itemId);\n}\n/**\n * @hidden\n */\nexport function createId(childId, parentId) {\n    childId = childId.toString();\n    return parentId ? parentId + SEPARATOR + childId : childId;\n}\n/**\n * @hidden\n */\nexport function getDirectParentId(itemId) {\n    var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n    return lastSeparatorIndex < 0 ? EMPTY_ID : itemId.substring(0, lastSeparatorIndex);\n}\n/**\n * @hidden\n */\nexport function isIdEmptyOrZeroLevel(itemId) {\n    return itemId === EMPTY_ID || itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\nexport function isIdZeroLevel(itemId) {\n    return itemId !== EMPTY_ID && itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\nexport function getAllShortIds(itemId) {\n    return itemId.split(SEPARATOR);\n}\n/**\n * @hidden\n */\nexport function getShortId(itemId) {\n    var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n    return lastSeparatorIndex < 0 ? itemId : itemId.substring(lastSeparatorIndex + 1);\n}\n/**\n * @hidden\n */\nexport function isItemFirstFromSiblings(itemId) {\n    return getShortId(itemId) === ZERO_LEVEL_ZERO_NODE_ID;\n}\n/**\n * @hidden\n */\nexport function getDecrementedItemIdAfterRemoval(removedItemId, itemId) {\n    var preservedItemId = itemId;\n    removedItemId = 'r' + SEPARATOR + removedItemId;\n    itemId = 'r' + SEPARATOR + itemId;\n    var itemSharedPath = getDirectParentId(removedItemId) + SEPARATOR;\n    if (itemId.startsWith(itemSharedPath)) {\n        var itemNotSharedPath = itemId.substring(itemSharedPath.length);\n        if (itemNotSharedPath) {\n            var siblingShortId = getRootParentId(itemNotSharedPath);\n            if (Number(getShortId(removedItemId)) < Number(siblingShortId)) {\n                var decrementedId = itemSharedPath +\n                    (Number(siblingShortId) - 1).toString() +\n                    itemNotSharedPath.substring(siblingShortId.length);\n                return getIdWithoutRootParentId(decrementedId);\n            }\n        }\n    }\n    return preservedItemId;\n}\n","var PROPS_COUNT_LIMIT = 50000;\n/**\n * @hidden\n */\n// An alternative is to use array.sort() and\n// implement a binary search function.\nvar SortedPublicItemIds = /** @class */ (function () {\n    function SortedPublicItemIds() {\n        this.objects = [];\n    }\n    SortedPublicItemIds.prototype.init = function (publicItemIds) {\n        var currentObj;\n        for (var i = 0; i < publicItemIds.length; i++) {\n            if (i % PROPS_COUNT_LIMIT === 0) {\n                currentObj = {};\n                this.objects.push(currentObj);\n            }\n            currentObj[publicItemIds[i]] = true;\n        }\n    };\n    SortedPublicItemIds.prototype.hasId = function (publicItemId) {\n        return this.objects.some(function (obj) { return obj[publicItemId]; });\n    };\n    return SortedPublicItemIds;\n}());\nexport default SortedPublicItemIds;\n","/**\n * @hidden\n */\nexport function getNestedValue(fieldName, dataItem) {\n    var path = (fieldName || '').split('.');\n    var data = dataItem;\n    path.forEach(function (p) {\n        data = data ? data[p] : undefined;\n    });\n    return data;\n}\n/**\n * @hidden\n */\nexport function isArray(operation) {\n    return operation.length !== undefined;\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { EMPTY_ID, isIdZeroLevel, createId, getRootParentId, getIdWithoutRootParentId, getAllShortIds } from './itemIdUtils';\nimport SortedPublicItemIds from './SortedPublicItemIds';\nimport { getNestedValue } from './misc';\n/**\n * @hidden\n */\nexport function hasChildren(item, childrenField) {\n    var children = getNestedValue(childrenField, item);\n    return Boolean(children && children.length);\n}\n/**\n * @hidden\n */\nexport function isItemExpandedAndWithChildren(item, fieldsSvc) {\n    return fieldsSvc.expanded(item) && hasChildren(item, fieldsSvc.getChildrenField());\n}\n/**\n * @hidden\n */\nexport function resolveItemId(publicId, idField, items, childrenField) {\n    var resolvedIds = resolveItemsIds([publicId], idField, items, childrenField);\n    return resolvedIds.length ? resolvedIds[0] : undefined;\n}\n/**\n * @hidden\n */\nexport function resolveItemsIds(publicIds, idField, items, childrenField) {\n    var result = [];\n    var sortedIds = new SortedPublicItemIds();\n    sortedIds.init(publicIds);\n    resolveItemsIdsHelper(sortedIds, idField, items, EMPTY_ID, result, childrenField);\n    return result;\n}\n/**\n * @hidden\n */\nexport function updateItem(items, itemId, update, cloneField, childrenField) {\n    var _a;\n    var itemIndex = Number(getRootParentId(itemId));\n    if (itemIndex >= items.length) {\n        return items;\n    }\n    var result = items;\n    var item = items[itemIndex];\n    // Clone the item before updating it.\n    if (!item[cloneField]) {\n        result = items.slice();\n        item = result[itemIndex] = Object.assign({}, item, (_a = {}, _a[cloneField] = true, _a));\n    }\n    // Directly update the item.\n    if (isIdZeroLevel(itemId)) {\n        update(item);\n    }\n    else if (item[childrenField]) {\n        item[childrenField] = updateItem(item[childrenField], getIdWithoutRootParentId(itemId), update, cloneField, childrenField);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc) {\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length; i++) {\n        var currentItem = currentItems[Number(ids[i])];\n        if (fieldsSvc.disabled(currentItem)) {\n            return false;\n        }\n        else {\n            currentItems = currentItem[fieldsSvc.getChildrenField()];\n        }\n    }\n    return true;\n}\n/**\n * @hidden\n */\nexport function getAllDirectIndirectChildrenIds(item, itemId, childrenField, idField) {\n    return idField ? getChildrenPublicIds(item) : getChildrenHierarchicalIndices(item, itemId);\n    function getChildrenHierarchicalIndices(startItem, startItemId) {\n        var result = [];\n        var children = startItem[childrenField] || [];\n        for (var i = 0; i < children.length; i++) {\n            var id = createId(i, startItemId);\n            result.push(id);\n            result = result.concat(getChildrenHierarchicalIndices(children[i], id));\n        }\n        return result;\n    }\n    function getChildrenPublicIds(startItem) {\n        var result = [];\n        var children = startItem[childrenField] || [];\n        for (var i = 0; i < children.length; i++) {\n            result.push(getNestedValue(idField, children[i]));\n            result = result.concat(getChildrenPublicIds(children[i]));\n        }\n        return result;\n    }\n}\n/**\n * @hidden\n */\nexport function areAllDirectChildrenChecked(item, itemId, idField, childrenField, check) {\n    var children = item[childrenField] || [];\n    return children.every(function (child, index) {\n        return check.indexOf(idField ? getNestedValue(idField, child) : createId(index, itemId)) > -1;\n    });\n}\n/**\n * @hidden\n */\nexport function getAllParents(itemId, childrenField, items) {\n    var result = [];\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length - 1; i++) {\n        if (!currentItems) {\n            break;\n        }\n        var currentItem = currentItems[Number(ids[i])];\n        result.push(currentItem);\n        currentItems = currentItem[childrenField];\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function removeItem(itemId, childrenField, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(itemId)) {\n        result.splice(Number(itemId), 1);\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(itemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent[childrenField] = removeItem(getIdWithoutRootParentId(itemId), childrenField, rootParent[childrenField]);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function addItem(item, operation, childrenField, targetItemId, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(targetItemId)) {\n        if (operation === 'child') {\n            var targetItem = result[Number(targetItemId)] = __assign({}, result[Number(targetItemId)]);\n            if (targetItem[childrenField]) {\n                targetItem[childrenField] = targetItem[childrenField].slice();\n                targetItem[childrenField].push(item);\n            }\n            else {\n                targetItem[childrenField] = [item];\n            }\n        }\n        else {\n            result.splice(Number(targetItemId) + (operation === 'after' ? 1 : 0), 0, item);\n        }\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(targetItemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent[childrenField] = addItem(item, operation, childrenField, getIdWithoutRootParentId(targetItemId), rootParent[childrenField]);\n    }\n    return result;\n}\nfunction resolveItemsIdsHelper(publicItemIds, idField, items, parentItemId, resolvedIds, childrenField) {\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var id = createId(i, parentItemId);\n        if (publicItemIds.hasId(getNestedValue(idField, item))) {\n            resolvedIds.push(id);\n        }\n        if (hasChildren(item, childrenField)) {\n            resolveItemsIdsHelper(publicItemIds, idField, getNestedValue(childrenField, item), id, resolvedIds, childrenField);\n        }\n    }\n}\n","import { Keys } from '@progress/kendo-react-common';\nimport * as idUtils from './itemIdUtils';\nimport { isItemExpandedAndWithChildren, isEnabledAndAllParentsEnabled } from './itemUtils';\n/**\n * @hidden\n */\nexport default function getItemIdUponKeyboardNavigation(item, itemId, items, keyCode, fieldsSvc) {\n    switch (keyCode) {\n        case Keys.left:\n            return getIdUponLeftKey();\n        case Keys.right:\n            return getIdUponRightKey();\n        case Keys.up:\n            return getIdUponUpKey();\n        case Keys.down:\n            return getIdUponDownKey();\n        case Keys.home:\n            return idUtils.ZERO_LEVEL_ZERO_NODE_ID;\n        case Keys.end:\n            return getIdUponEndKey();\n        default:\n            return itemId;\n    }\n    function getIdUponLeftKey() {\n        return idUtils.isIdZeroLevel(itemId)\n            // For expanded disabled items, navigate directly to the parent.\n            // Collapse cannot happen because an event is not fired to the client.\n            || (fieldsSvc.expanded(item) && isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc)) ?\n            itemId : idUtils.getDirectParentId(itemId);\n    }\n    function getIdUponRightKey() {\n        return isItemExpandedAndWithChildren(item, fieldsSvc) ? idUtils.getFirstChildId(itemId) : itemId;\n    }\n    function getIdUponUpKey() {\n        var index = Number(idUtils.getShortId(itemId));\n        var parentId = idUtils.getDirectParentId(itemId);\n        return index ? getLastNotOpenedChildId(idUtils.createId(index - 1, parentId), items, fieldsSvc) :\n            idUtils.isIdZeroLevel(itemId) ? itemId : parentId;\n    }\n    function getIdUponDownKey() {\n        if (isItemExpandedAndWithChildren(item, fieldsSvc)) {\n            return idUtils.getFirstChildId(itemId);\n        }\n        else {\n            return getNextItemId(itemId, items, fieldsSvc) || itemId;\n        }\n    }\n    function getIdUponEndKey() {\n        var result = (items.length - 1).toString();\n        var currentItem = items[items.length - 1];\n        var children;\n        while (isItemExpandedAndWithChildren(currentItem, fieldsSvc)) {\n            children = currentItem[fieldsSvc.getChildrenField()];\n            result = idUtils.createId(children.length - 1, result);\n            currentItem = children[children.length - 1];\n        }\n        return result;\n    }\n}\nfunction getNextItemId(itemId, items, fieldsSvc) {\n    var parentId = idUtils.getDirectParentId(itemId);\n    var parent = parentId ? idUtils.getItemById(parentId, items, fieldsSvc.getChildrenField()) : undefined;\n    var siblings = parent ? parent[fieldsSvc.getChildrenField()] : items;\n    var index = Number(idUtils.getShortId(itemId));\n    return index < siblings.length - 1 ?\n        idUtils.createId(index + 1, parentId) :\n        parent ? getNextItemId(parentId, items, fieldsSvc) : undefined;\n}\nfunction getLastNotOpenedChildId(itemId, items, fieldsSvc) {\n    var item = idUtils.getItemById(itemId, items, fieldsSvc.getChildrenField());\n    if (isItemExpandedAndWithChildren(item, fieldsSvc)) {\n        return getLastNotOpenedChildId(idUtils.createId(item[fieldsSvc.getChildrenField()].length - 1, itemId), items, fieldsSvc);\n    }\n    else {\n        return itemId;\n    }\n}\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","/**\n * @hidden\n */\nvar outerHeight = function (element) {\n    if (!element) {\n        return 0;\n    }\n    var wnd = element.ownerDocument.defaultView;\n    var computedStyles = wnd.getComputedStyle(element);\n    var marginTop = parseFloat(computedStyles.marginTop);\n    var marginBottom = parseFloat(computedStyles.marginBottom);\n    return element.offsetHeight + marginTop + marginBottom;\n};\n/**\n * @hidden\n */\nvar outerWidth = function (element) {\n    if (!element) {\n        return 0;\n    }\n    var wnd = element.ownerDocument.defaultView;\n    var computedStyles = wnd.getComputedStyle(element);\n    var marginLeft = parseFloat(computedStyles.marginLeft);\n    var marginRight = parseFloat(computedStyles.marginRight);\n    return element.offsetWidth + marginLeft + marginRight;\n};\n/**\n * @hidden\n */\nvar styles = {\n    'animation-container': 'k-animation-container',\n    'animation-container-relative': 'k-animation-container-relative',\n    'animation-container-fixed': 'k-animation-container-fixed',\n    'push-right-enter': 'k-push-right-enter',\n    'push-right-appear': 'k-push-right-appear',\n    'push-right-enter-active': 'k-push-right-enter-active',\n    'push-right-appear-active': 'k-push-right-appear-active',\n    'push-right-exit': 'k-push-right-exit',\n    'push-right-exit-active': 'k-push-right-exit-active',\n    'push-left-enter': 'k-push-left-enter',\n    'push-left-appear': 'k-push-left-appear',\n    'push-left-enter-active': 'k-push-left-enter-active',\n    'push-left-appear-active': 'k-push-left-appear-active',\n    'push-left-exit': 'k-push-left-exit',\n    'push-left-exit-active': 'k-push-left-exit-active',\n    'push-down-enter': 'k-push-down-enter',\n    'push-down-appear': 'k-push-down-appear',\n    'push-down-enter-active': 'k-push-down-enter-active',\n    'push-down-appear-active': 'k-push-down-appear-active',\n    'push-down-exit': 'k-push-down-exit',\n    'push-down-exit-active': 'k-push-down-exit-active',\n    'push-up-enter': 'k-push-up-enter',\n    'push-up-appear': 'k-push-up-appear',\n    'push-up-enter-active': 'k-push-up-enter-active',\n    'push-up-appear-active': 'k-push-up-appear-active',\n    'push-up-exit': 'k-push-up-exit',\n    'push-up-exit-active': 'k-push-up-exit-active',\n    'expand': 'k-expand',\n    'expand-vertical-enter': 'k-expand-vertical-enter',\n    'expand-vertical-appear': 'k-expand-vertical-appear',\n    'expand-vertical-enter-active': 'k-expand-vertical-enter-active',\n    'expand-vertical-appear-active': 'k-expand-vertical-appear-active',\n    'expand-vertical-exit': 'k-expand-vertical-exit',\n    'expand-vertical-exit-active': 'k-expand-vertical-exit-active',\n    'expand-horizontal-enter': 'k-expand-horizontal-enter',\n    'expand-horizontal-appear': 'k-expand-horizontal-appear',\n    'expand-horizontal-enter-active': 'k-expand-horizontal-enter-active',\n    'expand-horizontal-appear-active': 'k-expand-horizontal-appear-active',\n    'expand-horizontal-exit': 'k-expand-horizontal-exit',\n    'expand-horizontal-exit-active': 'k-expand-horizontal-exit-active',\n    'child-animation-container': 'k-child-animation-container',\n    'fade-enter': 'k-fade-enter',\n    'fade-appear': 'k-fade-appear',\n    'fade-enter-active': 'k-fade-enter-active',\n    'fade-appear-active': 'k-fade-appear-active',\n    'fade-exit': 'k-fade-exit',\n    'fade-exit-active': 'k-fade-exit-active',\n    'zoom-in-enter': 'k-zoom-in-enter',\n    'zoom-in-appear': 'k-zoom-in-appear',\n    'zoom-in-enter-active': 'k-zoom-in-enter-active',\n    'zoom-in-appear-active': 'k-zoom-in-appear-active',\n    'zoom-in-exit': 'k-zoom-in-exit',\n    'zoom-in-exit-active': 'k-zoom-in-exit-active',\n    'zoom-out-enter': 'k-zoom-out-enter',\n    'zoom-out-appear': 'k-zoom-out-appear',\n    'zoom-out-enter-active': 'k-zoom-out-enter-active',\n    'zoom-out-appear-active': 'k-zoom-out-appear-active',\n    'zoom-out-exit': 'k-zoom-out-exit',\n    'zoom-out-exit-active': 'k-zoom-out-exit-active',\n    'slide-in-appear': 'k-slide-in-appear',\n    'centered': 'k-centered',\n    'slide-in-appear-active': 'k-slide-in-appear-active',\n    'slide-down-enter': 'k-slide-down-enter',\n    'slide-down-appear': 'k-slide-down-appear',\n    'slide-down-enter-active': 'k-slide-down-enter-active',\n    'slide-down-appear-active': 'k-slide-down-appear-active',\n    'slide-down-exit': 'k-slide-down-exit',\n    'slide-down-exit-active': 'k-slide-down-exit-active',\n    'slide-up-enter': 'k-slide-up-enter',\n    'slide-up-appear': 'k-slide-up-appear',\n    'slide-up-enter-active': 'k-slide-up-enter-active',\n    'slide-up-appear-active': 'k-slide-up-appear-active',\n    'slide-up-exit': 'k-slide-up-exit',\n    'slide-up-exit-active': 'k-slide-up-exit-active',\n    'slide-right-enter': 'k-slide-right-enter',\n    'slide-right-appear': 'k-slide-right-appear',\n    'slide-right-enter-active': 'k-slide-right-enter-active',\n    'slide-right-appear-active': 'k-slide-right-appear-active',\n    'slide-right-exit': 'k-slide-right-exit',\n    'slide-right-exit-active': 'k-slide-right-exit-active',\n    'slide-left-enter': 'k-slide-left-enter',\n    'slide-left-appear': 'k-slide-left-appear',\n    'slide-left-enter-active': 'k-slide-left-enter-active',\n    'slide-left-appear-active': 'k-slide-left-appear-active',\n    'slide-left-exit': 'k-slide-left-exit',\n    'slide-left-exit-active': 'k-slide-left-exit-active',\n    'reveal-vertical-enter': 'k-reveal-vertical-enter',\n    'reveal-vertical-appear': 'k-reveal-vertical-appear',\n    'reveal-vertical-enter-active': 'k-reveal-vertical-enter-active',\n    'reveal-vertical-appear-active': 'k-reveal-vertical-appear-active',\n    'reveal-vertical-exit': 'k-reveal-vertical-exit',\n    'reveal-vertical-exit-active': 'k-reveal-vertical-exit-active',\n    'reveal-horizontal-enter': 'k-reveal-horizontal-enter',\n    'reveal-horizontal-appear': 'k-reveal-horizontal-appear',\n    'reveal-horizontal-enter-active': 'k-reveal-horizontal-enter-active',\n    'reveal-horizontal-appear-active': 'k-reveal-horizontal-appear-active',\n    'reveal-horizontal-exit': 'k-reveal-horizontal-exit',\n    'reveal-horizontal-exit-active': 'k-reveal-horizontal-exit-active'\n};\n/**\n * @hidden\n */\nexport default {\n    outerHeight: outerHeight,\n    outerWidth: outerWidth,\n    styles: styles\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, noop } from '@progress/kendo-react-common';\nimport { CSSTransition } from 'react-transition-group';\nimport util from './util';\nvar styles = util.styles;\nvar AnimationChild = /** @class */ (function (_super) {\n    __extends(AnimationChild, _super);\n    function AnimationChild() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(AnimationChild.prototype, \"element\", {\n        /**\n         * The element that is being animated.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    AnimationChild.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, style = _a.style, appear = _a.appear, enter = _a.enter, exit = _a.exit, transitionName = _a.transitionName, transitionEnterDuration = _a.transitionEnterDuration, transitionExitDuration = _a.transitionExitDuration, className = _a.className, onEnter = _a.onEnter, onEntering = _a.onEntering, onEntered = _a.onEntered, onExit = _a.onExit, onExiting = _a.onExiting, onExited = _a.onExited, mountOnEnter = _a.mountOnEnter, unmountOnExit = _a.unmountOnExit, animationEnteringStyle = _a.animationEnteringStyle, animationEnteredStyle = _a.animationEnteredStyle, animationExitingStyle = _a.animationExitingStyle, animationExitedStyle = _a.animationExitedStyle, other = __rest(_a, [\"children\", \"style\", \"appear\", \"enter\", \"exit\", \"transitionName\", \"transitionEnterDuration\", \"transitionExitDuration\", \"className\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"mountOnEnter\", \"unmountOnExit\", \"animationEnteringStyle\", \"animationEnteredStyle\", \"animationExitingStyle\", \"animationExitedStyle\"]);\n        var childAnimationContainerClassNames = classNames(className, styles['child-animation-container']);\n        var defaultStyle = __assign({ transitionDelay: '0ms' }, style);\n        var animationStyle = {\n            entering: __assign({ transitionDuration: transitionEnterDuration + \"ms\" }, animationEnteringStyle),\n            entered: __assign({}, animationEnteredStyle),\n            exiting: __assign({ transitionDuration: transitionExitDuration + \"ms\" }, animationExitingStyle),\n            exited: __assign({}, animationExitedStyle)\n        };\n        var transitionProps = {\n            in: this.props.in,\n            appear: appear,\n            enter: enter,\n            exit: exit,\n            mountOnEnter: mountOnEnter,\n            unmountOnExit: unmountOnExit,\n            timeout: {\n                enter: transitionEnterDuration,\n                exit: transitionExitDuration\n            },\n            onEnter: (function (e) {\n                if (onEnter) {\n                    onEnter.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            onEntering: (function (e) {\n                if (onEntering) {\n                    onEntering.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            onEntered: (function (e) {\n                if (onEntered) {\n                    onEntered.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            onExit: (function (e) {\n                if (onExit) {\n                    onExit.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            onExiting: (function (e) {\n                if (onExiting) {\n                    onExiting.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            onExited: (function (e) {\n                if (onExited) {\n                    onExited.call(undefined, { animatedElement: e, target: _this });\n                }\n            }),\n            classNames: {\n                appear: styles[transitionName + \"-appear\"] || transitionName + \"-appear\",\n                appearActive: styles[transitionName + \"-appear-active\"] || transitionName + \"-appear-active\",\n                enter: styles[transitionName + \"-enter\"] || transitionName + \"-enter\",\n                enterActive: styles[transitionName + \"-enter-active\"] || transitionName + \"-enter-active\",\n                exit: styles[transitionName + \"-exit\"] || transitionName + \"-exit\",\n                exitActive: styles[transitionName + \"-exit-active\"] || transitionName + \"-exit-active\"\n            }\n        };\n        return (React.createElement(CSSTransition, __assign({}, transitionProps, other), function (status) {\n            return (React.createElement(\"div\", { style: __assign({}, defaultStyle, animationStyle[status]), className: childAnimationContainerClassNames, ref: function (div) { _this._element = div; } }, children));\n        }));\n    };\n    /**\n     * @hidden\n     */\n    AnimationChild.propTypes = {\n        in: PropTypes.bool,\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        transitionName: PropTypes.string.isRequired,\n        className: PropTypes.string,\n        appear: PropTypes.bool,\n        enter: PropTypes.bool,\n        exit: PropTypes.bool,\n        transitionEnterDuration: PropTypes.number.isRequired,\n        transitionExitDuration: PropTypes.number.isRequired,\n        mountOnEnter: PropTypes.bool,\n        unmountOnExit: PropTypes.bool,\n        animationEnteringStyle: PropTypes.object,\n        animationEnteredStyle: PropTypes.object,\n        animationExitingStyle: PropTypes.object,\n        animationExitedStyle: PropTypes.object\n    };\n    /**\n     * @hidden\n     */\n    AnimationChild.defaultProps = {\n        mountOnEnter: true,\n        unmountOnExit: false,\n        onEnter: noop,\n        onEntering: noop,\n        onEntered: noop,\n        onExit: noop,\n        onExiting: noop,\n        onExited: noop,\n        animationEnteringStyle: {},\n        animationEnteredStyle: {},\n        animationExitingStyle: {},\n        animationExitedStyle: {}\n    };\n    return AnimationChild;\n}(React.Component));\nexport { AnimationChild };\n","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-animation',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344582,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { AnimationChild } from './AnimationChild';\nimport { TransitionGroup } from 'react-transition-group';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport util from './util';\nvar styles = util.styles;\n// tslint:enable:max-line-length\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(props) {\n        var _this = _super.call(this, props) || this;\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Animation.prototype.render = function () {\n        var _a = this.props, id = _a.id, style = _a.style, children = _a.children, component = _a.component, className = _a.className, childFactory = _a.childFactory, stackChildren = _a.stackChildren, componentChildStyle = _a.componentChildStyle, componentChildClassName = _a.componentChildClassName, other = __rest(_a, [\"id\", \"style\", \"children\", \"component\", \"className\", \"childFactory\", \"stackChildren\", \"componentChildStyle\", \"componentChildClassName\"]);\n        var transitionProps = {\n            id: id,\n            style: style,\n            component: component,\n            childFactory: childFactory,\n            className: classNames(styles['animation-container'], styles['animation-container-relative'], className)\n        };\n        var content = React.Children.map(children || null, function (child) { return (React.createElement(AnimationChild, __assign({}, other, { style: componentChildStyle, className: componentChildClassName }), child)); });\n        return (React.createElement(TransitionGroup, __assign({}, transitionProps), content));\n    };\n    /**\n     * @hidden\n     */\n    Animation.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any,\n        transitionName: PropTypes.string.isRequired,\n        appear: PropTypes.bool.isRequired,\n        enter: PropTypes.bool.isRequired,\n        exit: PropTypes.bool.isRequired,\n        transitionEnterDuration: PropTypes.number.isRequired,\n        transitionExitDuration: PropTypes.number.isRequired\n    };\n    /**\n     * @hidden\n     */\n    Animation.defaultProps = {\n        component: 'div'\n    };\n    return Animation;\n}(React.Component));\nexport { Animation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\n// tslint:enable:max-line-length\nvar Fade = /** @class */ (function (_super) {\n    __extends(Fade, _super);\n    function Fade() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    Fade.prototype.render = function () {\n        var _a = this.props, children = _a.children, other = __rest(_a, [\"children\"]);\n        var animationProps = {\n            transitionName: 'fade'\n        };\n        return (React.createElement(Animation, __assign({}, animationProps, other), children));\n    };\n    /**\n     * @hidden\n     */\n    Fade.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any\n    };\n    /**\n     * @hidden\n     */\n    Fade.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: false,\n        transitionEnterDuration: 500,\n        transitionExitDuration: 500\n    };\n    return Fade;\n}(React.Component));\nexport { Fade };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\n// tslint:enable:max-line-length\nvar Expand = /** @class */ (function (_super) {\n    __extends(Expand, _super);\n    function Expand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    Expand.prototype.render = function () {\n        var _a = this.props, direction = _a.direction, children = _a.children, other = __rest(_a, [\"direction\", \"children\"]);\n        var animationProps = {\n            transitionName: \"expand-\" + direction\n        };\n        return (React.createElement(Animation, __assign({}, animationProps, other), children));\n    };\n    /**\n     * @hidden\n     */\n    Expand.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf([\n            'horizontal',\n            'vertical'\n        ]),\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any\n    };\n    /**\n     * @hidden\n     */\n    Expand.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: true,\n        transitionEnterDuration: 300,\n        transitionExitDuration: 300,\n        direction: 'vertical'\n    };\n    return Expand;\n}(React.Component));\nexport { Expand };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\nvar EXITING_ANIMATION_STYLE = { position: 'absolute', top: '0', left: '0' };\n// tslint:enable:max-line-length\nvar Push = /** @class */ (function (_super) {\n    __extends(Push, _super);\n    function Push() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    Push.prototype.render = function () {\n        var _a = this.props, children = _a.children, direction = _a.direction, other = __rest(_a, [\"children\", \"direction\"]);\n        return (React.createElement(Animation, __assign({}, other, { transitionName: \"push-\" + direction, animationExitingStyle: this.props.stackChildren\n                ? EXITING_ANIMATION_STYLE\n                : undefined }), children));\n    };\n    /**\n     * @hidden\n     */\n    Push.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf([\n            'up',\n            'down',\n            'left',\n            'right'\n        ]),\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any,\n        stackChildren: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    Push.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: true,\n        transitionEnterDuration: 300,\n        transitionExitDuration: 300,\n        direction: 'right',\n        stackChildren: false\n    };\n    return Push;\n}(React.Component));\nexport { Push };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\n// tslint:enable:max-line-length\nvar Slide = /** @class */ (function (_super) {\n    __extends(Slide, _super);\n    function Slide() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    Slide.prototype.render = function () {\n        var _a = this.props, direction = _a.direction, children = _a.children, other = __rest(_a, [\"direction\", \"children\"]);\n        var animationProps = {\n            transitionName: \"slide-\" + direction\n        };\n        return (React.createElement(Animation, __assign({}, animationProps, other), children));\n    };\n    /**\n     * @hidden\n     */\n    Slide.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf([\n            'up',\n            'down',\n            'left',\n            'right'\n        ]),\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any\n    };\n    /**\n     * @hidden\n     */\n    Slide.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: true,\n        transitionEnterDuration: 300,\n        transitionExitDuration: 300,\n        direction: 'down'\n    };\n    return Slide;\n}(React.Component));\nexport { Slide };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\nvar EXITING_ANIMATION_STYLE = { position: 'absolute', top: '0', left: '0' };\n// tslint:enable:max-line-length\nvar Zoom = /** @class */ (function (_super) {\n    __extends(Zoom, _super);\n    function Zoom() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    Zoom.prototype.render = function () {\n        var _a = this.props, children = _a.children, direction = _a.direction, other = __rest(_a, [\"children\", \"direction\"]);\n        return (React.createElement(Animation, __assign({}, other, { transitionName: \"zoom-\" + direction, animationExitingStyle: this.props.stackChildren\n                ? EXITING_ANIMATION_STYLE\n                : undefined }), children));\n    };\n    /**\n     * @hidden\n     */\n    Zoom.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf([\n            'in',\n            'out'\n        ]),\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any,\n        stackChildren: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    Zoom.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: true,\n        transitionEnterDuration: 300,\n        transitionExitDuration: 300,\n        direction: 'out',\n        stackChildren: false\n    };\n    return Zoom;\n}(React.Component));\nexport { Zoom };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Animation } from './Animation';\nimport { noop } from '@progress/kendo-react-common';\nimport util from './util';\nvar Reveal = /** @class */ (function (_super) {\n    __extends(Reveal, _super);\n    function Reveal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            maxHeight: undefined,\n            maxWidth: undefined\n        };\n        _this.componentWillEnter = function (event) {\n            var onEnter = _this.props.onEnter;\n            _this.updateContainerDimensions(event.animatedElement, function () {\n                if (onEnter) {\n                    onEnter.call(undefined, event);\n                }\n            });\n        };\n        _this.componentIsEntering = function (event) {\n            var onEntering = _this.props.onEntering;\n            _this.updateContainerDimensions(event.animatedElement, function () {\n                if (onEntering) {\n                    onEntering.call(undefined, event);\n                }\n            });\n        };\n        _this.componentWillExit = function (event) {\n            var onExit = _this.props.onExit;\n            _this.updateContainerDimensions(event.animatedElement, function () {\n                if (onExit) {\n                    onExit.call(undefined, event);\n                }\n            });\n        };\n        _this.updateContainerDimensions = function (node, done) {\n            if (done === void 0) { done = noop; }\n            var content = node.firstChild;\n            if (content) {\n                var newHeight = util.outerHeight(content);\n                var newWidth = util.outerWidth(content);\n                _this.setState({\n                    maxHeight: newHeight,\n                    maxWidth: newWidth\n                }, done);\n            }\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Reveal.prototype.render = function () {\n        var _a = this.props, direction = _a.direction, children = _a.children, childFactory = _a.childFactory, other = __rest(_a, [\"direction\", \"children\", \"childFactory\"]);\n        var _b = this.state, maxHeight = _b.maxHeight, maxWidth = _b.maxWidth;\n        var maxOffset;\n        if (direction === 'vertical') {\n            maxOffset = { maxHeight: maxHeight ? maxHeight + \"px\" : null };\n        }\n        else {\n            maxOffset = { maxWidth: maxWidth ? maxWidth + \"px\" : null };\n        }\n        var animationEnteringStyle = {\n            maxHeight: maxOffset.maxHeight,\n            maxWidth: maxOffset.maxWidth\n        };\n        var factory = function (child) {\n            if (!child.props.in) {\n                return React.cloneElement(child, __assign({}, child.props, { style: __assign({}, child.props.style, { maxHeight: maxOffset.maxHeight, maxWidth: maxOffset.maxWidth }) }));\n            }\n            return child;\n        };\n        return (React.createElement(Animation, __assign({}, other, { childFactory: childFactory ? childFactory : factory, onEnter: this.componentWillEnter, onEntering: this.componentIsEntering, onExit: this.componentWillExit, animationEnteringStyle: animationEnteringStyle, transitionName: \"reveal-\" + direction }), children));\n    };\n    /**\n     * @hidden\n     */\n    Reveal.propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.node),\n            PropTypes.node\n        ]),\n        childFactory: PropTypes.any,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf([\n            'horizontal',\n            'vertical'\n        ]),\n        component: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.any\n    };\n    /**\n     * @hidden\n     */\n    Reveal.defaultProps = {\n        appear: false,\n        enter: true,\n        exit: true,\n        transitionEnterDuration: 300,\n        transitionExitDuration: 300,\n        direction: 'vertical'\n    };\n    return Reveal;\n}(React.Component));\nexport { Reveal };\n","/**\n * @hidden\n */\nexport var EXPAND_FIELD = 'expanded';\n/**\n * @hidden\n */\nexport var TEXT_FIELD = 'text';\n/**\n * @hidden\n */\nexport var DISABLED_FIELD = 'disabled';\n/**\n * @hidden\n */\nexport var CHILDREN_FIELD = 'items';\n/**\n * @hidden\n */\nexport var HAS_CHILDREN_FIELD = 'hasChildren';\n/**\n * @hidden\n */\nexport var SELECT_FIELD = 'selected';\n/**\n * @hidden\n */\nexport var CHECK_FIELD = 'checked';\n/**\n * @hidden\n */\nexport var CHECK_INDETERMINATE_FIELD = 'checkIndeterminate';\n/**\n * @hidden\n */\nexport var DOM_KENDO_ITEM_ID_FIELD = '_kendoItemId';\n/**\n * @hidden\n */\nexport var DOM_KENDO_TREEVIEW_GUID_FIELD = '_kendoTreeViewGuid';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { classNames, guid, Draggable } from '@progress/kendo-react-common';\nimport { createId } from './utils/itemIdUtils';\nimport { isItemExpandedAndWithChildren, hasChildren } from './utils/itemUtils';\nimport { Reveal } from '@progress/kendo-react-animation';\nimport { DOM_KENDO_ITEM_ID_FIELD, DOM_KENDO_TREEVIEW_GUID_FIELD } from './utils/consts';\n/**\n * @hidden\n */\nexport var TreeViewItemPropsContext = React.createContext(function (props) { return props; });\n/**\n * @hidden\n */\nvar TreeViewItemWithoutContext = /** @class */ (function (_super) {\n    __extends(TreeViewItemWithoutContext, _super);\n    function TreeViewItemWithoutContext() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.itemGuid = guid();\n        _this.onCheckChange = function (e) {\n            _this.props.onCheckChange(e, _this.item, _this.itemId);\n        };\n        _this.onExpandChange = function (e) {\n            _this.props.onExpandChange(e, _this.item, _this.itemId);\n        };\n        _this.onItemClick = function (e) {\n            _this.props.onItemClick(e, _this.item, _this.itemId);\n        };\n        _this.onPress = function (e) {\n            _this.props.onPress(e.event, _this.item, _this.itemId);\n        };\n        _this.onDrag = function (e) {\n            _this.props.onDrag(e.event, _this.item, _this.itemId);\n        };\n        _this.onRelease = function (e) {\n            _this.props.onRelease(e.event, _this.item, _this.itemId);\n        };\n        _this.assignDraggableMeta = function (element) {\n            if (element) {\n                element[DOM_KENDO_ITEM_ID_FIELD] = _this.props.itemId;\n                element[DOM_KENDO_TREEVIEW_GUID_FIELD] = _this.props.treeGuid;\n            }\n        };\n        return _this;\n    }\n    TreeViewItemWithoutContext.prototype.render = function () {\n        var _this = this;\n        var subitems = this.renderSubitemsIfApplicable();\n        var itemInPart = this.renderItemInPart();\n        return (React.createElement(\"li\", { className: this.getRootClassName(), tabIndex: this.tabIndex, role: \"treeitem\", \"aria-expanded\": this.ariaExpanded, \"aria-selected\": this.ariaSelected, \"aria-checked\": this.ariaChecked, \"aria-disabled\": this.fieldsSvc.disabled(this.item) ? true : undefined, ref: function (el) { return _this.itemElement = el; } },\n            React.createElement(\"div\", { className: \"k-mid\", ref: this.assignDraggableMeta },\n                this.renderExpandIcon(),\n                this.renderCheckbox(),\n                this.props.draggable ?\n                    React.createElement(Draggable, { onPress: this.onPress, onDrag: this.onDrag, onRelease: this.onRelease }, itemInPart) : itemInPart),\n            this.props.animate ?\n                React.createElement(Reveal, { transitionEnterDuration: 200, transitionExitDuration: 200, style: { display: 'block' }, children: subitems }) : subitems));\n    };\n    TreeViewItemWithoutContext.prototype.componentDidMount = function () {\n        var focusedItemId = this.props.focusedItemId;\n        var currentItemId = this.itemId;\n        if (focusedItemId && focusedItemId === currentItemId) {\n            this.props.onFocusDomElNeeded(this.itemElement);\n        }\n        if (this.checkboxElement) {\n            this.checkboxElement.indeterminate = this.fieldsSvc.checkIndeterminate(this.item);\n        }\n    };\n    TreeViewItemWithoutContext.prototype.componentDidUpdate = function (prevProps) {\n        var focusedItemId = this.props.focusedItemId;\n        if (focusedItemId &&\n            focusedItemId !== prevProps.focusedItemId &&\n            focusedItemId === this.itemId) {\n            this.props.onFocusDomElNeeded(this.itemElement);\n        }\n        if (this.checkboxElement) {\n            var indeterminate = this.fieldsSvc.checkIndeterminate(this.item);\n            if (indeterminate !== prevProps.fieldsService.checkIndeterminate(prevProps.item)) {\n                this.checkboxElement.indeterminate = indeterminate;\n            }\n        }\n    };\n    TreeViewItemWithoutContext.prototype.renderCheckbox = function () {\n        var _this = this;\n        if (this.props.checkboxes) {\n            return (React.createElement(\"div\", { className: \"k-checkbox-wrapper\" },\n                React.createElement(\"input\", { type: \"checkbox\", className: \"k-checkbox\", checked: Boolean(this.fieldsSvc.checked(this.item)), id: this.itemGuid, tabIndex: -1, onChange: this.onCheckChange, ref: function (el) { return _this.checkboxElement = el; } }),\n                React.createElement(\"label\", { className: \"k-checkbox-label\", htmlFor: this.itemGuid })));\n        }\n        else {\n            return undefined;\n        }\n    };\n    TreeViewItemWithoutContext.prototype.renderExpandIcon = function () {\n        return this.props.expandIcons &&\n            // If it is explicitly said that the item has children (even not loaded yet)\n            // or if the item actually has children, then render the icon.\n            (this.fieldsSvc.hasChildren(this.item) || hasChildren(this.item, this.fieldsSvc.getChildrenField())) ?\n            React.createElement(\"span\", { className: this.getIconClassName(), onClick: this.onExpandChange }) : undefined;\n    };\n    TreeViewItemWithoutContext.prototype.renderSubitemsIfApplicable = function () {\n        var _this = this;\n        return isItemExpandedAndWithChildren(this.item, this.fieldsSvc) ?\n            (React.createElement(\"ul\", { className: \"k-content\", role: \"group\" }, this.fieldsSvc.children(this.item).map(function (item, index) {\n                return (React.createElement(TreeViewItem, { item: item, itemId: createId(index, _this.itemId), treeGuid: _this.props.treeGuid, animate: _this.props.animate, focusedItemId: _this.props.focusedItemId, tabbableItemId: _this.props.tabbableItemId, fieldsService: _this.props.fieldsService, itemUI: _this.props.itemUI, checkboxes: _this.props.checkboxes, ariaMultiSelectable: _this.props.ariaMultiSelectable, onItemClick: _this.props.onItemClick, onFocusDomElNeeded: _this.props.onFocusDomElNeeded, draggable: _this.props.draggable, onPress: _this.props.onPress, onDrag: _this.props.onDrag, onRelease: _this.props.onRelease, expandIcons: _this.props.expandIcons, onExpandChange: _this.props.onExpandChange, onCheckChange: _this.props.onCheckChange, key: index }));\n            }))) : undefined;\n    };\n    TreeViewItemWithoutContext.prototype.renderItemInPart = function () {\n        return (React.createElement(\"span\", { className: this.getContentClassName(), style: { touchAction: 'none' }, onClick: this.onItemClick }, this.props.itemUI ?\n            React.createElement(this.props.itemUI, { item: this.item, itemHierarchicalIndex: this.itemId }) :\n            this.fieldsSvc.text(this.item)));\n    };\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"fieldsSvc\", {\n        get: function () {\n            return this.props.fieldsService;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"itemId\", {\n        get: function () {\n            return this.props.itemId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"item\", {\n        get: function () {\n            return this.props.item;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"tabIndex\", {\n        get: function () {\n            return (this.props.focusedItemId || this.props.tabbableItemId) === this.itemId ? 0 : -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"ariaExpanded\", {\n        get: function () {\n            return this.fieldsSvc.hasChildren(this.item) || hasChildren(this.item, this.fieldsSvc.getChildrenField()) ?\n                Boolean(this.fieldsSvc.expanded(this.item)) : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"ariaChecked\", {\n        get: function () {\n            if (this.props.checkboxes) {\n                if (this.fieldsSvc.checked(this.item)) {\n                    return 'true';\n                }\n                else {\n                    return this.fieldsSvc.checkIndeterminate(this.item) ? 'mixed' : 'false';\n                }\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewItemWithoutContext.prototype, \"ariaSelected\", {\n        get: function () {\n            if (this.fieldsSvc.selected(this.item)) {\n                return true;\n            }\n            else if (this.props.ariaMultiSelectable) {\n                return this.fieldsSvc.disabled(this.item) ? undefined : false;\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TreeViewItemWithoutContext.prototype.getIconClassName = function () {\n        return classNames('k-icon', {\n            'k-i-expand': !this.fieldsSvc.expanded(this.item),\n            'k-i-collapse': this.fieldsSvc.expanded(this.item),\n            'k-i-loading': this.fieldsSvc.expanded(this.item) && !hasChildren(this.item, this.fieldsSvc.getChildrenField())\n        });\n    };\n    TreeViewItemWithoutContext.prototype.getRootClassName = function () {\n        return classNames('k-item k-treeview-item', { 'k-state-disabled': this.fieldsSvc.disabled(this.item) });\n    };\n    TreeViewItemWithoutContext.prototype.getContentClassName = function () {\n        return classNames('k-in', {\n            'k-state-focused': this.props.focusedItemId === this.itemId,\n            'k-state-selected': this.fieldsSvc.selected(this.item)\n        });\n    };\n    return TreeViewItemWithoutContext;\n}(React.Component));\n/**\n * @hidden\n */\nexport var TreeViewItem = React.forwardRef(function (props, ref) {\n    var contextPropsCallback = React.useContext(TreeViewItemPropsContext);\n    var treeViewItemProps = contextPropsCallback.call(undefined, props);\n    return (React.createElement(TreeViewItemWithoutContext, __assign({ ref: ref }, treeViewItemProps)));\n});\nTreeViewItem.displayName = 'TreeViewItem';\n","import { getNestedValue } from './misc';\n/**\n * @hidden\n */\nvar FieldsService = /** @class */ (function () {\n    function FieldsService(treeViewProps) {\n        this.expandField = treeViewProps.expandField;\n        this.selectField = treeViewProps.selectField;\n        this.hasChildrenField = treeViewProps.hasChildrenField;\n        this.childrenField = treeViewProps.childrenField;\n        this.textField = treeViewProps.textField;\n        this.disableField = treeViewProps.disableField;\n        this.checkField = treeViewProps.checkField;\n        this.checkIndeterminateField = treeViewProps.checkIndeterminateField;\n        this.focusIdField = treeViewProps.focusIdField;\n    }\n    FieldsService.prototype.expanded = function (item) {\n        return getNestedValue(this.expandField, item);\n    };\n    FieldsService.prototype.selected = function (item) {\n        return getNestedValue(this.selectField, item);\n    };\n    FieldsService.prototype.text = function (item) {\n        return getNestedValue(this.textField, item);\n    };\n    FieldsService.prototype.disabled = function (item) {\n        return getNestedValue(this.disableField, item);\n    };\n    FieldsService.prototype.hasChildren = function (item) {\n        return getNestedValue(this.hasChildrenField, item);\n    };\n    FieldsService.prototype.children = function (item) {\n        var children = getNestedValue(this.childrenField, item);\n        return children ? children : [];\n    };\n    FieldsService.prototype.checked = function (item) {\n        return getNestedValue(this.checkField, item);\n    };\n    FieldsService.prototype.checkIndeterminate = function (item) {\n        return getNestedValue(this.checkIndeterminateField, item);\n    };\n    FieldsService.prototype.focusId = function (item) {\n        return this.focusIdField && getNestedValue(this.focusIdField, item);\n    };\n    FieldsService.prototype.getChildrenField = function () {\n        return this.childrenField;\n    };\n    return FieldsService;\n}());\nexport default FieldsService;\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-treeview',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344793,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Keys, dispatchEvent, guid } from '@progress/kendo-react-common';\nimport nav from './utils/getItemIdUponKeyboardNavigation';\nimport { resolveItemId, isEnabledAndAllParentsEnabled, hasChildren } from './utils/itemUtils';\nimport { TreeViewItem } from './TreeViewItem';\nimport { ZERO_LEVEL_ZERO_NODE_ID, getItemById } from './utils/itemIdUtils';\nimport FieldsService from './utils/FieldsService';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { CHECK_FIELD, CHECK_INDETERMINATE_FIELD, CHILDREN_FIELD, DISABLED_FIELD, EXPAND_FIELD, HAS_CHILDREN_FIELD, SELECT_FIELD, TEXT_FIELD } from './utils/consts';\n/**\n * Represents the [KendoReact TreeView component]({% slug overview_treeview %}).\n *\n * @example\n * ```jsx\n * const data = [{\n *     text: 'Furniture', expanded: true, items: [\n *         { text: 'Tables & Chairs' }, { text: 'Sofas' }, { text: 'Occasional Furniture' }]\n * }, {\n *     text: 'Decor', expanded: true, items: [\n *         { text: 'Bed Linen' }, { text: 'Curtains & Blinds' }, { text: 'Carpets' }]\n * }];\n * class App extends React.Component {\n *     render() {\n *         return <TreeView data={data} />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = { focusedItemId: undefined, focusedItemPublicId: undefined, tabbableItemId: ZERO_LEVEL_ZERO_NODE_ID };\n        // When there is a change in state.focusedItemId, calling focus() on the dom element of the focused item\n        // is most often not needed, because the browser focuses the element on its own.\n        // https://github.com/telerik/kendo-react/issues/190\n        _this.allowExplicitFocus = false;\n        _this.treeGuid = guid();\n        _this._element = null;\n        _this.onFocusDomElNeeded = function (domItem) {\n            if (_this.allowExplicitFocus) {\n                _this.focusDomItem(domItem);\n            }\n        };\n        _this.onCheckChange = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchCheckChange(event, item, itemId);\n        };\n        _this.onExpandChange = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchExpandChange(event, item, itemId);\n        };\n        _this.onPress = function (event, item, itemId) {\n            event.originalEvent.preventDefault();\n            if (_this.props.onItemDragStart) {\n                _this.props.onItemDragStart.call(undefined, { target: _this, item: item, itemHierarchicalIndex: itemId });\n            }\n        };\n        _this.onDrag = function (event, item, itemId) {\n            event.originalEvent.preventDefault();\n            var pageX = event.pageX, pageY = event.pageY, clientX = event.clientX, clientY = event.clientY;\n            if (_this.props.onItemDragOver) {\n                _this.props.onItemDragOver.call(undefined, {\n                    target: _this,\n                    item: item,\n                    itemHierarchicalIndex: itemId,\n                    pageX: pageX,\n                    pageY: pageY,\n                    clientX: clientX,\n                    clientY: clientY\n                });\n            }\n        };\n        _this.onRelease = function (event, item, itemId) {\n            var pageX = event.pageX, pageY = event.pageY, clientX = event.clientX, clientY = event.clientY;\n            if (_this.props.onItemDragEnd) {\n                _this.props.onItemDragEnd.call(undefined, {\n                    target: _this,\n                    item: item,\n                    itemHierarchicalIndex: itemId,\n                    pageX: pageX,\n                    pageY: pageY,\n                    clientX: clientX,\n                    clientY: clientY\n                });\n            }\n        };\n        _this.onItemClick = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchItemClick(event, item, itemId);\n        };\n        _this.onFocus = function () {\n            clearTimeout(_this.blurRequest);\n            if (_this.state.focusedItemId === undefined && _this.data.length) {\n                _this.setFocus(_this.state.tabbableItemId);\n            }\n        };\n        _this.onBlur = function () {\n            clearTimeout(_this.blurRequest);\n            _this.blurRequest = window.setTimeout(function () { return _this.setFocus(undefined); }, 0);\n        };\n        _this.onKeyDown = function (event) {\n            var focusedItem = _this.getFocusedItem();\n            if (focusedItem) {\n                var newItemId = nav(focusedItem, _this.state.focusedItemId, _this.data, event.keyCode, _this.fieldsSvc);\n                if (newItemId !== _this.state.focusedItemId) {\n                    // This disables the auto-scroll. The scroll is achieved via item focusing.\n                    event.preventDefault();\n                    _this.allowExplicitFocus = true;\n                    _this.setFocus(newItemId);\n                }\n                _this.dispatchEventsOnKeyDown(event, focusedItem);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(TreeView.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TreeView.prototype.render = function () {\n        var _this = this;\n        this.fieldsSvc = new FieldsService(this.props);\n        return (React.createElement(\"div\", { className: 'k-widget k-treeview' + (this.props.className ? ' ' + this.props.className : ''), onKeyDown: this.onKeyDown, onFocus: this.onFocus, onBlur: this.onBlur, role: \"tree\", \"aria-multiselectable\": this.ariaMultiSelectable ? true : undefined, \"aria-label\": this.props['aria-label'], \"aria-labelledby\": this.props['aria-labelledby'], ref: function (element) { return _this._element = element; }, tabIndex: this.props.tabIndex },\n            React.createElement(\"ul\", { className: \"k-treeview-lines k-group\", role: \"group\" }, this.data.map(function (item, index) {\n                return (React.createElement(TreeViewItem, { item: item, itemId: index.toString(), treeGuid: _this.treeGuid, animate: _this.props.animate, focusedItemId: _this.state.focusedItemId, tabbableItemId: _this.state.tabbableItemId, fieldsService: _this.fieldsSvc, itemUI: _this.props.item, checkboxes: _this.props.checkboxes, ariaMultiSelectable: _this.ariaMultiSelectable, onItemClick: _this.onItemClick, onFocusDomElNeeded: _this.onFocusDomElNeeded, draggable: _this.props.draggable, onPress: _this.onPress, onDrag: _this.onDrag, onRelease: _this.onRelease, expandIcons: _this.props.expandIcons, onExpandChange: _this.onExpandChange, onCheckChange: _this.onCheckChange, key: index }));\n            }))));\n    };\n    /**\n     * @hidden\n     */\n    TreeView.prototype.componentDidUpdate = function () {\n        this.allowExplicitFocus = false;\n        this.refocusDueToFocusIdField();\n    };\n    TreeView.prototype.dispatchEventsOnKeyDown = function (event, focusedItem) {\n        var _this = this;\n        // isEnabled is the most expensive op and that is why is left last.\n        var isEnabled = function () {\n            return isEnabledAndAllParentsEnabled(_this.state.focusedItemId, _this.data, _this.fieldsSvc);\n        };\n        if (event.keyCode === Keys.left && this.fieldsSvc.expanded(focusedItem) && isEnabled()) {\n            this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.right && !this.fieldsSvc.expanded(focusedItem) &&\n            (this.fieldsSvc.hasChildren(focusedItem) || hasChildren(focusedItem, this.props.childrenField)) && isEnabled()) {\n            this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.enter && isEnabled()) {\n            this.dispatchItemClick(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.space && isEnabled()) {\n            // W/o preventDefault() long TreeViews gets incorrectly scrolled.\n            event.preventDefault();\n            this.dispatchCheckChange(event, focusedItem, this.state.focusedItemId);\n        }\n    };\n    TreeView.prototype.setFocus = function (focusedItemId) {\n        if (focusedItemId) {\n            if (this.fieldsSvc.focusIdField) {\n                var item = this.getItemById(focusedItemId);\n                this.setState({ focusedItemId: focusedItemId, focusedItemPublicId: this.fieldsSvc.focusId(item) });\n            }\n            else {\n                this.setState({ focusedItemId: focusedItemId });\n            }\n        }\n        else {\n            this.setState(function (state) {\n                return {\n                    focusedItemId: undefined,\n                    focusedItemPublicId: undefined,\n                    tabbableItemId: state.focusedItemId\n                };\n            });\n        }\n    };\n    TreeView.prototype.getFocusedItem = function () {\n        return this.state.focusedItemId ? this.getItemById(this.state.focusedItemId) : undefined;\n    };\n    TreeView.prototype.getItemById = function (itemId) {\n        return getItemById(itemId, this.data, this.props.childrenField || CHILDREN_FIELD);\n    };\n    TreeView.prototype.dispatchCheckChange = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onCheckChange, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.dispatchExpandChange = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onExpandChange, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.dispatchItemClick = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onItemClick, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.refocusDueToFocusIdField = function () {\n        if (this.fieldsSvc.focusIdField) {\n            var focusedItemPublicId = this.state.focusedItemPublicId;\n            if (focusedItemPublicId) {\n                var focusedItemId = this.props.getFocusHierarchicalIndex ?\n                    this.props.getFocusHierarchicalIndex(focusedItemPublicId) :\n                    resolveItemId(focusedItemPublicId, this.fieldsSvc.focusIdField, this.data, this.props.childrenField);\n                if (focusedItemId !== this.state.focusedItemId) {\n                    this.allowExplicitFocus = true;\n                    this.setState({ focusedItemId: focusedItemId });\n                }\n            }\n        }\n    };\n    Object.defineProperty(TreeView.prototype, \"ariaMultiSelectable\", {\n        get: function () {\n            return this.props['aria-multiselectable'] === true || this.props['aria-multiselectable'] === 'true';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeView.prototype, \"data\", {\n        get: function () {\n            return this.props.data || [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TreeView.prototype.focusDomItem = function (domItem) {\n        domItem.focus();\n    };\n    Object.defineProperty(TreeView.prototype, \"guid\", {\n        /**\n         * Returns the `guid` which is associated with the TreeView.\n         */\n        get: function () {\n            return this.treeGuid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TreeView.propTypes = {\n        data: PropTypes.arrayOf(PropTypes.any),\n        animate: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        focusIdField: PropTypes.string,\n        getHierarchicalIndexById: PropTypes.func,\n        onExpandChange: PropTypes.func,\n        onItemClick: PropTypes.func,\n        expandField: PropTypes.string,\n        selectField: PropTypes.string,\n        childrenField: PropTypes.string,\n        hasChildrenField: PropTypes.string,\n        textField: PropTypes.string,\n        disableField: PropTypes.string,\n        item: PropTypes.any,\n        'aria-multiselectable': function (props, propName, componentName) {\n            if (props[propName] !== undefined\n                && props[propName] !== true\n                && props[propName] !== false\n                && props[propName] !== 'true'\n                && props[propName] !== 'false') {\n                return new Error('Invalid prop `' + propName + '` supplied to' +\n                    ' `' + componentName + '`. Validation failed.');\n            }\n            return null;\n        },\n        'aria-label': PropTypes.string,\n        'aria-labelledby': PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    TreeView.defaultProps = {\n        animate: true,\n        expandField: EXPAND_FIELD,\n        selectField: SELECT_FIELD,\n        hasChildrenField: HAS_CHILDREN_FIELD,\n        childrenField: CHILDREN_FIELD,\n        textField: TEXT_FIELD,\n        disableField: DISABLED_FIELD,\n        checkField: CHECK_FIELD,\n        checkIndeterminateField: CHECK_INDETERMINATE_FIELD\n    };\n    return TreeView;\n}(React.Component));\nexport default TreeView;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * Represents the KendoReact TreeViewDragClue component which renders a clue when an item is dragged.\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     dragClue;\n *     state = { tree };\n *\n *     render() {\n *         return (\n *             <div>\n *                 <TreeView data={this.state.tree} draggable={true}\n *                     onItemDragOver={this.onItemDragOver} onItemDragEnd={this.onItemDragEnd} />\n *                 <TreeViewDragClue ref={dragClue => this.dragClue = dragClue} />\n *             </div>\n *         );\n *     }\n *\n *     onItemDragOver = (event) => {\n *         this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\n *     }\n *     onItemDragEnd = (event) => {\n *         this.dragClue.hide();\n *         const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n *\n *         if (eventAnalyzer.isDropAllowed) {\n *             const updatedTree = moveTreeViewItem(\n *                 event.itemHierarchicalIndex,\n *                 this.state.tree,\n *                 eventAnalyzer.getDropOperation(),\n *                 eventAnalyzer.destinationMeta.itemHierarchicalIndex,\n *             );\n *\n *             this.setState({ tree: updatedTree });\n *         }\n *     }\n *     getClueClassName(event) {\n *         const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n *         const itemIndex = eventAnalyzer.destinationMeta.itemHierarchicalIndex;\n *\n *         if (eventAnalyzer.isDropAllowed) {\n *             switch (eventAnalyzer.getDropOperation()) {\n *                 case 'child':\n *                     return 'k-i-plus';\n *                 case 'before':\n *                     return itemIndex === '0' || itemIndex.endsWith(`${SEPARATOR}0`) ?\n *                         'k-i-insert-up' : 'k-i-insert-middle';\n *                 case 'after':\n *                     const siblings = getSiblings(itemIndex, this.state.tree);\n *                     const lastIndex = Number(itemIndex.split(SEPARATOR).pop());\n *\n *                     return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\n *                 default:\n *                     break;\n *             }\n *         }\n *\n *         return 'k-i-cancel';\n *     }\n * }\n *\n * function getSiblings(itemIndex, data) {\n *     let result = data;\n *\n *     const indices = itemIndex.split(SEPARATOR).map(index => Number(index));\n *     for (let i = 0; i < indices.length - 1; i++) {\n *         result = result[indices[i]].items;\n *     }\n *\n *     return result;\n * }\n *\n * const SEPARATOR = '_';\n * const tree = [{\n *     text: 'Furniture', expanded: true, items: [\n *         { text: 'Tables & Chairs', expanded: true },\n *         { text: 'Sofas', expanded: true },\n *         { text: 'Occasional Furniture', expanded: true }]\n * }, {\n *     text: 'Decor', expanded: true, items: [\n *         { text: 'Bed Linen', expanded: true },\n *         { text: 'Curtains & Blinds', expanded: true },\n *         { text: 'Carpets', expanded: true }]\n * }];\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar TreeViewDragClue = /** @class */ (function (_super) {\n    __extends(TreeViewDragClue, _super);\n    function TreeViewDragClue() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            visible: false,\n            top: 0,\n            left: 0,\n            text: '',\n            operationClassName: 'k-i-cancel'\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    TreeViewDragClue.prototype.render = function () {\n        var dynamicStyle = { top: this.state.top + 'px', left: this.state.left + 'px' };\n        return this.state.visible && (React.createElement(\"div\", { className: \"k-header k-drag-clue\", style: __assign({}, this.props.style, dynamicStyle) },\n            React.createElement(\"span\", { className: classNames('k-icon k-drag-status k-icon-with-modifier', this.state.operationClassName) },\n                React.createElement(\"span\", { className: \"k-icon k-icon-modifier\" })),\n            this.state.text));\n    };\n    /**\n     * Displays the TreeViewDragClue component.\n     *\n     * @param top - The `top` CSS position of the component.\n     * @param left - The `left` CSS position of the component.\n     * @param text - The text of the component.\n     * @param operationClassName - The CSS class name which is related to the specific drop operation.\n     */\n    TreeViewDragClue.prototype.show = function (top, left, text, operationClassName) {\n        this.setState({ visible: true, top: top, left: left, text: text, operationClassName: operationClassName });\n    };\n    /**\n     * Hides the TreeViewDragClue component.\n     */\n    TreeViewDragClue.prototype.hide = function () {\n        this.setState({ visible: false });\n    };\n    /**\n     * @hidden\n     */\n    TreeViewDragClue.defaultProps = { style: { display: 'block', position: 'absolute', zIndex: 20000, padding: '4px 6px' } };\n    return TreeViewDragClue;\n}(React.PureComponent));\nexport default TreeViewDragClue;\n","import { DOM_KENDO_ITEM_ID_FIELD, DOM_KENDO_TREEVIEW_GUID_FIELD } from './utils/consts';\nvar DROPZONE_BOUNDARY_DELTA = 6;\n/**\n * A class which provides an API for analyzing the `drag` events\n * of the TreeView.\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     dragClue;\n *     state = { tree };\n *\n *     render() {\n *         return (\n *             <div>\n *                 <TreeView data={this.state.tree} draggable={true}\n *                     onItemDragOver={this.onItemDragOver} onItemDragEnd={this.onItemDragEnd} />\n *                 <TreeViewDragClue ref={dragClue => this.dragClue = dragClue} />\n *             </div>\n *         );\n *     }\n *\n *     onItemDragOver = (event) => {\n *         this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\n *     }\n *     onItemDragEnd = (event) => {\n *         this.dragClue.hide();\n *         const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n *\n *         if (eventAnalyzer.isDropAllowed) {\n *             const updatedTree = moveTreeViewItem(\n *                 event.itemHierarchicalIndex,\n *                 this.state.tree,\n *                 eventAnalyzer.getDropOperation(),\n *                 eventAnalyzer.destinationMeta.itemHierarchicalIndex,\n *             );\n *\n *             this.setState({ tree: updatedTree });\n *         }\n *     }\n *     getClueClassName(event) {\n *         const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n *         const itemIndex = eventAnalyzer.destinationMeta.itemHierarchicalIndex;\n *\n *         if (eventAnalyzer.isDropAllowed) {\n *             switch (eventAnalyzer.getDropOperation()) {\n *                 case 'child':\n *                     return 'k-i-plus';\n *                 case 'before':\n *                     return itemIndex === '0' || itemIndex.endsWith(`${SEPARATOR}0`) ?\n *                         'k-i-insert-up' : 'k-i-insert-middle';\n *                 case 'after':\n *                     const siblings = getSiblings(itemIndex, this.state.tree);\n *                     const lastIndex = Number(itemIndex.split(SEPARATOR).pop());\n *\n *                     return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\n *                 default:\n *                     break;\n *             }\n *         }\n *\n *         return 'k-i-cancel';\n *     }\n * }\n *\n * function getSiblings(itemIndex, data) {\n *     let result = data;\n *\n *     const indices = itemIndex.split(SEPARATOR).map(index => Number(index));\n *     for (let i = 0; i < indices.length - 1; i++) {\n *         result = result[indices[i]].items;\n *     }\n *\n *     return result;\n * }\n *\n * const SEPARATOR = '_';\n * const tree = [{\n *     text: 'Furniture', expanded: true, items: [\n *         { text: 'Tables & Chairs', expanded: true },\n *         { text: 'Sofas', expanded: true },\n *         { text: 'Occasional Furniture', expanded: true }]\n * }, {\n *     text: 'Decor', expanded: true, items: [\n *         { text: 'Bed Linen', expanded: true },\n *         { text: 'Curtains & Blinds', expanded: true },\n *         { text: 'Carpets', expanded: true }]\n * }];\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar TreeViewDragAnalyzer = /** @class */ (function () {\n    /**\n     * @param event - The event that will be analyzed.\n     */\n    function TreeViewDragAnalyzer(event) {\n        this.event = event;\n        this.initialized = false;\n        this.itemId = event.itemHierarchicalIndex;\n        this.treeViewGuid = event.target.guid;\n    }\n    /**\n     * The method which initializes the analyzer.\n     * Invoke the method before you call any other methods.\n     *\n     * @returns - The analyzer object of the `drag` event.\n     */\n    TreeViewDragAnalyzer.prototype.init = function () {\n        if (!this.initialized) {\n            this.setDestimationMeta(document.elementFromPoint(this.event.clientX, this.event.clientY));\n            this.initialized = true;\n        }\n        return this;\n    };\n    Object.defineProperty(TreeViewDragAnalyzer.prototype, \"isDropAllowed\", {\n        /**\n         * Returns `true` if dropping is allowed. Otherwise, returns `false`.\n         */\n        get: function () {\n            if (this.initialized && this.destItemId && this.destTreeViewGuid) {\n                // Disallow circular references.\n                return !((this.destTreeViewGuid + \"_\" + this.destItemId + \"_\").\n                    startsWith(this.treeViewGuid + \"_\" + this.itemId + \"_\"));\n            }\n            else {\n                return false;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreeViewDragAnalyzer.prototype, \"destinationMeta\", {\n        /**\n         * Returns an object which contains:\n         * * The `itemHierarchicalIndex` of the destination item (the item below the dragged item) and\n         * * The `guid` of the destination TreeView (the TreeView which renders the destination item).\n         */\n        get: function () {\n            return { itemHierarchicalIndex: this.destItemId, treeViewGuid: this.destTreeViewGuid };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns the specific drop operation.\n     *\n     * @returns - The following values are returned:\n     * * `before`&mdash;Indicates that the dragged item is positioned at the beginning of the destination item.\n     * * `after`&mdash;Indicates that the dragged item is positioned at the end of the destination item.\n     * * `child`&mdash;Indicates that the dragged item is positioned in the middle of the destination item.\n     * * `undefined`&mdash;Indicates that dropping is not allowed.\n     */\n    TreeViewDragAnalyzer.prototype.getDropOperation = function () {\n        if (this.initialized && this.isDropAllowed) {\n            var _a = this.destDomNodeWithMeta.getBoundingClientRect(), top_1 = _a.top, height = _a.height;\n            if (top_1 + height - this.event.clientY < DROPZONE_BOUNDARY_DELTA) {\n                return 'after';\n            }\n            else if (this.event.clientY - top_1 < DROPZONE_BOUNDARY_DELTA) {\n                return 'before';\n            }\n            else {\n                return 'child';\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    TreeViewDragAnalyzer.prototype.setDestimationMeta = function (element) {\n        var node = element;\n        while (node && !node[DOM_KENDO_ITEM_ID_FIELD]) {\n            node = node.parentNode;\n        }\n        if (node && node[DOM_KENDO_ITEM_ID_FIELD]) {\n            this.destDomNodeWithMeta = node;\n            this.destItemId = node[DOM_KENDO_ITEM_ID_FIELD];\n            this.destTreeViewGuid = node[DOM_KENDO_TREEVIEW_GUID_FIELD];\n        }\n    };\n    return TreeViewDragAnalyzer;\n}());\nexport default TreeViewDragAnalyzer;\n","import * as React from 'react';\n/**\n * @hidden\n */\nexport function useDropdownWidth(elementRef, initialStyleWidth, args) {\n    var _a = React.useState(initialStyleWidth), width = _a[0], setWidth = _a[1];\n    React.useEffect(function () {\n        if (width !== undefined && elementRef.current) {\n            setWidth(elementRef.current.offsetWidth);\n        }\n    }, args);\n    return width;\n}\n","import * as React from 'react';\n/**\n * @hidden\n */\nexport var ListNoData = function (props) {\n    return React.createElement(\"div\", { className: \"k-nodata\" },\n        React.createElement(\"div\", null, props.children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, noop, useRtl, getTabIndex, Keys, mapTree, extendDataItem, guid } from '@progress/kendo-react-common';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport { TreeView } from '@progress/kendo-react-treeview';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './../package-metadata';\nimport { getItemValue, areSame, isPresent } from '../common/utils';\nimport { useDropdownWidth } from './useDropdownWidth';\nimport { ListNoData } from './ListNoData';\nimport { messages, clear, nodata } from './../messages';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\nvar ValueHolder = function (props) { return React.createElement(React.Fragment, null, props.children); };\nvar toLevel = function (hierarchicalIndex) {\n    return hierarchicalIndex.split('_').map(function (i) { return parseInt(i, 10); });\n};\nvar getValidity = function (_a, hasValue) {\n    var validationMessage = _a.validationMessage, valid = _a.valid, required = _a.required;\n    return ({\n        customError: validationMessage !== undefined,\n        valid: Boolean(valid !== undefined ? valid : (!required || hasValue)),\n        valueMissing: !hasValue\n    });\n};\nvar defaultProps = {\n    selectField: 'selected',\n    subItemsField: 'items',\n    popupSettings: {\n        animate: true,\n        width: '200px',\n        height: '200px'\n    },\n    required: false,\n    validityStyles: true\n};\n/**\n * Represents the DropDownTree component.\n */\nexport var DropDownTree = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var calculatedId = React.useMemo(function () { return guid(); }, []);\n    var id = props.id || calculatedId;\n    var _a = props.data, data = _a === void 0 ? [] : _a, dataItemKey = props.dataItemKey, _b = props.popupSettings, popupSettings = _b === void 0 ? {} : _b, _c = props.style, style = _c === void 0 ? {} : _c, opened = props.opened, disabled = props.disabled, _d = props.onOpen, onOpen = _d === void 0 ? noop : _d, _e = props.onClose, onClose = _e === void 0 ? noop : _e, placeholder = props.placeholder, label = props.label, name = props.name, _f = props.selectField, selectField = _f === void 0 ? defaultProps.selectField : _f, _g = props.subItemsField, subItemsField = _g === void 0 ? defaultProps.subItemsField : _g, validationMessage = props.validationMessage, valid = props.valid, _h = props.required, required = _h === void 0 ? defaultProps.required : _h, _j = props.validityStyles, validityStyles = _j === void 0 ? defaultProps.validityStyles : _j;\n    var tabIndex = getTabIndex(props.tabIndex, disabled);\n    var target = React.useRef(null);\n    var elementRef = React.useRef(null);\n    var inputRef = React.useRef(null);\n    var selectRef = React.useRef(null);\n    var treeViewRef = React.useRef(null);\n    var skipFocusRef = React.useRef(false);\n    var _k = React.useState(undefined), stateValue = _k[0], setStateValue = _k[1];\n    var controlled = props.value !== undefined;\n    var value = controlled ? props.value : (stateValue !== undefined ? stateValue : props.defaultValue);\n    var hasValue = isPresent(value);\n    var currentValueText = hasValue ? getItemValue(value, props.textField) : '';\n    var validity = getValidity({ validationMessage: validationMessage, valid: valid, required: required }, hasValue);\n    var focus = React.useCallback(function () { return elementRef.current && elementRef.current.focus(); }, []);\n    React.useImperativeHandle(target, function () { return ({\n        props: props,\n        element: elementRef.current,\n        actionElement: elementRef.current,\n        focus: focus\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var dir = useRtl(elementRef, props.dir);\n    var initialStyleWidth = popupSettings.width !== undefined ?\n        popupSettings.width : (style.width !== undefined ? style.width : defaultProps.popupSettings.width);\n    var popupWidth = useDropdownWidth(elementRef, initialStyleWidth);\n    var popupStyles = __assign({ width: popupWidth }, (dir !== undefined ? { direction: dir } : {}));\n    var _l = React.useState(false), open = _l[0], setOpen = _l[1];\n    var isOpen = opened !== undefined ? opened : open;\n    var _m = React.useState(false), focused = _m[0], setFocused = _m[1];\n    var _o = React.useState(''), filter = _o[0], setFilter = _o[1];\n    var setValidity = React.useCallback(function () {\n        if (selectRef.current && selectRef.current.setCustomValidity) {\n            selectRef.current.setCustomValidity(validity.valid\n                ? ''\n                : validationMessage === undefined ? VALIDATION_MESSAGE : validationMessage);\n        }\n    }, [validationMessage, validity]);\n    React.useEffect(setValidity);\n    var openPopup = React.useCallback(function (event) {\n        if (!isOpen) {\n            if (onOpen) {\n                var openEvent = __assign({}, event);\n                onOpen.call(undefined, openEvent);\n            }\n            if (opened === undefined) {\n                setOpen(true);\n            }\n        }\n    }, [isOpen, opened, onOpen]);\n    var closePopup = React.useCallback(function (event) {\n        if (isOpen) {\n            if (onClose) {\n                var closeEvent = __assign({}, event);\n                onClose.call(undefined, closeEvent);\n            }\n            if (opened === undefined) {\n                setOpen(false);\n            }\n        }\n    }, [isOpen, opened, onClose]);\n    var onWrapperClick = React.useCallback(function (event) {\n        if (!event.isDefaultPrevented() && target.current) {\n            setFocused(true);\n            var ev = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: target.current\n            };\n            (isOpen ? closePopup : openPopup)(ev);\n        }\n    }, [isOpen, opened, onOpen, onClose]);\n    var switchFocus = React.useCallback(function (focusFn) {\n        skipFocusRef.current = true;\n        focusFn();\n        window.setTimeout(function () { return skipFocusRef.current = false; }, 0);\n    }, []);\n    var onWrapperKeyDown = React.useCallback(function (event) {\n        var keyCode = event.keyCode, altKey = event.altKey;\n        var treeview = treeViewRef.current && treeViewRef.current.element;\n        if (!target.current || (event.isDefaultPrevented() && inputRef.current === event.target)) {\n            return;\n        }\n        var ev = {\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent,\n            target: target.current\n        };\n        if (isOpen) {\n            if (keyCode === Keys.esc || (altKey && keyCode === Keys.up)) {\n                closePopup(ev);\n            }\n            else if (treeview && treeview.querySelector('.k-state-focused') &&\n                (keyCode === Keys.up || keyCode === Keys.down ||\n                    keyCode === Keys.left || keyCode === Keys.right ||\n                    keyCode === Keys.home || keyCode === Keys.end)) {\n                if (keyCode === Keys.up && inputRef.current) {\n                    var items = Array.from(treeview.querySelectorAll('.k-treeview-item'));\n                    var focusedItem = items.slice().reverse().find(function (i) { return Boolean(i && i.querySelector('.k-state-focused')); });\n                    if (focusedItem && items.indexOf(focusedItem) === 0) {\n                        return switchFocus(function () { focusElement(inputRef.current); });\n                    }\n                }\n                switchFocus(noop);\n            }\n            else if (keyCode === Keys.down) {\n                switchFocus(function () { focusElement(inputRef.current || treeview); });\n            }\n        }\n        else {\n            if (altKey && keyCode === Keys.down) {\n                openPopup(ev);\n            }\n        }\n    }, [isOpen, opened, onOpen, onClose]);\n    var onInputKeyDown = React.useCallback(function (event) {\n        var keyCode = event.keyCode, altKey = event.altKey;\n        if (altKey || (keyCode !== Keys.up && keyCode !== Keys.down)) {\n            return;\n        }\n        event.preventDefault();\n        switchFocus(keyCode === Keys.up ?\n            function () { focusElement(elementRef.current); } :\n            function () { focusElement(treeViewRef.current && treeViewRef.current.element); });\n    }, []);\n    var focusElement = React.useCallback(function (element) {\n        if (element) {\n            switchFocus(function () { return element.focus(); });\n        }\n    }, []);\n    var onPopupOpened = React.useCallback(function () {\n        if (!focused && isOpen) {\n            closePopup({ target: target.current });\n        }\n        else {\n            if (props.filterable) {\n                focusElement(inputRef.current);\n            }\n            else {\n                focusElement(treeViewRef.current && treeViewRef.current.element);\n            }\n        }\n    }, [onClose, props.filterable, focused, opened, isOpen]);\n    var onPopupClosed = React.useCallback(function () {\n        if (focused) {\n            // Move the focus from treeview to dropdown without triggering Focus or Blur events.\n            focusElement(elementRef.current);\n        }\n    }, [focused]);\n    var onFocus = React.useCallback(function (event) {\n        if (!focused && !skipFocusRef.current) {\n            setFocused(true);\n            if (props.onFocus && target.current) {\n                var focusEvent = {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    target: target.current\n                };\n                props.onFocus.call(undefined, focusEvent);\n            }\n        }\n    }, [focused, props.onFocus]);\n    var onBlur = React.useCallback(function (event) {\n        if (focused && !skipFocusRef.current && target.current) {\n            setFocused(false);\n            var ev = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: target.current\n            };\n            if (props.onBlur) {\n                var focusEvent = __assign({}, ev);\n                props.onBlur.call(undefined, focusEvent);\n            }\n            closePopup(ev);\n        }\n    }, [focused, props.onBlur, isOpen, opened, onClose]);\n    var onWrapperMouseDown = React.useCallback(function () {\n        if (focused) {\n            // moving focus from treeview to dropdown triggers Focus and Blur events.\n            switchFocus(noop);\n        }\n    }, [focused]);\n    var changeValue = React.useCallback(function (event, newValue, hierarchicalIndex) {\n        if (props.onChange) {\n            var changeEvent = __assign({ value: newValue, level: hierarchicalIndex ? toLevel(hierarchicalIndex) : [] }, event);\n            props.onChange.call(undefined, changeEvent);\n        }\n        if (!controlled) {\n            setStateValue(newValue);\n        }\n    }, [props.onChange, controlled]);\n    var onChange = React.useCallback(function (event) {\n        if (areSame(event.item, value, dataItemKey) || !target.current) {\n            return;\n        }\n        var item = event.item, itemHierarchicalIndex = event.itemHierarchicalIndex, nativeEvent = event.nativeEvent, syntheticEvent = event.syntheticEvent;\n        var ev = {\n            syntheticEvent: syntheticEvent,\n            nativeEvent: nativeEvent,\n            target: target.current\n        };\n        changeValue(ev, item, itemHierarchicalIndex);\n        closePopup(ev);\n    }, [controlled, value, props.onChange, dataItemKey, isOpen, opened, onClose]);\n    var onClear = React.useCallback(function (event) {\n        if (!target.current) {\n            return;\n        }\n        var ev = {\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent,\n            target: target.current\n        };\n        changeValue(ev, null);\n        closePopup(ev);\n        event.preventDefault();\n    }, [controlled, props.onChange, isOpen, opened, onClose]);\n    var onExpand = React.useCallback(function (event) {\n        if (props.onExpandChange && target.current) {\n            var item = event.item, itemHierarchicalIndex = event.itemHierarchicalIndex, nativeEvent = event.nativeEvent, syntheticEvent = event.syntheticEvent;\n            var expandEvent = {\n                level: toLevel(itemHierarchicalIndex),\n                item: item, nativeEvent: nativeEvent, syntheticEvent: syntheticEvent, target: target.current\n            };\n            props.onExpandChange.call(undefined, expandEvent);\n        }\n    }, [props.onExpandChange]);\n    var onFilterChange = React.useCallback(function (event) {\n        if (props.onFilterChange && target.current) {\n            var filterDesc = { field: props.textField, operator: 'contains', value: event.target.value };\n            var ev = {\n                filter: filterDesc,\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: target.current\n            };\n            props.onFilterChange.call(undefined, ev);\n            if (props.filter === undefined) {\n                setFilter(event.target.value);\n            }\n        }\n    }, [props.onFilterChange, props.filter, props.textField]);\n    var treeViewData = React.useMemo(function () {\n        return (controlled || !hasValue) ? data :\n            mapTree(data, subItemsField, function (item) {\n                var _a;\n                return extendDataItem(item, subItemsField, (_a = {}, _a[selectField] = areSame(item, value, dataItemKey), _a));\n            });\n    }, [data, value, controlled, hasValue, selectField, subItemsField]);\n    var NoData = props.listNoData || ListNoData;\n    var ValueComponent = props.valueHolder || ValueHolder;\n    var localization = useLocalization();\n    var isValid = !validityStyles || validity.valid;\n    var dropdowntree = (React.createElement(\"span\", { className: classNames('k-widget k-dropdowntree k-dropdowntree-clearable', props.className), tabIndex: tabIndex, accessKey: props.accessKey, id: id, style: label ? __assign({}, style, { width: undefined }) : style, dir: dir, ref: elementRef, onKeyDown: disabled ? undefined : onWrapperKeyDown, onMouseDown: onWrapperMouseDown, onFocus: onFocus, onBlur: onBlur, role: \"listbox\", \"aria-haspopup\": \"true\", \"aria-expanded\": isOpen, \"aria-disabled\": disabled, \"aria-label\": label, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"span\", { className: classNames('k-dropdown-wrap', {\n                'k-state-focused': focused,\n                'k-state-disabled': disabled,\n                'k-state-invalid': !isValid\n            }), onClick: disabled ? undefined : onWrapperClick },\n            React.createElement(\"span\", { className: \"k-input\" },\n                React.createElement(ValueComponent, { item: value }, currentValueText || placeholder)),\n            hasValue && !disabled && (React.createElement(\"span\", { onClick: onClear, className: \"k-icon k-clear-value k-i-close\", title: localization.toLanguageString(clear, messages[clear]), role: \"button\", tabIndex: -1, onMouseDown: function (e) { return e.preventDefault(); } })),\n            React.createElement(\"span\", { className: \"k-select\", \"aria-label\": \"select\" },\n                React.createElement(\"span\", { className: classNames('k-icon', { 'k-i-arrow-60-down': !props.loading, 'k-i-loading': props.loading }) })),\n            React.createElement(\"select\", { name: name, ref: selectRef, tabIndex: -1, \"aria-hidden\": true, title: label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: props.valueMap ? props.valueMap.call(undefined, value) : value }))),\n        React.createElement(Popup, { className: classNames('k-list-container k-group k-reset k-popup-dropdowntree', popupSettings.className, { 'k-rtl': dir === 'rtl' }), popupClass: popupSettings.popupClass, style: popupStyles, animate: popupSettings.animate, anchor: elementRef.current, show: isOpen, onOpen: onPopupOpened, onClose: onPopupClosed, appendTo: popupSettings.appendTo },\n            props.filterable && (React.createElement(\"span\", { className: \"k-list-filter\" },\n                React.createElement(\"input\", { className: \"k-textbox\", tabIndex: tabIndex, ref: inputRef, value: props.filter === undefined ? filter : props.filter, onChange: onFilterChange, onKeyDown: onInputKeyDown }),\n                React.createElement(\"span\", { className: \"k-icon k-i-zoom\" }))),\n            data.length > 0 ? (React.createElement(TreeView, { ref: treeViewRef, tabIndex: tabIndex, data: treeViewData, focusIdField: dataItemKey, textField: props.textField, selectField: selectField, expandField: props.expandField, childrenField: subItemsField, expandIcons: true, onItemClick: onChange, onExpandChange: onExpand, item: props.item })) : (React.createElement(NoData, null, localization.toLanguageString(nodata, messages[nodata]))))));\n    return label ? (React.createElement(FloatingLabel, { label: label, editorValue: currentValueText, editorPlaceholder: placeholder, editorValid: isValid, editorDisabled: disabled, editorId: id, style: { width: style ? style.width : undefined }, children: dropdowntree, dir: dir })) : dropdowntree;\n});\nvar propTypes = {\n    opened: PropTypes.bool,\n    disabled: PropTypes.bool,\n    dir: PropTypes.string,\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    data: PropTypes.array,\n    value: PropTypes.any,\n    valueMap: PropTypes.func,\n    placeholder: PropTypes.string,\n    dataItemKey: PropTypes.string.isRequired,\n    textField: PropTypes.string.isRequired,\n    selectField: PropTypes.string,\n    expandField: PropTypes.string,\n    subItemsField: PropTypes.string,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    label: PropTypes.string,\n    validationMessage: PropTypes.string,\n    validityStyles: PropTypes.bool,\n    valid: PropTypes.bool,\n    required: PropTypes.bool,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    filterable: PropTypes.bool,\n    filter: PropTypes.string,\n    loading: PropTypes.bool,\n    popupSettings: PropTypes.shape({\n        animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n                openDuration: PropTypes.number,\n                closeDuration: PropTypes.number\n            })]),\n        popupClass: PropTypes.string,\n        className: PropTypes.string,\n        appendTo: PropTypes.any,\n        width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        height: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    }),\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFilterChange: PropTypes.func,\n    onExpandChange: PropTypes.func,\n    item: PropTypes.func,\n    valueHolder: PropTypes.func,\n    listNoData: PropTypes.func\n};\nDropDownTree.displayName = 'KendoReactDropDownTree';\nDropDownTree.propTypes = propTypes;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, noop, useRtl, getTabIndex, Keys, guid } from '@progress/kendo-react-common';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport { TreeView } from '@progress/kendo-react-treeview';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './../package-metadata';\nimport { getItemValue, areSame, matchTags } from '../common/utils';\nimport { useDropdownWidth } from './../DropDownTree/useDropdownWidth';\nimport { ListNoData } from './../DropDownTree/ListNoData';\nimport { messages, clear, nodata } from './../messages';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport TagList from '../MultiSelect/TagList';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\nvar toLevel = function (hierarchicalIndex) {\n    return hierarchicalIndex.split('_').map(function (i) { return parseInt(i, 10); });\n};\nvar getValidity = function (_a, hasValue) {\n    var validationMessage = _a.validationMessage, valid = _a.valid, required = _a.required;\n    return ({\n        customError: validationMessage !== undefined,\n        valid: Boolean(valid !== undefined ? valid : (!required || hasValue)),\n        valueMissing: !hasValue\n    });\n};\nvar defaultProps = {\n    checkField: 'checkField',\n    checkIndeterminateField: 'checkIndeterminateField',\n    subItemsField: 'items',\n    popupSettings: {\n        animate: true,\n        width: '200px',\n        height: '200px'\n    },\n    required: false,\n    validityStyles: true\n};\n/**\n * Represents the MultiSelectTree component.\n */\nexport var MultiSelectTree = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var componentGuid = React.useMemo(function () { return guid(); }, []);\n    var id = props.id || componentGuid;\n    var _a = props.data, data = _a === void 0 ? [] : _a, dataItemKey = props.dataItemKey, _b = props.popupSettings, popupSettings = _b === void 0 ? {} : _b, _c = props.style, style = _c === void 0 ? {} : _c, opened = props.opened, disabled = props.disabled, _d = props.onOpen, onOpen = _d === void 0 ? noop : _d, _e = props.onClose, onClose = _e === void 0 ? noop : _e, placeholder = props.placeholder, label = props.label, name = props.name, _f = props.checkField, checkField = _f === void 0 ? defaultProps.checkField : _f, _g = props.checkIndeterminateField, checkIndeterminateField = _g === void 0 ? defaultProps.checkIndeterminateField : _g, _h = props.subItemsField, subItemsField = _h === void 0 ? defaultProps.subItemsField : _h, validationMessage = props.validationMessage, valid = props.valid, tags = props.tags, value = props.value, _j = props.required, required = _j === void 0 ? defaultProps.required : _j, _k = props.validityStyles, validityStyles = _k === void 0 ? defaultProps.validityStyles : _k;\n    var tabIndex = getTabIndex(props.tabIndex, disabled);\n    var targetRef = React.useRef(null);\n    var elementRef = React.useRef(null);\n    var inputRef = React.useRef(null);\n    var selectRef = React.useRef(null);\n    var treeViewRef = React.useRef(null);\n    var skipFocusRef = React.useRef(false);\n    var tagsToRenderRef = React.useRef([]);\n    var popupRef = React.useRef(null);\n    var _l = React.useState(), focusedTagState = _l[0], setFocusedTagState = _l[1];\n    var _m = React.useState(false), openState = _m[0], setOpenState = _m[1];\n    var _o = React.useState(false), focusedState = _o[0], setFocusedState = _o[1];\n    var _p = React.useState(''), filterState = _p[0], setFilterState = _p[1];\n    var isOpen = opened !== undefined ? opened : openState;\n    var hasValue = Boolean(Array.isArray(value) && value.length);\n    var validity = getValidity({ validationMessage: validationMessage, valid: valid, required: required }, hasValue);\n    var dir = useRtl(elementRef, props.dir);\n    var initialStyleWidth = popupSettings.width !== undefined ?\n        popupSettings.width : (style.width !== undefined ? style.width : defaultProps.popupSettings.width);\n    var popupWidth = useDropdownWidth(elementRef, initialStyleWidth);\n    var popupStyles = __assign({ width: popupWidth }, (dir !== undefined ? { direction: dir } : {}));\n    var focus = React.useCallback(function () { return elementRef.current && elementRef.current.focus(); }, []);\n    tagsToRenderRef.current = tags === undefined ?\n        (value || []).map(function (item) { return ({ text: getItemValue(item, props.textField), data: [item] }); }) : tags.slice();\n    React.useImperativeHandle(targetRef, function () { return ({\n        props: props,\n        element: elementRef.current,\n        actionElement: elementRef.current,\n        focus: focus\n    }); });\n    React.useImperativeHandle(ref, function () { return targetRef.current; });\n    var setValidity = React.useCallback(function () {\n        if (selectRef.current && selectRef.current.setCustomValidity) {\n            selectRef.current.setCustomValidity(validity.valid\n                ? ''\n                : validationMessage === undefined ? VALIDATION_MESSAGE : validationMessage);\n        }\n    }, [validationMessage, validity]);\n    React.useEffect(setValidity);\n    React.useEffect(function () {\n        if (popupRef.current && isOpen) {\n            popupRef.current.setPosition(popupRef.current._popup);\n        }\n    }, [value, isOpen]);\n    var changeValue = React.useCallback(function (event, relatedItems, operation) {\n        if (props.onChange) {\n            var changeEvent = __assign({ items: relatedItems, operation: operation }, event);\n            props.onChange.call(undefined, changeEvent);\n        }\n    }, [props.onChange]);\n    var onChange = React.useCallback(function (event) {\n        if (areSame(event.item, value, dataItemKey) || !targetRef.current) {\n            return;\n        }\n        var item = event.item, nativeEvent = event.nativeEvent, syntheticEvent = event.syntheticEvent;\n        var ev = {\n            syntheticEvent: syntheticEvent,\n            nativeEvent: nativeEvent,\n            target: targetRef.current\n        };\n        changeValue(ev, [item], 'toggle');\n    }, [value, dataItemKey, changeValue]);\n    var openPopup = React.useCallback(function (event) {\n        if (!isOpen) {\n            if (onOpen) {\n                var openEvent = __assign({}, event);\n                onOpen.call(undefined, openEvent);\n            }\n            if (opened === undefined) {\n                setOpenState(true);\n            }\n        }\n    }, [isOpen, opened, onOpen]);\n    var closePopup = React.useCallback(function (event) {\n        if (isOpen) {\n            if (onClose) {\n                var closeEvent = __assign({}, event);\n                onClose.call(undefined, closeEvent);\n            }\n            if (opened === undefined) {\n                setOpenState(false);\n            }\n        }\n    }, [isOpen, opened, onClose]);\n    var switchFocus = React.useCallback(function (focusFn) {\n        skipFocusRef.current = true;\n        focusFn();\n        window.setTimeout(function () { return skipFocusRef.current = false; }, 0);\n    }, []);\n    var focusElement = React.useCallback(function (element) {\n        if (element) {\n            switchFocus(function () { return element.focus(); });\n        }\n    }, [switchFocus]);\n    var onPopupOpened = React.useCallback(function () {\n        if (!focusedState && isOpen) {\n            closePopup({ target: targetRef.current });\n        }\n        else {\n            if (props.filterable) {\n                focusElement(inputRef.current);\n            }\n            else {\n                focusElement(treeViewRef.current && treeViewRef.current.element);\n            }\n        }\n    }, [focusedState, isOpen, focusElement, closePopup, props.filterable]);\n    var onPopupClosed = React.useCallback(function () {\n        if (focusedState) {\n            // Move the focus from treeview to dropdown without triggering Focus or Blur events.\n            focusElement(elementRef.current);\n        }\n    }, [focusedState, focusElement]);\n    var onFocus = React.useCallback(function (event) {\n        if (!focusedState && !skipFocusRef.current) {\n            setFocusedState(true);\n            if (props.onFocus && targetRef.current) {\n                var focusEvent = {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    target: targetRef.current\n                };\n                props.onFocus.call(undefined, focusEvent);\n            }\n        }\n    }, [focusedState, props.onFocus]);\n    var onBlur = React.useCallback(function (event) {\n        if (focusedState && !skipFocusRef.current && targetRef.current) {\n            setFocusedState(false);\n            var ev = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: targetRef.current\n            };\n            if (props.onBlur) {\n                var focusEvent = __assign({}, ev);\n                props.onBlur.call(undefined, focusEvent);\n            }\n            closePopup(ev);\n        }\n    }, [focusedState, props.onBlur, isOpen, opened, onClose]);\n    var onWrapperMouseDown = React.useCallback(function () {\n        if (focusedState) {\n            // moving focus from treeview to dropdown triggers Focus and Blur events.\n            switchFocus(noop);\n        }\n    }, [focusedState, switchFocus]);\n    var onWrapperClick = React.useCallback(function (event) {\n        if (!event.isDefaultPrevented() && targetRef.current) {\n            setFocusedState(true);\n            var ev = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: targetRef.current\n            };\n            if (!isOpen) {\n                openPopup(ev);\n            }\n        }\n    }, [isOpen, openPopup]);\n    var onWrapperKeyDown = React.useCallback(function (event) {\n        var keyCode = event.keyCode, altKey = event.altKey;\n        var treeviewElement = treeViewRef.current && treeViewRef.current.element;\n        if (!targetRef.current || (event.isDefaultPrevented() && inputRef.current === event.target)) {\n            return;\n        }\n        var ev = {\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent,\n            target: targetRef.current\n        };\n        if (value && value.length > 0 &&\n            (keyCode === Keys.left || keyCode === Keys.right ||\n                keyCode === Keys.home || keyCode === Keys.end ||\n                keyCode === Keys.delete)) {\n            var tagsToRender = tagsToRenderRef.current;\n            var focusedIndex = focusedTagState ?\n                tagsToRender.findIndex(function (t) { return matchTags(t, focusedTagState, dataItemKey); }) : -1;\n            var newFocusedTag = undefined;\n            var hasFocused = focusedIndex !== -1;\n            if (keyCode === Keys.left) {\n                if (hasFocused) {\n                    focusedIndex = Math.max(0, focusedIndex - 1);\n                }\n                else {\n                    focusedIndex = tagsToRender.length - 1;\n                }\n                newFocusedTag = tagsToRender[focusedIndex];\n            }\n            else if (keyCode === Keys.right) {\n                if (focusedIndex === tagsToRender.length - 1) {\n                    newFocusedTag = undefined;\n                }\n                else if (hasFocused) {\n                    focusedIndex = Math.min(tagsToRender.length - 1, focusedIndex + 1);\n                    newFocusedTag = tagsToRender[focusedIndex];\n                }\n            }\n            else if (keyCode === Keys.home) {\n                newFocusedTag = tagsToRender[0];\n            }\n            else if (keyCode === Keys.end) {\n                newFocusedTag = tagsToRender[tagsToRender.length - 1];\n            }\n            else if (keyCode === Keys.delete) {\n                if (hasFocused) {\n                    changeValue(ev, tagsToRender[focusedIndex].data, 'delete');\n                }\n            }\n            if (newFocusedTag !== focusedTagState) {\n                setFocusedTagState(newFocusedTag);\n            }\n        }\n        if (isOpen) {\n            if (keyCode === Keys.esc || (altKey && keyCode === Keys.up)) {\n                closePopup(ev);\n            }\n            else if (treeviewElement && treeviewElement.querySelector('.k-state-focused') &&\n                (keyCode === Keys.up || keyCode === Keys.down ||\n                    keyCode === Keys.left || keyCode === Keys.right ||\n                    keyCode === Keys.home || keyCode === Keys.end)) {\n                if (keyCode === Keys.up && inputRef.current) {\n                    var items = Array.from(treeviewElement.querySelectorAll('.k-treeview-item'));\n                    var focusedItem = items.slice().reverse().find(function (i) { return Boolean(i && i.querySelector('.k-state-focused')); });\n                    if (focusedItem && items.indexOf(focusedItem) === 0) {\n                        return switchFocus(function () { focusElement(inputRef.current); });\n                    }\n                }\n                switchFocus(noop);\n            }\n            else if (keyCode === Keys.down) {\n                switchFocus(function () { focusElement(inputRef.current || treeviewElement); });\n            }\n        }\n        else {\n            if (altKey && keyCode === Keys.down) {\n                openPopup(ev);\n            }\n        }\n    }, [isOpen, closePopup, focusElement, switchFocus, openPopup, focusedTagState, dataItemKey, value, changeValue]);\n    var onInputKeyDown = React.useCallback(function (event) {\n        var keyCode = event.keyCode, altKey = event.altKey;\n        if (altKey || (keyCode !== Keys.up && keyCode !== Keys.down)) {\n            return;\n        }\n        event.preventDefault();\n        switchFocus(keyCode === Keys.up ?\n            function () { focusElement(elementRef.current); } :\n            function () { focusElement(treeViewRef.current && treeViewRef.current.element); });\n    }, [focusElement, switchFocus]);\n    var onClear = React.useCallback(function (event) {\n        if (!targetRef.current) {\n            return;\n        }\n        var ev = {\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent,\n            target: targetRef.current\n        };\n        changeValue(ev, [], 'clear');\n        closePopup(ev);\n        event.preventDefault();\n    }, [changeValue, closePopup]);\n    var onTagDelete = React.useCallback(function (itemsToRemove, event) {\n        closePopup({ target: targetRef.current });\n        if (!focusedState) {\n            focusElement(inputRef.current);\n        }\n        changeValue({\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent,\n            target: targetRef.current\n        }, itemsToRemove, 'delete');\n    }, [changeValue, closePopup, focusElement, focusedState]);\n    var onExpand = React.useCallback(function (event) {\n        if (props.onExpandChange && targetRef.current) {\n            var item = event.item, itemHierarchicalIndex = event.itemHierarchicalIndex, nativeEvent = event.nativeEvent, syntheticEvent = event.syntheticEvent;\n            var expandEvent = {\n                level: toLevel(itemHierarchicalIndex),\n                item: item, nativeEvent: nativeEvent, syntheticEvent: syntheticEvent, target: targetRef.current\n            };\n            props.onExpandChange.call(undefined, expandEvent);\n        }\n    }, [props.onExpandChange]);\n    var onFilterChange = React.useCallback(function (event) {\n        if (props.onFilterChange && targetRef.current) {\n            var filterDesc = { field: props.textField, operator: 'contains', value: event.target.value };\n            var ev = {\n                filter: filterDesc,\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                target: targetRef.current\n            };\n            props.onFilterChange.call(undefined, ev);\n            if (props.filter === undefined) {\n                setFilterState(event.target.value);\n            }\n        }\n    }, [props.onFilterChange, props.filter, props.textField]);\n    var NoData = props.listNoData || ListNoData;\n    var localization = useLocalization();\n    var isValid = !validityStyles || validity.valid;\n    var multiselecttree = (React.createElement(\"span\", { className: classNames('k-widget k-dropdowntree', props.className, {\n            'k-state-focused': focusedState && !disabled,\n            'k-state-invalid': !isValid,\n            'k-state-disabled': disabled\n        }), tabIndex: tabIndex, accessKey: props.accessKey, id: id, style: label ? __assign({}, style, { width: undefined }) : style, dir: dir, ref: elementRef, onKeyDown: disabled ? undefined : onWrapperKeyDown, onMouseDown: onWrapperMouseDown, onFocus: onFocus, onBlur: onBlur, role: \"listbox\", \"aria-haspopup\": \"true\", \"aria-expanded\": isOpen, \"aria-disabled\": disabled, \"aria-label\": label, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"span\", { className: classNames('k-multiselect-wrap k-floatwrap', {\n                'k-state-focused': focusedState,\n                'k-state-disabled': disabled,\n                'k-state-invalid': !isValid\n            }), onClick: disabled ? undefined : onWrapperClick },\n            tagsToRenderRef.current.length > 0 && (React.createElement(TagList, { tag: props.tag, onTagDelete: onTagDelete, data: tagsToRenderRef.current, guid: componentGuid, focused: focusedTagState ? tagsToRenderRef.current.find(function (t) { return matchTags(t, focusedTagState, dataItemKey); }) : undefined })),\n            props.loading && (React.createElement(\"span\", { className: classNames('k-icon', { 'k-i-loading': props.loading }) })),\n            hasValue && !disabled && (React.createElement(\"span\", { onClick: onClear, className: \"k-icon k-clear-value k-i-close\", title: localization.toLanguageString(clear, messages[clear]), role: \"button\", tabIndex: -1, onMouseDown: function (e) { return e.preventDefault(); } })),\n            React.createElement(\"select\", { name: name, ref: selectRef, tabIndex: -1, \"aria-hidden\": true, title: label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: props.valueMap ? props.valueMap.call(undefined, value) : value }))),\n        React.createElement(Popup, { popupClass: popupSettings.popupClass, className: classNames('k-list-container k-group k-reset k-popup-dropdowntree', popupSettings.className, { 'k-rtl': dir === 'rtl' }), style: popupStyles, animate: popupSettings.animate, anchor: elementRef.current, show: isOpen, onOpen: onPopupOpened, onClose: onPopupClosed, appendTo: popupSettings.appendTo, ref: popupRef },\n            props.filterable && (React.createElement(\"span\", { className: \"k-list-filter\" },\n                React.createElement(\"input\", { className: \"k-textbox\", tabIndex: tabIndex, ref: inputRef, value: props.filter === undefined ? filterState : props.filter, onChange: onFilterChange, onKeyDown: onInputKeyDown }),\n                React.createElement(\"span\", { className: \"k-icon k-i-zoom\" }))),\n            data.length > 0 ? (React.createElement(TreeView, { ref: treeViewRef, tabIndex: tabIndex, data: data, focusIdField: dataItemKey, textField: props.textField, checkField: checkField, checkIndeterminateField: checkIndeterminateField, expandField: props.expandField, childrenField: subItemsField, expandIcons: true, onItemClick: onChange, onCheckChange: onChange, onExpandChange: onExpand, checkboxes: true, item: props.item })) : (React.createElement(NoData, null, localization.toLanguageString(nodata, messages[nodata]))))));\n    return label ? (React.createElement(FloatingLabel, { label: label, editorValue: hasValue, editorPlaceholder: placeholder, editorValid: isValid, editorDisabled: disabled, editorId: id, style: { width: style ? style.width : undefined }, children: multiselecttree, dir: dir })) : multiselecttree;\n});\nvar propTypes = {\n    opened: PropTypes.bool,\n    disabled: PropTypes.bool,\n    dir: PropTypes.string,\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    data: PropTypes.array,\n    value: PropTypes.any,\n    valueMap: PropTypes.func,\n    placeholder: PropTypes.string,\n    dataItemKey: PropTypes.string.isRequired,\n    textField: PropTypes.string.isRequired,\n    checkField: PropTypes.string,\n    checkIndeterminateField: PropTypes.string,\n    expandField: PropTypes.string,\n    subItemsField: PropTypes.string,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    label: PropTypes.string,\n    validationMessage: PropTypes.string,\n    validityStyles: PropTypes.bool,\n    valid: PropTypes.bool,\n    required: PropTypes.bool,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    filterable: PropTypes.bool,\n    filter: PropTypes.string,\n    loading: PropTypes.bool,\n    tags: PropTypes.arrayOf(PropTypes.shape({\n        text: PropTypes.string,\n        data: PropTypes.arrayOf(PropTypes.any)\n    })),\n    popupSettings: PropTypes.shape({\n        animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n                openDuration: PropTypes.number,\n                closeDuration: PropTypes.number\n            })]),\n        popupClass: PropTypes.string,\n        className: PropTypes.string,\n        appendTo: PropTypes.any,\n        width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        height: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    }),\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFilterChange: PropTypes.func,\n    onExpandChange: PropTypes.func,\n    item: PropTypes.func,\n    listNoData: PropTypes.func\n};\nMultiSelectTree.displayName = 'KendoReactMultiSelectTree';\nMultiSelectTree.propTypes = propTypes;\n","import { getter } from '@progress/kendo-react-common';\n/** @hidden */\nexport var getValueMap = function (value, idGetter) {\n    var map = {};\n    if (value && value.length) {\n        value.forEach(function (item) {\n            map[idGetter(item)] = true;\n        });\n    }\n    return map;\n};\n/**\n * Get MultiSelectTree new value from the component `onChange` event.\n *\n * @param {any[]} data\n * @param {object} options\n * @returns {any[]}\n */\nexport var getMultiSelectTreeValue = function (data, options) {\n    var items = options.items, dataItemKey = options.dataItemKey, value = options.value, _a = options.subItemsField, subItemsField = _a === void 0 ? 'items' : _a, operation = options.operation;\n    var idGetter = getter(dataItemKey);\n    var valueMap = getValueMap(value, idGetter);\n    if (operation === 'clear') {\n        return [];\n    }\n    else if (operation === 'delete') {\n        var deletedItemsMap_1 = getValueMap(items, idGetter);\n        return value.filter(function (item) { return !deletedItemsMap_1[idGetter(item)]; });\n    }\n    // operation === 'toggle'\n    var selectedItem = items[0];\n    var selectedId = idGetter(selectedItem);\n    var subItemGetter = getter(subItemsField);\n    var stack = data.slice();\n    var context = [];\n    var parents;\n    var foundItem;\n    while (stack.length) {\n        var currentItem = stack.pop();\n        if (selectedId === idGetter(currentItem)) {\n            parents = context.map(function (contextItem) { return contextItem.item; });\n            foundItem = currentItem;\n            break;\n        }\n        else {\n            if (context &&\n                context.length &&\n                context[context.length - 1].parentPosition === stack.length) {\n                context.pop();\n            }\n            var subItems = subItemGetter(currentItem);\n            if (subItems && subItems.length) {\n                context.push({ item: currentItem, parentPosition: stack.length });\n                stack.push.apply(stack, subItems);\n            }\n        }\n    }\n    var childrenStack = (subItemGetter(foundItem) || []).slice();\n    var children = [];\n    while (childrenStack.length) {\n        var currentItem = childrenStack.pop();\n        children.push(currentItem);\n        var subItems = subItemGetter(currentItem);\n        if (subItems && subItems.length) {\n            childrenStack.push.apply(childrenStack, subItems);\n        }\n    }\n    var isChecked = !valueMap[selectedId];\n    var newValue = [];\n    if (isChecked) {\n        newValue.push.apply(newValue, value);\n        newValue.push(foundItem);\n        newValue.push.apply(newValue, children.filter(function (item) { return !valueMap[idGetter(item)]; }));\n        var parentCandidates = parents.filter(function (item) { return !valueMap[idGetter(item)]; });\n        var newValueMap_1 = getValueMap(newValue, idGetter);\n        for (var i = parentCandidates.length - 1; i > -1; i--) {\n            var candidate = parentCandidates[i];\n            var subItems = subItemGetter(candidate);\n            var checkedChildrenLength = subItems.filter(function (item) { return newValueMap_1[idGetter(item)]; }).length;\n            if (checkedChildrenLength < subItems.length) {\n                break;\n            }\n            else {\n                newValue.push(candidate);\n                newValueMap_1[idGetter(candidate)] = true;\n            }\n        }\n    }\n    else {\n        var foundId_1 = idGetter(foundItem);\n        var childrenMap_1 = getValueMap(children, idGetter);\n        var parentsMap_1 = getValueMap(parents, idGetter);\n        newValue.push.apply(newValue, (value\n            .filter(function (item) {\n            var itemId = idGetter(item);\n            return !childrenMap_1[itemId] && foundId_1 !== itemId && !parentsMap_1[itemId];\n        })));\n    }\n    return newValue;\n};\n// /** @hidden */\n// const mapCheckAndIntermidiate = (\n//     data,\n//     options: {\n//         valueMap: {[dataItemKey: string]: boolean};\n//         callback?: (item: any) => any;\n//         idGetter: (item: any) => any;\n//         subItemGetter: (item: any) => any;\n//         subItemSetter: (item: any, value: any) => void;\n//         checkSetter: (item: any, value: any) => void;\n//         checkIndeterminateSetter: (item: any, value: any) => void;\n//     }\n// ) => {\n//     const {\n//         idGetter,\n//         subItemGetter,\n//         subItemSetter,\n//         checkSetter,\n//         checkIndeterminateSetter\n//     } = options;\n//     if (!data || !data.length) { return [data, false];}\n//     let hasChecked = false;\n//     const newData = [...data].map(dataItem => {\n//         const [children, hasCheckedChildren] = mapCheckAndIntermidiate(subItemGetter(dataItem), options);\n//         const isChecked = options.valueMap[idGetter(dataItem)];\n//         if (isChecked || hasCheckedChildren) {\n//             hasChecked = true;\n//         }\n//         const newItem = { ...dataItem };\n//         subItemSetter(newItem, children);\n//         checkSetter(newItem, isChecked);\n//         checkIndeterminateSetter(newItem, !isChecked && hasCheckedChildren);\n//         return options.callback ? options.callback(newItem) : newItem;\n//     });\n//     return [newData, hasChecked];\n// };\n// /**\n//  *\n//  * @param data\n//  * @param options\n//  * @returns\n//  */\n// /**\n//  * Creates a new array with the results of calling the provided callback function\n//  * on every element in the provided data tree. The new tree items have their `check` and `checkIndeterminate` fields set based on provided value.\n//  *\n//  * @param {any[]} tree - The data tree.\n//  * @param {object} options - The options used to map the tree items like check and checkIndeterminateField fields\n//  * @returns {any[]} - The new data tree.\n//  */\n// export const mapMultiSelectTreeData = (\n//     tree,\n//     options: {\n//         checkField?: string;\n//         checkIndeterminateField?: string;\n//         subItemsField?: string;\n//         dataItemKey: string;\n//         value: Array<any>;\n//         callback?: (item) => any;\n//     }\n// ) => {\n//     const {\n//         subItemsField = 'items',\n//         checkField = 'checkField',\n//         checkIndeterminateField = 'checkIndeterminateField',\n//         callback\n//     } = options;\n//     const idGetter = getter(options.dataItemKey);\n//     const [result] = mapCheckAndIntermidiate(\n//         tree,\n//         {\n//             callback,\n//             valueMap: getValueMap(options.value, idGetter),\n//             idGetter,\n//             subItemGetter: getter(subItemsField),\n//             subItemSetter: setter(subItemsField),\n//             checkSetter: setter(checkField),\n//             checkIndeterminateSetter: setter(checkIndeterminateField)\n//         }\n//     );\n//     return result;\n// };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, pagerItemPerPage } from './../messages';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\n/**\n * @hidden\n */\nvar PagerPageSizes = /** @class */ (function (_super) {\n    __extends(PagerPageSizes, _super);\n    function PagerPageSizes() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.pageSizeChange = function (e) {\n            if (_this.props.pageChange) {\n                _this.props.pageChange({ skip: 0, take: parseInt(e.target.value, 10) }, e);\n            }\n        };\n        return _this;\n    }\n    PagerPageSizes.prototype.render = function () {\n        var _this = this;\n        var sizes = this.props.pageSizes.slice();\n        if (sizes.filter(function (s) { return s === _this.props.pageSize; }).length === 0) {\n            sizes.unshift(this.props.pageSize);\n        }\n        var itemPerPageMessage = this.props.messagesMap ? this.props.messagesMap(pagerItemPerPage) :\n            ({ messageKey: pagerItemPerPage, defaultMessage: messages[pagerItemPerPage] });\n        return (React.createElement(\"span\", { className: \"k-pager-sizes k-label\" },\n            React.createElement(DropDownList, { value: this.props.pageSize, data: sizes, onChange: this.pageSizeChange }),\n            provideLocalizationService(this).toLanguageString(itemPerPageMessage.messageKey, itemPerPageMessage.defaultMessage)));\n    };\n    return PagerPageSizes;\n}(React.Component));\nexport { PagerPageSizes };\nregisterForLocalization(PagerPageSizes);\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-data-tools',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344879,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PagerNumericButtons } from './PagerNumericButtons';\nimport { PagerInput } from './PagerInput';\nimport { PagerPageSizes } from './PagerPageSizes';\nimport { messages, pagerFirstPage, pagerLastPage, pagerNextPage, pagerPreviousPage, pagerInfo } from '../messages';\nimport { registerForIntl, registerForLocalization, provideLocalizationService, provideIntlService } from '@progress/kendo-react-intl';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * @hidden\n */\nvar RESPONSIVE_BREAKPOINT_MEDIUM = 600;\n/**\n * @hidden\n */\nvar RESPONSIVE_BREAKPOINT_LARGE = 768;\nvar Pager = /** @class */ (function (_super) {\n    __extends(Pager, _super);\n    function Pager(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        _this.changePage = function (page, event) {\n            if (_this.props.onPageChange && page > 0 && page <= _this.totalPages) {\n                _this.props.onPageChange({\n                    target: _this,\n                    skip: (page - 1) * _this.props.take,\n                    take: _this.props.take,\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent\n                });\n            }\n        };\n        _this.onWindowResize = function () {\n            var element = _this.element;\n            if (!element || !_this.props.responsive) {\n                return;\n            }\n            var width = element.offsetWidth;\n            if (width < RESPONSIVE_BREAKPOINT_MEDIUM) {\n                element.classList.remove('k-pager-md');\n                element.classList.add('k-pager-sm');\n            }\n            else if (width >= RESPONSIVE_BREAKPOINT_MEDIUM && width < RESPONSIVE_BREAKPOINT_LARGE) {\n                element.classList.add('k-pager-md');\n                element.classList.remove('k-pager-sm');\n            }\n            else {\n                element.classList.remove('k-pager-md');\n                element.classList.remove('k-pager-sm');\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(Pager.prototype, \"element\", {\n        /**\n         * Returns the HTML element of the Pager component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Pager.prototype.componentDidMount = function () {\n        window.addEventListener('resize', this.onWindowResize);\n        this.onWindowResize();\n    };\n    /**\n     * @hidden\n     */\n    Pager.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.onWindowResize);\n    };\n    /**\n     * @hidden\n     */\n    Pager.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, skip = _a.skip, take = _a.take, total = _a.total, pageSizes = _a.pageSizes, messagesMap = _a.messagesMap;\n        var localizationService = provideLocalizationService(this);\n        var intlService = provideIntlService(this);\n        var currentPage = Math.floor(skip / take) + 1;\n        var changer = this.props.type === 'numeric' ?\n            (React.createElement(PagerNumericButtons, { buttonCount: this.props.buttonCount || 0, totalPages: this.totalPages, currentPage: currentPage, pageChange: this.changePage })) : (React.createElement(PagerInput, { currentPage: currentPage, totalPages: this.totalPages, pageChange: this.changePage, messagesMap: messagesMap }));\n        var firstPageMessage = messagesMap ? messagesMap(pagerFirstPage) :\n            ({ messageKey: pagerFirstPage, defaultMessage: messages[pagerFirstPage] });\n        var previousPageMessage = messagesMap ? messagesMap(pagerPreviousPage) :\n            ({ messageKey: pagerPreviousPage, defaultMessage: messages[pagerPreviousPage] });\n        var nextPageMessage = messagesMap ? messagesMap(pagerNextPage) :\n            ({ messageKey: pagerNextPage, defaultMessage: messages[pagerNextPage] });\n        var lastPageMessage = messagesMap ? messagesMap(pagerLastPage) :\n            ({ messageKey: pagerLastPage, defaultMessage: messages[pagerLastPage] });\n        var infoMessage = messagesMap ? messagesMap(pagerInfo) :\n            ({ messageKey: pagerInfo, defaultMessage: messages[pagerInfo] });\n        var first, prev, next, last;\n        if (this.props.previousNext) {\n            first = this.renderButton(1, 'k-link k-pager-nav k-pager-first' + (currentPage === 1 ? ' k-state-disabled' : ''), localizationService.toLanguageString(firstPageMessage.messageKey, firstPageMessage.defaultMessage), 'k-icon k-i-arrow-end-left');\n            prev = this.renderButton(currentPage - 1, 'k-link k-pager-nav' + (currentPage === 1 ? ' k-state-disabled' : ''), localizationService.toLanguageString(previousPageMessage.messageKey, previousPageMessage.defaultMessage), 'k-icon k-i-arrow-60-left');\n            next = this.renderButton(currentPage + 1, 'k-link k-pager-nav' + (currentPage >= this.totalPages ? ' k-state-disabled' : ''), localizationService.toLanguageString(nextPageMessage.messageKey, nextPageMessage.defaultMessage), 'k-icon k-i-arrow-60-right');\n            last = this.renderButton(this.totalPages, 'k-link k-pager-nav k-pager-last' + (currentPage >= this.totalPages ? ' k-state-disabled' : ''), localizationService.toLanguageString(lastPageMessage.messageKey, lastPageMessage.defaultMessage), 'k-icon k-i-arrow-end-right');\n        }\n        var pagerPageSizes = pageSizes && (React.createElement(PagerPageSizes, { pageChange: this.props.onPageChange, pageSize: take, pageSizes: pageSizes, messagesMap: messagesMap }));\n        var info = this.props.info && (React.createElement(\"div\", { className: \"k-pager-info k-label\" }, intlService\n            .format(localizationService.toLanguageString(infoMessage.messageKey, infoMessage.defaultMessage), [\n            Math.min(skip + 1, total),\n            Math.min(skip + take, total),\n            total\n        ])));\n        return (React.createElement(\"div\", { className: classNames('k-pager-wrap k-pager k-widget', this.props.className), style: this.props.style, role: \"navigation\", ref: function (element) { return _this._element = element; } },\n            first,\n            prev,\n            changer,\n            next,\n            last,\n            pagerPageSizes,\n            info));\n    };\n    Pager.prototype.renderButton = function (page, className, title, icon) {\n        var _this = this;\n        return (React.createElement(\"a\", { onClick: function (e) {\n                e.preventDefault();\n                _this.changePage(page, e);\n            }, href: \"#\", className: className, title: title },\n            React.createElement(\"span\", { className: icon })));\n    };\n    Object.defineProperty(Pager.prototype, \"totalPages\", {\n        get: function () {\n            return Math.ceil((this.props.total || 0) / this.props.take);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Pager.propTypes = {\n        className: PropTypes.string,\n        style: PropTypes.object,\n        total: PropTypes.number.isRequired,\n        skip: PropTypes.number.isRequired,\n        take: PropTypes.number.isRequired,\n        buttonCount: PropTypes.number,\n        info: PropTypes.bool,\n        type: PropTypes.oneOf(['numeric', 'input']),\n        pageSizes: PropTypes.arrayOf(PropTypes.number),\n        previousNext: PropTypes.bool,\n        onPageChange: PropTypes.func,\n        messagesMap: PropTypes.func\n    };\n    /**\n     * @hidden\n     */\n    Pager.defaultProps = {\n        buttonCount: 10,\n        info: true,\n        type: 'numeric'\n    };\n    return Pager;\n}(React.Component));\nexport { Pager };\nregisterForIntl(Pager);\nregisterForLocalization(Pager);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\n/**\n * @hidden\n */\nexport var createFilterComponent = function (settings) {\n    var Cell = /** @class */ (function (_super) {\n        __extends(FilterComponent, _super);\n        function FilterComponent() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.filterChange = function (event) {\n                if (_this.props.onFilterChange) {\n                    _this.props.onFilterChange(event);\n                }\n            };\n            _this.inputChange = function (e) {\n                var value = e.target.value;\n                var _a = _this.props, _b = _a.filter, filter = _b === void 0 ? [] : _b, _c = _a.field, field = _c === void 0 ? '' : _c;\n                var existing = _this.findCellFilter();\n                var filterResult = existing ?\n                    filter.map(function (f) { return f.field === field ? __assign({}, existing, { value: value }) : f; }) : filter.concat([__assign({}, settings.emptyFilter, { value: value, field: field })]);\n                _this.filterChange({\n                    filter: filterResult,\n                    field: field,\n                    syntheticEvent: e.syntheticEvent\n                });\n            };\n            _this.operatorChange = function (e) {\n                var operator = e.target.value.operator;\n                var _a = _this.props, _b = _a.filter, filter = _b === void 0 ? [] : _b, _c = _a.field, field = _c === void 0 ? '' : _c;\n                var existing = _this.findCellFilter();\n                var filterResult = existing ?\n                    filter.map(function (f) { return f.field === field ? __assign({}, existing, { operator: operator }) : f; }) : filter.concat([__assign({}, settings.emptyFilter, { field: field, operator: operator })]);\n                _this.filterChange({\n                    filter: filterResult,\n                    field: field,\n                    syntheticEvent: e.syntheticEvent\n                });\n            };\n            _this.clearButtonClick = function (e) {\n                var _a = _this.props, _b = _a.filter, filter = _b === void 0 ? [] : _b, _c = _a.field, field = _c === void 0 ? '' : _c;\n                _this.filterChange({\n                    filter: filter.filter(function (f) { return f.field !== field; }),\n                    field: field,\n                    syntheticEvent: e\n                });\n            };\n            _this.findCellFilter = function () {\n                var _a = _this.props, _b = _a.filter, filter = _b === void 0 ? [] : _b, field = _a.field;\n                return filter.find(function (f) { return f.field === field; });\n            };\n            return _this;\n        }\n        FilterComponent.prototype.render = function () {\n            var _a = this.props, _b = _a.clearButtonTitle, clearButtonTitle = _b === void 0 ? '' : _b, _c = _a.operators, operators = _c === void 0 ? [] : _c;\n            var filter = this.findCellFilter() || __assign({}, settings.emptyFilter, { operator: '' });\n            var operator = filter.operator, value = filter.value;\n            var operatorComponentProps = {\n                value: operators.find(function (item) { return item.operator === operator; }) || null,\n                onChange: this.operatorChange,\n                className: 'k-dropdown-operator',\n                iconClassName: 'k-i-filter k-icon',\n                data: operators,\n                textField: 'text',\n                popupSettings: { width: '' },\n                components: this.props.components\n            };\n            return (React.createElement(\"div\", { className: \"k-filtercell\" },\n                React.createElement(\"div\", { className: \"k-filtercell-wrapper\" },\n                    settings.inputComponent({ value: value, onChange: this.inputChange, components: this.props.components }),\n                    React.createElement(\"div\", { className: \"k-filtercell-operator\" },\n                        settings.operatorComponent(operatorComponentProps, this.props),\n                        React.createElement(\"button\", { className: \n                            /* button is always visible if there is either value or operator */\n                            (!(value === null || value === '') || operator) ?\n                                'k-button k-button-icon k-clear-button-visible' :\n                                'k-button k-button-icon', title: clearButtonTitle, type: \"button\", onClick: this.clearButtonClick },\n                            React.createElement(\"span\", { className: \"k-icon k-i-filter-clear\" }))))));\n        };\n        return FilterComponent;\n    }(React.Component));\n    return Cell;\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a, _b, _c;\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { RowHeightService, ScrollerService } from './services';\n/**\n * @hidden\n */\nexport var ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection[ScrollDirection[\"Backward\"] = 0] = \"Backward\";\n    ScrollDirection[ScrollDirection[\"Forward\"] = 1] = \"Forward\";\n})(ScrollDirection || (ScrollDirection = {}));\nvar differenceToScroll = function (scrollTop, staticOffset, maxScrollDifference) {\n    return Math.min(Math.abs(staticOffset - scrollTop), maxScrollDifference);\n};\nvar FRAME_DURATION = 17;\nvar scrollModifiers = (_a = {},\n    _a[ScrollDirection.Forward] = function (step) { return function (value) { return value + step; }; },\n    _a[ScrollDirection.Backward] = function (step) { return function (value) { return value - step; }; },\n    _a);\nvar scrollNormalizers = (_b = {},\n    _b[ScrollDirection.Forward] = function (end) { return function (value) { return Math.min(value, end); }; },\n    _b[ScrollDirection.Backward] = function (end) { return function (value) { return Math.max(value, end); }; },\n    _b);\nvar scrollValidators = (_c = {},\n    _c[ScrollDirection.Forward] = function (end) { return function (start) { return start < end; }; },\n    _c[ScrollDirection.Backward] = function (end) { return function (start) { return start > end; }; },\n    _c);\n/**\n * @hidden\n */\nvar Virtualization = /** @class */ (function (_super) {\n    __extends(Virtualization, _super);\n    function Virtualization(props) {\n        var _this = _super.call(this, props) || this;\n        _this.animationInProgress = false;\n        _this.scrollTo = function (value) {\n            var scrollProperty = _this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft';\n            if (!_this.scrollContainer) {\n                return;\n            }\n            _this.scrollContainer[scrollProperty] = value;\n        };\n        _this.scrollToIndex = function (index) {\n            if (_this.scrollToIndexTimeout !== undefined) {\n                window.cancelAnimationFrame(_this.scrollToIndexTimeout);\n            }\n            if (!_this.rowHeightService) {\n                return;\n            }\n            _this.scrollToIndexTimeout = window.requestAnimationFrame(function () {\n                _this.animationInProgress = false;\n                _this.scrollTo(_this.rowHeightService.offset(index));\n            });\n        };\n        _this.animateToIndex = function (index) {\n            if (!_this.rowHeightService || !window) {\n                return;\n            }\n            window.cancelAnimationFrame(_this.cancelAnimation);\n            var indexOffset = _this.rowHeightService.offset(index);\n            var direction = _this.getContainerScrollDirection(indexOffset);\n            var _a = _this.scrollRange(indexOffset, direction), start = _a.start, end = _a.end;\n            if (start === end) {\n                return;\n            }\n            var step = _this.scrollStep(start, end);\n            var modifyScroll = scrollModifiers[direction](step);\n            var normalizeScroll = scrollNormalizers[direction](end);\n            var isScrollValid = scrollValidators[direction](modifyScroll(end));\n            var animate = function (progress) {\n                _this.animationInProgress = true;\n                var next = modifyScroll(progress);\n                _this.scrollTo(normalizeScroll(next));\n                isScrollValid(next)\n                    ? _this.cancelAnimation = window.requestAnimationFrame(function () { animate(next); })\n                    : _this.animationInProgress = false;\n            };\n            _this.cancelAnimation = window.requestAnimationFrame(function () { animate(start); });\n        };\n        _this.scrollToBottom = function () {\n            if (!_this.rowHeightService) {\n                return;\n            }\n            _this.scrollTo(_this.rowHeightService.totalHeight() + _this.props.bottomOffset);\n        };\n        _this.scrollStep = function (start, end) {\n            var duration = _this.props.scrollDuration || Virtualization.defaultProps.scrollDuration;\n            return Math.abs(end - start) / (duration / FRAME_DURATION);\n        };\n        _this.scrollRange = function (indexOffset, direction) {\n            var containerScroll = _this.containerScrollPosition;\n            if (parseInt(\"\" + indexOffset, 10) === parseInt(\"\" + containerScroll, 10)) {\n                return { start: indexOffset, end: indexOffset };\n            }\n            var maxScroll = _this.containerMaxScroll();\n            var sign = direction === ScrollDirection.Backward ? 1 : -1;\n            var difference = differenceToScroll(containerScroll, indexOffset, _this.props.maxScrollDifference);\n            var end = Math.min(indexOffset, maxScroll);\n            var start = Math.min(Math.max(end + (sign * difference), 0), maxScroll);\n            return { start: start, end: end };\n        };\n        _this.containerMaxScroll = function () {\n            return _this.containerScrollSize - _this.containerOffsetSize;\n        };\n        _this.getContainerScrollDirection = function (indexOffset) {\n            return indexOffset < _this.containerScrollPosition ? ScrollDirection.Backward : ScrollDirection.Forward;\n        };\n        _this.initServices = function (props) {\n            if (props === void 0) { props = _this.props; }\n            var dimension = _this.direction === 'vertical' ? props.itemHeight : props.itemWidth;\n            if (dimension === undefined) {\n                return;\n            }\n            _this.rowHeightService = new RowHeightService(props.total, dimension, 0);\n            _this.scrollerService.create(_this.rowHeightService, props.skip, props.take, props.total, props.topOffset, _this.scrollOffsetSize, _this.direction);\n        };\n        _this.getContainerProperty = function (propertyName) {\n            if (!_this.scrollContainer) {\n                return 0;\n            }\n            return _this.scrollContainer[propertyName];\n        };\n        _this.handleScroll = function (event) {\n            if (!_this.scrollContainer || !_this.rowHeightService) {\n                return;\n            }\n            var target = event.target;\n            _this.scrollerService.onScroll({\n                scrollLeft: target.scrollLeft,\n                scrollTop: target.scrollTop,\n                offsetHeight: target.offsetHeight,\n                offsetWidth: target.offsetWidth\n            });\n            var index = _this.rowHeightService.index(_this.containerScrollPosition - _this.props.topOffset);\n            var onScrollAction = _this.props.onScrollAction;\n            var args = {\n                index: index,\n                target: target,\n                scrollAction: _this.scrollAction,\n                pageAction: _this.pageAction,\n                animationInProgress: _this.animationInProgress\n            };\n            if (_this.props.onScroll) {\n                _this.props.onScroll.call(undefined, event);\n            }\n            if (onScrollAction) {\n                onScrollAction.call(undefined, args);\n            }\n            _this.scrollAction = undefined;\n            _this.pageAction = undefined;\n        };\n        _this.handleScrollAction = function (action) {\n            _this.scrollAction = action;\n        };\n        _this.handlePageAction = function (action) {\n            _this.pageAction = action;\n        };\n        _this.scrollerService = new ScrollerService(_this.handleScrollAction, _this.handlePageAction);\n        return _this;\n    }\n    Object.defineProperty(Virtualization.prototype, \"element\", {\n        get: function () {\n            return this.scrollContainer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerOffsetSize\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'offsetHeight' : 'offsetWidth');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerScrollSize\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'scrollHeight' : 'scrollWidth');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerScrollPosition\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"direction\", {\n        get: function () {\n            return this.props.direction !== undefined ? this.props.direction : Virtualization.defaultProps.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"scrollOffsetSize\", {\n        get: function () {\n            return this.props.scrollOffsetSize !== undefined\n                ? this.props.scrollOffsetSize : Virtualization.defaultProps.scrollOffsetSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Virtualization.prototype.activeIndex = function () {\n        return this.itemIndex(Math.ceil(this.containerScrollPosition));\n    };\n    Virtualization.prototype.itemIndex = function (offset) {\n        if (!this.rowHeightService) {\n            return 0;\n        }\n        return this.rowHeightService.index(offset);\n    };\n    Virtualization.prototype.itemOffset = function (index) {\n        if (!this.rowHeightService) {\n            return 0;\n        }\n        return this.rowHeightService.offset(index);\n    };\n    Virtualization.prototype.isIndexVisible = function (index) {\n        if (!this.rowHeightService) {\n            return false;\n        }\n        var containerTop = this.containerScrollPosition;\n        var containerBottom = containerTop + this.containerOffsetSize;\n        var top = this.rowHeightService.offset(index);\n        var bottom = top + this.rowHeightService.height(index);\n        return top >= containerTop && bottom <= containerBottom;\n    };\n    Virtualization.prototype.isListScrolled = function (index) {\n        if (!this.rowHeightService) {\n            return false;\n        }\n        return this.containerScrollPosition !== this.rowHeightService.offset(index);\n    };\n    Virtualization.prototype.componentDidMount = function () {\n        var onMount = this.props.onMount;\n        if (onMount) {\n            onMount.call(undefined, this);\n        }\n    };\n    Virtualization.prototype.render = function () {\n        var _this = this;\n        if (this.lastTotal !== this.props.total\n            || this.lastDirection !== this.direction\n            || this.lastTake !== this.props.take) {\n            this.initServices();\n            this.lastTotal = this.props.total;\n            this.lastDirection = this.direction;\n            this.lastTake = this.props.take;\n        }\n        var vertexLength = \"\" + ((this.rowHeightService ? this.rowHeightService.totalHeight() : 0) + this.props.bottomOffset);\n        var placeholderStyle = this.direction === 'vertical'\n            ? { height: vertexLength + \"px\" }\n            : { width: vertexLength + \"px\" };\n        var rootClassNames = classNames('k-content k-calendar-content k-scrollable', {\n            'k-scrollable-horizontal': this.direction === 'horizontal'\n        }, this.props.className);\n        var scrollableClassNames = classNames('k-scrollable-placeholder', {\n            'k-scrollable-horizontal-placeholder': this.direction === 'horizontal'\n        });\n        return (React.createElement(\"div\", { ref: function (el) { _this.scrollContainer = el; }, onScroll: this.handleScroll, className: rootClassNames, tabIndex: this.props.tabIndex, role: this.props.role },\n            this.props.children,\n            React.createElement(\"div\", { style: placeholderStyle, className: scrollableClassNames })));\n    };\n    Virtualization.propTypes = {\n        bottomOffset: PropTypes.number.isRequired,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf(['horizontal', 'vertical']),\n        forceScroll: PropTypes.bool,\n        itemHeight: PropTypes.number,\n        itemWidth: PropTypes.number,\n        maxScrollDifference: PropTypes.number,\n        onScroll: PropTypes.func,\n        onScrollAction: PropTypes.func,\n        scrollDuration: PropTypes.number,\n        scrollOffsetSize: PropTypes.number,\n        skip: PropTypes.number.isRequired,\n        tabIndex: PropTypes.number,\n        take: PropTypes.number.isRequired,\n        topOffset: PropTypes.number.isRequired,\n        total: PropTypes.number.isRequired,\n        role: PropTypes.string\n    };\n    Virtualization.defaultProps = {\n        direction: 'vertical',\n        forceScroll: false,\n        scrollOffsetSize: 0,\n        maxScrollDifference: 100,\n        scrollDuration: 100\n    };\n    return Virtualization;\n}(React.Component));\nexport { Virtualization };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createFilterComponent } from './FilterComponent';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nvar booleanOperator = 'eq';\nvar settings = {\n    emptyFilter: { operator: booleanOperator, value: '' },\n    inputComponent: function (_props) { return null; },\n    operatorComponent: function (props, cellProps) {\n        var _a = cellProps.filter, filter = _a === void 0 ? [] : _a, field = cellProps.field;\n        var current = filter.find(function (f) { return f.field === field; });\n        return (React.createElement(DropDownList, __assign({}, props, { value: props.data.find(function (x) { return x.operator === (current ? current.value : ''); }), onChange: function (e) {\n                if (!cellProps.onFilterChange) {\n                    return;\n                }\n                var value = e.target.value.operator;\n                if (value === '') {\n                    if (current) {\n                        cellProps.onFilterChange.call(undefined, {\n                            filter: filter.filter(function (f) { return f.field !== current.field; }),\n                            field: field,\n                            syntheticEvent: e.syntheticEvent\n                        });\n                    }\n                    return;\n                }\n                var filterResult = current ?\n                    filter.map(function (f) { return f.field === field ? __assign({}, current, { value: value }) : f; }) : filter.concat([{ value: value, field: field, operator: booleanOperator }]);\n                cellProps.onFilterChange.call(undefined, {\n                    filter: filterResult,\n                    field: field,\n                    syntheticEvent: e.syntheticEvent\n                });\n            } })));\n    }\n};\n/**\n * @hidden\n */\nvar BooleanFilterCell = /** @class */ (function (_super) {\n    __extends(BooleanFilterCell, _super);\n    function BooleanFilterCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return BooleanFilterCell;\n}(createFilterComponent(settings)));\nexport { BooleanFilterCell };\n","/**\n * A function that clones the passed date. The parameter could be `null`.\n *\n * @param date - The initial date value.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * cloneDate(new Date(2016, 0, 1)); // returns new Date(2016, 0, 1);\n * cloneDate(null); // returns null\n * ```\n */\nexport var cloneDate = function (date) { return date ? new Date(date.getTime()) : null; };\n","import { cloneDate } from './clone-date';\n/**\n * @hidden\n */\nexport var adjustDST = function (date, hour) {\n    var newDate = cloneDate(date);\n    if (hour === 0 && newDate.getHours() === 23) {\n        newDate.setHours(newDate.getHours() + 2);\n    }\n    return newDate;\n};\n","import { adjustDST } from './adjust-dst';\n/**\n * A function which returns a new `Date` instance.\n *\n * @param year - The year value.\n * @param month - The month value.\n * @param day - The day value.\n * @param hours - The hours value.\n * @param minutes - The minutes value.\n * @param seconds - The seconds value.\n * @param milliseconds - milliseconds value.\n * @returns The date instance.\n *\n * @example\n * ```ts-no-run\n * createDate(2016, 0, 15); // 2016-01-15 00:00:00\n * createDate(2016, 0, 15, 22, 22, 20); // 2016-01-15 22:22:20\n * ```\n */\nexport var createDate = function (year, month, day, hours, minutes, seconds, milliseconds) {\n    if (hours === void 0) { hours = 0; }\n    if (minutes === void 0) { minutes = 0; }\n    if (seconds === void 0) { seconds = 0; }\n    if (milliseconds === void 0) { milliseconds = 0; }\n    var date = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n    if (year > -1 && year < 100) {\n        date.setFullYear(date.getFullYear() - 1900);\n    }\n    return adjustDST(date, hours);\n};\n","import { createDate } from './create-date';\n/**\n * A function which returns the passed date with a midnight time portion.\n *\n * @param date - The initial date.\n * @returns - The date with a midnight time portion.\n *\n * @example\n * ```ts-no-run\n * getDate(new Date(2016, 0, 15, 14, 30, 30)); // 2016-01-15 00:00:00\n * ```\n */\nexport var getDate = function (date) {\n    return createDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n};\n","/**\n * A function that compares two dates. The comparison also includes the time portion.\n *\n * @param candidate - The candidate date.\n * @param expected - The expected date.\n * @returns - A Boolean value indicating whether the values are equal.\n *\n * @example\n * ```ts-no-run\n * isEqual(new Date(2016, 0, 1), new Date(2016, 0, 1)); // true\n * isEqual(new Date(2016, 0, 1), new Date(2016, 0, 2)); // false\n * isEqual(new Date(2016, 0, 1, 10), new Date(2016, 0, 1, 20)); // false\n * ```\n */\nexport var isEqual = function (candidate, expected) {\n    if (!candidate && !expected) {\n        return true;\n    }\n    return candidate && expected && candidate.getTime() === expected.getTime();\n};\n","import { getDate } from './get-date';\nimport { isEqual } from './is-equal';\n/**\n * A function that compares the date portions of 2 dates.\n *\n * @param candidate - The candidate date.\n * @param expected - The expected date.\n * @returns - A Boolean value whether the values are equal.\n *\n * @example\n * ```ts-no-run\n * isEqualDate(new Date(2016, 0, 1, 10), new Date(2016, 0, 1, 20)); // true\n * isEqualDate(new Date(2016, 0, 1, 10), new Date(2016, 0, 2, 10)); // false\n * ```\n */\nexport var isEqualDate = function (candidate, expected) {\n    if (!candidate && !expected) {\n        return true;\n    }\n    return candidate && expected && isEqual(getDate(candidate), getDate(expected));\n};\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-dateinputs',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344756,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","/**\n * @hidden\n */\nvar update = function (arr, idx, value) { return (arr.slice(0, idx + 1).concat((arr.slice(idx + 1).map(function (x) { return x + value; })))); };\n/**\n * @hidden\n */\nvar RowHeightService = /** @class */ (function () {\n    function RowHeightService(total, rowHeight, detailRowHeight) {\n        if (total === void 0) { total = 0; }\n        this.total = total;\n        this.rowHeight = rowHeight;\n        this.detailRowHeight = detailRowHeight;\n        this.offsets = [];\n        this.heights = [];\n        var agg = 0;\n        for (var idx = 0; idx < total; idx++) {\n            this.offsets.push(agg);\n            agg += rowHeight;\n            this.heights.push(rowHeight);\n        }\n    }\n    RowHeightService.prototype.height = function (rowIndex) {\n        return this.heights[rowIndex];\n    };\n    RowHeightService.prototype.expandDetail = function (rowIndex) {\n        if (this.height(rowIndex) === this.rowHeight) {\n            this.updateRowHeight(rowIndex, this.detailRowHeight);\n        }\n    };\n    RowHeightService.prototype.collapseDetail = function (rowIndex) {\n        if (this.height(rowIndex) > this.rowHeight) {\n            this.updateRowHeight(rowIndex, this.detailRowHeight * -1);\n        }\n    };\n    RowHeightService.prototype.index = function (position) {\n        for (var i = 0; i < this.offsets.length; i++) {\n            if (position === this.offsets[i]) {\n                return i;\n            }\n            if (position < this.offsets[i]) {\n                return i - 1;\n            }\n        }\n        return this.total - 1;\n    };\n    RowHeightService.prototype.offset = function (rowIndex) {\n        return this.offsets[rowIndex];\n    };\n    RowHeightService.prototype.totalHeight = function () {\n        return this.heights.reduce(function (prev, curr) { return prev + curr; }, 0);\n    };\n    RowHeightService.prototype.updateRowHeight = function (rowIndex, value) {\n        this.heights[rowIndex] += value;\n        this.offsets = update(this.offsets, rowIndex, value);\n    };\n    return RowHeightService;\n}());\nexport { RowHeightService };\n","var normalize = function (x) { return Math.max(x, 0); };\n/**\n * @hidden\n */\nvar ScrollAction = /** @class */ (function () {\n    function ScrollAction(offset) {\n        this.offset = offset;\n    }\n    return ScrollAction;\n}());\nexport { ScrollAction };\n/**\n * @hidden\n */\nvar PageAction = /** @class */ (function () {\n    function PageAction(skip) {\n        this.skip = skip;\n    }\n    return PageAction;\n}());\nexport { PageAction };\n/**\n * @hidden\n */\nvar ScrollerService = /** @class */ (function () {\n    function ScrollerService(onScrollAction, onPageAction) {\n        this.onScrollAction = onScrollAction;\n        this.onPageAction = onPageAction;\n        this.firstLoaded = 0;\n        this.bottomOffset = 0;\n        this.topOffset = 0;\n    }\n    ScrollerService.prototype.create = function (rowHeightService, skip, take, total, topOffset, bottomOffset, direction) {\n        if (topOffset === void 0) { topOffset = 0; }\n        if (bottomOffset === void 0) { bottomOffset = 0; }\n        if (direction === void 0) { direction = 'vertical'; }\n        this.rowHeightService = rowHeightService;\n        this.firstLoaded = skip;\n        this.lastLoaded = skip + take;\n        this.take = take;\n        this.total = total;\n        this.lastScrollTop = 0;\n        this.topOffset = topOffset;\n        this.bottomOffset = bottomOffset;\n        this.direction = direction;\n        var offsetBufferRows = this.rowsForHeight(topOffset);\n        var skipWithOffset = normalize(skip - offsetBufferRows);\n        this.onScrollAction(new ScrollAction(this.rowOffset(skipWithOffset)));\n        this.onPageAction(new PageAction(skipWithOffset));\n    };\n    ScrollerService.prototype.onScroll = function (_a) {\n        var scrollLeft = _a.scrollLeft, scrollTop = _a.scrollTop, offsetHeight = _a.offsetHeight, offsetWidth = _a.offsetWidth;\n        var scrollPosition = this.direction === 'vertical' ? scrollTop : scrollLeft;\n        var offsetSize = this.direction === 'vertical' ? offsetHeight : offsetWidth;\n        if (this.lastScrollTop === scrollPosition) {\n            return;\n        }\n        var up = this.lastScrollTop >= scrollPosition;\n        this.lastScrollTop = scrollPosition;\n        var firstItemIndex = this.rowHeightService.index(normalize(scrollPosition - this.topOffset));\n        var lastItemIndex = this.rowHeightService.index(normalize(scrollPosition + offsetSize - this.bottomOffset));\n        if (!up && lastItemIndex >= this.lastLoaded && this.lastLoaded < this.total) {\n            this.firstLoaded = firstItemIndex;\n            this.onScrollAction(new ScrollAction(this.rowOffset(firstItemIndex)));\n            this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n            this.onPageAction(new PageAction(this.firstLoaded));\n        }\n        if (up && firstItemIndex <= this.firstLoaded) {\n            var nonVisibleBuffer = Math.floor(this.take * 0.3);\n            this.firstLoaded = normalize(firstItemIndex - nonVisibleBuffer);\n            this.onScrollAction(new ScrollAction(this.rowOffset(this.firstLoaded)));\n            this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n            this.onPageAction(new PageAction(this.firstLoaded));\n        }\n    };\n    ScrollerService.prototype.rowOffset = function (index) {\n        return this.rowHeightService.offset(index) + this.topOffset;\n    };\n    ScrollerService.prototype.rowsForHeight = function (height) {\n        return Math.ceil(height / this.rowHeightService.height(0));\n    };\n    return ScrollerService;\n}());\nexport { ScrollerService };\n","/**\n * Enumeration which represents the week days.\n */\nexport var Day;\n(function (Day) {\n    /**\n     * The Sunday value with an underlying `0` number value.\n     */\n    Day[Day[\"Sunday\"] = 0] = \"Sunday\";\n    /**\n     * The Monday value with an underlying `1` number value.\n     */\n    Day[Day[\"Monday\"] = 1] = \"Monday\";\n    /**\n     * The Tuesday value with an underlying `2` number value.\n     */\n    Day[Day[\"Tuesday\"] = 2] = \"Tuesday\";\n    /**\n     * The Wednesday value with an underlying `3` number value.\n     */\n    Day[Day[\"Wednesday\"] = 3] = \"Wednesday\";\n    /**\n     * The Thursday value with an underlying `4` number value.\n     */\n    Day[Day[\"Thursday\"] = 4] = \"Thursday\";\n    /**\n     * The Friday value with an underlying `5` number value.\n     */\n    Day[Day[\"Friday\"] = 5] = \"Friday\";\n    /**\n     * The Saturday value with an underlying `6` number value.\n     */\n    Day[Day[\"Saturday\"] = 6] = \"Saturday\";\n})(Day || (Day = {}));\n","import { adjustDST } from './adjust-dst';\nimport { cloneDate } from './clone-date';\n/**\n * A function that adds and subtracts days from a `Date` object.\n *\n * @param date - The initial date value.\n * @param offset - The number of days to add and subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addDays(new Date(2016, 0, 1), 5); // 2016-1-6\n * addDays(new Date(2016, 0, 1), -5); // 2015-12-26\n * ```\n */\nexport var addDays = function (date, offset) {\n    var newDate = cloneDate(date);\n    newDate.setDate(newDate.getDate() + offset);\n    return adjustDST(newDate, date.getHours());\n};\n","// tslint:disable:max-line-length\n/**\n * An enumeration which represents the horizontal direction. The `Forward` option moves forward. The `Backward` option moves backward.\n */\nexport var Direction;\n(function (Direction) {\n    /**\n     * The `Forward` value with an underlying `1` number value.\n     */\n    Direction[Direction[\"Forward\"] = 1] = \"Forward\";\n    /**\n     * The `Backward` value with an underlying `-1` (minus one) number value.\n     */\n    Direction[Direction[\"Backward\"] = -1] = \"Backward\";\n})(Direction || (Direction = {}));\n// tslint:enable:max-line-length\n","import { Direction } from \"./direction.enum\";\nimport { adjustDST } from \"./adjust-dst\";\nimport { cloneDate } from './clone-date';\n/**\n * @hidden\n *\n * A function which returns the next or previous date for a specific week day. For example, `Day.Monday`.\n *\n * @param date - The date to calculate from.\n * @param weekDay - The `Day` enum specifying the desired week day.\n * @param direction - The `Direction` enum specifying the calculation direction.\n * @returns - A `Date` instance.\n *\n * @example\n * ```ts-no-run\n * dayOfWeek(new Date(2016, 0, 1), Day.Wednesday, Direction.Forward); // 2016-01-06, Wednesday\n * dayOfWeek(new Date(2016, 0, 1), Day.Wednesday, Direction.Backward); // 2015-12-30, Wednesday\n * ```\n */\nexport var dayOfWeek = function (date, weekDay, direction) {\n    if (direction === void 0) { direction = Direction.Forward; }\n    var newDate = cloneDate(date);\n    var newDay = ((weekDay - newDate.getDay()) + (7 * direction)) % 7;\n    newDate.setDate(newDate.getDate() + newDay);\n    return adjustDST(newDate, date.getHours());\n};\n","/**\n * @hidden\n */\nexport var Action;\n(function (Action) {\n    Action[Action[\"Left\"] = 0] = \"Left\";\n    Action[Action[\"Right\"] = 1] = \"Right\";\n    Action[Action[\"Up\"] = 2] = \"Up\";\n    Action[Action[\"Down\"] = 3] = \"Down\";\n    Action[Action[\"PrevView\"] = 4] = \"PrevView\";\n    Action[Action[\"NextView\"] = 5] = \"NextView\";\n    Action[Action[\"FirstInView\"] = 6] = \"FirstInView\";\n    Action[Action[\"LastInView\"] = 7] = \"LastInView\";\n    Action[Action[\"LowerView\"] = 8] = \"LowerView\";\n    Action[Action[\"UpperView\"] = 9] = \"UpperView\";\n})(Action || (Action = {}));\n","/**\n * The Enum which defines all possible Calendar view types.\n */\nexport var CalendarViewEnum;\n(function (CalendarViewEnum) {\n    CalendarViewEnum[CalendarViewEnum[\"month\"] = 0] = \"month\";\n    CalendarViewEnum[CalendarViewEnum[\"year\"] = 1] = \"year\";\n    CalendarViewEnum[CalendarViewEnum[\"decade\"] = 2] = \"decade\";\n    CalendarViewEnum[CalendarViewEnum[\"century\"] = 3] = \"century\";\n})(CalendarViewEnum || (CalendarViewEnum = {}));\n","import { Day } from './day.enum';\nimport { addDays } from './add-days';\nimport { createDate } from './create-date';\nimport { prevDayOfWeek } from './prev-day-of-week';\nimport { MS_PER_DAY } from './constants';\nimport { getDate } from './get-date';\nvar moveDateToWeekStart = function (date, weekStartDay) {\n    if (weekStartDay !== Day.Monday) {\n        return addDays(prevDayOfWeek(date, weekStartDay), 4);\n    }\n    return addDays(date, (4 - (date.getDay() || 7)));\n};\nvar calcWeekInYear = function (date, weekStartDay) {\n    var firstWeekInYear = createDate(date.getFullYear(), 0, 1, -6);\n    var newDate = moveDateToWeekStart(date, weekStartDay);\n    var diffInMS = newDate.getTime() - firstWeekInYear.getTime();\n    var days = Math.floor(diffInMS / MS_PER_DAY);\n    return 1 + Math.floor(days / 7);\n};\n/**\n * A function that returns the number of the week within a year, which is calculated in relation to the date.\n *\n * For more information, refer to the [**ISO week date**](https://en.wikipedia.org/wiki/ISO_week_date) article.\n *\n * @param date - The date used for the week number calculation.\n * @param weekStartDay - The first day of the week. By default, the first week day is Monday.\n * @returns - The number of the week within the year.\n *\n * @example\n * ```ts-no-run\n * weekInYear(new Date(2016, 0, 1)); // Week 53, 2015\n * weekInYear(new Date(2016, 0, 5)); // Week 1, 2016\n * weekInYear(new Date(2017, 0, 1)); // Week 52, 2016\n * weekInYear(new Date(2017, 0, 2)); // Week 1, 2017\n * ```\n */\nexport var weekInYear = function (date, weekStartDay) {\n    if (weekStartDay === void 0) { weekStartDay = Day.Monday; }\n    date = getDate(date);\n    var prevWeekDate = addDays(date, -7);\n    var nextWeekDate = addDays(date, 7);\n    var weekNumber = calcWeekInYear(date, weekStartDay);\n    if (weekNumber === 0) {\n        return calcWeekInYear(prevWeekDate, weekStartDay) + 1;\n    }\n    if (weekNumber === 53 && calcWeekInYear(nextWeekDate, weekStartDay) > 1) {\n        return 1;\n    }\n    return weekNumber;\n};\n","import { Direction } from \"./direction.enum\";\nimport { dayOfWeek } from './day-of-week';\n/**\n * A function which returns a date by a specific week name. For example, `Day.Monday`.\n *\n * @param date - The date to calculate from.\n * @param weekDay - The `Day` enum specifying the desired week day.\n * @returns - A `Date` instance.\n *\n * @example\n * ```ts-no-run\n * prevDayOfWeek(new Date(2016, 0, 1), Day.Wednesday); // 2015-12-30, Wednesday\n * ```\n */\nexport var prevDayOfWeek = function (date, weekDay) {\n    return dayOfWeek(date, weekDay, Direction.Backward);\n};\n","/**\n * The number of milliseconds in one minute.\n */\nexport var MS_PER_MINUTE = 60000;\n/**\n * The number of milliseconds in one hour.\n */\nexport var MS_PER_HOUR = 3600000;\n/**\n * The number of milliseconds in one standard day.\n */\nexport var MS_PER_DAY = 86400000;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar compareProps = function (x, y) {\n    var xProps = Object.getOwnPropertyNames(x);\n    var yProps = Object.getOwnPropertyNames(y);\n    if (xProps.length !== yProps.length) {\n        return false;\n    }\n    for (var i = 0; i < xProps.length; i++) {\n        var propName = xProps[i];\n        if (x[propName] !== y[propName]) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * The `CalendarCell` component is internally used for rendering the items in the current view. Also be used as a custom `cell` of the [Calendar]({% slug api_dateinputs_calendarprops %}#toc-cell) and the [MultiViewCalendar]({% slug api_dateinputs_multiviewcalendarprops %}#toc-cell).\n *\n * * [Customizing the cells inside the Calendar view]({% slug custom_rendering_calendar %}#toc-cells-inside-the-view)\n * * [Customizing the cells inside the MultiViewCalendar view]({% slug custom_rendering_multiviewcalendar %}#toc-cells-inside-the-view)\n */\nvar CalendarCell = /** @class */ (function (_super) {\n    __extends(CalendarCell, _super);\n    function CalendarCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // tslint:enable:max-line-length\n        _this.handleClick = function (event) {\n            var _a = _this.props, onClick = _a.onClick, value = _a.value;\n            if (onClick) {\n                onClick.call(undefined, value, event);\n            }\n        };\n        _this.handleMouseEnter = function () {\n            var _a = _this.props, onMouseEnter = _a.onMouseEnter, value = _a.value;\n            if (onMouseEnter) {\n                onMouseEnter.call(undefined, value);\n            }\n        };\n        _this.handleMouseLeave = function () {\n            var _a = _this.props, onMouseLeave = _a.onMouseLeave, value = _a.value;\n            if (onMouseLeave) {\n                onMouseLeave.call(undefined, value);\n            }\n        };\n        return _this;\n    }\n    // Manually checking if the component needs an update\n    // due to date object being compared by instance\n    // and new Date object is created\n    // every time and fails the shallow compare of the React.PureComponent.\n    /**\n     * @hidden\n     */\n    CalendarCell.prototype.shouldComponentUpdate = function (nextProps) {\n        var _a = this.props, value = _a.value, props = __rest(_a, [\"value\"]);\n        var newValue = nextProps.value, newProps = __rest(nextProps, [\"value\"]);\n        var valueEqual = !(value && newValue) || value.getTime() === newValue.getTime();\n        return !(valueEqual && compareProps(props, newProps));\n    };\n    /* eslint-disable max-len */\n    /**\n     * @return\n     * Returns a `<td />` element with a `<span className=\"k-link\" />` inside to apply the styles. The text inside is the [`formattedValue`]({% slug api_dateinputs_calendarcellprops %}#toc-formattedvalue) of the `cell`.\n     */\n    CalendarCell.prototype.render = function () {\n        var _a = this.props, className = _a.className, formattedValue = _a.formattedValue, isWeekend = _a.isWeekend, isFocused = _a.isFocused, isInRange = _a.isInRange, isSelected = _a.isSelected, isRangeStart = _a.isRangeStart, isRangeMid = _a.isRangeMid, isRangeEnd = _a.isRangeEnd, isRangeSplitStart = _a.isRangeSplitStart, isRangeSplitEnd = _a.isRangeSplitEnd, isToday = _a.isToday, isDisabled = _a.isDisabled, view = _a.view, value = _a.value, other = __rest(_a, [\"className\", \"formattedValue\", \"isWeekend\", \"isFocused\", \"isInRange\", \"isSelected\", \"isRangeStart\", \"isRangeMid\", \"isRangeEnd\", \"isRangeSplitStart\", \"isRangeSplitEnd\", \"isToday\", \"isDisabled\", \"view\", \"value\"]);\n        var isEndActive = this.props.activeRangeEnd === 'end' && isRangeEnd;\n        var isStartActive = this.props.activeRangeEnd === 'start' && isRangeStart;\n        var rootClassName = classNames('k-calendar-td', {\n            'k-range-end': isRangeEnd,\n            'k-range-mid': isRangeMid,\n            'k-range-split-end': isRangeSplitEnd,\n            'k-range-split-start': isRangeSplitStart,\n            'k-range-start': isRangeStart,\n            'k-state-active': isStartActive || isEndActive,\n            'k-state-pending-focus': isFocused,\n            'k-state-selected': isSelected || isRangeStart || isRangeEnd,\n            'k-today': isToday,\n            'k-weekend': isWeekend,\n            'k-state-disabled': isDisabled\n        }, className);\n        return (React.createElement(\"td\", __assign({}, other, { className: rootClassName, onClick: this.handleClick, onMouseEnter: this.handleMouseEnter, onMouseLeave: this.handleMouseLeave }),\n            React.createElement(\"span\", { className: \"k-link\" }, this.props.children)));\n    };\n    return CalendarCell;\n}(React.Component));\nexport { CalendarCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * The `CalendarWeekCell` component is internally used for rendering the week cells inside the `month` view of the Calendar. Also used as a [custom week cell for the Calendar]({% slug api_dateinputs_calendarprops %}#toc-weekcell) and the [MultiViewCalendar]({% slug api_dateinputs_multiviewcalendarprops %}#toc-weekcell) components.\n *\n * * [Customizing week-column cells in the Calendar]({% slug custom_rendering_calendar %}#toc-cells-inside-the-week-column)\n * * [Customizing week-column cells in the MultiViewCalendar]({% slug custom_rendering_multiviewcalendar %}#toc-cells-inside-the-week-column)\n */\nvar CalendarWeekCell = /** @class */ (function (_super) {\n    __extends(CalendarWeekCell, _super);\n    function CalendarWeekCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return\n     * Returns a `<td />` element with the [`value`]({% slug api_dateinputs_calendarweekcellprops %}#toc-value) as a child.\n     */\n    CalendarWeekCell.prototype.render = function () {\n        var _a = this.props, className = _a.className, firstDate = _a.firstDate, other = __rest(_a, [\"className\", \"firstDate\"]);\n        return (React.createElement(\"td\", __assign({ className: classNames('k-calendar-td', className) }, other), this.props.children));\n    };\n    return CalendarWeekCell;\n}(React.Component));\nexport { CalendarWeekCell };\n","/**\n * @hidden\n */\nexport var EMPTY_SELECTIONRANGE = { start: null, end: null };\n","var _a;\n/* tslint:disable:object-literal-sort-keys */\nimport { addDecades, addCenturies, cloneDate, durationInCenturies, firstYearOfDecade, firstDecadeOfCentury, lastDecadeOfCentury } from '@progress/kendo-date-math';\nimport { Action, EMPTY_SELECTIONRANGE } from '../models';\nimport { getToday, isInRange, isInSelectionRange, range, intersects } from '../../utils';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 4;\nvar ROWS_LENGTH = 3;\nvar ACTIONS = (_a = {},\n    _a[Action.Left] = function (date) { return addDecades(date, -1); },\n    _a[Action.Up] = function (date) { return addDecades(date, -5); },\n    _a[Action.Right] = function (date) { return addDecades(date, 1); },\n    _a[Action.Down] = function (date) { return addDecades(date, 5); },\n    _a[Action.PrevView] = function (date) { return addCenturies(date, -1); },\n    _a[Action.NextView] = function (date) { return addCenturies(date, 1); },\n    _a[Action.FirstInView] = function (date) { return firstDecadeOfCentury(date); },\n    _a[Action.LastInView] = function (date) { return lastDecadeOfCentury(date); },\n    _a);\n/**\n * @hidden\n */\nvar CenturyViewService = /** @class */ (function () {\n    function CenturyViewService() {\n    }\n    CenturyViewService.prototype.addToDate = function (min, skip) {\n        return addCenturies(min, skip);\n    };\n    CenturyViewService.prototype.datesList = function (start, count) {\n        return range(0, count).map(function (i) { return addCenturies(start, i); });\n    };\n    CenturyViewService.prototype.data = function (options) {\n        var _this = this;\n        var cellUID = options.cellUID, focusedDate = options.focusedDate, isActiveView = options.isActiveView, max = options.max, min = options.min, selectedDate = options.selectedDate, _a = options.selectionRange, selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a, viewDate = options.viewDate;\n        if (!viewDate) {\n            return EMPTY_DATA;\n        }\n        var cells = range(0, CELLS_LENGTH);\n        var firstDate = firstDecadeOfCentury(viewDate);\n        var lastDate = lastDecadeOfCentury(viewDate);\n        var today = getToday();\n        return range(0, ROWS_LENGTH).map(function (rowOffset) {\n            var baseDate = addDecades(firstDate, rowOffset * CELLS_LENGTH);\n            return cells.map(function (cellOffset) {\n                var cellDate = _this.normalize(addDecades(baseDate, cellOffset), min, max);\n                var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n                var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n                var isInMiddle = !isRangeStart && !isRangeEnd;\n                var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n                var isSelected = isActiveView && (!Array.isArray(selectedDate)\n                    ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate)\n                    : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n                return intersects(cellDate, firstDate, lastDate) ? ({\n                    formattedValue: _this.value(cellDate),\n                    id: \"\" + cellUID + cellDate.getTime(),\n                    isFocused: _this.isEqual(cellDate, focusedDate),\n                    isSelected: isSelected,\n                    isWeekend: false,\n                    isInRange: isInRange(cellDate, min, max),\n                    isRangeStart: isRangeStart,\n                    isRangeMid: isRangeMid,\n                    isRangeEnd: isRangeEnd,\n                    isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastDate),\n                    isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstDate),\n                    isToday: _this.isEqual(cellDate, today),\n                    title: _this.cellTitle(cellDate),\n                    value: cellDate\n                }) : null;\n            });\n        });\n    };\n    CenturyViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n        var _this = this;\n        var result = false;\n        dates.forEach(function (date) {\n            if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    CenturyViewService.prototype.isEqual = function (candidate, expected) {\n        if (!candidate || !expected) {\n            return false;\n        }\n        // TODO: double-check this!\n        return firstYearOfDecade(candidate).getFullYear() === firstYearOfDecade(expected).getFullYear();\n    };\n    CenturyViewService.prototype.isInArray = function (date, dates) {\n        if (!dates.length) {\n            return false;\n        }\n        var year = date.getFullYear();\n        return dates[0].getFullYear() <= year && year <= (dates[dates.length - 1].getFullYear() + 99);\n    };\n    CenturyViewService.prototype.isInRange = function (candidate, min, max) {\n        var year = firstYearOfDecade(candidate).getFullYear();\n        var aboveMin = !min || firstYearOfDecade(min).getFullYear() <= year;\n        var belowMax = !max || year <= firstYearOfDecade(max).getFullYear();\n        return aboveMin && belowMax;\n    };\n    CenturyViewService.prototype.isInSameView = function (candidate, value) {\n        return durationInCenturies(candidate, value) === 0;\n    };\n    CenturyViewService.prototype.isRangeStart = function (value) {\n        return value.getFullYear() % 1000 === 0;\n    };\n    CenturyViewService.prototype.move = function (value, action) {\n        var modifier = ACTIONS[action];\n        if (!modifier) {\n            return value;\n        }\n        return modifier(value);\n    };\n    CenturyViewService.prototype.cellTitle = function (value) {\n        return firstYearOfDecade(value).getFullYear().toString();\n    };\n    CenturyViewService.prototype.navigationTitle = function (value) {\n        return value ? firstDecadeOfCentury(value).getFullYear().toString() : '';\n    };\n    CenturyViewService.prototype.title = function (value) {\n        if (!value) {\n            return '';\n        }\n        return firstDecadeOfCentury(value).getFullYear() + \" - \" + lastDecadeOfCentury(value).getFullYear();\n    };\n    CenturyViewService.prototype.rowLength = function (_) {\n        return CELLS_LENGTH;\n    };\n    CenturyViewService.prototype.skip = function (value, min) {\n        return durationInCenturies(min, value);\n    };\n    CenturyViewService.prototype.total = function (min, max) {\n        return durationInCenturies(min, max) + 1;\n    };\n    CenturyViewService.prototype.value = function (current) {\n        return current ? firstYearOfDecade(current).getFullYear().toString() : '';\n    };\n    CenturyViewService.prototype.viewDate = function (date, max, border) {\n        if (border === void 0) { border = 1; }\n        var renderTwoViews = durationInCenturies(date, max) < border;\n        return renderTwoViews ? addCenturies(date, -1) : date;\n    };\n    CenturyViewService.prototype.normalize = function (cellDate, min, max) {\n        if (cellDate < min && this.isEqual(cellDate, min)) {\n            return cloneDate(min);\n        }\n        if (cellDate > max && this.isEqual(cellDate, max)) {\n            return cloneDate(max);\n        }\n        return cellDate;\n    };\n    return CenturyViewService;\n}());\nexport { CenturyViewService };\n","var _a;\nimport { addDecades, addYears, cloneDate, durationInDecades, firstYearOfDecade, lastYearOfDecade } from '@progress/kendo-date-math';\nimport { Action } from '../models/NavigationAction';\nimport { EMPTY_SELECTIONRANGE } from '../models/SelectionRange';\nimport { getToday, isInRange, isInSelectionRange, range, intersects } from '../../utils';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 4;\nvar ROWS_LENGTH = 3;\nvar ACTIONS = (_a = {},\n    _a[Action.Left] = function (date) { return addYears(date, -1); },\n    _a[Action.Up] = function (date) { return addYears(date, -5); },\n    _a[Action.Right] = function (date) { return addYears(date, 1); },\n    _a[Action.Down] = function (date) { return addYears(date, 5); },\n    _a[Action.PrevView] = function (date) { return addDecades(date, -1); },\n    _a[Action.NextView] = function (date) { return addDecades(date, 1); },\n    _a[Action.FirstInView] = function (date) { return firstYearOfDecade(date); },\n    _a[Action.LastInView] = function (date) { return lastYearOfDecade(date); },\n    _a);\n/**\n * @hidden\n */\nvar DecadeViewService = /** @class */ (function () {\n    function DecadeViewService() {\n    }\n    DecadeViewService.prototype.addToDate = function (min, skip) {\n        return addDecades(min, skip);\n    };\n    DecadeViewService.prototype.datesList = function (start, count) {\n        return range(0, count).map(function (i) { return addDecades(start, i); });\n    };\n    DecadeViewService.prototype.data = function (options) {\n        var _this = this;\n        var cellUID = options.cellUID, focusedDate = options.focusedDate, isActiveView = options.isActiveView, max = options.max, min = options.min, selectedDate = options.selectedDate, _a = options.selectionRange, selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a, viewDate = options.viewDate;\n        if (!viewDate) {\n            return EMPTY_DATA;\n        }\n        var cells = range(0, CELLS_LENGTH);\n        var firstDate = firstYearOfDecade(viewDate);\n        var lastDate = lastYearOfDecade(viewDate);\n        var today = getToday();\n        return range(0, ROWS_LENGTH).map(function (rowOffset) {\n            var baseDate = addYears(firstDate, rowOffset * CELLS_LENGTH);\n            return cells.map(function (cellOffset) {\n                var cellDate = _this.normalize(addYears(baseDate, cellOffset), min, max);\n                var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n                var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n                var isInMiddle = !isRangeStart && !isRangeEnd;\n                var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n                var isSelected = isActiveView && (!Array.isArray(selectedDate)\n                    ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate)\n                    : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n                return intersects(cellDate, firstDate, lastDate) ? ({\n                    formattedValue: _this.value(cellDate),\n                    id: \"\" + cellUID + cellDate.getTime(),\n                    isFocused: _this.isEqual(cellDate, focusedDate),\n                    isSelected: isSelected,\n                    isWeekend: false,\n                    isInRange: isInRange(cellDate, min, max),\n                    isRangeStart: isRangeStart,\n                    isRangeMid: isRangeMid,\n                    isRangeEnd: isRangeEnd,\n                    isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastDate),\n                    isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstDate),\n                    isToday: _this.isEqual(cellDate, today),\n                    title: _this.cellTitle(cellDate),\n                    value: cellDate\n                }) : null;\n            });\n        });\n    };\n    DecadeViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n        var _this = this;\n        var result = false;\n        dates.forEach(function (date) {\n            if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    DecadeViewService.prototype.isEqual = function (candidate, expected) {\n        if (!candidate || !expected) {\n            return false;\n        }\n        return candidate.getFullYear() === expected.getFullYear();\n    };\n    DecadeViewService.prototype.isInArray = function (date, dates) {\n        if (!dates.length) {\n            return false;\n        }\n        var year = date.getFullYear();\n        return dates[0].getFullYear() <= year && year <= (dates[dates.length - 1].getFullYear() + 9);\n    };\n    DecadeViewService.prototype.isInRange = function (candidate, min, max) {\n        var year = candidate.getFullYear();\n        var aboveMin = !min || min.getFullYear() <= year;\n        var belowMax = !max || year <= max.getFullYear();\n        return aboveMin && belowMax;\n    };\n    DecadeViewService.prototype.isRangeStart = function (value) {\n        return value.getFullYear() % 100 === 0;\n    };\n    DecadeViewService.prototype.isInSameView = function (candidate, value) {\n        return durationInDecades(candidate, value) === 0;\n    };\n    DecadeViewService.prototype.move = function (value, action) {\n        var modifier = ACTIONS[action];\n        if (!modifier) {\n            return value;\n        }\n        return modifier(value);\n    };\n    DecadeViewService.prototype.cellTitle = function (value) {\n        return value.getFullYear().toString();\n    };\n    DecadeViewService.prototype.navigationTitle = function (value) {\n        return value ? firstYearOfDecade(value).getFullYear().toString() : '';\n    };\n    DecadeViewService.prototype.title = function (value) {\n        if (!value) {\n            return '';\n        }\n        return firstYearOfDecade(value).getFullYear() + \" - \" + lastYearOfDecade(value).getFullYear();\n    };\n    DecadeViewService.prototype.rowLength = function (_) {\n        return CELLS_LENGTH;\n    };\n    DecadeViewService.prototype.skip = function (value, min) {\n        return durationInDecades(min, value);\n    };\n    DecadeViewService.prototype.total = function (min, max) {\n        return durationInDecades(min, max) + 1;\n    };\n    DecadeViewService.prototype.value = function (current) {\n        return current ? current.getFullYear().toString() : '';\n    };\n    DecadeViewService.prototype.viewDate = function (date, max, border) {\n        if (border === void 0) { border = 1; }\n        var renderTwoViews = durationInDecades(date, max) < border;\n        return renderTwoViews ? addDecades(date, -1) : date;\n    };\n    DecadeViewService.prototype.normalize = function (cellDate, min, max) {\n        if (cellDate < min && this.isEqual(cellDate, min)) {\n            return cloneDate(min);\n        }\n        if (cellDate > max && this.isEqual(cellDate, max)) {\n            return cloneDate(max);\n        }\n        return cellDate;\n    };\n    return DecadeViewService;\n}());\nexport { DecadeViewService };\n","var _a;\nimport { addDays, addWeeks, addMonths, dayOfWeek, durationInMonths, getDate, firstDayOfMonth, lastDayOfMonth } from '@progress/kendo-date-math';\nimport { Action } from '../models/NavigationAction';\nimport { EMPTY_SELECTIONRANGE } from '../models/SelectionRange';\nimport { getToday, isInRange, isInSelectionRange, range } from '../../utils';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 7;\nvar ROWS_LENGTH = 6;\nvar SATURDAY = 6;\nvar SUNDAY = 0;\nvar ACTIONS = (_a = {},\n    _a[Action.Left] = function (date) { return addDays(date, -1); },\n    _a[Action.Up] = function (date) { return addWeeks(date, -1); },\n    _a[Action.Right] = function (date) { return addDays(date, 1); },\n    _a[Action.Down] = function (date) { return addWeeks(date, 1); },\n    _a[Action.PrevView] = function (date) { return addMonths(date, -1); },\n    _a[Action.NextView] = function (date) { return addMonths(date, 1); },\n    _a[Action.FirstInView] = function (date) { return firstDayOfMonth(date); },\n    _a[Action.LastInView] = function (date) { return lastDayOfMonth(date); },\n    _a);\n/**\n * @hidden\n */\nvar MonthViewService = /** @class */ (function () {\n    function MonthViewService(intl) {\n        this.intl = intl;\n    }\n    MonthViewService.prototype.addToDate = function (min, skip) {\n        return addMonths(min, skip);\n    };\n    MonthViewService.prototype.datesList = function (start, count) {\n        return range(0, count).map(function (i) { return addMonths(start, i); });\n    };\n    MonthViewService.prototype.data = function (options) {\n        var _this = this;\n        var cellUID = options.cellUID, focusedDate = options.focusedDate, isActiveView = options.isActiveView, max = options.max, min = options.min, selectedDate = options.selectedDate, _a = options.selectionRange, selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a, viewDate = options.viewDate;\n        if (!viewDate) {\n            return EMPTY_DATA;\n        }\n        var firstMonthDate = firstDayOfMonth(viewDate);\n        var lastMonthDate = lastDayOfMonth(viewDate);\n        var backward = -1;\n        var date = dayOfWeek(firstMonthDate, this.intl.firstDay(), backward);\n        var cells = range(0, CELLS_LENGTH);\n        var today = getToday();\n        return range(0, ROWS_LENGTH).map(function (rowOffset) {\n            var baseDate = addDays(date, rowOffset * CELLS_LENGTH);\n            return cells.map(function (cellOffset) {\n                var cellDate = _this.normalize(addDays(baseDate, cellOffset), min, max);\n                var otherMonth = cellDate < firstMonthDate || cellDate > lastMonthDate;\n                if (otherMonth) {\n                    return null;\n                }\n                var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n                var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n                var isInMiddle = !isRangeStart && !isRangeEnd;\n                var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n                var isSelected = isActiveView && (!Array.isArray(selectedDate)\n                    ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate)\n                    : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n                var cell = {\n                    formattedValue: _this.value(cellDate),\n                    id: \"\" + cellUID + cellDate.getTime(),\n                    isFocused: _this.isEqual(cellDate, focusedDate),\n                    isSelected: isSelected,\n                    isInRange: isInRange(cellDate, min, max),\n                    isWeekend: _this.isWeekend(cellDate),\n                    isRangeStart: isRangeStart,\n                    isRangeMid: isRangeMid,\n                    isRangeEnd: isRangeEnd,\n                    isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstMonthDate),\n                    isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastMonthDate),\n                    isToday: _this.isEqual(cellDate, today),\n                    title: _this.cellTitle(cellDate),\n                    value: cellDate\n                };\n                return cell;\n            });\n        });\n    };\n    MonthViewService.prototype.isEqual = function (candidate, expected) {\n        if (!candidate || !expected) {\n            return false;\n        }\n        return getDate(candidate).getTime() === getDate(expected).getTime();\n    };\n    MonthViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n        var _this = this;\n        var result = false;\n        dates.forEach(function (date) {\n            if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    MonthViewService.prototype.isInArray = function (date, dates) {\n        return !!dates.length && firstDayOfMonth(dates[0]) <= date && date <= lastDayOfMonth(dates[dates.length - 1]);\n    };\n    MonthViewService.prototype.isInRange = function (candidate, min, max) {\n        var value = getDate(candidate);\n        var aboveMin = !min || getDate(min) <= value;\n        var belowMax = !max || value <= getDate(max);\n        return aboveMin && belowMax;\n    };\n    MonthViewService.prototype.isInSameView = function (candidate, value) {\n        return durationInMonths(candidate, value) === 0;\n    };\n    MonthViewService.prototype.isRangeStart = function (value) {\n        return !value.getMonth();\n    };\n    MonthViewService.prototype.move = function (value, action) {\n        var modifier = ACTIONS[action];\n        if (!modifier) {\n            return value;\n        }\n        return modifier(value);\n    };\n    MonthViewService.prototype.cellTitle = function (value) {\n        return this.intl.formatDate(value, 'D');\n    };\n    MonthViewService.prototype.navigationTitle = function (value) {\n        if (!value) {\n            return '';\n        }\n        return this.isRangeStart(value) ? value.getFullYear().toString() : this.abbrMonthNames()[value.getMonth()];\n    };\n    MonthViewService.prototype.title = function (current) {\n        return this.wideMonthNames()[current.getMonth()] + \" \" + current.getFullYear();\n    };\n    MonthViewService.prototype.rowLength = function (prependCell) {\n        return CELLS_LENGTH + (prependCell ? 1 : 0);\n    };\n    MonthViewService.prototype.skip = function (value, min) {\n        return durationInMonths(min, value);\n    };\n    MonthViewService.prototype.total = function (min, max) {\n        return durationInMonths(min, max) + 1;\n    };\n    MonthViewService.prototype.value = function (current) {\n        return current ? current.getDate().toString() : '';\n    };\n    MonthViewService.prototype.viewDate = function (date, max, border) {\n        if (border === void 0) { border = 1; }\n        var renderTwoViews = durationInMonths(date, max) < border;\n        return renderTwoViews ? addMonths(date, -1) : date;\n    };\n    MonthViewService.prototype.isWeekend = function (date) {\n        var day = date.getDay();\n        return day === SATURDAY || day === SUNDAY;\n    };\n    MonthViewService.prototype.abbrMonthNames = function () {\n        return this.intl.dateFormatNames({ nameType: 'abbreviated', type: 'months' });\n    };\n    MonthViewService.prototype.normalize = function (cellDate, min, max) {\n        if (cellDate < min && this.isEqual(cellDate, min)) {\n            return getDate(min);\n        }\n        if (cellDate > max && this.isEqual(cellDate, max)) {\n            return getDate(max);\n        }\n        return cellDate;\n    };\n    MonthViewService.prototype.wideMonthNames = function () {\n        return this.intl.dateFormatNames({ nameType: 'wide', type: 'months' });\n    };\n    return MonthViewService;\n}());\nexport { MonthViewService };\n","var _a;\nimport { addMonths, addYears, createDate, durationInYears, firstMonthOfYear, lastMonthOfYear } from '@progress/kendo-date-math';\nimport { Action } from '../models/NavigationAction';\nimport { getToday, isInRange, isInSelectionRange, range } from '../../utils';\nimport { EMPTY_SELECTIONRANGE } from '../models/SelectionRange';\nimport { cloneDate } from '@progress/kendo-date-math';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 4;\nvar ROWS_LENGTH = 3;\nvar upStep = function (month) {\n    if (month > 4) {\n        return -5;\n    }\n    if (month < 2) {\n        return -2;\n    }\n    return -7;\n};\nvar downStep = function (month) {\n    if (month < 7) {\n        return 5;\n    }\n    if (month < 10) {\n        return 7;\n    }\n    return 2;\n};\nvar ACTIONS = (_a = {},\n    _a[Action.Left] = function (date) { return addMonths(date, -1); },\n    _a[Action.Up] = function (date) { return addMonths(date, upStep(date.getMonth())); },\n    _a[Action.Right] = function (date) { return addMonths(date, 1); },\n    _a[Action.Down] = function (date) { return addMonths(date, downStep(date.getMonth())); },\n    _a[Action.PrevView] = function (date) { return addYears(date, -1); },\n    _a[Action.NextView] = function (date) { return addYears(date, 1); },\n    _a[Action.FirstInView] = function (date) { return firstMonthOfYear(date); },\n    _a[Action.LastInView] = function (date) { return lastMonthOfYear(date); },\n    _a);\n/**\n * @hidden\n */\nvar YearViewService = /** @class */ (function () {\n    function YearViewService(intl) {\n        this._intl = intl;\n    }\n    YearViewService.prototype.addToDate = function (min, skip) {\n        return addYears(min, skip);\n    };\n    YearViewService.prototype.datesList = function (start, count) {\n        return range(0, count).map(function (i) { return addYears(start, i); });\n    };\n    YearViewService.prototype.data = function (options) {\n        var _this = this;\n        var cellUID = options.cellUID, focusedDate = options.focusedDate, isActiveView = options.isActiveView, max = options.max, min = options.min, selectedDate = options.selectedDate, _a = options.selectionRange, selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a, viewDate = options.viewDate;\n        if (!viewDate) {\n            return EMPTY_DATA;\n        }\n        var months = this.abbrMonthNames();\n        var firstDate = firstMonthOfYear(viewDate);\n        var lastDate = lastMonthOfYear(viewDate);\n        var currentYear = firstDate.getFullYear();\n        var cells = range(0, CELLS_LENGTH);\n        var today = getToday();\n        return range(0, ROWS_LENGTH).map(function (rowOffset) {\n            var baseDate = addMonths(firstDate, rowOffset * CELLS_LENGTH);\n            return cells.map(function (cellOffset) {\n                var cellDate = _this.normalize(addMonths(baseDate, cellOffset), min, max);\n                var changedYear = currentYear < cellDate.getFullYear();\n                if (changedYear) {\n                    return null;\n                }\n                var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n                var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n                var isInMiddle = !isRangeStart && !isRangeEnd;\n                var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n                var isSelected = isActiveView && (!Array.isArray(selectedDate)\n                    ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate)\n                    : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n                return {\n                    formattedValue: months[cellDate.getMonth()],\n                    id: \"\" + cellUID + cellDate.getTime(),\n                    isFocused: _this.isEqual(cellDate, focusedDate),\n                    isSelected: isSelected,\n                    isInRange: isInRange(cellDate, min, max),\n                    isWeekend: false,\n                    isRangeStart: isRangeStart,\n                    isRangeMid: isRangeMid,\n                    isRangeEnd: isRangeEnd,\n                    isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastDate),\n                    isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstDate),\n                    isToday: _this.isEqual(cellDate, today),\n                    title: _this.cellTitle(cellDate),\n                    value: cellDate\n                };\n            });\n        });\n    };\n    YearViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n        var _this = this;\n        var result = false;\n        dates.forEach(function (date) {\n            if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    YearViewService.prototype.isEqual = function (candidate, expected) {\n        if (!candidate || !expected) {\n            return false;\n        }\n        return candidate.getFullYear() === expected.getFullYear() &&\n            candidate.getMonth() === expected.getMonth();\n    };\n    YearViewService.prototype.isInArray = function (date, dates) {\n        if (!dates.length) {\n            return false;\n        }\n        var year = date.getFullYear();\n        return dates[0].getFullYear() <= year && year <= dates[dates.length - 1].getFullYear();\n    };\n    YearViewService.prototype.isInRange = function (candidate, min, max) {\n        var candidateValue = createDate(candidate.getFullYear(), candidate.getMonth(), 1);\n        var aboveMin = !min || createDate(min.getFullYear(), min.getMonth(), 1) <= candidateValue;\n        var belowMax = !max || candidateValue <= createDate(max.getFullYear(), max.getMonth(), 1);\n        return aboveMin && belowMax;\n    };\n    YearViewService.prototype.isInSameView = function (candidate, value) {\n        return durationInYears(candidate, value) === 0;\n    };\n    YearViewService.prototype.isRangeStart = function (value) {\n        return value.getFullYear() % 10 === 0;\n    };\n    YearViewService.prototype.move = function (value, action) {\n        var modifier = ACTIONS[action];\n        if (!modifier) {\n            return value;\n        }\n        return modifier(value);\n    };\n    YearViewService.prototype.cellTitle = function (value) {\n        return value.getFullYear() + \" \" + this.value(value);\n    };\n    YearViewService.prototype.navigationTitle = function (value) {\n        return this.title(value);\n    };\n    YearViewService.prototype.title = function (current) {\n        return current ? current.getFullYear().toString() : '';\n    };\n    YearViewService.prototype.rowLength = function (_) {\n        return CELLS_LENGTH;\n    };\n    YearViewService.prototype.skip = function (value, min) {\n        return durationInYears(min, value);\n    };\n    YearViewService.prototype.total = function (min, max) {\n        return durationInYears(min, max) + 1;\n    };\n    YearViewService.prototype.value = function (current) {\n        return current ? this.abbrMonthNames()[current.getMonth()] : '';\n    };\n    YearViewService.prototype.viewDate = function (date, max, border) {\n        if (border === void 0) { border = 1; }\n        var renderTwoViews = durationInYears(date, max) < border;\n        return renderTwoViews ? addYears(date, -1) : date;\n    };\n    YearViewService.prototype.abbrMonthNames = function () {\n        return this._intl.dateFormatNames({ nameType: 'abbreviated', type: 'months' });\n    };\n    YearViewService.prototype.normalize = function (cellDate, min, max) {\n        if (cellDate < min && this.isEqual(cellDate, min)) {\n            return cloneDate(min);\n        }\n        if (cellDate > max && this.isEqual(cellDate, max)) {\n            return cloneDate(max);\n        }\n        return cellDate;\n    };\n    return YearViewService;\n}());\nexport { YearViewService };\n","var _a;\nimport { CenturyViewService } from './CenturyViewService';\nimport { DecadeViewService } from './DecadeViewService';\nimport { MonthViewService } from './MonthViewService';\nimport { YearViewService } from './YearViewService';\nimport { CalendarViewEnum } from '../models/CalendarViewEnum';\nvar services = (_a = {},\n    _a[CalendarViewEnum.month] = MonthViewService,\n    _a[CalendarViewEnum.year] = YearViewService,\n    _a[CalendarViewEnum.decade] = DecadeViewService,\n    _a[CalendarViewEnum.century] = CenturyViewService,\n    _a);\nvar viewOffset = function (view, offset) {\n    var candidate = CalendarViewEnum[CalendarViewEnum[view + offset]];\n    return candidate !== undefined ? candidate : view;\n};\n/**\n * @hidden\n */\nvar BusViewService = /** @class */ (function () {\n    function BusViewService(onViewChanged) {\n        this.bottom = CalendarViewEnum.month;\n        this.top = CalendarViewEnum.century;\n        this.onViewChanged = onViewChanged;\n    }\n    BusViewService.prototype.configure = function (bottom, top) {\n        this.bottom = bottom;\n        this.top = top;\n    };\n    BusViewService.prototype.service = function (view, intl) {\n        return new services[\"\" + view](intl);\n    };\n    BusViewService.prototype.moveDown = function (view, event) {\n        this.move(view, -1, event);\n    };\n    BusViewService.prototype.moveUp = function (view, event) {\n        this.move(view, 1, event);\n    };\n    BusViewService.prototype.moveToBottom = function (activeView) {\n        if (activeView === this.bottom) {\n            return;\n        }\n        this.onViewChanged({ view: this.bottom });\n    };\n    BusViewService.prototype.canMoveDown = function (view) {\n        return this.bottom < view;\n    };\n    BusViewService.prototype.canMoveUp = function (view) {\n        return view < this.top;\n    };\n    BusViewService.prototype.clamp = function (view) {\n        if (view < this.bottom) {\n            return this.bottom;\n        }\n        if (view > this.top) {\n            return this.top;\n        }\n        return view;\n    };\n    BusViewService.prototype.move = function (view, offset, event) {\n        var candidate = this.clamp(viewOffset(view, offset));\n        if (candidate === view) {\n            return;\n        }\n        this.onViewChanged({ view: candidate }, event);\n    };\n    return BusViewService;\n}());\nexport { BusViewService };\n","import { cloneDate, isEqual } from '@progress/kendo-date-math';\nimport { getDate } from '@progress/kendo-date-math';\nimport { EMPTY_SELECTIONRANGE } from './calendar/models/SelectionRange';\n/**\n * @hidden\n */\nexport var isEqualRange = function (initial, updated) {\n    var _a = initial || EMPTY_SELECTIONRANGE, initialStart = _a.start, initialEnd = _a.end;\n    var _b = updated || EMPTY_SELECTIONRANGE, updatedStart = _b.start, updatedEnd = _b.end;\n    if (initialStart === null || initialEnd === null || updatedStart === null || updatedEnd === null) {\n        return false;\n    }\n    return isEqual(initialStart, updatedStart) && isEqual(initialEnd, updatedEnd);\n};\n/**\n * @hidden\n */\nexport var viewInRange = function (candidate, min, max) {\n    if (min === undefined || max === undefined) {\n        return candidate;\n    }\n    return min <= candidate && candidate <= max\n        ? candidate\n        : candidate < min\n            ? min\n            : max;\n};\n/**\n * @hidden\n */\nexport var MIDNIGHT_DATE = new Date(1980, 0, 1);\n/**\n * @hidden\n */\nexport var MIN_DATE = new Date(1900, 0, 1);\n/**\n * @hidden\n */\nexport var MAX_DATE = new Date(2099, 11, 31);\n/**\n * @hidden\n */\nexport var MIN_TIME = new Date(1980, 0, 1);\n/**\n * @hidden\n */\nexport var MAX_TIME = new Date(1980, 0, 1, 23, 59, 59);\nvar isSet = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nexport var isValidRange = function (min, max) { return (!isSet(min) || !isSet(max) || min <= max); };\n/**\n * @hidden\n */\nexport var setTime = function (origin, candidate) {\n    var date = cloneDate(origin);\n    date.setHours(candidate.getHours(), candidate.getMinutes(), candidate.getSeconds(), candidate.getMilliseconds());\n    return date;\n};\n/**\n * @hidden\n */\nexport var getToday = function () { return getDate(new Date()); };\n/**\n * @hidden\n */\nexport var isInRange = function (candidate, min, max) { return (!candidate || !((min && min > candidate) || (max && max < candidate))); };\n/**\n * @hidden\n */\nexport var isInDateRange = function (candidate, min, max) { return (candidate === null\n    || !((min && getDate(min) > getDate(candidate))\n        || (max && getDate(max) < getDate(candidate)))); };\n/**\n * @hidden\n */\nexport var isInSelectionRange = function (value, selectionRange) {\n    var _a = selectionRange || EMPTY_SELECTIONRANGE, start = _a.start, end = _a.end;\n    if (!start || !end) {\n        return false;\n    }\n    return start < value && value < end;\n};\n/**\n * @hidden\n */\nexport var range = function (start, end, step) {\n    if (step === void 0) { step = 1; }\n    var result = [];\n    for (var i = start; i < end; i = i + step) {\n        result.push(i);\n    }\n    return result;\n};\n/**\n * @hidden\n */\nexport var intersects = function (date, min, max) {\n    return min.getTime() <= date.getTime() && date.getTime() <= max.getTime();\n};\n/**\n * @hidden\n */\nexport var shiftWeekNames = function (names, offset) { return (names.slice(offset).concat(names.slice(0, offset))); };\n/**\n * @hidden\n */\nexport var dateInRange = function (candidate, min, max) {\n    if (!candidate) {\n        return candidate;\n    }\n    if (min && candidate < min) {\n        return cloneDate(min);\n    }\n    if (max && candidate > max) {\n        return cloneDate(max);\n    }\n    return candidate;\n};\n/**\n * @hidden\n */\nexport var domContainerFactory = function (type) { return function (children, classes, styles) {\n    if (classes === void 0) { classes = ''; }\n    if (styles === void 0) { styles = {}; }\n    var container = document.createElement(type);\n    container.className = classes;\n    Object.keys(styles).map(function (key) { return container.style[key] = styles[key]; });\n    if (typeof children === 'string') {\n        container.innerHTML = children || '';\n    }\n    else {\n        (children || []).forEach(function (child) { return child && container.appendChild(child); });\n    }\n    return container;\n}; };\n","import { addDays } from './add-days';\nimport { createDate } from './create-date';\n/**\n * A function which returns the last date of the month.\n *\n * @param date - The initial date.\n * @returns - The last date of the initial date month.\n *\n * @example\n * ```ts-no-run\n * lastDayOfMonth(new Date(2016, 0, 15)); // 2016-01-31\n * ```\n */\nexport var lastDayOfMonth = function (date) {\n    var newDate = createDate(date.getFullYear(), date.getMonth() + 1, 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n    return addDays(newDate, -1);\n};\n","import { adjustDST } from './adjust-dst';\nimport { cloneDate } from './clone-date';\nimport { lastDayOfMonth } from './last-day-of-month';\nvar MONTHS_LENGTH = 12;\nvar normalize = function (date, expectedMonth) { return (date.getMonth() !== expectedMonth ? lastDayOfMonth(addMonths(date, -1)) : date //tslint:disable-line:no-use-before-declare\n); };\n/**\n * A function that adds and subtracts months from a `Date` object.\n *\n * @param date - The initial date value.\n * @param offset - The number of months to add or subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addMonths(new Date(2016, 5, 1), 5); // 2016-11-1\n * addMonths(new Date(2016, 5, 1), -5); // 2015-1-1\n * ```\n */\nexport var addMonths = function (date, offset) {\n    var newDate = cloneDate(date);\n    var diff = (newDate.getMonth() + offset) % MONTHS_LENGTH;\n    var expectedMonth = (MONTHS_LENGTH + diff) % MONTHS_LENGTH;\n    newDate.setMonth(newDate.getMonth() + offset);\n    return normalize(adjustDST(newDate, date.getHours()), expectedMonth);\n};\n","import { addMonths } from './add-months';\nimport { createDate } from './create-date';\nimport { lastDayOfMonth } from './last-day-of-month';\n/**\n * @hidden\n */\nexport var setYear = function (value, year) {\n    var month = value.getMonth();\n    var candidate = createDate(year, month, value.getDate(), value.getHours(), value.getMinutes(), value.getSeconds(), value.getMilliseconds());\n    return candidate.getMonth() === month ? candidate : lastDayOfMonth(addMonths(candidate, -1));\n};\n","import { adjustDST } from './adjust-dst';\nimport { setYear } from './set-year';\n/**\n * A function that adds and subtracts years from a `Date` object.\n *\n * @param date - The initial date value.\n * @param offset - The number of years to add or subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addYears(new Date(2016, 5, 1), 5); // 2011-6-1\n * addYears(new Date(2016, 5, 1), -5); // 2021-6-1\n * ```\n */\nexport var addYears = function (value, offset) {\n    return adjustDST(setYear(value, value.getFullYear() + offset), value.getHours());\n};\n","import { addYears } from './add-years';\n/**\n * A function that adds and subtracts decades from a `Date` object.\n *\n * @param date - The initial date value.\n * @param offset - The number of decades to add or subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addDecades(new Date(2016, 5, 1), 5); // 2066-6-1\n * addDecades(new Date(2016, 5, 1), -5); // 1966-6-1\n * ```\n */\nexport var addDecades = function (value, offset) {\n    return addYears(value, 10 * offset);\n};\n","import { addYears } from './add-years';\n/**\n * A function that adds and subtracts centuries from a `Date` object.\n *\n * @param date - The initial date value.\n * @param offset - The number of centuries to add or subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addCenturies(new Date(2016, 5, 1), 5); // 2516-6-1\n * addCenturies(new Date(2016, 5, 1), -5); // 1516-6-1\n * ```\n */\nexport var addCenturies = function (value, offset) {\n    return addYears(value, 100 * offset);\n};\n","import { setYear } from './set-year';\n/**\n * @hidden\n */\nexport var normalizeYear = function (value, year) { return (setYear(value, year(value.getFullYear()))); };\n","import { normalizeYear } from './normalize-year';\n/**\n * A function that returns a `Date` object of the first decade in a century.\n *\n * @param date - The start date value.\n * @returns - The first year in a century.\n *\n * @example\n * ```ts-no-run\n * firstDecadeOfCentury(new Date(2017, 0, 1)); // 2000-1-1\n * firstDecadeOfCentury(new Date(2007, 10, 22)); // 2000-11-22\n * firstDecadeOfCentury(new Date(2126, 0, 1)); // 2100-1-1\n * ```\n */\nexport var firstDecadeOfCentury = function (value) { return (normalizeYear(value, function (y) { return y - (y % 100); })); };\n","import { normalizeYear } from './normalize-year';\n/**\n * A function that returns a `Date` object of the last decade in a century.\n *\n * @param date - The start date value.\n * @returns - The last year in a decade.\n *\n * @example\n * ```ts-no-run\n * lastDecadeOfCentury(new Date(2017, 0, 1)); // 2090-1-1\n * lastDecadeOfCentury(new Date(2007, 10, 22)); // 2090-11-22\n * lastDecadeOfCentury(new Date(2126, 0, 1)); // 2190-1-1\n * ```\n */\nexport var lastDecadeOfCentury = function (value) { return (normalizeYear(value, function (y) { return y - (y % 100) + 90; })); };\n","import { normalizeYear } from './normalize-year';\n/**\n * A function that returns a `Date` object of the first year in a decade.\n *\n * @param date - The start date value.\n * @returns - The first year in a decade.\n *\n * @example\n * ```ts-no-run\n * firstYearOfDecade(new Date(2017, 0, 1)); // 2010-1-1\n * firstYearOfDecade(new Date(2007, 10, 22)); // 2000-11-22\n * firstYearOfDecade(new Date(2026, 0, 1)); // 2020-1-1\n * ```\n */\nexport var firstYearOfDecade = function (value) { return (normalizeYear(value, function (y) { return y - (y % 10); })); };\n","import { firstDecadeOfCentury } from './first-decade-of-century';\n/**\n * A function that calculates duration in centuries between two `Date` objects.\n *\n * @param start - The start date value.\n * @param end - The end date value.\n * @returns - The duration in months.\n *\n * @example\n * ```ts-no-run\n * durationInCenturies(new Date(2016, 0, 1), new Date(3216, 0, 1)); // 12\n * durationInCenturies(new Date(2016, 6, 1), new Date(2617, 0, 1)); // 6\n * durationInCenturies(new Date(2016, 0, 1), new Date(2016, 0, 1)); // 0\n * ```\n */\nexport var durationInCenturies = function (start, end) { return ((firstDecadeOfCentury(end).getFullYear() - firstDecadeOfCentury(start).getFullYear()) / 100); };\n","import { normalizeYear } from './normalize-year';\n/**\n * A function that returns a `Date` object of the last year in a decade.\n *\n * @param date - The start date value.\n * @returns - The last year in a decade.\n *\n * @example\n * ```ts-no-run\n * lastYearOfDecade(new Date(2017, 0, 1)); // 2019-1-1\n * lastYearOfDecade(new Date(2007, 10, 22)); // 2009-11-22\n * lastYearOfDecade(new Date(2026, 0, 1)); // 2029-1-1\n * ```\n */\nexport var lastYearOfDecade = function (value) { return (normalizeYear(value, function (y) { return y - (y % 10) + 9; })); };\n","import { firstYearOfDecade } from './first-year-of-decade';\n/**\n * A function that calculates duration in decades between two `Date` objects.\n *\n * @param start - The start date value.\n * @param end - The end date value.\n * @returns - The duration in months.\n *\n * @example\n * ```ts-no-run\n * durationInDecades(new Date(2016, 0, 1), new Date(2136, 0, 1)); // 12\n * durationInDecades(new Date(2016, 0, 1), new Date(2016, 0, 1)); // 0\n * ```\n */\nexport var durationInDecades = function (start, end) { return ((firstYearOfDecade(end).getFullYear() - firstYearOfDecade(start).getFullYear()) / 10); };\n","import { addDays } from './add-days';\n/**\n * A function that adds and subtracts weeks from a Date object.\n *\n * @param date - The initial date value.\n * @param offset - The number of weeks to add/subtract from the date.\n * @returns - A new `Date` instance.\n *\n * @example\n * ```ts-no-run\n * addWeeks(new Date(2016, 5, 1), 3); // 2016-6-22\n * addWeeks(new Date(2016, 5, 1), -3); // 2015-5-11\n * ```\n */\nexport var addWeeks = function (date, offset) {\n    return addDays(date, offset * 7);\n};\n","import { createDate } from './create-date';\n/**\n * A function which returns the first date of the month.\n *\n * @param date - The initial date.\n * @returns - The first date of the initial date month.\n *\n * @example\n * ```ts-no-run\n * firstDayOfMonth(new Date(2016, 0, 15)); // 2016-01-01\n * ```\n */\nexport var firstDayOfMonth = function (date) {\n    return createDate(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n};\n","/**\n * A function that calculates duration in months between two `Date` objects.\n *\n * @param start - The start date value.\n * @param end - The end date value.\n * @returns - The duration in months.\n *\n * @example\n * ```ts-no-run\n * durationInMonths(new Date(2016, 0, 1), new Date(2017, 0, 1)); // 12\n * durationInMonths(new Date(2016, 6, 1), new Date(2017, 0, 1)); // 6\n * durationInMonths(new Date(2016, 0, 1), new Date(2016, 0, 1)); // 0\n * ```\n */\nexport var durationInMonths = function (start, end) { return (((end.getFullYear() - start.getFullYear())) * 12 + (end.getMonth() - start.getMonth())); };\n","import { addMonths } from './add-months';\nimport { createDate } from './create-date';\nimport { lastDayOfMonth } from './last-day-of-month';\n/**\n * @hidden\n */\nexport var setMonth = function (value, month) {\n    var day = value.getDate();\n    var candidate = createDate(value.getFullYear(), month, day, value.getHours(), value.getMinutes(), value.getSeconds(), value.getMilliseconds());\n    return candidate.getDate() === day ? candidate : lastDayOfMonth(addMonths(candidate, -1));\n};\n","import { setMonth } from './set-month';\n/**\n * A function that returns a `Date` object of the first month in a year.\n *\n * @param date - The start date value.\n * @returns - The first month in a year.\n *\n * @example\n * ```ts-no-run\n * firstMonthOfYear(new Date(2017, 11, 1)); // 2017-1-1\n * firstMonthOfYear(new Date(2017, 0, 1)); // 2017-1-1\n * ```\n */\nexport var firstMonthOfYear = function (value) { return setMonth(value, 0); };\n","import { setMonth } from './set-month';\n/**\n * A function that returns a `Date` object of the last month in a year.\n *\n * @param date - The start date value.\n * @returns - The last month in a year.\n *\n * @example\n * ```ts-no-run\n * lastMonthOfYear(new Date(2017, 5, 3)); // 2017-12-3\n * lastMonthOfYear(new Date(2017, 11, 3)); // 2017-12-3\n * ```\n */\nexport var lastMonthOfYear = function (value) { return setMonth(value, 11); };\n","/**\n * A function that calculates duration in years between two `Date` objects.\n *\n * @param start - The start date value.\n * @param end - The end date value.\n * @returns - The duration in years.\n *\n * @example\n * ```ts-no-run\n * durationInYears(new Date(2016, 0, 1), new Date(2028, 0, 1)); // 12\n * durationInYears(new Date(2016, 0, 1), new Date(2022, 0, 1)); // 6\n * durationInYears(new Date(2016, 0, 1), new Date(2016, 0, 1)); // 0\n * ```\n */\nexport var durationInYears = function (start, end) { return (end.getFullYear() - start.getFullYear()); };\n","import { CalendarViewEnum } from '../models/CalendarViewEnum';\nimport { domContainerFactory as containerFactory } from '../../utils';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DOMService = /** @class */ (function () {\n    function DOMService() {\n        this.didCalculate = false;\n    }\n    DOMService.prototype.ensureHeights = function () {\n        if (this.calendarHeight !== undefined) {\n            return;\n        }\n        this.calculateHeights();\n    };\n    DOMService.prototype.calculateHeights = function (container) {\n        var _this = this;\n        if (!canUseDOM) {\n            return;\n        }\n        var div = containerFactory('div');\n        var ul = containerFactory('ul');\n        var li = containerFactory('li');\n        var td = containerFactory('td');\n        var th = containerFactory('th');\n        var tr = containerFactory('tr');\n        var tbody = containerFactory('tbody');\n        var thead = containerFactory('thead');\n        var table = containerFactory('table');\n        var monthHeader = function () { return (div(\"\\n            <span class=\\\"k-calendar-title\\\">March 2017</span>\\n            <span class=\\\"k-calendar-today\\\">TODAY</span>\\n        \", 'k-calendar-header')); };\n        var monthWeekHeader = function () { return (table([\n            thead([\n                tr([th('MO')])\n            ])\n        ], 'k-calendar-weekdays')); };\n        var repeat = function (count, mapper) { return new Array(count).fill('1').map(mapper); };\n        var content = function (rows, cells) {\n            if (cells === void 0) { cells = 1; }\n            return (table([\n                tbody([tr([th('1')])].concat(repeat(rows, function () { return tr(repeat(cells, function (c) { return td(\"<span class=\\\"k-link\\\">\" + c + \"</span>\"); })); })))\n            ]));\n        };\n        var scrollable = function (children) { return div(children, 'k-content k-scrollable'); };\n        var view = function (contentElement, className, renderWeekHeader) { return (div(renderWeekHeader\n            ? [\n                monthHeader(),\n                monthWeekHeader(),\n                scrollable([contentElement, contentElement])\n            ]\n            : [\n                monthHeader(),\n                scrollable([contentElement, contentElement])\n            ], className, { left: '-10000px', position: 'absolute' })); };\n        var navigationList = (function () {\n            var navElement;\n            return function () {\n                if (!canUseDOM) {\n                    return null;\n                }\n                if (!navElement) {\n                    navElement = div([scrollable([ul([li('<span>FEB</span>')])])], 'k-calendar-navigation', { left: '0px', position: 'absolute' });\n                }\n                return navElement;\n            };\n        })();\n        var viewFactory = function (_a, className, renderWeekHeader) {\n            var cells = _a.cells, rows = _a.rows;\n            var viewElement;\n            return function () {\n                if (!canUseDOM) {\n                    return null;\n                }\n                if (!viewElement) {\n                    viewElement = view(content(rows, cells), className, renderWeekHeader);\n                }\n                return viewElement;\n            };\n        };\n        var getScrollable = function (element) { return element.querySelector('.k-scrollable'); };\n        var horizontal = function (element) {\n            var scrollableElement = getScrollable(element);\n            scrollableElement.className = scrollableElement.className + \" k-scrollable-horizontal\";\n            return element;\n        };\n        var monthView = viewFactory({ cells: 7, rows: 6 }, 'k-calendar-view k-calendar-monthview', true);\n        var yearView = viewFactory({ cells: 5, rows: 3 }, 'k-calendar-view k-calendar-yearview', false);\n        var decadeView = viewFactory({ cells: 5, rows: 2 }, 'k-calendar-view k-calendar-decadeview', false);\n        var horzMonthView = function () { return horizontal(monthView()); };\n        var horzYearView = function () { return horizontal(yearView()); };\n        var horzDecadeView = function () { return horizontal(decadeView()); };\n        var height = function (element) { return (parseFloat(window.getComputedStyle(element).height) || element.offsetHeight); };\n        var width = function (element) {\n            var styles = window.getComputedStyle(element);\n            var computed = parseFloat(styles.width)\n                + parseFloat(styles.paddingLeft)\n                + parseFloat(styles.paddingRight);\n            return computed || element.offsetWidth;\n        };\n        var getBody = function (element) { return element.querySelector('tbody'); };\n        this.didCalculate = true;\n        if (container) {\n            this.hostContainer = container;\n        }\n        this.batch(monthView(), function (contentElement) {\n            var viewElement = getBody(contentElement);\n            _this.calendarHeight = height(contentElement);\n            _this.monthViewHeight = height(viewElement);\n            _this.headerHeight = height(viewElement.children[0]);\n            _this.scrollableContentHeight = height(getScrollable(contentElement));\n        });\n        this.batch(horzMonthView(), function (contentElement) {\n            var viewElement = getBody(contentElement);\n            _this.calendarWidth = width(contentElement);\n            _this.monthViewWidth = width(viewElement);\n            _this.scrollableContentWidth = width(getScrollable(contentElement));\n        });\n        this.batch(yearView(), function (contentElement) {\n            _this.yearViewHeight = height(getBody(contentElement));\n            _this.scrollableYearContentHeight = height(getScrollable(contentElement));\n        });\n        this.batch(horzYearView(), function (contentElement) {\n            _this.yearViewWidth = width(getBody(contentElement));\n        });\n        this.batch(decadeView(), function (contentElement) {\n            _this.decadeViewHeight = height(getBody(contentElement));\n            _this.centuryViewHeight = _this.decadeViewHeight;\n        });\n        this.batch(horzDecadeView(), function (contentElement) {\n            _this.decadeViewWidth = width(getBody(contentElement));\n            _this.centuryViewWidth = _this.decadeViewWidth;\n        });\n        this.batch(navigationList(), function (contentElement) {\n            _this.navigationItemHeight = height(contentElement.querySelector('li'));\n        });\n    };\n    DOMService.prototype.viewHeight = function (viewType) {\n        return this.viewDimension(viewType, 'height');\n    };\n    DOMService.prototype.viewWidth = function (viewType) {\n        return this.viewDimension(viewType, 'width');\n    };\n    DOMService.prototype.viewDimension = function (viewType, dimension) {\n        var viewProp = dimension === 'height' ? 'ViewHeight' : 'ViewWidth';\n        switch (viewType) {\n            case CalendarViewEnum.month:\n                return this[\"month\" + viewProp];\n            case CalendarViewEnum.year:\n                return this[\"year\" + viewProp];\n            case CalendarViewEnum.decade:\n                return this[\"decade\" + viewProp];\n            case CalendarViewEnum.century:\n                return this[\"century\" + viewProp];\n            default:\n                return 1;\n        }\n    };\n    DOMService.prototype.batch = function (contentElement, action) {\n        var hostContainer = this.hostContainer || document.body;\n        var appendedContent = hostContainer.appendChild(contentElement);\n        action(appendedContent);\n        hostContainer.removeChild(appendedContent);\n    };\n    return DOMService;\n}());\nexport { DOMService };\n","import { Action } from '../models/NavigationAction';\nvar KEY_TO_ACTION = {\n    '33': Action.PrevView,\n    '34': Action.NextView,\n    '35': Action.LastInView,\n    '36': Action.FirstInView,\n    '37': Action.Left,\n    '38': Action.Up,\n    '39': Action.Right,\n    '40': Action.Down,\n    'meta+38': Action.UpperView,\n    'meta+40': Action.LowerView\n};\n/**\n * @hidden\n */\nvar NavigationService = /** @class */ (function () {\n    function NavigationService(bus) {\n        this.bus = bus;\n    }\n    NavigationService.prototype.action = function (event) {\n        var action = \"\" + (event.ctrlKey || event.metaKey ? 'meta+' : '') + event.keyCode;\n        return KEY_TO_ACTION[action];\n    };\n    NavigationService.prototype.move = function (value, action, activeView, service, event) {\n        if (!service) {\n            return value;\n        }\n        if (action === Action.UpperView && this.bus.canMoveUp(activeView)) {\n            this.bus.moveUp(activeView, event);\n            return value;\n        }\n        if (action === Action.LowerView && this.bus.canMoveDown(activeView)) {\n            this.bus.moveDown(activeView, event);\n            return value;\n        }\n        return service.move(value, action);\n    };\n    return NavigationService;\n}());\nexport { NavigationService };\n","var divideByMagnitude = function (magnitude) { return function (x) { return Math.floor(x / magnitude); }; };\nvar powerByMagnitude = function (magnitude) { return function (x) { return x * magnitude; }; };\n/**\n * @hidden\n */\nvar ScrollSyncService = /** @class */ (function () {\n    function ScrollSyncService(dom) {\n        this.dom = dom;\n        this.monthScrolled = false;\n        this.navScrolled = false;\n    }\n    ScrollSyncService.prototype.configure = function (activeView) {\n        var magnitude = Math.max(this.dom.viewHeight(activeView) / this.dom.navigationItemHeight, 1);\n        this.divideByMagnitude = divideByMagnitude(magnitude);\n        this.powerByMagnitude = powerByMagnitude(magnitude);\n    };\n    ScrollSyncService.prototype.sync = function (navigator, view, e) {\n        if (!navigator || !view) {\n            return;\n        }\n        this.navigator = navigator;\n        this.view = view;\n        if (e.target === this.navigator.element) {\n            if (this.monthScrolled) {\n                this.monthScrolled = false;\n                return;\n            }\n            this.navScrolled = true;\n            this.scrollSiblingOf(this.navigator.element);\n        }\n        if (e.target === this.view.element) {\n            if (this.navScrolled) {\n                this.navScrolled = false;\n                return;\n            }\n            this.monthScrolled = true;\n            this.scrollSiblingOf(this.view.element);\n        }\n    };\n    ScrollSyncService.prototype.scrollSiblingOf = function (scrolledElement) {\n        var component = this.siblingComponent(scrolledElement);\n        var scrollTop = this.calculateScroll(component, scrolledElement.scrollTop);\n        component.scrollTo(scrollTop);\n    };\n    ScrollSyncService.prototype.siblingComponent = function (scrollableElement) {\n        return this.navigator.element === scrollableElement ? this.view : this.navigator;\n    };\n    ScrollSyncService.prototype.calculateScroll = function (component, scrollTop) {\n        var modifier = component === this.navigator ? this.divideByMagnitude : this.powerByMagnitude;\n        return modifier(scrollTop);\n    };\n    return ScrollSyncService;\n}());\nexport { ScrollSyncService };\n","import { shiftWeekNames } from '../../utils';\n/**\n * @hidden\n */\nvar WeekNamesService = /** @class */ (function () {\n    function WeekNamesService(intl) {\n        this.intl = intl;\n    }\n    WeekNamesService.prototype.getWeekNames = function (includeWeekNumber) {\n        if (includeWeekNumber === void 0) { includeWeekNumber = false; }\n        var weekNames = shiftWeekNames(this.intl.dateFormatNames({ nameType: 'short', type: 'days' }), this.intl.firstDay());\n        return includeWeekNumber ? [''].concat(weekNames) : weekNames;\n    };\n    return WeekNamesService;\n}());\nexport { WeekNamesService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { weekInYear, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService } from '@progress/kendo-react-intl';\nimport { CalendarCell } from './CalendarCell';\nimport { CalendarWeekCell } from './CalendarWeekCell';\nimport { CalendarViewEnum } from '../models';\nimport { setTime, getToday } from '../../utils';\nimport { WeekNamesService } from '../services';\n// In case we decide to render content for the next month in the empty cells,\n// add k-other-month class to all cells and k-weekend for weekend cells.\n// tslint:disable-next-line jsx-use-translation-function\nvar emptyCell = function (idx) { return (React.createElement(\"td\", { key: idx, className: 'k-calendar-td' }, \"\\u00A0\")); };\n/**\n * @hidden\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildWeekNumber = function (row, idx) {\n            var firstDayOfWeek = _this.firstDate(row);\n            if (!firstDayOfWeek) {\n                return emptyCell(\"week-cell-\" + idx);\n            }\n            var firstDate = _this.firstDate(row);\n            var weekCellValue = _this.getWeekNumber(firstDate);\n            var uniqueID = \"kendo-react-calendar-week-cell-\" + weekCellValue;\n            var cellProps = {\n                className: 'k-alt',\n                value: weekCellValue,\n                firstDate: firstDate\n            };\n            return _this.props.weekCell\n                ? React.createElement(_this.props.weekCell, __assign({}, cellProps, { key: uniqueID }), weekCellValue)\n                : React.createElement(CalendarWeekCell, __assign({}, cellProps, { key: uniqueID }), weekCellValue);\n        };\n        _this.buildRow = function (row) {\n            return row.map(function (cell, idx) {\n                if (!cell) {\n                    return emptyCell(idx);\n                }\n                var aria = { 'aria-selected': cell.isSelected };\n                var uniqueID = \"kendo-react-calendar-cell-\" + cell.value.getTime();\n                var cellProps = __assign({}, aria, cell, { isDisabled: !cell.isInRange, view: _this.props.activeView, onClick: _this.handleClick, onMouseEnter: _this.handleMouseEnter, onMouseLeave: _this.handleMouseLeave });\n                return _this.props.cell\n                    ? (React.createElement(_this.props.cell, __assign({}, cellProps, { key: uniqueID }), cell.formattedValue))\n                    : (React.createElement(CalendarCell, __assign({}, cellProps, { key: uniqueID }), cell.formattedValue));\n            });\n        };\n        _this.firstDate = function (row) {\n            var cell = _this.firstWeekDateContext(row);\n            return cell ? cell.value : null;\n        };\n        _this.firstWeekDateContext = function (rowCtx) {\n            if (!_this.weekNumber) {\n                return null;\n            }\n            var idx = 0;\n            var ctx = rowCtx[idx];\n            while (!ctx && idx < rowCtx.length) {\n                ctx = rowCtx[++idx];\n            }\n            return ctx;\n        };\n        _this.handleClick = function (value, event) {\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    value: cloneDate(value),\n                    target: _this,\n                    nativeEvent: event && event.nativeEvent,\n                    syntheticEvent: event\n                };\n                onChange.call(undefined, args);\n            }\n        };\n        _this.handleMouseEnter = function (value) {\n            var onCellEnter = _this.props.onCellEnter;\n            if (onCellEnter) {\n                onCellEnter.call(undefined, cloneDate(value));\n            }\n        };\n        _this.handleMouseLeave = function (value) {\n            var onCellLeave = _this.props.onCellLeave;\n            if (onCellLeave) {\n                onCellLeave.call(undefined, cloneDate(value));\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(View.prototype, \"min\", {\n        get: function () {\n            return this.props.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"max\", {\n        get: function () {\n            return this.props.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"isHorizontal\", {\n        get: function () {\n            return this.props.direction === 'horizontal';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"isMonthView\", {\n        get: function () {\n            return this.props.activeView === CalendarViewEnum.month;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"weekNumber\", {\n        get: function () {\n            return Boolean(this.props.showWeekNumbers && this.props.activeView === CalendarViewEnum.month);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"selectedDate\", {\n        get: function () {\n            return this.props.selectedDate !== undefined ? this.props.selectedDate : View.defaultProps.selectedDate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    View.prototype.render = function () {\n        var _this = this;\n        this.intl = provideIntlService(this);\n        this.weekService = new WeekNamesService(this.intl);\n        var weekNames = this.weekService.getWeekNames(this.weekNumber);\n        var colSpan = this.props.service.rowLength(this.weekNumber);\n        var title = this.props.service.title(this.props.viewDate);\n        var time = getToday();\n        var viewDate = setTime(this.props.viewDate, time);\n        var data = this.props.service.data({\n            cellUID: this.props.cellUID,\n            min: this.min,\n            max: this.max,\n            focusedDate: this.props.focusedDate,\n            isActiveView: !this.props.bus.canMoveDown(this.props.activeView),\n            selectedDate: this.selectedDate,\n            selectionRange: this.props.selectionRange,\n            viewDate: viewDate\n        });\n        return (React.createElement(React.Fragment, null,\n            (this.isMonthView && this.isHorizontal) && (React.createElement(\"thead\", { role: \"rowgroup\", className: \"k-calendar-thead\" },\n                React.createElement(\"tr\", { role: \"row\", className: \"k-calendar-tr\" }, weekNames.map(function (name, idx) { return (React.createElement(\"th\", { key: idx, className: \"k-calendar-th\" }, name)); })))),\n            React.createElement(\"tbody\", { role: \"rowgroup\", className: \"k-calendar-tbody\" },\n                !this.isHorizontal && (React.createElement(\"tr\", { role: \"presentation\", className: \"k-calendar-tr\" },\n                    React.createElement(\"th\", { scope: \"col\", colSpan: colSpan, className: \"k-calendar-th\" }, title))),\n                data.map(function (row, idx) {\n                    return (React.createElement(\"tr\", { role: \"row\", className: \"k-calendar-tr\", key: idx },\n                        _this.weekNumber && _this.buildWeekNumber(row, idx),\n                        _this.buildRow(row)));\n                }))));\n    };\n    View.prototype.getWeekNumber = function (date) {\n        if (!this.weekNumber) {\n            return null;\n        }\n        return weekInYear(date, this.intl.firstDay());\n    };\n    View.propTypes = {\n        activeRangeEnd: PropTypes.oneOf(['start', 'end', null]),\n        activeView: PropTypes.number.isRequired,\n        cellUID: PropTypes.string.isRequired,\n        direction: PropTypes.oneOf(['horizontal', 'vertical']),\n        focusedDate: PropTypes.instanceOf(Date).isRequired,\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        onChange: PropTypes.func,\n        selectedDate: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.arrayOf(PropTypes.instanceOf(Date))]),\n        showWeekNumbers: PropTypes.bool,\n        viewDate: PropTypes.instanceOf(Date).isRequired\n    };\n    View.defaultProps = {\n        direction: 'vertical',\n        selectedDate: getToday(),\n        showWeekNumbers: false\n    };\n    return View;\n}(React.Component));\nexport { View };\nregisterForIntl(View);\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-buttons',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344628,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","/**\n * @hidden\n */\nvar styles = {\n    button: 'k-button',\n    'flat': 'k-flat',\n    'outline': 'k-outline',\n    'clear': 'k-button-clear',\n    'primary': 'k-primary',\n    'state-selected': 'k-state-selected',\n    'button-icon': 'k-button-icon',\n    'button-icontext': 'k-button-icontext',\n    'state-disabled': 'k-state-disabled',\n    'group-start': 'k-group-start',\n    'group-end': 'k-group-end',\n    'button-group': 'k-button-group',\n    'button-group-stretched': 'k-button-group-stretched',\n    'ltr': 'k-ltr',\n    'rtl': 'k-rtl'\n};\nvar notDisabled = ':not(.k-state-disabled):not([disabled]):not([disabled=\"true\"])';\n/**\n * @hidden\n */\nexport var toolbarButtons = [\n    'button' + notDisabled,\n    '.k-button-group > button' + notDisabled,\n    '.k-dropdown > .k-dropdown-wrap' + notDisabled,\n    '.k-colorpicker > .k-picker-wrap' + notDisabled\n];\n/**\n * @hidden\n */\nexport default {\n    styles: styles\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport util from './util';\nvar styles = util.styles;\n/**\n * @hidden\n */\nfunction iconElement(_a) {\n    var imageUrl = _a.imageUrl, icon = _a.icon, iconClass = _a.iconClass, imageAlt = _a.imageAlt;\n    if (imageUrl) {\n        return (React.createElement(\"img\", { role: \"presentation\", className: 'k-image', alt: imageAlt, src: imageUrl }));\n    }\n    else if (icon) {\n        var iconClasses = classNames('k-icon', 'k-i-' + icon);\n        return (React.createElement(\"span\", { role: \"presentation\", className: iconClasses }));\n    }\n    else if (iconClass) {\n        return (React.createElement(\"span\", { role: \"presentation\", className: iconClass }));\n    }\n    return null;\n}\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    function Button(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        _this.handleClick = function (event) {\n            _this.toggleIfApplicable();\n            if (_this.props.onClick) {\n                _this.props.onClick.call(undefined, event);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = { selected: _this.props.togglable === true && _this.props.selected === true };\n        return _this;\n    }\n    Object.defineProperty(Button.prototype, \"element\", {\n        /**\n         * Gets the DOM element of the Button component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Button.prototype, \"selected\", {\n        /**\n         * Returns `true` when the component is togglable and selected ([see example]({% slug toggleable_button %})).\n         * Otherwise, returns `false`.\n         */\n        get: function () {\n            return this._selectedTemp !== undefined ? this._selectedTemp : this.state.selected;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Button.getDerivedStateFromProps = function (props, state) {\n        if (props.togglable && props.selected !== undefined && props.selected !== state.selected) {\n            return { selected: props.selected };\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    Button.prototype.render = function () {\n        var _this = this;\n        var _a;\n        var _b = this.props, children = _b.children, look = _b.look, primary = _b.primary, togglable = _b.togglable, icon = _b.icon, iconClass = _b.iconClass, imageUrl = _b.imageUrl, imageAlt = _b.imageAlt, className = _b.className, onClick = _b.onClick, htmlAttributes = __rest(_b, [\"children\", \"look\", \"primary\", \"togglable\", \"icon\", \"iconClass\", \"imageUrl\", \"imageAlt\", \"className\", \"onClick\"]);\n        var hasIcon = (icon !== undefined || iconClass !== undefined || imageUrl !== undefined);\n        var hasChildren = children !== undefined;\n        var buttonClasses = classNames([styles.button], (_a = {},\n            _a[styles[\"\" + look]] = look !== 'default',\n            _a[styles.primary] = primary,\n            _a[styles['state-disabled']] = this.props.disabled,\n            _a[styles['state-selected']] = this.state.selected,\n            _a[styles['button-icon']] = !hasChildren && hasIcon,\n            _a[styles['button-icontext']] = hasChildren && hasIcon,\n            _a), [styles[\"\" + this.props.dir]], className);\n        var buttonProps = {\n            className: buttonClasses,\n            onClick: this.handleClick,\n            // Accessibility properties\n            role: togglable ? 'checkbox' : undefined,\n            'aria-disabled': this.props.disabled || undefined,\n            'aria-checked': togglable ? this.state.selected : undefined\n        };\n        var iconEl = iconElement({\n            icon: icon,\n            iconClass: iconClass,\n            imageUrl: imageUrl,\n            imageAlt: imageAlt\n        });\n        return (React.createElement(\"button\", __assign({}, buttonProps, htmlAttributes, { ref: function (button) { return _this._element = button; } }),\n            iconEl,\n            children));\n    };\n    Button.prototype.toggleIfApplicable = function () {\n        var _this = this;\n        if (this.props.togglable && this.props.selected === undefined) {\n            var selected = !this.state.selected;\n            this._selectedTemp = selected;\n            this.setState({ selected: selected }, function () { return _this._selectedTemp = undefined; });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Button.propTypes = {\n        children: PropTypes.node,\n        look: PropTypes.oneOf(['default', 'flat', 'outline', 'clear']),\n        primary: PropTypes.bool,\n        selected: PropTypes.bool,\n        togglable: PropTypes.bool,\n        icon: PropTypes.string,\n        iconClass: PropTypes.string,\n        imageUrl: PropTypes.string,\n        imageAlt: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    Button.defaultProps = {\n        look: 'default',\n        primary: false,\n        togglable: false\n    };\n    return Button;\n}(React.Component));\nexport default Button;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport util from './util';\nvar styles = util.styles;\nvar ButtonGroup = /** @class */ (function (_super) {\n    __extends(ButtonGroup, _super);\n    function ButtonGroup(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ButtonGroup.prototype.render = function () {\n        var _this = this;\n        var _a;\n        var buttons = this.mapButtons(this.props.children);\n        var groupClasses = classNames([styles['button-group']], (_a = {},\n            _a[styles['state-disabled']] = this.props.disabled,\n            _a[styles['button-group-stretched']] = !!this.props.width,\n            _a), this.props.className);\n        var groupProps = {\n            className: groupClasses,\n            style: { 'width': \"\" + this.props.width },\n            dir: this.props.dir,\n            // Accessibility properties\n            role: 'group',\n            'aria-disabled': this.props.disabled\n        };\n        return (React.createElement(\"div\", __assign({ ref: function (div) { _this._element = div; } }, groupProps, { className: groupClasses }), buttons));\n    };\n    ButtonGroup.prototype.mapButtons = function (children) {\n        var _this = this;\n        var count = React.Children.count(children);\n        var rtl = this.props.dir !== undefined\n            ? this.props.dir === 'rtl'\n            : (this._element && (getComputedStyle(this._element).direction === 'rtl') || false);\n        return React.Children.map(children, function (child, index) {\n            if (React.isValidElement(child)) {\n                return _this.renderButton(child, index, (index === count - 1), rtl);\n            }\n            return child;\n        });\n    };\n    ButtonGroup.prototype.renderButton = function (child, index, isLast, isRtl) {\n        var _a;\n        var className = classNames(child.props.className, (_a = {},\n            _a[styles['group-start']] = isRtl ? isLast : index === 0,\n            _a[styles['group-end']] = isRtl ? index === 0 : isLast,\n            _a));\n        var style = __assign({}, (this.props.width ? { width: this.props.width } : {}), (child.props.style || {}));\n        var disabled = this.props.disabled || child.props.disabled;\n        var buttonProps = __assign({}, child.props, (className ? { className: className } : {}), (Object.keys(style).length ? { style: style } : {}), (disabled !== undefined ? { disabled: disabled } : {}));\n        return React.Children.count(child.props.children) > 0 ?\n            React.cloneElement(child, buttonProps, child.props.children) :\n            React.cloneElement(child, buttonProps);\n    };\n    /**\n     * @hidden\n     */\n    ButtonGroup.propTypes = {\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element]),\n        className: PropTypes.string,\n        disabled: PropTypes.bool,\n        width: PropTypes.string,\n        dir: PropTypes.string\n    };\n    return ButtonGroup;\n}(React.Component));\nexport default ButtonGroup;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ButtonItem = /** @class */ (function (_super) {\n    __extends(ButtonItem, _super);\n    function ButtonItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onClick = function (event) { return _this.props.onClick(event, _this.props.index); };\n        return _this;\n    }\n    ButtonItem.prototype.render = function () {\n        var _a = this.props, dataItem = _a.dataItem, focused = _a.focused, id = _a.id, onDown = _a.onDown, render = _a.render;\n        var item = (React.createElement(\"li\", { id: id, className: classNames('k-item', {\n                'k-state-focused': focused,\n                'k-state-selected': dataItem.selected,\n                'k-state-disabled': dataItem.disabled\n            }), onClick: this.onClick, onMouseDown: onDown, onPointerDown: onDown, role: \"menuItem\", \"aria-disabled\": dataItem.disabled || undefined }, this.renderContent()));\n        return (this.props.item !== undefined /* to be removed in 5.0.0 */ &&\n            render !== undefined) ? render.call(undefined, item, this.props) : item;\n    };\n    ButtonItem.prototype.renderContent = function () {\n        var _a = this.props, dataItem = _a.dataItem, textField = _a.textField, index = _a.index;\n        var As = this.props.dataItem.render || this.props.item || (this.props.item === undefined ? this.props.render : null);\n        var text = dataItem.text !== undefined ? dataItem.text :\n            (textField ? dataItem[textField] : dataItem);\n        var iconClass = dataItem.icon ? \"k-icon k-i-\" + dataItem.icon : dataItem.iconClass;\n        return (As && React.createElement(As, { item: dataItem, itemIndex: index })) || ([\n            (iconClass && (React.createElement(\"span\", { className: iconClass, role: \"presentation\", key: \"icon\" }))),\n            (dataItem.imageUrl && (React.createElement(\"img\", { className: \"k-image\", alt: \"\", src: dataItem.imageUrl, role: \"presentation\", key: \"image\" }))),\n            text\n        ]);\n    };\n    return ButtonItem;\n}(React.Component));\nexport default ButtonItem;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nvar SplitButtonItem = /** @class */ (function (_super) {\n    __extends(SplitButtonItem, _super);\n    function SplitButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    SplitButtonItem.prototype.render = function () {\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    SplitButtonItem.propTypes = {\n        text: PropTypes.string,\n        icon: PropTypes.string,\n        iconClass: PropTypes.string,\n        imageUrl: PropTypes.string,\n        disabled: PropTypes.bool,\n        render: PropTypes.any\n    };\n    return SplitButtonItem;\n}(React.Component));\nexport default SplitButtonItem;\n","import { Keys } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar navigate = function (focusedIndex, keyCode, altKey, total) {\n    if (altKey) {\n        return focusedIndex;\n    }\n    switch (keyCode) {\n        case Keys.enter:\n        case Keys.space:\n        case Keys.esc:\n            return -1;\n        case Keys.up:\n        case Keys.left:\n            return Math.max(0, focusedIndex - 1);\n        case Keys.down:\n        case Keys.right:\n            return Math.min(total - 1, focusedIndex + 1);\n        default:\n            return focusedIndex;\n    }\n};\nexport default navigate;\n","/**\n * @hidden\n */\nexport function getAnchorAlign(isDirectionRightToLeft) {\n    var align = { horizontal: 'left', vertical: 'bottom' };\n    if (isDirectionRightToLeft) {\n        align.horizontal = 'right';\n    }\n    return align;\n}\n/**\n * @hidden\n */\nexport function getPopupAlign(isDirectionRightToLeft) {\n    var align = { horizontal: 'left', vertical: 'top' };\n    if (isDirectionRightToLeft) {\n        align.horizontal = 'right';\n    }\n    return align;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Button } from './../main';\nimport { classNames, guid, Keys } from '@progress/kendo-react-common';\nimport { dispatchEvent } from '@progress/kendo-react-common';\nimport ButtonItem from './ButtonItem';\nimport SplitButtonItem from './SplitButtonItem';\nimport navigation from './utils/navigation';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { getAnchorAlign, getPopupAlign } from './utils/popup';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport util from '../util';\nvar styles = util.styles;\n/**\n * Represents the [KendoReact SplitButton component]({% slug overview_splitbutton %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    render() {\n *        return (\n *            <SplitButton text=\"Act\">\n *                <SplitButtonItem text=\"Item1\" />\n *                <SplitButtonItem text=\"Item2\" />\n *                <SplitButtonItem text=\"Item3\" />\n *            </SplitButton>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    function SplitButton(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            focused: false,\n            focusedIndex: -1,\n            opened: false\n        };\n        _this.wrapper = null;\n        _this.mainButton = null;\n        _this.guid = guid();\n        _this.buttonsData = [];\n        _this.onKeyDown = function (event) {\n            var focusedIndex = _this.state.focusedIndex;\n            if (event.altKey) {\n                if (!_this.opened && event.keyCode === Keys.down) {\n                    _this.dispatchPopupEvent(event, true);\n                    _this.setState({ focusedIndex: 0, opened: true });\n                }\n                else if (_this.opened && event.keyCode === Keys.up) {\n                    _this.dispatchPopupEvent(event, false);\n                    _this.setState({ focusedIndex: -1, opened: false });\n                }\n                return;\n            }\n            var newState = undefined;\n            if (event.keyCode === Keys.enter || event.keyCode === Keys.space) {\n                // Prevent default because otherwise when an item is selected\n                // click on the default button gets emitted which opens the popup again.\n                event.preventDefault();\n                _this.dispatchClickEvent(event, focusedIndex);\n                if (focusedIndex >= 0) {\n                    newState = {\n                        focusedIndex: _this.opened ? -1 : 0,\n                        opened: !_this.opened\n                    };\n                    _this.dispatchPopupEvent(event, newState.opened);\n                }\n            }\n            else if (_this.opened && event.keyCode === Keys.esc) {\n                newState = {\n                    focusedIndex: -1,\n                    opened: false\n                };\n                _this.dispatchPopupEvent(event, newState.opened);\n            }\n            if (_this.opened) {\n                var newFocused = navigation(focusedIndex, event.keyCode, event.altKey, _this.buttonsData.length);\n                if (newFocused !== focusedIndex) {\n                    newState = newState || {};\n                    newState.focusedIndex = newFocused;\n                }\n                var arrowKey = event.keyCode === Keys.up || event.keyCode === Keys.down ||\n                    event.keyCode === Keys.left || event.keyCode === Keys.right;\n                if (!event.altKey && arrowKey) {\n                    // Needed to notify the parent listeners that event is handled.\n                    event.preventDefault();\n                }\n            }\n            if (newState) {\n                _this.setState(newState);\n            }\n        };\n        _this.onFocus = function (event) {\n            dispatchEvent(_this.props.onFocus, event, _this, undefined);\n            _this.setState({ focused: true, focusedIndex: -1 });\n        };\n        _this.onItemClick = function (event, clickedItemIndex) {\n            var opened = _this.opened;\n            if (opened) {\n                _this.setState({ focusedIndex: 0, opened: false });\n            }\n            _this.dispatchClickEvent(event, clickedItemIndex);\n            if (opened) {\n                _this.dispatchPopupEvent(event, false);\n            }\n        };\n        _this.onBlur = function (event) {\n            _this.setState({\n                focused: false,\n                focusedIndex: -1,\n                opened: false\n            });\n            dispatchEvent(_this.props.onBlur, event, _this, undefined);\n            if (_this.opened) {\n                _this.dispatchPopupEvent(event, false);\n            }\n        };\n        _this.onSplitPartClick = function (event) {\n            if (_this.buttonsData.length) {\n                var toOpen = !_this.opened;\n                _this.dispatchPopupEvent(event, toOpen);\n                _this.setState({\n                    focusedIndex: toOpen ? 0 : -1,\n                    opened: toOpen,\n                    focused: true\n                });\n            }\n        };\n        _this.onDownSplitPart = function (event) {\n            event.preventDefault();\n            if (_this.element && document.activeElement !== _this.element) {\n                _this.element.focus();\n            }\n        };\n        _this.onItemDown = function (event) {\n            if (document.activeElement === _this.element) {\n                event.preventDefault();\n            }\n        };\n        _this.dispatchPopupEvent = function (dispatchedEvent, open) {\n            dispatchEvent(open ? _this.props.onOpen : _this.props.onClose, dispatchedEvent, _this, undefined);\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(SplitButton.prototype, \"opened\", {\n        get: function () {\n            return this.props.opened === undefined ? this.state.opened : this.props.opened;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    SplitButton.prototype.render = function () {\n        var _this = this;\n        this.buttonsData = this.props.items ||\n            React.Children.toArray(this.props.children)\n                .filter(function (child) { return child && child.type === SplitButtonItem; })\n                .map(function (child) { return child.props; });\n        var rtl = this.isRtl();\n        var dir = rtl ? 'rtl' : undefined;\n        var _a = this.props, tabIndex = _a.tabIndex, disabled = _a.disabled;\n        var focusedIndex = this.state.focusedIndex;\n        return (React.createElement(\"div\", { className: classNames('k-widget', 'k-split-button', 'k-button-group', [styles[\"\" + this.props.look]], {\n                'k-state-focused': this.state.focused\n            }, this.props.className), onKeyDown: this.onKeyDown, onFocus: this.onFocus, onBlur: this.onBlur, dir: dir, ref: function (el) { return _this.wrapper = el; } },\n            React.createElement(Button, { onClick: function (event) { return _this.onItemClick(event, -1); }, disabled: disabled || undefined, tabIndex: tabIndex, accessKey: this.props.accessKey, className: this.props.buttonClass, icon: this.props.icon, iconClass: this.props.iconClass, imageUrl: this.props.imageUrl, look: this.props.look, dir: dir, ref: function (el) { return _this.mainButton = el && el.element; }, type: \"button\", \"aria-disabled\": disabled, \"aria-haspopup\": true, \"aria-expanded\": this.opened, \"aria-label\": this.props.text + \" splitbutton\", \"aria-owns\": this.guid, \"aria-activedescendant\": focusedIndex >= 0 ? this.guid + \"-\" + focusedIndex : undefined }, this.props.text),\n            React.createElement(Button, { icon: \"arrow-s\", disabled: disabled || undefined, tabIndex: -1, look: this.props.look, onClick: this.onSplitPartClick, onMouseDown: this.onDownSplitPart, onPointerDown: this.onDownSplitPart, dir: dir, \"aria-label\": \"menu toggling button\" }),\n            this.renderPopup(rtl)));\n    };\n    /**\n     * @hidden\n     */\n    SplitButton.prototype.componentDidMount = function () {\n        // If this.props.opened is true during the initial render, the popup is not aligned.\n        if ((this.props.dir === undefined && this.isRtl()) || this.opened) {\n            this.forceUpdate();\n        }\n    };\n    Object.defineProperty(SplitButton.prototype, \"element\", {\n        /**\n         * The DOM element of main button.\n         */\n        get: function () {\n            return this.mainButton;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SplitButton.prototype.dispatchClickEvent = function (dispatchedEvent, clickedItemIndex) {\n        if (!this.isItemDisabled(clickedItemIndex)) {\n            if (clickedItemIndex === -1) {\n                dispatchEvent(this.props.onButtonClick, dispatchedEvent, this, undefined);\n            }\n            else {\n                dispatchEvent(this.props.onItemClick, dispatchedEvent, this, {\n                    item: this.buttonsData[clickedItemIndex],\n                    itemIndex: clickedItemIndex\n                });\n            }\n        }\n    };\n    SplitButton.prototype.renderPopup = function (rtl) {\n        var _a = this.props.popupSettings, popupSettings = _a === void 0 ? {} : _a;\n        return (React.createElement(Popup, { anchor: this.wrapper, show: this.opened, animate: popupSettings.animate, popupClass: classNames('k-list-container k-reset k-group', popupSettings.popupClass), anchorAlign: popupSettings.anchorAlign || getAnchorAlign(rtl), popupAlign: popupSettings.popupAlign || getPopupAlign(rtl), style: rtl ? { direction: 'rtl' } : undefined },\n            React.createElement(\"ul\", { className: \"k-list k-reset\", role: \"menu\", id: this.guid }, this.renderChildItems())));\n    };\n    SplitButton.prototype.renderChildItems = function () {\n        var _this = this;\n        var _a = this.props, item = _a.item, itemRender = _a.itemRender, textField = _a.textField;\n        return this.buttonsData.length > 0 ? (this.buttonsData.map(function (dataItem, index) {\n            return (React.createElement(ButtonItem, { dataItem: dataItem, textField: textField, focused: _this.state.focusedIndex === index, onClick: _this.onItemClick, onDown: _this.onItemDown, render: itemRender, item: item, key: index, index: index, id: _this.guid + \"-\" + index }));\n        })) : null;\n    };\n    SplitButton.prototype.isItemDisabled = function (index) {\n        return this.buttonsData[index] ? this.buttonsData[index].disabled : this.props.disabled;\n    };\n    SplitButton.prototype.isRtl = function () {\n        return this.props.dir !== undefined ? this.props.dir === 'rtl' :\n            !!this.wrapper && getComputedStyle(this.wrapper).direction === 'rtl';\n    };\n    /**\n     * @hidden\n     */\n    SplitButton.propTypes = {\n        accessKey: PropTypes.string,\n        onButtonClick: PropTypes.func,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        onItemClick: PropTypes.func,\n        onOpen: PropTypes.func,\n        onClose: PropTypes.func,\n        text: PropTypes.string,\n        items: PropTypes.arrayOf(PropTypes.any),\n        textField: PropTypes.string,\n        tabIndex: PropTypes.number,\n        disabled: PropTypes.bool,\n        icon: PropTypes.string,\n        iconClass: PropTypes.string,\n        imageUrl: PropTypes.string,\n        popupSettings: PropTypes.object,\n        itemRender: PropTypes.any,\n        item: PropTypes.func,\n        look: PropTypes.string,\n        className: PropTypes.string,\n        buttonClass: PropTypes.string,\n        dir: PropTypes.string\n    };\n    return SplitButton;\n}(React.Component));\nexport default SplitButton;\n","/**\n * @hidden\n */\nexport var SELECTION_TYPE;\n(function (SELECTION_TYPE) {\n    SELECTION_TYPE[\"single\"] = \"single\";\n    SELECTION_TYPE[\"multiple\"] = \"multiple\";\n    SELECTION_TYPE[\"none\"] = \"none\";\n})(SELECTION_TYPE || (SELECTION_TYPE = {}));\n/**\n * @hidden\n */\nexport var SELECTION_ACTION;\n(function (SELECTION_ACTION) {\n    SELECTION_ACTION[\"toggle\"] = \"toggle\";\n    SELECTION_ACTION[\"remove\"] = \"remove\";\n})(SELECTION_ACTION || (SELECTION_ACTION = {}));\n/**\n * @hidden\n */\nexport var selectionReducer = function (state, action) {\n    switch (action.selection) {\n        case SELECTION_TYPE.single:\n            switch (action.type) {\n                case SELECTION_ACTION.toggle: {\n                    if (!Array.isArray(state) || state === null) {\n                        return action.payload === state ? null : action.payload;\n                    }\n                    throw new Error('State cannot be an array in single selection');\n                }\n                case SELECTION_ACTION.remove: {\n                    return action.payload === state ? null : state;\n                }\n                default:\n                    return state;\n            }\n        case SELECTION_TYPE.multiple:\n            switch (action.type) {\n                case SELECTION_ACTION.toggle: {\n                    if (Array.isArray(state)) {\n                        return state.some(function (i) { return i === action.payload; })\n                            ? state.filter(function (i) { return i !== action.payload; })\n                            : state.concat([action.payload]);\n                    }\n                    if (state === null) {\n                        return [action.payload];\n                    }\n                    throw new Error('State cannot be non-array in multiple selection');\n                }\n                case SELECTION_ACTION.remove: {\n                    if (Array.isArray(state)) {\n                        return state.some(function (i) { return i === action.payload; })\n                            ? state.filter(function (i) { return i !== action.payload; })\n                            : state.concat([action.payload]);\n                    }\n                    return state;\n                }\n                default:\n                    return state;\n            }\n        case SELECTION_TYPE.none:\n            return null;\n        default:\n            return state;\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nvar DropDownButtonItem = /** @class */ (function (_super) {\n    __extends(DropDownButtonItem, _super);\n    function DropDownButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    DropDownButtonItem.prototype.render = function () {\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    DropDownButtonItem.propTypes = {\n        text: PropTypes.string,\n        icon: PropTypes.string,\n        iconClass: PropTypes.string,\n        imageUrl: PropTypes.string,\n        selected: PropTypes.bool,\n        disabled: PropTypes.bool,\n        render: PropTypes.any\n    };\n    return DropDownButtonItem;\n}(React.Component));\nexport default DropDownButtonItem;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Button } from './../main';\nimport { classNames, guid, Keys } from '@progress/kendo-react-common';\nimport { dispatchEvent } from '@progress/kendo-react-common';\nimport navigation from './utils/navigation';\nimport DropDownButtonItem from './DropDownButtonItem';\nimport ButtonItem from './ButtonItem';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { getAnchorAlign, getPopupAlign } from './utils/popup';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact DropDownButton component]({% slug overview_dropdownbutton %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    render() {\n *        return (\n *            <DropDownButton text=\"Act\">\n *                <DropDownButtonItem text=\"Item1\" />\n *                <DropDownButtonItem text=\"Item2\" />\n *                <DropDownButtonItem text=\"Item3\" />\n *            </DropDownButton>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    function DropDownButton(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            opened: false,\n            focused: false,\n            focusedIndex: -1\n        };\n        _this.wrapper = null;\n        _this.mainButton = null;\n        _this.guid = guid();\n        _this.buttonsData = [];\n        _this.onKeyDown = function (event) {\n            var focusedIndex = _this.state.focusedIndex;\n            if (event.altKey) {\n                if (!_this.opened && event.keyCode === Keys.down) {\n                    _this.dispatchPopupEvent(event, true);\n                    _this.setState({ focusedIndex: 0, opened: true });\n                }\n                else if (_this.opened && event.keyCode === Keys.up) {\n                    _this.dispatchPopupEvent(event, false);\n                    _this.setState({ focusedIndex: -1, opened: false });\n                }\n                return;\n            }\n            var newState = __assign({}, _this.state);\n            if (event.keyCode === Keys.enter || event.keyCode === Keys.space) {\n                if (focusedIndex >= 0) {\n                    _this.dispatchClickEvent(event, focusedIndex);\n                }\n                // Prevent default because otherwise when an item is selected\n                // click on the default button gets emitted which opens the popup again.\n                event.preventDefault();\n                newState.focusedIndex = _this.opened ? -1 : 0,\n                    newState.opened = !_this.opened;\n                _this.dispatchPopupEvent(event, newState.opened);\n            }\n            else if (_this.opened && event.keyCode === Keys.esc) {\n                newState.focusedIndex = -1;\n                newState.opened = false;\n                _this.dispatchPopupEvent(event, newState.opened);\n            }\n            if (_this.opened) {\n                var newFocused = navigation(focusedIndex, event.keyCode, event.altKey, _this.buttonsData.length);\n                newState.focusedIndex = newFocused;\n                var arrowKey = event.keyCode === Keys.up || event.keyCode === Keys.down ||\n                    event.keyCode === Keys.left || event.keyCode === Keys.right;\n                if (!event.altKey && arrowKey) {\n                    // Needed to notify the parent listeners that event is handled.\n                    event.preventDefault();\n                }\n            }\n            _this.setState(newState);\n        };\n        _this.onFocus = function (event) {\n            _this.setState({ focused: true, focusedIndex: _this.opened ? 0 : -1 });\n            dispatchEvent(_this.props.onFocus, event, _this, undefined);\n        };\n        _this.onBlur = function (event) {\n            _this.setState({ focused: false, opened: false, focusedIndex: -1 });\n            dispatchEvent(_this.props.onBlur, event, _this, undefined);\n            var fireCloseEvent = _this.opened;\n            if (fireCloseEvent) {\n                _this.dispatchPopupEvent(event, false);\n            }\n        };\n        _this.onItemClick = function (event, clickedItemIndex) {\n            _this.setState({ focusedIndex: -1, opened: false });\n            _this.dispatchClickEvent(event, clickedItemIndex);\n            _this.dispatchPopupEvent(event, false);\n        };\n        _this.onItemDown = function (event) {\n            if (document.activeElement === _this.element) {\n                event.preventDefault();\n            }\n        };\n        _this.mouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.onClickMainButton = function (event) {\n            if (!_this.buttonsData.length) {\n                return;\n            }\n            var toOpen = !_this.opened;\n            _this.setState({\n                opened: toOpen,\n                focused: true,\n                focusedIndex: toOpen ? 0 : -1\n            });\n            _this.dispatchPopupEvent(event, toOpen);\n        };\n        _this.dispatchPopupEvent = function (dispatchedEvent, open) {\n            dispatchEvent(open ? _this.props.onOpen : _this.props.onClose, dispatchedEvent, _this, undefined);\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(DropDownButton.prototype, \"opened\", {\n        get: function () {\n            return this.props.opened === undefined ? this.state.opened : this.props.opened;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownButton.prototype.render = function () {\n        var _this = this;\n        var rtl = this.isRtl();\n        var dir = rtl ? 'rtl' : undefined;\n        var _a = this.props, tabIndex = _a.tabIndex, disabled = _a.disabled;\n        var focusedIndex = this.state.focusedIndex;\n        this.buttonsData = this.props.items ||\n            React.Children.toArray(this.props.children)\n                .filter(function (child) { return child && child.type === DropDownButtonItem; })\n                .map(function (child) { return child.props; });\n        return (React.createElement(\"div\", { className: classNames('k-widget', 'k-dropdown-button', this.props.className, {\n                'k-state-focused': this.state.focused\n            }), onKeyDown: this.onKeyDown, onFocus: this.onFocus, onBlur: this.onBlur, dir: dir, ref: function (el) { return _this.wrapper = el; } },\n            React.createElement(Button, { onClick: this.onClickMainButton, onMouseDown: this.mouseDown, disabled: disabled || undefined, tabIndex: tabIndex, accessKey: this.props.accessKey, icon: this.props.icon, iconClass: this.props.iconClass, className: this.props.buttonClass, imageUrl: this.props.imageUrl, look: this.props.look, primary: this.props.primary, dir: dir, ref: function (btn) { return _this.mainButton = btn && btn.element; }, type: \"button\", \"aria-disabled\": disabled, \"aria-haspopup\": true, \"aria-expanded\": this.opened, \"aria-label\": this.props.text + \" dropdownbutton\", \"aria-owns\": this.guid, \"aria-activedescendant\": focusedIndex >= 0 ? this.guid + \"-\" + focusedIndex : undefined }, this.props.text),\n            this.renderPopup(rtl)));\n    };\n    /**\n     * @hidden\n     */\n    DropDownButton.prototype.componentDidMount = function () {\n        // If this.props.opened is true during the initial render, the popup is not aligned.\n        if ((this.props.dir === undefined && this.isRtl()) || this.opened) {\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownButton.prototype.componentDidUpdate = function () {\n        if (this.state.focused && this.element) {\n            // firefox in mac does not focus on mouse-down, next line fixes this\n            this.element.focus();\n        }\n    };\n    Object.defineProperty(DropDownButton.prototype, \"element\", {\n        /**\n         * The DOM element of main button.\n         */\n        get: function () {\n            return this.mainButton;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DropDownButton.prototype.dispatchClickEvent = function (dispatchedEvent, index) {\n        if (!this.isItemDisabled(index)) {\n            dispatchEvent(this.props.onItemClick, dispatchedEvent, this, {\n                item: this.buttonsData[index],\n                itemIndex: index\n            });\n        }\n    };\n    DropDownButton.prototype.renderPopup = function (rtl) {\n        var _a = this.props.popupSettings, popupSettings = _a === void 0 ? {} : _a;\n        return (React.createElement(Popup, { anchor: this.wrapper, show: this.opened, animate: popupSettings.animate, popupClass: classNames('k-list-container k-reset k-group', popupSettings.popupClass), anchorAlign: popupSettings.anchorAlign || getAnchorAlign(rtl), popupAlign: popupSettings.popupAlign || getPopupAlign(rtl), style: rtl ? { direction: 'rtl' } : undefined },\n            React.createElement(\"ul\", { className: \"k-list k-reset\", role: \"menu\", id: this.guid }, this.renderChildItems())));\n    };\n    DropDownButton.prototype.renderChildItems = function () {\n        var _this = this;\n        var _a = this.props, item = _a.item, itemRender = _a.itemRender, textField = _a.textField;\n        return this.buttonsData.length > 0 ? (this.buttonsData.map(function (dataItem, index) {\n            return (React.createElement(ButtonItem, { dataItem: dataItem, textField: textField, focused: _this.state.focusedIndex === index, onClick: _this.onItemClick, onDown: _this.onItemDown, render: itemRender, item: item, index: index, key: index, id: _this.guid + \"-\" + index }));\n        })) : null;\n    };\n    DropDownButton.prototype.isItemDisabled = function (index) {\n        return this.buttonsData[index] ? this.buttonsData[index].disabled : this.props.disabled;\n    };\n    DropDownButton.prototype.isRtl = function () {\n        return this.props.dir !== undefined ? this.props.dir === 'rtl' :\n            !!this.wrapper && getComputedStyle(this.wrapper).direction === 'rtl';\n    };\n    /**\n     * @hidden\n     */\n    DropDownButton.propTypes = {\n        accessKey: PropTypes.string,\n        primary: PropTypes.bool,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        onItemClick: PropTypes.func,\n        onOpen: PropTypes.func,\n        onClose: PropTypes.func,\n        items: PropTypes.arrayOf(PropTypes.any),\n        textField: PropTypes.string,\n        tabIndex: PropTypes.number,\n        disabled: PropTypes.bool,\n        icon: PropTypes.string,\n        iconClass: PropTypes.string,\n        imageUrl: PropTypes.string,\n        popupSettings: PropTypes.object,\n        itemRender: PropTypes.func,\n        item: PropTypes.func,\n        look: PropTypes.string,\n        className: PropTypes.string,\n        buttonClass: PropTypes.string,\n        dir: PropTypes.string\n    };\n    return DropDownButton;\n}(React.Component));\nexport default DropDownButton;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { toolbarButtons } from './../util';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact Toolbar component]({% slug overview_toolbar %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    render() {\n *       return (\n *          <Toolbar>\n *              <ToolbarItem>\n *                  <ButtonGroup>\n *                      <Button togglable={true} icon=\"bold\" />\n *                      <Button togglable={true} icon=\"italic\" />\n *                      <Button togglable={true} icon=\"underline\" />\n *                  </ButtonGroup>\n *              </ToolbarItem>\n *              <ToolbarItem>\n *                  <ButtonGroup>\n *                      <Button icon=\"hyperlink\">Insert Link</Button>\n *                      <Button icon=\"image\">Insert Image</Button>\n *                      <Button icon=\"table\">Insert Table</Button>\n *                  </ButtonGroup>\n *              </ToolbarItem>\n *          </Toolbar>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        _this.offsetHeight = 0;\n        _this.offsetWidth = 0;\n        _this.buttons = [];\n        _this.focusedSelector = _this.selectors.map(function (s) { return s + ':focus'; }).join(',');\n        _this.setTabIndex = function (focusedIndex) {\n            var _a = _this.props.tabIndex, tabIndex = _a === void 0 ? Toolbar.defaultProps.tabIndex : _a;\n            _this.buttons.forEach(function (button, index) {\n                button.tabIndex = (index === focusedIndex) ? tabIndex : -1;\n            });\n        };\n        _this.onKeyDown = function (event) {\n            var target = event.target;\n            var arrowKey = event.keyCode === Keys.left || event.keyCode === Keys.right;\n            if (!arrowKey || event.defaultPrevented || _this.buttons.findIndex(function (b) { return b === target; }) === -1) {\n                return;\n            }\n            var focusedIndex = _this.focusedIndex;\n            if (event.keyCode === Keys.left) {\n                _this.focusButton(focusedIndex, focusedIndex - 1);\n            }\n            else {\n                _this.focusButton(focusedIndex, focusedIndex + 1);\n            }\n        };\n        _this.onWindowResize = function (event) {\n            var element = _this.element;\n            if (!element) {\n                return;\n            }\n            var offsetWidth = element.offsetWidth;\n            var offsetHeight = element.offsetHeight;\n            if (_this.offsetWidth !== offsetWidth || _this.offsetHeight !== offsetHeight) {\n                _this.offsetWidth = offsetWidth;\n                _this.offsetHeight = offsetHeight;\n                var newSizes = { offsetWidth: _this.offsetWidth, offsetHeight: _this.offsetHeight };\n                if (_this.props.onResize) {\n                    _this.props.onResize.call(undefined, __assign({ target: _this }, newSizes, { nativeEvent: event }));\n                }\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(Toolbar.prototype, \"selectors\", {\n        get: function () {\n            return this.props.buttons || toolbarButtons;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Toolbar.prototype, \"focusedIndex\", {\n        get: function () {\n            var focused = this.element && this.element.querySelector(this.focusedSelector);\n            return Math.max(0, this.buttons.findIndex(function (e) { return e === focused; }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Toolbar.prototype, \"element\", {\n        /**\n         * Returns the HTML element of the Toolbar component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.componentDidMount = function () {\n        window.addEventListener('resize', this.onWindowResize);\n        var element = this.element;\n        if (element) {\n            this.offsetWidth = element.offsetWidth;\n            this.offsetHeight = element.offsetHeight;\n            if (this.props.keyboardNavigation !== false) {\n                this.buttons = Array.from(element.querySelectorAll(this.selectors.join(',')));\n                this.setTabIndex(0);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.componentDidUpdate = function () {\n        var element = this.element;\n        if (!element || this.props.keyboardNavigation === false) {\n            return;\n        }\n        this.buttons = Array.from(element.querySelectorAll(this.selectors.join(',')));\n        this.setTabIndex(this.focusedIndex);\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.onWindowResize);\n        this.buttons.length = 0;\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"div\", { className: classNames('k-widget k-toolbar', this.props.className), style: this.props.style, role: \"toolbar\", dir: this.props.dir, ref: function (element) { return _this._element = element; }, onKeyDown: this.props.keyboardNavigation !== false ? this.onKeyDown : undefined }, this.props.children));\n    };\n    Toolbar.prototype.focusButton = function (prevIndex, index) {\n        var _a = this.props.tabIndex, tabIndex = _a === void 0 ? Toolbar.defaultProps.tabIndex : _a;\n        var button = this.buttons[index];\n        if (button) {\n            button.tabIndex = tabIndex;\n            button.focus();\n            var prevButton = this.buttons[prevIndex];\n            if (prevButton) {\n                prevButton.tabIndex = -1;\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.propTypes = {\n        tabIndex: PropTypes.number,\n        dir: PropTypes.string,\n        keyboardNavigation: PropTypes.bool,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        onResize: PropTypes.func,\n        buttons: PropTypes.arrayOf(PropTypes.string)\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.defaultProps = {\n        tabIndex: 0\n    };\n    return Toolbar;\n}(React.Component));\nexport default Toolbar;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\n/**\n * Represents the KendoReact ToolbarItem component.\n * To add a tool to the Toolbar, wrap it inside a ToolbarItem component\n * ([see example]({% slug content_toolbar %})).\n */\nvar ToolbarItem = /** @class */ (function (_super) {\n    __extends(ToolbarItem, _super);\n    function ToolbarItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._element = null;\n        return _this;\n    }\n    Object.defineProperty(ToolbarItem.prototype, \"element\", {\n        /**\n         * Returns the HTML element of the ToolbarItem component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ToolbarItem.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"span\", { className: this.props.className, style: this.props.style, ref: function (e) { return _this._element = e; } }, this.props.children));\n    };\n    /**\n     * @hidden\n     */\n    ToolbarItem.propTypes = {\n        className: PropTypes.string\n    };\n    return ToolbarItem;\n}(React.PureComponent));\nexport default ToolbarItem;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport ToolbarItem from './ToolbarItem';\n/**\n * Represents the KendoReact Toolbar Separator component.\n */\nvar ToolbarSeparator = /** @class */ (function (_super) {\n    __extends(ToolbarSeparator, _super);\n    function ToolbarSeparator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    ToolbarSeparator.prototype.render = function () {\n        return (React.createElement(ToolbarItem, { className: \"k-separator\" }));\n    };\n    return ToolbarSeparator;\n}(React.PureComponent));\nexport default ToolbarSeparator;\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * Represents the KendoReact ToolbarSpacer component.\n * To specify an empty space, provide a ToolbarSpacer component\n * ([see example]({% slug content_toolbar %})).\n */\nexport var ToolbarSpacer = React.forwardRef(function (props, ref) {\n    var element = React.useRef(null);\n    var spacer = React.useRef(null);\n    React.useImperativeHandle(spacer, function () { return ({ element: element.current }); });\n    React.useImperativeHandle(ref, function () { return ({ element: element.current }); });\n    var className = React.useMemo(function () { return classNames('k-spacer', props.className); }, [props.className]);\n    return (React.createElement(\"span\", { ref: element, className: className }));\n});\nToolbarSpacer.propTypes = {\n    className: PropTypes.string\n};\n","/**\n * @hidden\n */\nexport var FOCUS_ACTION;\n(function (FOCUS_ACTION) {\n    FOCUS_ACTION[\"next\"] = \"next\";\n    FOCUS_ACTION[\"prev\"] = \"prev\";\n    FOCUS_ACTION[\"current\"] = \"current\";\n    FOCUS_ACTION[\"reset\"] = \"reset\";\n})(FOCUS_ACTION || (FOCUS_ACTION = {}));\n/**\n * @hidden\n */\nexport var focusReducer = function (state, action) {\n    var currentIndex = action.items.findIndex(function (i) { return i === state; });\n    switch (action.type) {\n        case FOCUS_ACTION.next:\n            return currentIndex === action.items.length - 1\n                ? state\n                : action.items[currentIndex + 1];\n        case FOCUS_ACTION.prev:\n            return currentIndex === 0\n                ? state\n                : action.items[currentIndex - 1];\n        case FOCUS_ACTION.current:\n            return action.payload;\n        case FOCUS_ACTION.reset:\n            return null;\n        default:\n            return state;\n    }\n};\n","/**\n * @hidden\n */\nexport var DATA_ACTION;\n(function (DATA_ACTION) {\n    DATA_ACTION[\"remove\"] = \"remove\";\n    DATA_ACTION[\"add\"] = \"add\";\n    DATA_ACTION[\"reorder\"] = \"reorder\";\n})(DATA_ACTION || (DATA_ACTION = {}));\n/**\n * @hidden\n */\nexport var dataReducer = function (state, action) {\n    switch (action.type) {\n        case DATA_ACTION.add:\n            // TODO v2\n            break;\n        case DATA_ACTION.remove:\n            return state.filter(function (i) { return i[action.valueField] !== action.payload; });\n        case DATA_ACTION.reorder:\n            // TODO v2\n            break;\n        default:\n            return state;\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { useDir, getTabIndex, classNames, useMouse } from '@progress/kendo-react-common';\nimport { selectionReducer } from './selection-reducer';\nimport { focusReducer } from './focus-reducer';\nimport { dataReducer } from './data-reducer';\nimport { Chip } from './Chip';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * @hidden\n */\nexport var ChipListSelectionContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nexport var ChipListFocusContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nexport var ChipListDataContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nvar useSelection = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchSelection = function (action) {\n        var newState = selectionReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchSelection];\n};\n/**\n * @hidden\n */\nvar useFocus = function (args) {\n    var _a = React.useState(null), state = _a[0], setState = _a[1];\n    var handleDispatchFocus = function (action) {\n        var newState = focusReducer(action.payload, __assign({}, action, args));\n        setState(newState);\n    };\n    return [state, handleDispatchFocus];\n};\n/**\n * @hidden\n */\nvar useData = function (defaultData, args, callback) {\n    var _a = React.useState(defaultData), state = _a[0], setState = _a[1];\n    var handleDispatchData = function (action) {\n        var newState = dataReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchData];\n};\n/**\n * Represents the ChipList component.\n */\nexport var ChipList = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var chipListRef = React.useRef(null);\n    var dir = useDir(chipListRef, props.dir);\n    var ChipComponent = React.useMemo(function () { return props.chip || Chip; }, [props.chip, Chip]);\n    var selection = React.useMemo(function () { return props.selection || defaultProps.selection; }, [props.selection, defaultProps.selection]);\n    React.useImperativeHandle(target, function () { return ({\n        element: chipListRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleChange = React.useCallback(function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onChange]);\n    var _a = useSelection(props.value || props.defaultValue, {\n        selection: selection,\n        state: props.value\n    }, handleChange), stateValue = _a[0], dispatchStateValue = _a[1];\n    var handleDataChange = React.useCallback(function (newData, event) {\n        if (props.onDataChange && target.current) {\n            props.onDataChange.call(undefined, {\n                value: newData,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onDataChange]);\n    var _b = useData(props.data || props.defaultData || defaultProps.defaultData, {\n        state: props.data,\n        valueField: props.valueField || defaultProps.valueField\n    }, handleDataChange), stateData = _b[0], dispatchData = _b[1];\n    var itemsReducer = React.useCallback(function (acc, current) {\n        acc.push(current[props.valueField || defaultProps.valueField]);\n        return acc;\n    }, [props.valueField, defaultProps.valueField]);\n    var data = React.useMemo(function () { return props.data || stateData; }, [props.data, stateData]);\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var items = React.useMemo(function () { return data.reduce(itemsReducer, []); }, [data, itemsReducer]);\n    var _c = useFocus({ items: items }), focus = _c[0], dispatchFocus = _c[1];\n    var mouseProps = useMouse(props, target);\n    return (React.createElement(ChipListSelectionContext.Provider, { value: [value, dispatchStateValue] },\n        React.createElement(ChipListFocusContext.Provider, { value: [focus, dispatchFocus] },\n            React.createElement(ChipListDataContext.Provider, { value: [data, dispatchData] },\n                React.createElement(\"div\", __assign({ ref: chipListRef }, mouseProps, { role: 'listbox', id: props.id, dir: dir, style: props.style, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-chip-list', {\n                        'k-rtl': dir === 'rtl',\n                        'k-selection-single': selection === 'single',\n                        'k-selection-multiple': selection === 'multiple',\n                        'k-state-disabled': props.disabled\n                    }, props.className), \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy }), data.map(function (item) {\n                    return (React.createElement(ChipComponent, { role: 'option', dataItem: item, key: item[props.valueField || defaultProps.valueField], text: item[props.textField || defaultProps.textField], value: item[props.valueField || defaultProps.valueField] }));\n                }))))));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    tabIndex: PropTypes.number,\n    data: PropTypes.any,\n    defaultData: PropTypes.arrayOf(PropTypes.any),\n    onDataChange: PropTypes.func,\n    value: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n    defaultValue: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n    onChange: PropTypes.func,\n    selection: PropTypes.oneOf(['single', 'none', 'multiple']),\n    textField: PropTypes.string,\n    valueField: PropTypes.string,\n    disabled: PropTypes.bool,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    chip: Chip,\n    disabled: false,\n    defaultValue: null,\n    defaultData: [],\n    dir: 'ltr',\n    selection: 'none',\n    textField: 'text',\n    valueField: 'value',\n    removable: 'removable'\n};\nChipList.displayName = 'KendoReactChipList';\n// TODO: delete casting when @types/react is updated!\nChipList.propTypes = propTypes;\nChipList.defaultProps = defaultProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ChipListSelectionContext, ChipListFocusContext, ChipListDataContext } from './ChipList';\nimport { classNames, useDir, getTabIndex, Keys } from '@progress/kendo-react-common';\nimport { FOCUS_ACTION } from './focus-reducer';\nimport { DATA_ACTION } from './data-reducer';\nimport { SELECTION_ACTION } from './selection-reducer';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { useMouse } from '@progress/kendo-react-common';\n/**\n * Represents the Chip component.\n */\nexport var Chip = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var chipRef = React.useRef(null);\n    var dir = useDir(chipRef, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: chipRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var _a = React.useContext(ChipListSelectionContext), selection = _a[0], dispatchSelection = _a[1];\n    var _b = React.useContext(ChipListFocusContext), focus = _b[0], dispatchFocus = _b[1];\n    var _c = React.useContext(ChipListDataContext), dispatchData = _c[1];\n    var selected = React.useMemo(function () {\n        return (props.selected || (Array.isArray(selection)\n            ? selection.some(function (i) { return i === props.value; })\n            : selection === props.value));\n    }, [props.selected, props.value, selection]);\n    var focused = React.useMemo(function () { return focus === props.value; }, [props.value, focus]);\n    var look = React.useMemo(function () { return props.look || defaultProps.look; }, [props.look]);\n    React.useEffect(function () {\n        if (focused && chipRef.current) {\n            chipRef.current.focus();\n        }\n    }, [focused]);\n    // React.useEffect(() => dispatchItemsContext({type: FOCUS_ACTION.register, payload: target }), []);\n    var handleClick = React.useCallback(function (event) {\n        dispatchSelection({ type: SELECTION_ACTION.toggle, payload: props.value, event: event });\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onClick, dispatchSelection, props.value]);\n    var handleRemove = React.useCallback(function (event) {\n        if (!props.removable) {\n            return;\n        }\n        dispatchData({ type: DATA_ACTION.remove, payload: props.value, event: event });\n        dispatchFocus({ type: FOCUS_ACTION.reset, payload: props.value, event: event });\n        dispatchSelection({ type: SELECTION_ACTION.remove, payload: props.value, event: event });\n        if (props.onRemove) {\n            props.onRemove.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onRemove, props.removable, dispatchData, dispatchFocus, dispatchSelection]);\n    var handleKeyDown = React.useCallback(function (event) {\n        switch (event.keyCode) {\n            case Keys.left:\n                dispatchFocus({ type: FOCUS_ACTION.prev, payload: props.value, event: event });\n                break;\n            case Keys.right:\n                dispatchFocus({ type: FOCUS_ACTION.next, payload: props.value, event: event });\n                break;\n            case Keys.enter:\n                dispatchSelection({ type: SELECTION_ACTION.toggle, payload: props.value, event: event });\n                break;\n            case Keys.delete:\n                handleRemove(event);\n                break;\n            default:\n                break;\n        }\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onKeyDown, dispatchFocus, dispatchSelection, handleRemove]);\n    var handleFocus = React.useCallback(function (event) {\n        dispatchFocus({ payload: props.value, type: FOCUS_ACTION.current, event: event });\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onFocus, dispatchFocus]);\n    var handleBlur = React.useCallback(function (event) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onBlur]);\n    var mouseProps = useMouse(props, target, { onClick: handleClick });\n    return (React.createElement(\"div\", __assign({}, mouseProps, { role: props.role, id: props.value, style: props.style, ref: chipRef, dir: dir, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-chip', {\n            'k-rtl': dir === 'rtl',\n            'k-state-disabled': props.disabled,\n            'k-state-selected': selected,\n            'k-state-focus': focused,\n            'k-chip-success': props.type === 'success',\n            'k-chip-warning': props.type === 'warning',\n            'k-chip-error': props.type === 'error',\n            'k-chip-info': props.type === 'info',\n            'k-chip-has-icon': props.icon,\n            // TODO: remove outlined and filled check once we deprecate them!\n            'k-chip-outline': look === 'outline' || look === 'outlined',\n            'k-chip-solid': look === 'solid' || look === 'filled'\n        }, props.className), \"aria-checked\": selected, \"aria-disabled\": props.disabled, \"aria-describedby\": props.ariaDescribedBy, onFocus: handleFocus, onBlur: handleBlur, onKeyDown: handleKeyDown }),\n        selected && React.createElement(\"span\", { className: 'k-selected-icon-wrapper' },\n            React.createElement(\"span\", { className: \"k-selected-icon k-icon \" + (props.selectedIcon || defaultProps.selectedIcon) })),\n        props.icon && React.createElement(\"span\", { className: \"k-icon k-chip-icon \" + props.icon }),\n        React.createElement(\"span\", { className: 'k-chip-content' }, props.children !== undefined\n            ? props.children\n            : props.text &&\n                React.createElement(\"span\", { \"aria-label\": props.text, className: 'k-chip-label' }, props.text)),\n        props.removable &&\n            React.createElement(\"span\", { className: 'k-remove-icon', onClick: handleRemove },\n                React.createElement(\"span\", { className: \"k-icon \" + props.removeIcon }))));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    text: PropTypes.string,\n    value: PropTypes.any,\n    type: PropTypes.oneOf([\n        'none',\n        'success',\n        'warning',\n        'error',\n        'info'\n    ]),\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    removable: PropTypes.bool,\n    removeIcon: PropTypes.string,\n    disabled: PropTypes.bool,\n    icon: PropTypes.string,\n    selectedIcon: PropTypes.string,\n    look: PropTypes.string,\n    onRemove: PropTypes.func,\n    dataItem: PropTypes.any,\n    selected: PropTypes.bool,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    disabled: false,\n    removable: false,\n    selectedIcon: 'k-i-check',\n    look: 'solid',\n    removeIcon: 'k-i-close-circle',\n    dir: 'ltr'\n};\nChip.displayName = 'KendoReactChip';\n// TODO: delete casting when @types/react is updated!\nChip.propTypes = propTypes;\nChip.defaultProps = defaultProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, getTabIndex } from '@progress/kendo-react-common';\n/**\n * Represents the [KendoReact FloatingActionButtonItem component]({% slug overview_floatingactionbutton %}).\n *\n * @example\n * ```jsx\n *\n * const App = () => {\n *   return (\n *       <FloatingActionButton items={[{icon: 'pencil', text: 'Edit'}, {icon: 'close', text: 'Remove'}] icon: 'plus'} />\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var FloatingActionButtonItem = React.forwardRef(function (props, ref) {\n    var className = props.className, disabled = props.disabled, text = props.text, icon = props.icon, style = props.style, id = props.id, focused = props.focused, tabIndex = props.tabIndex, index = props.index, dataItem = props.dataItem, item = props.item, onDown = props.onDown, onClick = props.onClick, others = __rest(props, [\"className\", \"disabled\", \"text\", \"icon\", \"style\", \"id\", \"focused\", \"tabIndex\", \"index\", \"dataItem\", \"item\", \"onDown\", \"onClick\"]);\n    var elementRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () { return ({\n        element: elementRef.current,\n        focus: focusElement\n    }); }, [focusElement]);\n    React.useImperativeHandle(ref, getImperativeHandle);\n    var handleClick = React.useCallback(function (event) {\n        if (onClick && index !== undefined && !disabled) {\n            onClick(event, index);\n        }\n    }, [onClick, index]);\n    var itemClassNames = React.useMemo(function () { return classNames('k-fab-item', {\n        'k-state-focus': focused,\n        'k-state-disabled': disabled\n    }, className); }, [className, disabled, focused]);\n    var ItemComp = item;\n    return (React.createElement(\"li\", __assign({ ref: elementRef, id: id, className: itemClassNames, style: style, role: 'menuitem', tabIndex: getTabIndex(tabIndex, disabled), \"aria-disabled\": disabled, \"aria-label\": (text || '') + \" floatingactionbutton item\", onClick: handleClick, onMouseDown: onDown, onPointerDown: onDown }, others), ItemComp ? React.createElement(ItemComp, { itemIndex: index, item: dataItem }) :\n        (React.createElement(React.Fragment, null,\n            text && React.createElement(\"span\", { className: \"k-fab-item-text\" }, text),\n            icon && React.createElement(\"span\", { className: classNames(\"k-fab-item-icon k-icon k-i-\" + icon) })))));\n});\nFloatingActionButtonItem.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    children: PropTypes.any,\n    disabled: PropTypes.bool,\n    focused: PropTypes.bool,\n    index: PropTypes.number,\n    icon: PropTypes.string,\n    text: PropTypes.string,\n    tabIndex: PropTypes.number,\n    customProp: PropTypes.any\n};\nFloatingActionButtonItem.displayName = 'KendoFloatingActionButtonItem';\n","/**\n * @hidden\n */\nexport var DEFAULT_OFFSET = '16px';\n/**\n * @hidden\n */\nexport var toStringValues = function (val) {\n    if (typeof val === 'number') {\n        return val + 'px';\n    }\n    return val;\n};\n/**\n * @hidden\n */\nexport var getAnchorAlign = function (fabAlign, rtl) {\n    var align = { horizontal: (rtl ? 'right' : 'left'), vertical: 'bottom' };\n    if (fabAlign.horizontal === 'end') {\n        align.horizontal = rtl ? 'left' : 'right';\n    }\n    return align;\n};\n/**\n * @hidden\n */\nexport var getPopupAlign = function (fabAlign, rtl) {\n    var align = { horizontal: (rtl ? 'right' : 'left'), vertical: 'top' };\n    if (fabAlign.horizontal === 'end') {\n        align.horizontal = rtl ? 'left' : 'right';\n    }\n    return align;\n};\n/**\n * @hidden\n */\nexport var getTextDirectionClass = function (rtl, hAlign) {\n    var al = hAlign === 'end' ? 'end' : 'start';\n    var directions = {\n        rtl: { end: 'k-text-left', start: 'k-text-right' },\n        ltr: { start: 'k-text-left', end: 'k-text-right' }\n    };\n    return directions[rtl][al];\n};\n/**\n * @hidden\n */\nexport var position = function (ref, align, alignOffset, isRtl) {\n    var horizontal = align.horizontal;\n    var vertical = align.vertical;\n    if (ref.current) {\n        var xFab = alignOffset && alignOffset.x !== undefined ?\n            toStringValues(alignOffset.x) :\n            DEFAULT_OFFSET;\n        var xCenterFab = alignOffset && alignOffset.x !== undefined ?\n            \"calc(50% + \" + toStringValues(alignOffset.x) + \")\" :\n            '50%';\n        var yFab = alignOffset && alignOffset.y !== undefined ?\n            toStringValues(alignOffset.y) :\n            DEFAULT_OFFSET;\n        var yCenterFab = alignOffset && alignOffset.y !== undefined ?\n            \"calc(50% + \" + toStringValues(alignOffset.y) + \")\" :\n            '50%';\n        ref.current.style.setProperty(horizontalPosition(align, isRtl), horizontal === 'center' ? xCenterFab : xFab);\n        ref.current.style.setProperty(verticalPosition(align), vertical === 'middle' ? yCenterFab : yFab);\n        if (isRtl) {\n            if ((vertical === 'top' || vertical === 'bottom') && horizontal === 'start') {\n                ref.current.style.setProperty('left', 'unset');\n            }\n            if (vertical === 'middle' && horizontal === 'end') {\n                ref.current.style.setProperty('right', 'unset');\n            }\n            if (vertical === 'middle' && horizontal === 'start') {\n                ref.current.style.setProperty('left', 'unset');\n            }\n        }\n    }\n};\nvar horizontalPosition = function (align, isRtl) {\n    var horizontal = align.horizontal;\n    return {\n        end: isRtl ? 'left' : 'right',\n        center: 'left',\n        start: isRtl ? 'right' : 'left'\n    }[horizontal || 'end'];\n};\nvar verticalPosition = function (align) {\n    return {\n        top: 'top',\n        middle: 'top',\n        bottom: 'bottom'\n    }[align.vertical || 'bottom'];\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { classNames, guid, useDir, dispatchEvent, Keys, getTabIndex } from '@progress/kendo-react-common';\nimport { FloatingActionButtonItem } from './FloatingActionButtonItem';\nimport { packageMetadata } from '../package-metadata';\nimport { position, getAnchorAlign, getPopupAlign, getTextDirectionClass } from './utils';\nimport { Popup } from '@progress/kendo-react-popup';\n/**\n * Represents the [KendoReact FloatingActionButton component]({% slug overview_floatingactionbutton %}).\n *\n * @example\n * ```jsx\n * const App = () => {\n *   return (\n *     <FloatingActionButton icon=\"plus\" text=\"Create\"/>\n *   );\n * };\n *    ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var FloatingActionButton = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var _a = props.align, align = _a === void 0 ? defaultProps.align : _a, alignOffset = props.alignOffset, className = props.className, disabled = props.disabled, icon = props.icon, iconClass = props.iconClass, id = props.id, items = props.items, item = props.item, text = props.text, _b = props.positionMode, positionMode = _b === void 0 ? defaultProps.positionMode : _b, _c = props.shape, shape = _c === void 0 ? defaultProps.shape : _c, _d = props.size, size = _d === void 0 ? defaultProps.size : _d, style = props.style, _e = props.themeColor, themeColor = _e === void 0 ? defaultProps.themeColor : _e, tabIndex = props.tabIndex, accessKey = props.accessKey, _f = props.popupSettings, popupSettings = _f === void 0 ? {} : _f, onClick = props.onClick, onItemClick = props.onItemClick, onFocus = props.onFocus, onBlur = props.onBlur, onKeyDown = props.onKeyDown, onOpen = props.onOpen, onClose = props.onClose, others = __rest(props, [\"align\", \"alignOffset\", \"className\", \"disabled\", \"icon\", \"iconClass\", \"id\", \"items\", \"item\", \"text\", \"positionMode\", \"shape\", \"size\", \"style\", \"themeColor\", \"tabIndex\", \"accessKey\", \"popupSettings\", \"onClick\", \"onItemClick\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onOpen\", \"onClose\"]);\n    var target = React.useRef(null);\n    var elementRef = React.useRef(null);\n    var listRef = React.useRef(null);\n    var popupRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () { return ({\n        element: elementRef.current,\n        focus: focusElement\n    }); }, [focusElement]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var _g = React.useState(false), open = _g[0], setOpen = _g[1];\n    var _h = React.useState(false), focused = _h[0], setFocused = _h[1];\n    var _j = React.useState(-1), focusedIndex = _j[0], setFocusedIndex = _j[1];\n    var buttonId = React.useMemo(function () { return guid(); }, []);\n    var dir = useDir(elementRef, props.dir);\n    var isRtl = dir === 'rtl';\n    var listId = React.useMemo(function () { return guid(); }, []);\n    React.useEffect(function () {\n        position(elementRef, align, alignOffset, isRtl);\n    }, [elementRef, align, alignOffset, isRtl]);\n    React.useEffect(function () {\n        if (focused && elementRef && elementRef.current) {\n            // firefox in mac does not focus on mouse-down, next line fixes this\n            elementRef.current.focus();\n        }\n    }, [focused, elementRef]);\n    var dispatchPopupEvent = React.useCallback(function (dispatchedEvent, isOpen) {\n        if (!items) {\n            return;\n        }\n        dispatchEvent(isOpen ? onOpen : onClose, dispatchedEvent, getImperativeHandle(), undefined);\n    }, [onOpen, onClose, items]);\n    var handleClick = React.useCallback(function (event) {\n        if (!event.target || disabled) {\n            return;\n        }\n        if (!items && onClick) {\n            dispatchEvent(onClick, event, getImperativeHandle(), undefined);\n        }\n        else {\n            setOpen(!open);\n            setFocused(true);\n            setFocusedIndex(!open ? 0 : -1);\n            dispatchPopupEvent(event, !open);\n        }\n    }, [setOpen, setFocused, setFocusedIndex, onClick, dispatchPopupEvent,\n        open, items, disabled]);\n    var handleFocus = React.useCallback(function (event) {\n        setFocused(true);\n        setFocusedIndex(open ? 0 : -1);\n        if (onFocus) {\n            dispatchEvent(onFocus, event, getImperativeHandle(), undefined);\n        }\n    }, [onFocus, setFocused, setFocusedIndex]);\n    var handleBlur = React.useCallback(function (event) {\n        setFocused(false);\n        setOpen(false);\n        setFocusedIndex(-1);\n        dispatchEvent(onBlur, event, getImperativeHandle(), undefined);\n        var fireCloseEvent = open;\n        if (fireCloseEvent) {\n            dispatchPopupEvent(event, false);\n        }\n    }, [onBlur, setFocused, setOpen, setFocusedIndex, dispatchPopupEvent]);\n    var handleMouseDown = React.useCallback(function (event) {\n        event.preventDefault();\n    }, []);\n    var dispatchItemClickEvent = React.useCallback(function (dispatchedEvent, index) {\n        if (!items) {\n            return;\n        }\n        if (!items[index].disabled) {\n            dispatchEvent(onItemClick, dispatchedEvent, getImperativeHandle(), {\n                itemProps: items[index],\n                itemIndex: index\n            });\n        }\n    }, [onItemClick]);\n    var handleItemClick = React.useCallback(function (event, clickedItemIndex) {\n        if (!event.target || !items) {\n            return;\n        }\n        setFocusedIndex(clickedItemIndex);\n        setOpen(false);\n        dispatchItemClickEvent(event, clickedItemIndex);\n        dispatchPopupEvent(event, false);\n    }, [setFocusedIndex, setOpen, dispatchItemClickEvent, dispatchPopupEvent]);\n    var handleItemDown = React.useCallback(function (event) {\n        if (document.activeElement === elementRef.current) {\n            event.preventDefault();\n        }\n    }, [elementRef, document.activeElement]);\n    var handleKeyDown = React.useCallback(function (event) {\n        var currIndex = focusedIndex;\n        var maxNavIndex = items ? items.length - 1 : -1;\n        var isAtBottom = align.vertical === 'bottom';\n        switch (event.keyCode) {\n            case Keys.enter:\n            case Keys.space:\n                if (currIndex >= 0) {\n                    dispatchItemClickEvent(event, currIndex);\n                }\n                event.preventDefault();\n                setOpen(!open);\n                setFocusedIndex(!open ? 0 : -1);\n                break;\n            case Keys.esc:\n                event.preventDefault();\n                setOpen(false);\n                setFocusedIndex(-1);\n                break;\n            case Keys.home:\n                event.preventDefault();\n                setFocusedIndex(0);\n                break;\n            case Keys.end:\n                event.preventDefault();\n                setFocusedIndex(maxNavIndex);\n                break;\n            case Keys.down:\n            case Keys.right:\n                event.preventDefault();\n                if (currIndex < maxNavIndex && !isAtBottom) {\n                    setFocusedIndex(currIndex + 1);\n                }\n                if (currIndex > 0 && isAtBottom) {\n                    setFocusedIndex(currIndex - 1);\n                }\n                break;\n            case Keys.up:\n            case Keys.left:\n                event.preventDefault();\n                if (currIndex > 0 && !isAtBottom) {\n                    setFocusedIndex(currIndex - 1);\n                }\n                if (currIndex < maxNavIndex && isAtBottom) {\n                    setFocusedIndex(currIndex + 1);\n                }\n                break;\n            default:\n                break;\n        }\n        dispatchEvent(onKeyDown, event, getImperativeHandle(), undefined);\n    }, [onKeyDown, focusedIndex, setFocusedIndex, isRtl, setOpen]);\n    var buttonClassNames = React.useMemo(function () { return classNames('k-fab', \"k-fab-\" + themeColor, \"k-fab-\" + shape, {\n        'k-fab-sm': size === 'small',\n        'k-fab-md': size === 'medium',\n        'k-fab-lg': size === 'large',\n        'k-state-disabled': disabled,\n        'k-pos-absolute': positionMode === 'absolute',\n        'k-pos-fixed': positionMode === 'fixed',\n        'k-state-focus': focused\n    }, \"k-\" + align.vertical + \"-\" + align.horizontal, className); }, [themeColor, size, shape, disabled, positionMode, align, focused, className]);\n    var fabItems = (items && (items.map(function (element, index) {\n        return (React.createElement(FloatingActionButtonItem, __assign({}, element, { key: index, index: index, id: listId + \"-\" + index, disabled: disabled || element.disabled, focused: focusedIndex === index, dataItem: element, item: item, className: classNames(element.className, getTextDirectionClass(dir || 'ltr', align.horizontal)), onClick: handleItemClick, onDown: handleItemDown })));\n    })));\n    var isIconFab = icon && !text;\n    var fabWidth = elementRef.current ? elementRef.current.offsetWidth : 0;\n    var iconWidth = 32;\n    var spacing = (fabWidth / 2) - (iconWidth / 2);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"button\", __assign({ ref: elementRef, id: id || buttonId, role: items ? 'menubutton' : 'button', type: 'button', \"aria-disabled\": disabled, \"aria-expanded\": items ? open : undefined, \"aria-haspopup\": items ? true : false, \"aria-label\": (text || '') + \" floatingactionbutton\", \"aria-owns\": items ? listId : undefined, \"aria-activedescendant\": focusedIndex >= 0 && items ? listId + \"-\" + focusedIndex : undefined, tabIndex: getTabIndex(tabIndex, disabled), accessKey: accessKey, dir: dir, disabled: disabled, className: buttonClassNames, style: style, onClick: handleClick, onMouseDown: handleMouseDown, onFocus: handleFocus, onBlur: handleBlur, onKeyDown: handleKeyDown }, others),\n            icon ?\n                React.createElement(\"span\", { role: \"presentation\", className: classNames(\"k-fab-icon k-icon k-i-\" + icon) }) :\n                iconClass ?\n                    React.createElement(\"span\", { role: \"presentation\", className: iconClass }) :\n                    null,\n            text && React.createElement(\"span\", { className: \"k-fab-text\" }, text)),\n        React.createElement(Popup, { ref: popupRef, anchor: elementRef.current, show: open, animate: popupSettings.animate, popupClass: classNames('k-popup-transparent k-fab-popup', popupSettings.popupClass), anchorAlign: popupSettings.anchorAlign || getAnchorAlign(align, isRtl), popupAlign: popupSettings.popupAlign || getPopupAlign(align, isRtl), style: { boxShadow: 'none' } },\n            React.createElement(\"ul\", { ref: listRef, role: 'menu', \"aria-labelledby\": id, id: listId, className: classNames('k-fab-items', {\n                    'k-fab-items-bottom': align.vertical !== 'bottom',\n                    'k-fab-items-top': align.vertical === 'bottom'\n                }), style: {\n                    paddingLeft: isIconFab ? spacing : undefined,\n                    paddingRight: isIconFab ? spacing : undefined\n                } }, fabItems))));\n});\nFloatingActionButton.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    id: PropTypes.string,\n    dir: PropTypes.string,\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    disabled: PropTypes.bool,\n    icon: PropTypes.string,\n    iconClass: PropTypes.string,\n    text: PropTypes.string,\n    alignOffset: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }),\n    align: PropTypes.shape({\n        vertical: PropTypes.oneOf(['top', 'middle', 'bottom']),\n        horizontal: PropTypes.oneOf(['start', 'center', 'end'])\n    }),\n    positionMode: PropTypes.oneOf(['absolute', 'fixed']),\n    shape: PropTypes.oneOf(['rectangle', 'rounded', 'pill']),\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    themeColor: PropTypes.oneOf([\n        'primary', 'secondary', 'tertiary',\n        'info', 'success', 'warning',\n        'error', 'dark', 'light', 'inverse'\n    ])\n};\nvar defaultProps = {\n    align: { vertical: 'bottom', horizontal: 'end' },\n    shape: 'pill',\n    size: 'medium',\n    themeColor: 'primary',\n    positionMode: 'fixed'\n};\nFloatingActionButton.displayName = 'KendoFloatingActionButton';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport { Button } from '@progress/kendo-react-buttons';\nimport * as React from 'react';\n/**\n * The `CalendarHeaderTitle` component is internally used for rendering the title of the current calendar view. Also used as a custom `headerTitle` for the [Calendar]({% slug api_dateinputs_calendarprops %}#toc-headertitle) and the [MultiViewCalendar]({% slug api_dateinputs_multiviewcalendarprops %}#toc-headertitle) components.\n *\n * * [Customizing the title for the current Calendar view]({% slug custom_rendering_calendar %}#toc-cells-inside-the-view)\n * * [Customizing the title for the current MultiViewCalendar view]({% slug custom_rendering_multiviewcalendar %}#toc-cells-inside-the-view)\n */\nvar CalendarHeaderTitle = /** @class */ (function (_super) {\n    __extends(CalendarHeaderTitle, _super);\n    function CalendarHeaderTitle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return\n     * Returns a `<span />` element with the [`value`]({% slug api_dateinputs_calendarheadertitleprops %}#toc-value) of the title as a child.\n     */\n    CalendarHeaderTitle.prototype.render = function () {\n        var _a = this.props, view = _a.view, props = __rest(_a, [\"view\"]);\n        return (React.createElement(Button, __assign({ type: \"button\", look: \"flat\" }, props), this.props.children));\n    };\n    return CalendarHeaderTitle;\n}(React.PureComponent));\nexport { CalendarHeaderTitle };\n","var _a;\n/**\n * @hidden\n */\nexport var prevView = 'multiviewcalendar.prevView';\n/**\n * @hidden\n */\nexport var nextView = 'multiviewcalendar.nextView';\n/**\n * @hidden\n */\nexport var increaseValue = 'dateinput.increment';\n/**\n * @hidden\n */\nexport var decreaseValue = 'dateinput.decrement';\n/**\n * @hidden\n */\nexport var today = 'calendar.today';\n/**\n * @hidden\n */\nexport var toggleCalendar = 'datepicker.toggleCalendar';\n/**\n * @hidden\n */\nexport var swapStartEnd = 'daterangepicker.swapStartEnd';\n/**\n * @hidden\n */\nexport var start = 'daterangepicker.start';\n/**\n * @hidden\n */\nexport var end = 'daterangepicker.end';\n/**\n * @hidden\n */\nexport var separator = 'daterangepicker.separator';\n/**\n * @hidden\n */\nexport var toggleDateTimeSelector = 'datetimepicker.toggleDateTimeSelector';\n/**\n * @hidden\n */\nexport var now = 'timepicker.now';\n/**\n * @hidden\n */\nexport var selectNow = 'timepicker.selectNow';\n/**\n * @hidden\n */\nexport var timePickerCancel = 'timepicker.cancel';\n/**\n * @hidden\n */\nexport var timePickerSet = 'timepicker.set';\n/**\n * @hidden\n */\nexport var toggleTimeSelector = 'timepicker.toggleTimeSelector';\n/**\n * @hidden\n */\nexport var toggleClock = 'timepicker.toggleClock';\n/**\n * @hidden\n */\nexport var date = 'datetimepicker.date';\n/**\n * @hidden\n */\nexport var time = 'datetimepicker.time';\n/**\n * @hidden\n */\nexport var dateTimePickerCancel = 'datetimepicker.cancel';\n/**\n * @hidden\n */\nexport var dateTimePickerSet = 'datetimepicker.set';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[today] = 'TODAY',\n    _a[now] = 'NOW',\n    _a[timePickerSet] = 'Set',\n    _a[timePickerCancel] = 'Cancel',\n    _a[date] = 'Date',\n    _a[time] = 'Time',\n    _a[dateTimePickerCancel] = 'Cancel',\n    _a[dateTimePickerSet] = 'Set',\n    _a[start] = 'Start',\n    _a[end] = 'End',\n    _a[separator] = ' ',\n    _a[selectNow] = 'Select Now',\n    _a[toggleTimeSelector] = 'Toggle TimeSelector',\n    _a[toggleClock] = 'Toggle Clock',\n    _a[increaseValue] = 'Increase value',\n    _a[decreaseValue] = 'Decrease value',\n    _a[toggleCalendar] = 'Toggle calendar',\n    _a[prevView] = 'Navigate to previous view',\n    _a[nextView] = 'Navigate to next view',\n    _a[swapStartEnd] = 'Swap start and end values',\n    _a[toggleDateTimeSelector] = 'Toggle date-time selector',\n    _a);\n","/**\n * @hidden\n */\nexport var MIDNIGHT_DATE = new Date(1980, 0, 1);\n/**\n * @hidden\n */\nexport var MIN_DATE = new Date(1900, 0, 1);\n/**\n * @hidden\n */\nexport var MAX_DATE = new Date(2099, 11, 31);\n/**\n * @hidden\n */\nexport var MIN_TIME = new Date(1980, 0, 1);\n/**\n * @hidden\n */\nexport var MAX_TIME = new Date(1980, 0, 1, 23, 59, 59);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { registerForLocalization } from '@progress/kendo-react-intl';\nimport { classNames } from '@progress/kendo-react-common';\nimport { CalendarHeaderTitle } from './CalendarHeaderTitle';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\n/**\n * @hidden\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.getTitle = function () {\n            if (!_this.props.currentDate) {\n                return '';\n            }\n            var take = _this.rangeLength - 1;\n            var title = _this.props.service.title(_this.props.currentDate);\n            var nextDate = _this.props.service.addToDate(_this.props.currentDate, take);\n            if (take < 1 || !_this.props.service.isInRange(nextDate, _this.min, _this.max)) {\n                return title;\n            }\n            return title + \" - \" + _this.props.service.title(nextDate);\n        };\n        _this.handleTitleClick = function (event) {\n            if (!_this.canMoveUp) {\n                return;\n            }\n            _this.props.bus.moveUp(_this.props.activeView, event);\n        };\n        return _this;\n    }\n    Object.defineProperty(Header.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : Header.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Header.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : Header.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Header.prototype, \"rangeLength\", {\n        get: function () {\n            return this.props.rangeLength !== undefined ? this.props.rangeLength : Header.defaultProps.rangeLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Header.prototype, \"canMoveUp\", {\n        get: function () {\n            return this.props.bus.canMoveUp(this.props.activeView);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Header.prototype.render = function () {\n        var title = this.getTitle();\n        var titleClassNames = classNames('k-calendar-title');\n        var headerTitleProps = {\n            children: title,\n            value: title,\n            view: this.props.activeView,\n            className: titleClassNames,\n            onClick: this.handleTitleClick,\n            disabled: !this.canMoveUp\n        };\n        var headerTitle = this.props.headerTitle\n            ? React.createElement(this.props.headerTitle, __assign({}, headerTitleProps), title)\n            : React.createElement(CalendarHeaderTitle, __assign({}, headerTitleProps), title);\n        return (React.createElement(\"div\", { className: \"k-calendar-header k-hstack\" },\n            headerTitle,\n            React.createElement(\"span\", { className: \"k-spacer\" }),\n            React.createElement(\"span\", { className: \"k-calendar-nav k-hstack\" }, this.props.commands)));\n    };\n    Header.propTypes = {\n        activeView: PropTypes.number.isRequired,\n        currentDate: PropTypes.instanceOf(Date).isRequired,\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        rangeLength: PropTypes.number\n    };\n    Header.defaultProps = {\n        rangeLength: 1,\n        min: MIN_DATE,\n        max: MAX_DATE\n    };\n    return Header;\n}(React.Component));\nexport { Header };\nregisterForLocalization(Header);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { classNames } from '@progress/kendo-react-common';\nimport { getDate } from '@progress/kendo-date-math';\nimport { messages, today } from '../../messages';\nimport { dateInRange, getToday, isInRange } from '../../utils';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\nvar TodayCommand = /** @class */ (function (_super) {\n    __extends(TodayCommand, _super);\n    function TodayCommand() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (syntheticEvent) {\n            if (!_this.todayIsInRange) {\n                return;\n            }\n            if (_this.props.onClick) {\n                _this.props.onClick.call(undefined, {\n                    syntheticEvent: syntheticEvent,\n                    nativeEvent: syntheticEvent.nativeEvent,\n                    value: dateInRange(getToday(), _this.min, _this.max),\n                    target: _this,\n                    isTodayClick: true\n                });\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(TodayCommand.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : TodayCommand.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodayCommand.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : TodayCommand.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodayCommand.prototype, \"todayIsInRange\", {\n        get: function () {\n            return isInRange(getToday(), getDate(this.min), getDate(this.max));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodayCommand.prototype.render = function () {\n        this.localization = provideLocalizationService(this);\n        var todayMessage = this.localization.toLanguageString(today, messages[today]);\n        var todayClassNames = classNames('k-nav-today', {\n            'k-state-disabled': this.props.disabled\n        });\n        return (React.createElement(\"span\", { className: todayClassNames, onClick: this.handleClick }, todayMessage));\n    };\n    TodayCommand.propTypes = {\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        onClick: PropTypes.func,\n        disabled: PropTypes.bool\n    };\n    TodayCommand.defaultProps = {\n        min: MIN_DATE,\n        max: MAX_DATE\n    };\n    return TodayCommand;\n}(React.Component));\nexport { TodayCommand };\nregisterForLocalization(TodayCommand);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { cloneDate, getDate, isEqualDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService } from '@progress/kendo-react-intl';\nimport { Virtualization } from '../../virtualization/Virtualization';\nimport { View } from './View';\nimport { Header } from './Header';\nimport { dateInRange, getToday, isInRange, shiftWeekNames } from '../../utils';\nimport { CalendarViewEnum } from '../models';\nimport { TodayCommand } from './TodayCommand';\nvar VIEWS_COUNT = 5;\n/**\n * @hidden\n */\nvar ViewList = /** @class */ (function (_super) {\n    __extends(ViewList, _super);\n    function ViewList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.isActive = false;\n        _this.animateToIndex = true;\n        _this.shouldScroll = false;\n        _this.focusActiveDate = function () {\n            if (!_this._element) {\n                return;\n            }\n            var focusedCell = _this._element.querySelector('td.k-state-focused');\n            var nextActiveCell = _this._element.querySelector('.k-state-pending-focus');\n            if (focusedCell && focusedCell[0]) {\n                focusedCell[0].classList.remove('k-state-focused');\n            }\n            if (nextActiveCell) {\n                nextActiveCell.classList.add('k-state-focused');\n            }\n            _this.isActive = true;\n        };\n        _this.blurActiveDate = function () {\n            if (!_this._element) {\n                return;\n            }\n            var focusedCell = _this._element.querySelector('td.k-state-focused');\n            if (focusedCell) {\n                focusedCell.classList.remove('k-state-focused');\n            }\n            _this.isActive = false;\n        };\n        _this.handleVirtualizationMount = function (virtualization) {\n            _this.virtualization = virtualization;\n            if (_this.virtualization && _this.table) {\n                _this.table.style.transform = \"translateY(\" + _this.viewOffset + \"px)\";\n                var viewDate = dateInRange(_this.props.focusedDate, _this.props.min, _this.props.max);\n                var indexToScroll = _this.props.service.skip(viewDate, _this.props.min);\n                _this.virtualization.scrollToIndex(indexToScroll);\n            }\n        };\n        _this.buildMonthView = function (cols, weekNames) {\n            return (React.createElement(\"table\", { key: \"calendar-view-list-weekdays\", className: \"k-calendar-table k-calendar-weekdays\" },\n                React.createElement(\"colgroup\", null, cols.map(function (_, idx) { return (React.createElement(\"col\", { key: idx })); })),\n                React.createElement(\"thead\", { className: \"k-calendar-thead\" },\n                    React.createElement(\"tr\", { className: \"k-calendar-tr\" }, weekNames.map(function (name, idx) { return (React.createElement(\"th\", { key: idx, className: \"k-calendar-th\" }, name)); })))));\n        };\n        _this.buildDates = function (cols, dates) {\n            var cellUID = _this.props.cellUID;\n            return (React.createElement(\"table\", { className: \"k-calendar-table\", ref: function (table) { return _this.table = table; } },\n                React.createElement(\"colgroup\", null, cols.map(function (_, idx) { return (React.createElement(\"col\", { key: idx })); })),\n                dates.map(function (date) { return (React.createElement(View, { ref: function (el) { if (!_this.calendarView) {\n                        _this.calendarView = el;\n                    } }, key: date.getTime(), activeView: _this.props.activeView, viewDate: date, min: _this.props.min, max: _this.props.max, cellUID: cellUID, focusedDate: _this.props.focusedDate, cell: _this.props.cell, selectedDate: _this.props.value, showWeekNumbers: _this.weekNumber, onChange: _this.handleDateChange, bus: _this.props.bus, service: _this.props.service, weekCell: _this.props.weekCell })); })));\n        };\n        _this.calculateHeights = function () {\n            if (!_this.props.dom) {\n                return;\n            }\n            var scrollableHeight = _this.props.activeView === CalendarViewEnum.month ?\n                _this.props.dom.scrollableContentHeight :\n                _this.props.dom.scrollableYearContentHeight;\n            _this.bottomOffset = scrollableHeight - _this.props.dom.viewHeight(_this.props.activeView);\n            _this.viewOffset = -1 * _this.props.dom.headerHeight;\n            _this.viewHeight = _this.props.dom.viewHeight(_this.props.activeView) || 1;\n        };\n        _this.getTake = function (skip, total) {\n            return Math.min(total - skip, _this.take);\n        };\n        _this.handleScrollAction = function (_a) {\n            var index = _a.index, scrollAction = _a.scrollAction, pageAction = _a.pageAction;\n            var skip = pageAction ? pageAction.skip : _this.state.skip;\n            if (_this.state.index !== index || _this.state.skip !== skip) {\n                _this.setState({ index: index, skip: skip });\n            }\n            if (_this.table && scrollAction) {\n                var translate = \"translateY(\" + scrollAction.offset + \"px)\";\n                _this.table.style.transform = translate;\n            }\n        };\n        _this.handleTodayClick = function (event) {\n            _this.shouldScroll = true;\n            _this.handleDateChange.call(undefined, event, true);\n        };\n        _this.handleDateChange = function (event, isTodayClick) {\n            if (isTodayClick === void 0) { isTodayClick = false; }\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: cloneDate(event.value),\n                    target: _this,\n                    isTodayClick: isTodayClick\n                };\n                onChange.call(undefined, args);\n            }\n        };\n        _this.lastView = _this.props.activeView;\n        _this.lastFocus = _this.props.focusedDate;\n        _this.state = {\n            skip: _this.props.service.skip(_this.props.focusedDate, _this.props.min),\n            index: _this.props.service.skip(_this.props.focusedDate, _this.props.min)\n        };\n        return _this;\n    }\n    Object.defineProperty(ViewList.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ViewList.prototype, \"weekNames\", {\n        get: function () {\n            this.intl = provideIntlService(this);\n            var weekNames = shiftWeekNames(this.intl.dateFormatNames({ nameType: 'short', type: 'days' }), this.intl.firstDay());\n            return this.weekNumber ? [''].concat(weekNames) : weekNames;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ViewList.prototype, \"weekNumber\", {\n        get: function () {\n            return Boolean(this.props.showWeekNumbers && this.props.activeView === CalendarViewEnum.month);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ViewList.prototype, \"take\", {\n        get: function () {\n            return this.props.take !== undefined ? this.props.take : ViewList.defaultProps.take;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ViewList.prototype, \"animate\", {\n        get: function () {\n            return Boolean(this.props.smoothScroll && this.animateToIndex);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ViewList.prototype, \"todayIsInRange\", {\n        get: function () {\n            return isInRange(getToday(), getDate(this.props.min), getDate(this.props.max));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ViewList.prototype.componentDidUpdate = function (_prevProps, _prevState) {\n        this.shouldScroll = false;\n        if (this.indexToScroll !== undefined && this.virtualization) {\n            this.virtualization[this.animate ? 'animateToIndex' : 'scrollToIndex'](this.indexToScroll);\n        }\n        if (this.isActive) {\n            this.focusActiveDate();\n        }\n        this.lastView = this.props.activeView;\n        // this.lastFocus = this.props.focusedDate;\n        this.indexToScroll = undefined;\n    };\n    ViewList.prototype.render = function () {\n        var _this = this;\n        this.calculateHeights();\n        var didViewChange = this.lastView !== this.props.activeView;\n        var focusedDate = dateInRange(this.props.focusedDate, this.props.min, this.props.max);\n        var skip = !didViewChange ? this.state.skip : this.props.service.skip(focusedDate, this.props.min);\n        var total = this.props.service.total(this.props.min, this.props.max);\n        var take = this.getTake(skip, total);\n        var viewDate = this.props.service.addToDate(this.props.min, skip);\n        var activeDate = this.props.service.addToDate(this.props.min, this.state.index);\n        var cols = new Array(this.props.service.rowLength(this.weekNumber)).fill('');\n        var didViewChanged = this.props.activeView !== this.lastView;\n        this.animateToIndex = !didViewChanged;\n        if (didViewChanged\n            || !isEqualDate(this.lastFocus, focusedDate)\n            || this.shouldScroll\n            || (!this.props.shouldScroll || this.props.shouldScroll())) {\n            this.indexToScroll = this.props.service.skip(focusedDate, this.props.min);\n        }\n        this.lastFocus = focusedDate;\n        var rootClassNames = classNames('k-calendar-view k-vstack', {\n            'k-calendar-monthview': this.props.activeView === CalendarViewEnum.month,\n            'k-calendar-yearview': this.props.activeView === CalendarViewEnum.year,\n            'k-calendar-decadeview': this.props.activeView === CalendarViewEnum.decade,\n            'k-calendar-centuryview': this.props.activeView === CalendarViewEnum.century\n        });\n        var dates = this.buildDates(cols, this.props.service.datesList(viewDate, take));\n        var viewListBody = (React.createElement(React.Fragment, null,\n            React.createElement(Header, { key: \"calendar-view-list-header\", currentDate: activeDate, min: this.props.min, max: this.props.max, activeView: this.props.activeView, bus: this.props.bus, service: this.props.service, headerTitle: this.props.headerTitle, commands: (React.createElement(React.Fragment, null,\n                    React.createElement(TodayCommand, { min: this.props.min, max: this.props.max, onClick: this.handleTodayClick, disabled: !this.todayIsInRange }))) }),\n            this.props.activeView === CalendarViewEnum.month && this.buildMonthView(cols, this.weekNames),\n            React.createElement(Virtualization, { key: \"calendar-view-list-content\", skip: skip, take: this.take, total: total, itemHeight: this.viewHeight, topOffset: this.viewOffset, bottomOffset: this.bottomOffset, scrollOffsetSize: this.viewOffset, maxScrollDifference: this.viewHeight, onScroll: this.props.onScroll, onScrollAction: this.handleScrollAction, onMount: this.handleVirtualizationMount, children: dates })));\n        return (React.createElement(\"div\", { ref: function (el) { _this._element = el; }, className: rootClassNames }, this.props.dom.didCalculate ? viewListBody : null));\n    };\n    ViewList.propTypes = {\n        activeView: PropTypes.number.isRequired,\n        bottomOffset: PropTypes.number,\n        cellUID: PropTypes.string.isRequired,\n        focusedDate: PropTypes.instanceOf(Date).isRequired,\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        onChange: PropTypes.func,\n        showWeekNumbers: PropTypes.bool,\n        smoothScroll: PropTypes.bool,\n        take: PropTypes.number,\n        value: PropTypes.instanceOf(Date),\n        viewHeight: PropTypes.number,\n        viewOffset: PropTypes.number\n    };\n    ViewList.defaultProps = {\n        take: VIEWS_COUNT,\n        showWeekNumbers: false,\n        smoothScroll: true\n    };\n    return ViewList;\n}(React.Component));\nexport { ViewList };\nregisterForIntl(ViewList);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * The `CalendarNavigationItem` component is internally used for rendering the items in the side navigation of the Calendar. Also used as a custom navigation item for the [Calendar]({% slug api_dateinputs_calendarprops %}#toc-navigationitem) ([see example]({% slug custom_rendering_calendar %}#toc-items-in-the-side-navigation)).\n */\nvar CalendarNavigationItem = /** @class */ (function (_super) {\n    __extends(CalendarNavigationItem, _super);\n    function CalendarNavigationItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            var _a = _this.props, onClick = _a.onClick, value = _a.value;\n            if (onClick) {\n                onClick.call(undefined, value, event);\n            }\n        };\n        return _this;\n    }\n    /**\n     * @return\n     * Returns a `<li />` element with a `<span />` inside. The text inside represents the [`value`]({% slug api_dateinputs_calendarnavigationitemprops %}#toc-value) of the `navigationItem`.\n     */\n    CalendarNavigationItem.prototype.render = function () {\n        var _a = this.props, isRangeStart = _a.isRangeStart, value = _a.value, text = _a.text, other = __rest(_a, [\"isRangeStart\", \"value\", \"text\"]);\n        return (React.createElement(\"li\", __assign({}, other, { onClick: this.handleClick }),\n            React.createElement(\"span\", { className: classNames({ 'k-calendar-navigation-marker': isRangeStart }) }, this.props.children)));\n    };\n    return CalendarNavigationItem;\n}(React.Component));\nexport { CalendarNavigationItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate, isEqual } from '@progress/kendo-date-math';\nimport { CalendarNavigationItem } from './CalendarNavigationItem';\nimport { dateInRange } from '../../utils';\nimport { Virtualization } from '../../virtualization/Virtualization';\nvar ITEMS_COUNT = 30;\n/**\n * @hidden\n */\nvar Navigation = /** @class */ (function (_super) {\n    __extends(Navigation, _super);\n    function Navigation(props) {\n        var _this = _super.call(this, props) || this;\n        _this.topOffset = 0;\n        _this.handleVirtualizationMount = function (virtualization) {\n            _this.virtualization = virtualization;\n            if (_this.virtualization && _this.list) {\n                _this.list.style.transform = \"translateY(\" + _this.topOffset + \"px)\";\n                var viewDate = dateInRange(_this.props.focusedDate, _this.props.min, _this.props.max);\n                var indexToScroll = _this.props.service.skip(viewDate, _this.props.min);\n                _this.virtualization.scrollToIndex(indexToScroll);\n            }\n        };\n        _this.buildNavigationItem = function (date) {\n            var text = _this.props.service.navigationTitle(date);\n            var isRangeStart = _this.props.service.isRangeStart(date);\n            var uniqueID = \"kendo-react-calendar-nav-item-\" + date.getTime();\n            var navigationItemProps = {\n                text: text,\n                value: date,\n                isRangeStart: isRangeStart,\n                view: _this.props.activeView,\n                onClick: _this.handleDateChange\n            };\n            return _this.props.navigationItem\n                ? (React.createElement(_this.props.navigationItem, __assign({}, navigationItemProps, { key: uniqueID }), text))\n                : (React.createElement(CalendarNavigationItem, __assign({}, navigationItemProps, { key: uniqueID }), text));\n        };\n        _this.calculateHeights = function () {\n            var calendarHeight = _this.props.dom.calendarHeight;\n            _this.itemHeight = _this.props.dom.navigationItemHeight || 1;\n            _this.maxViewHeight = _this.props.dom.monthViewHeight;\n            _this.topOffset = (calendarHeight - _this.itemHeight) / 2;\n            _this.bottomOffset = calendarHeight - _this.itemHeight;\n        };\n        _this.handleDateChange = function (value, event) {\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    value: cloneDate(value),\n                    target: _this,\n                    nativeEvent: event && event.nativeEvent,\n                    syntheticEvent: event\n                };\n                onChange.call(undefined, args);\n            }\n        };\n        _this.handleScrollAction = function (_a) {\n            var scrollAction = _a.scrollAction, pageAction = _a.pageAction;\n            var skip = pageAction ? pageAction.skip : _this.state.skip;\n            if (_this.state.skip !== skip) {\n                _this.setState({ skip: skip });\n            }\n            if (_this.list && scrollAction) {\n                var translate = \"translateY(\" + scrollAction.offset + \"px)\";\n                _this.list.style.transform = translate;\n            }\n        };\n        _this.lastView = _this.props.activeView;\n        _this.lastFocus = _this.props.focusedDate;\n        var skip = _this.props.service.skip(_this.props.focusedDate, _this.props.min);\n        var total = _this.props.service.total(_this.props.min, _this.props.max);\n        _this.state = {\n            skip: (skip - _this.getTake(skip, total) > 0) ? skip : 0\n        };\n        return _this;\n    }\n    Object.defineProperty(Navigation.prototype, \"take\", {\n        get: function () {\n            return this.props.take !== undefined\n                ? this.props.take\n                : Navigation.defaultProps.take;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Navigation.prototype.componentDidUpdate = function (_prevProps, _prevState) {\n        if (this.indexToScroll !== undefined && this.virtualization) {\n            this.virtualization.scrollToIndex(this.indexToScroll);\n        }\n        this.lastView = this.props.activeView;\n        this.lastFocus = this.props.focusedDate;\n        this.indexToScroll = undefined;\n    };\n    Navigation.prototype.render = function () {\n        var _this = this;\n        this.calculateHeights();\n        var didViewChange = this.lastView !== this.props.activeView;\n        var focusedDate = dateInRange(this.props.focusedDate, this.props.min, this.props.max);\n        var skip = !didViewChange ? this.state.skip : this.props.service.skip(focusedDate, this.props.min);\n        var total = this.props.service.total(this.props.min, this.props.max);\n        var take = this.getTake(skip, total);\n        var viewDate = this.props.service.addToDate(this.props.min, skip);\n        var dates = this.props.service.datesList(viewDate, take);\n        if (this.props.activeView !== this.lastView\n            || !isEqual(focusedDate, this.lastFocus)) {\n            this.indexToScroll = this.props.service.skip(focusedDate, this.props.min);\n        }\n        var navigationBody = (React.createElement(Virtualization, { skip: skip, take: this.take, total: total, itemHeight: this.itemHeight, topOffset: this.topOffset, bottomOffset: this.bottomOffset, onScroll: this.props.onScroll, maxScrollDifference: this.maxViewHeight, onScrollAction: this.handleScrollAction, onMount: this.handleVirtualizationMount },\n            React.createElement(\"ul\", { ref: function (el) { _this.list = el; }, className: \"k-reset\" }, dates.map(function (date) { return (_this.buildNavigationItem(date)); }))));\n        return (React.createElement(\"div\", { className: \"k-calendar-navigation\" },\n            React.createElement(\"span\", { className: \"k-calendar-navigation-highlight\" }),\n            this.props.dom.didCalculate ? navigationBody : null));\n    };\n    Navigation.prototype.getTake = function (skip, total) {\n        return Math.min(total - skip, this.take);\n    };\n    Navigation.propTypes = {\n        activeView: PropTypes.number.isRequired,\n        focusedDate: PropTypes.instanceOf(Date).isRequired,\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        onChange: PropTypes.func,\n        take: PropTypes.number\n    };\n    Navigation.defaultProps = {\n        take: ITEMS_COUNT\n    };\n    return Navigation;\n}(React.Component));\nexport { Navigation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, guid, Keys } from '@progress/kendo-react-common';\nimport { cloneDate, getDate, isEqualDate } from '@progress/kendo-date-math';\nimport { provideIntlService, registerForIntl } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../../package-metadata';\nimport { ViewList } from './ViewList';\nimport { Navigation } from './Navigation';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\nimport { CalendarViewEnum } from '../models';\nimport { getToday, dateInRange, isInRange, viewInRange } from '../../utils';\nimport { BusViewService, DOMService, ScrollSyncService, NavigationService } from '../services';\nvar virtualizationProp = function (x) { return x ? x.virtualization : null; };\nvar calculateValue = function (min, max, stateValue, propValue) {\n    if (min === void 0) { min = Calendar.defaultProps.min; }\n    if (max === void 0) { max = Calendar.defaultProps.max; }\n    return propValue !== undefined\n        ? propValue !== null && isInRange(getDate(propValue), min, max)\n            ? propValue\n            : null\n        : stateValue !== null && isInRange(getDate(stateValue), min, max)\n            ? stateValue\n            : null;\n};\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(props) {\n        var _this = _super.call(this, props) || this;\n        _this.cellUID = guid();\n        _this.id = guid();\n        _this.isActive = false;\n        _this.didNavigationChange = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        _this.shouldScroll = function () { return _this.didNavigationChange; };\n        _this.handleScroll = function (event) {\n            if (!_this.scrollSyncService) {\n                return;\n            }\n            _this.scrollSyncService.sync(virtualizationProp(_this.Navigation), virtualizationProp(_this.calendarViewList), event);\n        };\n        _this.handleNavigationChange = function (event) {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.didNavigationChange = true;\n            var focusedDate = cloneDate(event.value);\n            _this.setState({ focusedDate: focusedDate });\n        };\n        _this.handleViewChange = function (_a) {\n            var view = _a.view;\n            _this.scrollSyncService.configure(view);\n            _this.setState({ activeView: view });\n        };\n        _this.handleDateChange = function (event) {\n            var value = cloneDate(event.value);\n            var focusedDate = cloneDate(event.value);\n            var canNavigateDown = _this.bus.canMoveDown(_this.state.activeView);\n            if (_this.props.disabled) {\n                return;\n            }\n            if (canNavigateDown) {\n                if (event.isTodayClick) {\n                    _this.bus.moveToBottom(_this.state.activeView);\n                }\n                else {\n                    _this.bus.moveDown(_this.state.activeView, event.syntheticEvent);\n                    _this.setState({ focusedDate: focusedDate });\n                    return;\n                }\n            }\n            _this.setState({ value: value, focusedDate: focusedDate });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: value,\n                    target: _this\n                };\n                onChange.call(undefined, args);\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        _this.handleFocus = function (event) {\n            _this.isActive = true;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.focusActiveDate();\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            _this.isActive = false;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.blurActiveDate();\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.enter) {\n                if (_this.value !== null\n                    && isEqualDate(_this.focusedDate, _this.value)) {\n                    var viewDate = dateInRange(_this.focusedDate, _this.min, _this.max);\n                    virtualizationProp(_this.calendarViewList).scrollToIndex(_this.service.skip(viewDate, _this.min));\n                }\n                var args = {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.focusedDate,\n                    target: _this\n                };\n                _this.handleDateChange.call(undefined, args);\n            }\n            else {\n                var candidate = dateInRange(_this.navigation.move(_this.focusedDate, _this.navigation.action(event), _this.state.activeView, _this.service, event), _this.min, _this.max);\n                if (isEqualDate(_this.focusedDate, candidate)) {\n                    return;\n                }\n                _this.setState({ focusedDate: candidate });\n            }\n            event.preventDefault();\n        };\n        _this.handleMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleClick = function (_) {\n            if (_this._element) {\n                _this._element.focus({ preventScroll: true });\n            }\n        };\n        validatePackage(packageMetadata);\n        var value = calculateValue(_this.min, _this.max, _this.props.defaultValue || Calendar.defaultProps.defaultValue, _this.props.value);\n        _this.state = {\n            value: value,\n            activeView: viewInRange(CalendarViewEnum[props.defaultActiveView], _this.bottomView, _this.topView),\n            focusedDate: dateInRange(props.focusedDate\n                || value\n                || getToday(), _this.min, _this.max)\n        };\n        _this.dom = new DOMService();\n        _this.bus = new BusViewService(_this.handleViewChange);\n        _this.navigation = new NavigationService(_this.bus);\n        _this.oldValue = value;\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the Calendar.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Calendar.prototype, \"value\", {\n        /**\n         * Gets the value of the Calendar.\n         */\n        get: function () {\n            return this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Calendar.prototype, \"min\", {\n        get: function () {\n            return getDate(this.props.min !== undefined\n                ? this.props.min\n                : Calendar.defaultProps.min);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Calendar.prototype, \"max\", {\n        get: function () {\n            return getDate(this.props.max !== undefined\n                ? this.props.max\n                : Calendar.defaultProps.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Calendar.prototype, \"bottomView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.bottomView !== undefined\n                ? this.props.bottomView\n                : Calendar.defaultProps.bottomView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Calendar.prototype, \"topView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.topView !== undefined\n                ? this.props.topView\n                : Calendar.defaultProps.topView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Calendar.prototype.componentDidMount = function () {\n        var _this = this;\n        // Async calculation of height to avoid animation cancellation\n        Promise.resolve().then(function () {\n            if (!_this._element) {\n                return;\n            }\n            _this.dom.calculateHeights(_this._element);\n            _this.scrollSyncService = new ScrollSyncService(_this.dom);\n            _this.scrollSyncService.configure(_this.state.activeView);\n            _this.forceUpdate();\n        });\n    };\n    /**\n     * @hidden\n     */\n    Calendar.prototype.componentDidUpdate = function (_, prevState) {\n        if (prevState.activeView !== this.state.activeView) {\n            this.scrollSyncService.configure(this.state.activeView);\n        }\n        if (this.calendarViewList) {\n            (this.isActive ? this.calendarViewList.focusActiveDate : this.calendarViewList.blurActiveDate)();\n        }\n        this.didNavigationChange = false;\n        this.oldValue = this.value;\n    };\n    /**\n     * @hidden\n     */\n    Calendar.prototype.render = function () {\n        var _this = this;\n        if (this.props._ref) {\n            this.props._ref(this);\n        }\n        var didValueChange = this.value !== null && this.oldValue !== null\n            ? !isEqualDate(this.value, this.oldValue)\n            : this.value !== this.oldValue;\n        var activeView = viewInRange(this.state.activeView, CalendarViewEnum[this.props.bottomView !== undefined\n            ? this.props.bottomView\n            : Calendar.defaultProps.bottomView], CalendarViewEnum[this.props.topView !== undefined\n            ? this.props.topView\n            : Calendar.defaultProps.topView]);\n        var value = calculateValue(this.min, this.max, this.value, this.value);\n        var sanitizedValue = value ? getDate(value) : null;\n        this.focusedDate = getDate(dateInRange(didValueChange && value !== null\n            ? value\n            : this.state.focusedDate, this.min, this.max));\n        this.intl = provideIntlService(this);\n        this.bus.configure(this.bottomView, this.topView);\n        this.service = this.bus.service(activeView, this.intl);\n        var rootClassNames = classNames('k-widget k-calendar k-calendar-infinite', {\n            'k-state-disabled': this.props.disabled,\n            'k-week-number': this.props.weekNumber\n        }, this.props.className);\n        var aria = {\n            'aria-disabled': this.props.disabled,\n            'aria-activedescendant': this.cellUID + this.focusedDate.getTime()\n        };\n        var calendarBody = [this.props.navigation && (React.createElement(Navigation, { key: 0, ref: function (el) { _this.Navigation = el; }, activeView: this.state.activeView, focusedDate: this.focusedDate, min: this.min, max: this.max, onScroll: this.handleScroll, onChange: this.handleNavigationChange, service: this.service, dom: this.dom, navigationItem: this.props.navigationItem })), (React.createElement(ViewList, { key: 1, ref: function (el) { _this.calendarViewList = el; }, activeView: this.state.activeView, focusedDate: this.focusedDate, min: this.min, max: this.max, bus: this.bus, shouldScroll: this.shouldScroll, onScroll: this.handleScroll, service: this.service, cell: this.props.cell, weekCell: this.props.weekCell, dom: this.dom, smoothScroll: this.props.smoothScroll, showWeekNumbers: this.props.weekNumber, onChange: this.handleDateChange, value: sanitizedValue, cellUID: this.cellUID, headerTitle: this.props.headerTitle }))];\n        return (React.createElement(\"div\", __assign({}, aria, { ref: function (el) { _this._element = el; }, className: rootClassNames, id: this.props.id || this.id, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, role: \"grid\", tabIndex: !this.props.disabled ? this.props.tabIndex || 0 : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyDown: this.handleKeyDown, onMouseDown: this.handleMouseDown, onClick: this.handleClick }), calendarBody));\n    };\n    /**\n     * @hidden\n     */\n    Calendar.propTypes = {\n        className: PropTypes.string,\n        defaultActiveView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        defaultValue: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        focusedDate: PropTypes.instanceOf(Date),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        navigation: PropTypes.bool,\n        smoothScroll: PropTypes.bool,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        tabIndex: PropTypes.number,\n        value: PropTypes.instanceOf(Date),\n        weekNumber: PropTypes.bool,\n        topView: function (props, propName, componentName) {\n            var prop = props[propName];\n            var bottomView = props.bottomView;\n            if (prop && bottomView && CalendarViewEnum[prop] < CalendarViewEnum[bottomView]) {\n                return new Error(\"Invalid prop + \" + propName + \" suplied to \" + componentName + \".\\n                    \" + propName + \" can not be smaller than bottomView.\\n                    \");\n            }\n            return null;\n        },\n        bottomView: function (props, propName, componentName) {\n            var prop = props[propName];\n            var topView = props.topView;\n            if (prop && topView && CalendarViewEnum[prop] > CalendarViewEnum[topView]) {\n                return new Error(\"Invalid prop + \" + propName + \" suplied to \" + componentName + \".\\n                    \" + propName + \" can not be bigger than topView.\\n                    \");\n            }\n            return null;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Calendar.defaultProps = {\n        disabled: false,\n        min: MIN_DATE,\n        max: MAX_DATE,\n        navigation: true,\n        defaultActiveView: 'month',\n        defaultValue: null,\n        smoothScroll: true,\n        topView: 'century',\n        bottomView: 'month'\n    };\n    return Calendar;\n}(React.Component));\nexport { Calendar };\nregisterForIntl(Calendar);\n","/**\n * @hidden\n */\nvar Mask = /** @class */ (function () {\n    function Mask() {\n        this.symbols = '';\n    }\n    return Mask;\n}());\nexport { Mask };\n","/**\n * @hidden\n */\nexport var defaultFormat = 'd';\n/**\n * @hidden\n */\nexport var defaultFormatPlaceholder = 'wide';\n/**\n * @hidden\n */\nexport var padZero = function (length) { return new Array(Math.max(length, 0)).fill('0').join(''); };\n/**\n * @hidden\n */\nexport var approximateStringMatching = function (oldTextOrigin, oldFormat, newTextOrigin, selectionStart) {\n    /*\n      Remove the right part of the cursor.\n      oldFormat = oldFormat.substring(0, caret + oldText.length - newText.length);\n    */\n    var oldTextSeparator = oldTextOrigin[selectionStart + oldTextOrigin.length - newTextOrigin.length];\n    var oldText = oldTextOrigin.substring(0, selectionStart + oldTextOrigin.length - newTextOrigin.length);\n    var newText = newTextOrigin.substring(0, selectionStart);\n    var diff = [];\n    /* Handle the typing of a single character over the same selection. */\n    if (oldText === newText && selectionStart > 0) {\n        diff.push([oldFormat[selectionStart - 1], newText[selectionStart - 1]]);\n        return diff;\n    }\n    if (oldText.indexOf(newText) === 0 &&\n        (newText.length === 0 || oldFormat[newText.length - 1] !== oldFormat[newText.length])) {\n        /* Handle Delete/Backspace. */\n        var deletedSymbol = '';\n        /*\n            The whole text is replaced by the same character.\n            A nasty patch is required to keep the selection in the first segment.\n        */\n        if (newText.length === 1) {\n            diff.push([oldFormat[0], newText[0]]);\n        }\n        for (var i = newText.length; i < oldText.length; i++) {\n            if (oldFormat[i] !== deletedSymbol && oldFormat[i] !== '_') {\n                deletedSymbol = oldFormat[i];\n                diff.push([deletedSymbol, '']);\n            }\n        }\n        return diff;\n    }\n    /*\n        Handle the insertion of the text (the new text is longer than the previous one).\n        Handle the typing over a literal as well.\n    */\n    if (newText.indexOf(oldText) === 0 || oldFormat[selectionStart - 1] === '_') {\n        var symbol = oldFormat[0];\n        for (var i = Math.max(0, oldText.length - 1); i < oldFormat.length; i++) {\n            if (oldFormat[i] !== '_') {\n                symbol = oldFormat[i];\n                break;\n            }\n        }\n        return [[symbol, newText[selectionStart - 1]]];\n    }\n    /* Handle the entering of a space or a separator for navigating to the next item. */\n    if (newText[newText.length - 1] === ' ' || newText[newText.length - 1] === oldTextSeparator) {\n        return [[oldFormat[selectionStart - 1], '_']];\n    }\n    /* Handle typing over a correctly selected part. */\n    return [[oldFormat[selectionStart - 1], newText[selectionStart - 1]]];\n};\n/**\n * @hidden\n */\nexport var dateSymbolMap = function (map, part) { map[part.pattern[0]] = part.type; return map; };\n/**\n * @hidden\n */\nexport var isInRange = function (candidate, min, max) { return (candidate === null || !((min && min > candidate) || (max && max < candidate))); };\n/**\n * @hidden\n */\nexport var invalidClasses = ['k-state-invalid'];\n/** @hidden */\nexport var wrapperClasses = ['k-widget', 'k-dateinput'];\n","import { addMonths, cloneDate, createDate, isEqual, getDate, lastDayOfMonth } from '@progress/kendo-date-math';\nimport { Mask } from './mask';\nimport { dateSymbolMap } from './../utils';\n/**\n * @hidden\n */\nvar KendoDate = /** @class */ (function () {\n    function KendoDate(intlProvider, formatPlaceholder, format) {\n        this.year = true;\n        this.month = true;\n        this.date = true;\n        this.hours = true;\n        this.minutes = true;\n        this.seconds = true;\n        this.milliseconds = true;\n        this.leadingZero = null;\n        this.typedMonthPart = '';\n        this.knownParts = 'adHhmMsEy';\n        this.symbols = {\n            'E': 'E',\n            'H': 'H',\n            'M': 'M',\n            'a': 'a',\n            'd': 'd',\n            'h': 'h',\n            'm': 'm',\n            's': 's',\n            'y': 'y'\n        };\n        this._value = getDate(new Date());\n        this.intlProvider = intlProvider;\n        this.formatPlaceholder = formatPlaceholder;\n        this.format = format;\n        this.monthNames = this.allFormatedMonths();\n    }\n    Object.defineProperty(KendoDate.prototype, \"intl\", {\n        get: function () {\n            return this.intlProvider();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KendoDate.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KendoDate.prototype.setValue = function (value) {\n        if (!value) {\n            this._value = getDate(new Date());\n            this.modifyExisting(false);\n        }\n        else if (!isEqual(value, this._value)) {\n            this._value = cloneDate(value);\n            this.modifyExisting(true);\n        }\n    };\n    KendoDate.prototype.hasValue = function () {\n        var _this = this;\n        var pred = function (a, p) { return a || p.type !== 'literal' && p.type !== 'dayperiod' && _this.getExisting(p.pattern[0]); };\n        return this.intl.splitDateFormat(this.format).reduce(pred, false);\n    };\n    KendoDate.prototype.getDateObject = function () {\n        for (var i = 0; i < this.knownParts.length; i++) {\n            if (!this.getExisting(this.knownParts[i])) {\n                return null;\n            }\n        }\n        return cloneDate(this.value);\n    };\n    KendoDate.prototype.getTextAndFormat = function () {\n        return this.merge(this.intl.formatDate(this.value, this.format), this.dateFormatString(this.value, this.format));\n    };\n    KendoDate.prototype.modifyExisting = function (value) {\n        var sampleFormat = this.dateFormatString(this.value, this.format).symbols;\n        for (var i = 0; i < sampleFormat.length; i++) {\n            this.setExisting(sampleFormat[i], value);\n        }\n    };\n    KendoDate.prototype.getExisting = function (symbol) {\n        switch (symbol) {\n            case 'y': return this.year;\n            case 'M':\n            case 'L': return this.month;\n            case 'd': return this.date;\n            case 'E': return this.date && this.month && this.year;\n            case 'h':\n            case 'H': return this.hours;\n            case 'm': return this.minutes;\n            case 's': return this.seconds;\n            default: return true;\n        }\n    };\n    KendoDate.prototype.setExisting = function (symbol, value) {\n        switch (symbol) {\n            case 'y':\n                // allow 2/29 dates\n                this.year = value;\n                if (value === false) {\n                    this._value.setFullYear(2000);\n                }\n                break;\n            case 'M':\n                // make sure you can type 31 in the day part\n                this.month = value;\n                if (value === false) {\n                    this._value.setMonth(0);\n                }\n                break;\n            case 'd':\n                this.date = value;\n                break;\n            case 'h':\n            case 'H':\n                this.hours = value;\n                break;\n            case 'm':\n                this.minutes = value;\n                break;\n            case 's':\n                this.seconds = value;\n                break;\n            default: return;\n        }\n    };\n    KendoDate.prototype.modifyPart = function (symbol, offset) {\n        var newValue = cloneDate(this.value);\n        switch (symbol) {\n            case 'y':\n                newValue.setFullYear(newValue.getFullYear() + offset);\n                break;\n            case 'M':\n                newValue = addMonths(this.value, offset);\n                break;\n            case 'd':\n            case 'E':\n                newValue.setDate(newValue.getDate() + offset);\n                break;\n            case 'h':\n            case 'H':\n                newValue.setHours(newValue.getHours() + offset);\n                break;\n            case 'm':\n                newValue.setMinutes(newValue.getMinutes() + offset);\n                break;\n            case 's':\n                newValue.setSeconds(newValue.getSeconds() + offset);\n                break;\n            case 'a':\n                newValue.setHours(newValue.getHours() + (12 * offset));\n                break;\n            default: break;\n        }\n        this.setExisting(symbol, true);\n        this._value = newValue;\n    };\n    KendoDate.prototype.parsePart = function (symbol, currentChar) {\n        var _a;\n        this.resetLeadingZero();\n        if (!currentChar) {\n            this.setExisting(symbol, false);\n            return { value: null };\n        }\n        var baseDate = this.intl.formatDate(this.value, this.format);\n        var dateParts = this.dateFormatString(this.value, this.format);\n        var baseFormat = dateParts.symbols;\n        var replaced = false;\n        var prefix = '';\n        var current = '';\n        var suffix = '';\n        for (var i = 0; i < baseDate.length; i++) {\n            if (baseFormat[i] === symbol) {\n                current += this.getExisting(symbol) ? baseDate[i] : '0';\n                replaced = true;\n            }\n            else if (!replaced) {\n                prefix += baseDate[i];\n            }\n            else {\n                suffix += baseDate[i];\n            }\n        }\n        var parsedDate = null;\n        var month = this.matchMonth(currentChar);\n        while (current.length > 0 && current.charAt(0) === '0') {\n            current = current.slice(1);\n        }\n        if (current.length >= 4) {\n            current = '';\n        }\n        for (var i = 0; i < 2; i++) {\n            var middle = current + currentChar;\n            var middleNumber = parseInt(middle, 10);\n            parsedDate = this.intl.parseDate(prefix + middle + suffix, this.format);\n            if (!parsedDate && !isNaN(middleNumber) && !isNaN(parseInt(currentChar, 10))) {\n                if (symbol === 'M' && !month) {\n                    var monthNumber = middleNumber - 1;\n                    if (monthNumber > -1 && monthNumber < 12) {\n                        parsedDate = cloneDate(this.value);\n                        parsedDate.setMonth(monthNumber);\n                        if (parsedDate.getMonth() !== monthNumber) {\n                            parsedDate = lastDayOfMonth(addMonths(parsedDate, -1));\n                        }\n                    }\n                }\n                if (symbol === 'y') {\n                    parsedDate = createDate(parseInt(middle, 10), this.month ? this.value.getMonth() : 0, this.date ? this.value.getDate() : 1, this.hours ? this.value.getHours() : 0, this.minutes ? this.value.getMinutes() : 0, this.seconds ? this.value.getSeconds() : 0, this.milliseconds ? this.value.getMilliseconds() : 0);\n                    if (this.date && parsedDate.getDate() !== this.value.getDate()) {\n                        parsedDate = lastDayOfMonth(addMonths(parsedDate, -1));\n                    }\n                }\n            }\n            if (parsedDate) {\n                this._value = parsedDate;\n                this.setExisting(symbol, true);\n                return { value: this.value };\n            }\n            current = '';\n        }\n        if (month) {\n            parsedDate = this.intl.parseDate(prefix + month + suffix, this.format);\n            if (parsedDate) {\n                this._value = parsedDate;\n                this.setExisting(symbol, true);\n                return { value: this.value };\n            }\n        }\n        if (currentChar === '0') {\n            this.leadingZero = !this.isAbbrMonth(dateParts.partMap, symbol) ? (_a = {}, _a[symbol] = true, _a) : null;\n            this.setExisting(symbol, false);\n        }\n        return { value: null };\n    };\n    KendoDate.prototype.symbolMap = function (symbol) {\n        return this.intl.splitDateFormat(this.format).reduce(dateSymbolMap, {})[symbol];\n    };\n    KendoDate.prototype.resetLeadingZero = function () {\n        var hasLeadingZero = this.leadingZero !== null;\n        this.leadingZero = null;\n        return hasLeadingZero;\n    };\n    KendoDate.prototype.isAbbrMonth = function (parts, symbol) {\n        var pattern = this.partPattern(parts, symbol);\n        return pattern.type === 'month' && pattern.names;\n    };\n    KendoDate.prototype.partPattern = function (parts, symbol) {\n        return parts.filter(function (part) { return part.pattern.indexOf(symbol) !== -1; })[0];\n    };\n    KendoDate.prototype.matchMonth = function (typedChar) {\n        this.typedMonthPart += typedChar.toLowerCase();\n        if (this.monthNames.length === 0) {\n            return '';\n        }\n        while (this.typedMonthPart.length > 0) {\n            for (var i = 0; i < this.monthNames.length; i++) {\n                if (this.monthNames[i].toLowerCase().indexOf(this.typedMonthPart) === 0) {\n                    return this.monthNames[i];\n                }\n            }\n            var monthAsNum = parseInt(this.typedMonthPart, 10);\n            /* ensure they exact match */\n            if (monthAsNum >= 1 && monthAsNum <= 12 && monthAsNum.toString() === this.typedMonthPart) {\n                return this.monthNames[monthAsNum - 1];\n            }\n            this.typedMonthPart = this.typedMonthPart.substring(1, this.typedMonthPart.length);\n        }\n        return '';\n    };\n    KendoDate.prototype.allFormatedMonths = function () {\n        var dateFormatParts = this.intl.splitDateFormat(this.format);\n        for (var i = 0; i < dateFormatParts.length; i++) {\n            if (dateFormatParts[i].type === 'month' && dateFormatParts[i].names) {\n                return this.intl.dateFormatNames(dateFormatParts[i].names);\n            }\n        }\n        return [];\n    };\n    KendoDate.prototype.dateFormatString = function (date, format) {\n        var dateFormatParts = this.intl.splitDateFormat(format);\n        var parts = [];\n        var partMap = [];\n        for (var i = 0; i < dateFormatParts.length; i++) {\n            var partLength = this.intl.formatDate(date, { pattern: dateFormatParts[i].pattern }).length;\n            while (partLength > 0) {\n                parts.push(this.symbols[dateFormatParts[i].pattern[0]] || '_');\n                partMap.push(dateFormatParts[i]);\n                partLength--;\n            }\n        }\n        var returnValue = new Mask();\n        returnValue.symbols = parts.join('');\n        returnValue.partMap = partMap;\n        return returnValue;\n    };\n    KendoDate.prototype.merge = function (text, mask) {\n        // Important: right to left.\n        var resultText = '';\n        var resultFormat = '';\n        var format = mask.symbols;\n        for (var r = format.length - 1; r >= 0; r--) {\n            if (this.knownParts.indexOf(format[r]) === -1 || this.getExisting(format[r])) {\n                resultText = text[r] + resultText;\n                resultFormat = format[r] + resultFormat;\n            }\n            else {\n                var currentSymbol = format[r];\n                while (r >= 0 && currentSymbol === format[r]) {\n                    r--;\n                }\n                r++;\n                if (this.leadingZero && this.leadingZero[currentSymbol]) {\n                    resultText = '0' + resultText;\n                }\n                else {\n                    resultText = this.dateFieldName(mask.partMap[r]) + resultText;\n                }\n                while (resultFormat.length < resultText.length) {\n                    resultFormat = format[r] + resultFormat;\n                }\n            }\n        }\n        return { text: resultText, format: resultFormat };\n    };\n    KendoDate.prototype.dateFieldName = function (part) {\n        var formatPlaceholder = this.formatPlaceholder || 'wide';\n        if (formatPlaceholder[part.type]) {\n            return formatPlaceholder[part.type];\n        }\n        if (formatPlaceholder === 'formatPattern') {\n            return part.pattern;\n        }\n        return this.intl.dateFieldName(Object.assign(part, { nameType: formatPlaceholder }));\n    };\n    return KendoDate;\n}());\nexport { KendoDate };\n","/**\n * @hidden\n */\nexport var TIME_PART = {\n    dayperiod: 'dayperiod',\n    hour: 'hour',\n    millisecond: 'millisecond',\n    minute: 'minute',\n    second: 'second'\n};\n","import { cloneDate, addDays } from '@progress/kendo-date-math';\nimport { TIME_PART } from './models/TimePart';\nimport { MIDNIGHT_DATE, setTime } from '../utils';\nvar setter = function (method) { return function (date, value) {\n    var clone = cloneDate(date);\n    clone[method](value);\n    return clone;\n}; };\nvar defaultGetters = [\n    { type: TIME_PART.hour, getter: function (value) { return value.getHours(); } },\n    { type: TIME_PART.minute, getter: function (value) { return value.getMinutes(); } },\n    { type: TIME_PART.second, getter: function (value) { return value.getSeconds(); } },\n    { type: TIME_PART.millisecond, getter: function (value) { return value.getMilliseconds(); } }\n];\nvar left = function (getter) { return function (origin, _) { return getter(origin); }; };\nvar right = function (getter) { return function (_, candidate) { return getter(candidate); }; };\nvar convertToObject = function (parts) { return parts.reduce(function (obj, p) { obj[p.type] = p.type; return obj; }, {}); };\nvar getterByPart = function (parts) { return function (g) { return parts[g.type] ? right(g.getter) : left(g.getter); }; };\nvar gettersFactory = function (getters) { return function (parts) { return (getters.map(getterByPart(convertToObject(parts)))); }; };\nvar snapValue = function (getter, step, min, type) { return function (date) {\n    var value = getter(date);\n    var minValue = getter(min);\n    if (type === 'hour') {\n        return value - ((value - minValue) % step);\n    }\n    if (date.getTime() <= min.getTime()\n        && value !== 0\n        && value <= minValue) {\n        return (Math.ceil(value / step)) * step;\n    }\n    return value - (value % step);\n}; };\nvar snappersFactory = function (getters) { return function (steps, min) { return (getters.map(function (g) {\n    var step = Math.floor(steps[g.type]);\n    return step ? snapValue(g.getter, step, min, g.type) : g.getter;\n})); }; };\n/**\n * @hidden\n */\nexport var generateGetters = gettersFactory(defaultGetters);\n/**\n * @hidden\n */\nexport var generateSnappers = snappersFactory(defaultGetters);\n/**\n * @hidden\n */\nexport var valueMerger = function (getters) { return function (origin, candidate) {\n    origin.setHours.apply(origin, getters.map(function (g) { return g(origin, candidate); }));\n    return origin;\n}; };\n/**\n * @hidden\n */\nexport var snapTime = function (snappers) { return function (candidate) {\n    var date = cloneDate(candidate);\n    date.setHours.apply(date, snappers.map(function (s) { return s(date); }));\n    return date;\n}; };\n/**\n * @hidden\n */\nexport var setHours = setter('setHours');\n/**\n * @hidden\n */\nexport var setMinutes = setter('setMinutes');\n/**\n * @hidden\n */\nexport var setSeconds = setter('setSeconds');\n/**\n * @hidden\n */\nexport var getNow = function () { return new Date(); };\n/**\n * @hidden\n */\nexport var range = function (start, end, step) {\n    if (step === void 0) { step = 1; }\n    var result = [];\n    for (var i = start; i < end; i = i + step) {\n        result.push(i);\n    }\n    return result;\n};\nvar normalizeTimes = function (candidate, min, max) { return ({\n    candidateValue: setTime(MIDNIGHT_DATE, candidate),\n    maxValue: addDays(setTime(MIDNIGHT_DATE, max), min.getHours() < max.getHours() ? 0 : 1),\n    minValue: setTime(MIDNIGHT_DATE, min)\n}); };\n/**\n * @hidden\n */\nexport var timeInRange = function (candidate, min, max) {\n    if (!candidate || !min || !max) {\n        return candidate;\n    }\n    var _a = normalizeTimes(candidate, min, max), candidateValue = _a.candidateValue, minValue = _a.minValue, maxValue = _a.maxValue;\n    if (candidateValue < minValue) {\n        return setTime(candidate, min);\n    }\n    if (candidateValue > maxValue) {\n        return setTime(candidate, max);\n    }\n    return candidate;\n};\n/**\n * @hidden\n */\nexport var isInTimeRange = function (candidate, min, max) {\n    if (!candidate || !min || !max) {\n        return true;\n    }\n    var _a = normalizeTimes(candidate, min, max), candidateValue = _a.candidateValue, minValue = _a.minValue, maxValue = _a.maxValue;\n    return minValue <= candidateValue && candidateValue <= maxValue;\n};\n/**\n * @hidden\n */\nexport var isInRange = function (candidate, min, max) {\n    if (candidate === null) {\n        return true;\n    }\n    var _a = normalizeTimes(candidate, min, max), candidateValue = _a.candidateValue, minValue = _a.minValue, maxValue = _a.maxValue;\n    return minValue <= candidateValue && candidateValue <= maxValue;\n};\n/**\n * @hidden\n */\nexport var isSmallerThanMin = function (val, min) {\n    if (val === null || min === null) {\n        return false;\n    }\n    var normalizedValue = setTime(MIDNIGHT_DATE, val);\n    var normalizedMin = setTime(MIDNIGHT_DATE, min);\n    return normalizedValue.getTime() < normalizedMin.getHours();\n};\n/**\n * @hidden\n */\nexport var isBiggerThanMax = function (val, max) {\n    if (val === null || max === null) {\n        return false;\n    }\n    var normalizedValue = setTime(MIDNIGHT_DATE, val);\n    var normalizedMax = setTime(MIDNIGHT_DATE, max);\n    return normalizedMax.getTime() < normalizedValue.getHours();\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { isEqual, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { KendoDate } from './models';\nimport { guid, AsyncFocusBlur, noop, classNames } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { approximateStringMatching, defaultFormat, defaultFormatPlaceholder, isInRange, wrapperClasses } from './utils';\nimport { MAX_DATE, MIN_DATE } from './../utils';\nimport { messages, increaseValue, decreaseValue } from './../messages';\nimport { isInTimeRange } from '../timepicker/utils';\nimport { MIN_TIME, MAX_TIME } from '../defaults';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n// tslint:enable:max-line-length\nvar DateInput = /** @class */ (function (_super) {\n    __extends(DateInput, _super);\n    function DateInput(props) {\n        var _this = _super.call(this, props) || this;\n        _this.kendoDate = null;\n        _this.paste = false;\n        _this._element = null;\n        _this._wrapper = null;\n        _this._inputId = guid();\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.setValidity = function () {\n            if (_this.element && _this.element.setCustomValidity) {\n                _this.element.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || DateInput.defaultProps.validationMessage);\n            }\n        };\n        _this.updateOnPaste = function (event) {\n            if (!_this.element || !_this.kendoDate) {\n                return;\n            }\n            var value = provideIntlService(_this).parseDate(_this.element.value, _this.props.format) || _this.value;\n            var oldValue = _this.value;\n            _this.kendoDate.setValue(value);\n            _this.triggerChange(event, oldValue);\n        };\n        /* Handlers */\n        _this.spinnersMouseDown = function (event) {\n            /* do not steal focus from input when changing value with spinners */\n            event.preventDefault();\n            /* manually focus the input in case the user clicks the spinners first */\n            if (_this.element && document.activeElement !== _this.element) {\n                _this.element.focus({ preventScroll: true });\n            }\n        };\n        _this.handlePaste = function () {\n            _this.paste = true;\n        };\n        _this.elementChange = function (event) {\n            if (!_this.element || !_this.kendoDate) {\n                return;\n            }\n            if (_this.paste) {\n                _this.updateOnPaste(event);\n                _this.paste = false;\n                return;\n            }\n            var _a = _this.kendoDate.getTextAndFormat(), text = _a.text, currentFormat = _a.format;\n            _this.currentFormat = currentFormat;\n            var dateBeforeChange = _this.value;\n            var diff = approximateStringMatching(text, _this.currentFormat, _this.element.value, _this.selection.start);\n            var navigationOnly = (diff.length === 1 && diff[0][1] === '_');\n            if (!navigationOnly) {\n                for (var i = 0; i < diff.length; i++) {\n                    _this.kendoDate.parsePart(diff[i][0], diff[i][1]);\n                }\n            }\n            if (diff.length && diff[0][0] !== '_') {\n                _this.setSelection(_this.selectionBySymbol(diff[0][0]));\n            }\n            if (navigationOnly) {\n                _this.switchDateSegment(1);\n            }\n            _this.triggerChange(event, dateBeforeChange);\n        };\n        _this.elementClick = function (_) {\n            _this.setSelection(_this.selectionByIndex(_this.selection.start));\n        };\n        _this.nativeWheel = function (event) {\n            event.preventDefault();\n        };\n        _this.wheel = function (event) {\n            if (document.activeElement !== _this.element) {\n                return;\n            }\n            if (event.nativeEvent.deltaY < 0) {\n                _this.increasePart(event);\n            }\n            if (event.nativeEvent.deltaY > 0) {\n                _this.decreasePart(event);\n            }\n        };\n        _this.increasePart = function (event) {\n            _this.modifyDateSegmentValue(1, event);\n        };\n        _this.decreasePart = function (event) {\n            _this.modifyDateSegmentValue(-1, event);\n        };\n        _this.elementKeyDown = function (event) {\n            if (event.altKey) {\n                return;\n            }\n            switch (event.keyCode) {\n                case 37:\n                    /*\n                        * Key: `Left Arrow`\n                        * Action: Switches to previous logical* segment.\n                        * (*) https://www.w3.org/International/articles/inline-bidi-markup/uba-basics\n                        */\n                    _this.switchDateSegment(-1);\n                    break;\n                case (38):\n                    /*\n                        * Key: `Up Arrow`\n                        * Action: Increases the currently selected segment value.\n                        */\n                    _this.modifyDateSegmentValue(1, event);\n                    break;\n                case 39:\n                    /*\n                        * Key: `Right Arrow`\n                        * Action: Switches to the next logical segment.\n                        */\n                    _this.switchDateSegment(1);\n                    break;\n                case 40:\n                    /*\n                        * Key: `Down Arrow`\n                        * Action: Decreases the currently selected segment value.\n                        */\n                    _this.modifyDateSegmentValue(-1, event);\n                    break;\n                default:\n                    /*\n                        * Key: any\n                        * Action: Does not prevent the default behavior.\n                        */\n                    return;\n            }\n            event.preventDefault();\n        };\n        _this.elementOnFocus = function (_) {\n            if (_this.wrapper) {\n                _this.wrapper.classList.add('k-state-focused');\n            }\n            _this.setState({ focused: true });\n        };\n        _this.elementOnBlur = function (_) {\n            if (_this.wrapper) {\n                _this.wrapper.classList.remove('k-state-focused');\n            }\n            _this.setState({ focused: false });\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            focused: false\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    DateInput.prototype.componentDidMount = function () {\n        this.setValidity();\n        if (this.wrapper) {\n            this.wrapper.addEventListener('wheel', this.nativeWheel, { passive: false });\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateInput.prototype.componentDidUpdate = function (_, prevState) {\n        if (this._lastSelectedSymbol && prevState.focused === this.state.focused) {\n            this.setSelection(this.selectionBySymbol(this._lastSelectedSymbol));\n        }\n        else if (this.selection.start === this.selection.end) {\n            this.setSelection({ start: 0, end: this.currentFormat.length });\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DateInput.prototype.componentWillUnmount = function () {\n        if (this.wrapper) {\n            this.wrapper.removeEventListener('wheel', this.nativeWheel);\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateInput.prototype.render = function () {\n        var _this = this;\n        if (this.props._ref) {\n            this.props._ref.current = this;\n        }\n        var localizationService = provideLocalizationService(this);\n        var props = __assign({}, DateInput.defaultProps, this.props);\n        var min = props.min, max = props.max, name = props.name, label = props.label, id = props.id;\n        var currentText = this.text;\n        var text = currentText === this.props.placeholder ? '' : currentText;\n        var placeholder = currentText === this.props.placeholder ? currentText : undefined;\n        var inputId = id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var ariaProps = {\n            'aria-valuemin': min === null ? undefined : min.getTime(),\n            'aria-valuemax': max === null ? undefined : max.getTime(),\n            'aria-valuetext': text\n        };\n        if (this.value !== null) {\n            ariaProps['aria-valuenow'] = this.value.getTime();\n        }\n        var wrapperClassesInstance = wrapperClasses.slice();\n        if (this.props.className) {\n            wrapperClassesInstance.push(this.props.className);\n        }\n        var dateinput = (React.createElement(AsyncFocusBlur, { onFocus: this.elementOnFocus, onBlur: this.elementOnBlur }, function (_a) {\n            var onFocus = _a.onFocus, onBlur = _a.onBlur;\n            return (React.createElement(\"span\", { style: !label\n                    ? { width: _this.props.width }\n                    : undefined, dir: _this.props.dir, className: wrapperClassesInstance.join(' '), onFocus: onFocus, onBlur: onBlur },\n                React.createElement(\"span\", { className: classNames('k-dateinput-wrap', {\n                        'k-state-disabled': _this.props.disabled,\n                        'k-state-invalid': !isValid\n                    }), ref: function (span) { _this._wrapper = span; } },\n                    React.createElement(\"input\", __assign({ role: \"spinbutton\", tabIndex: _this.props.tabIndex, disabled: _this.props.disabled, title: _this.props.title !== undefined ? _this.props.title : currentText, type: \"text\", spellCheck: false, autoComplete: \"off\", autoCorrect: \"off\", className: \"k-input\", id: inputId, \"aria-labelledby\": _this.props.ariaLabelledBy, \"aria-describedby\": _this.props.ariaDescribedBy, \"aria-expanded\": _this.props.ariaExpanded, \"aria-haspopup\": _this.props.ariaHasPopup, onWheel: _this.wheel, onClick: _this.elementClick, onInput: _this.elementChange, onPaste: _this.handlePaste, onKeyDown: _this.elementKeyDown, onChange: noop, value: text, placeholder: placeholder, name: name }, ariaProps, { ref: function (input) { return _this._element = input; } })),\n                    _this.props.children,\n                    _this.props.spinners &&\n                        React.createElement(\"span\", { className: \"k-select\", onMouseDown: _this.spinnersMouseDown },\n                            React.createElement(\"span\", { className: \"k-link k-link-increase\", \"aria-label\": localizationService\n                                    .toLanguageString(increaseValue, messages[increaseValue]), title: localizationService\n                                    .toLanguageString(increaseValue, messages[increaseValue]), onClick: _this.increasePart },\n                                React.createElement(\"span\", { className: \"k-icon k-i-arrow-n\" })),\n                            React.createElement(\"span\", { className: \"k-link k-link-decrease\", \"aria-label\": localizationService\n                                    .toLanguageString(decreaseValue, messages[decreaseValue]), title: localizationService\n                                    .toLanguageString(decreaseValue, messages[decreaseValue]), onClick: _this.decreasePart },\n                                React.createElement(\"span\", { className: \"k-icon k-i-arrow-s\" }))))));\n        }));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: inputId, editorValue: currentText, editorValid: isValid, editorDisabled: this.props.disabled, children: dateinput, style: { width: this.props.width } }))\n            : dateinput;\n    };\n    Object.defineProperty(DateInput.prototype, \"value\", {\n        /* Public Getters */\n        /**\n         * Gets the value of the DateInput.\n         */\n        get: function () {\n            if (this.valueDuringOnChange !== undefined) {\n                return this.valueDuringOnChange;\n            }\n            return this.kendoDate && this.kendoDate.getDateObject();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DateInput.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DateInput.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DateInput.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"text\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            var props = __assign({}, DateInput.defaultProps, this.props);\n            var formatPlaceholder = props.formatPlaceholder, format = props.format, value = props.value, defaultValue = props.defaultValue;\n            if (this.kendoDate === null) {\n                this.kendoDate = new KendoDate(this.intl.bind(this), formatPlaceholder, format);\n                this.kendoDate.setValue(value || defaultValue || null);\n            }\n            else {\n                this.kendoDate.format = format;\n                this.kendoDate.formatPlaceholder = formatPlaceholder;\n            }\n            if (value !== undefined && this.value !== value) {\n                this.kendoDate.setValue(value);\n            }\n            var _a = this.kendoDate.getTextAndFormat(), currentText = _a.text, currentFormat = _a.format;\n            this.currentFormat = currentFormat;\n            return props.placeholder !== null\n                && !this.state.focused\n                && !this.kendoDate.hasValue()\n                ? props.placeholder\n                : currentText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DateInput is set.\n         */\n        get: function () {\n            var inRange = isInRange(this.value, this.min, this.max)\n                && isInTimeRange(this.value, this.props.minTime, this.props.maxTime);\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== null) && inRange;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                rangeOverflow: (this.value && this.max.getTime() < this.value.getTime()) || false,\n                rangeUnderflow: (this.value && this.value.getTime() < this.min.getTime()) || false,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"element\", {\n        /**\n         * Gets the element of the DateInput.\n         *\n         * @return - An `HTMLInputElement`.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *     }\n         *     element = null;\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <DateInput\n         *                     ref={(dateInput) =>\n         *                         this.element = dateInput ? dateInput.element : null}\n         *                 />\n         *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         *\n         * ReactDOM.render(\n         *     <App />,\n         *     document.getElementsByTagName('my-app')[0]\n         * );\n         * ```\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DateInput.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DateInput.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInput.prototype, \"wrapper\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DateInput.prototype.intl = function () {\n        return provideIntlService(this);\n    };\n    Object.defineProperty(DateInput.prototype, \"selection\", {\n        /*  end handlers */\n        get: function () {\n            var returnValue = { start: 0, end: 0 };\n            if (this.element !== null && this.element.selectionStart !== undefined) {\n                returnValue = { start: this.element.selectionStart, end: this.element.selectionEnd };\n            }\n            return returnValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DateInput.prototype.setSelection = function (selection) {\n        var _this = this;\n        this._lastSelectedSymbol = this.currentFormat[selection.start];\n        window.requestAnimationFrame(function () {\n            if (_this.element && document.activeElement === _this.element) {\n                _this.element.setSelectionRange(selection.start, selection.end);\n            }\n        });\n    };\n    DateInput.prototype.triggerChange = function (event, oldValue) {\n        this.valueDuringOnChange = this.value;\n        this.forceUpdate();\n        if (this.props.onChange\n            && !isEqual(oldValue, this.value)) {\n            // isEqual works with null\n            this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                value: this.value,\n                target: this\n                // inRange: this.props.min && this.props.max ? isInRange(value, this.props.min, this.props.max) : true\n            });\n        }\n        this.valueDuringOnChange = undefined;\n    };\n    DateInput.prototype.selectionBySymbol = function (symbol) {\n        var start = -1;\n        var end = 0;\n        for (var i = 0; i < this.currentFormat.length; i++) {\n            if (this.currentFormat[i] === symbol) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        return { start: start, end: end };\n    };\n    DateInput.prototype.selectionByIndex = function (index) {\n        var selection = { start: index, end: index };\n        for (var i = index, j = index - 1; i < this.currentFormat.length || j >= 0; i++, j--) {\n            if (i < this.currentFormat.length && this.currentFormat[i] !== '_') {\n                selection = this.selectionBySymbol(this.currentFormat[i]);\n                break;\n            }\n            if (j >= 0 && this.currentFormat[j] !== '_') {\n                selection = this.selectionBySymbol(this.currentFormat[j]);\n                break;\n            }\n        }\n        return selection;\n    };\n    DateInput.prototype.switchDateSegment = function (offset) {\n        var _a = this.selection, selectionStart = _a.start, selectionEnd = _a.end;\n        if (selectionStart < selectionEnd &&\n            this.currentFormat[selectionStart] !== this.currentFormat[selectionEnd - 1]) {\n            this.setSelection(this.selectionByIndex(offset > 0 ? selectionStart : selectionEnd - 1));\n            return;\n        }\n        var previousFormatSymbol = this.currentFormat[selectionStart];\n        var a = selectionStart + offset;\n        while (a > 0 && a < this.currentFormat.length) {\n            if (this.currentFormat[a] !== previousFormatSymbol &&\n                this.currentFormat[a] !== '_') {\n                break;\n            }\n            a += offset;\n        }\n        if (this.currentFormat[a] === '_') {\n            // no known symbol is found\n            return;\n        }\n        var b = a;\n        while (b >= 0 && b < this.currentFormat.length) {\n            if (this.currentFormat[b] !== this.currentFormat[a]) {\n                break;\n            }\n            b += offset;\n        }\n        if (a > b && (b + 1 !== selectionStart || a + 1 !== selectionEnd)) {\n            this.setSelection({ start: b + 1, end: a + 1 });\n        }\n        else if (a < b && (a !== selectionStart || b !== selectionEnd)) {\n            this.setSelection({ start: a, end: b });\n        }\n    };\n    DateInput.prototype.modifyDateSegmentValue = function (offset, event) {\n        if (!this.kendoDate) {\n            return;\n        }\n        var oldValue = this.value;\n        var symbol = this.currentFormat[this.selection.start];\n        var currentStepSymbol = this.kendoDate.symbolMap(symbol);\n        var step = ((this.props.steps || {})[currentStepSymbol] || 1) * offset;\n        this.kendoDate.modifyPart(symbol, step);\n        this.triggerChange(event, oldValue);\n    };\n    /**\n     * @hidden\n     */\n    DateInput.propTypes = {\n        value: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        formatPlaceholder: PropTypes.oneOfType([\n            PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']),\n            PropTypes.shape({\n                year: PropTypes.string,\n                month: PropTypes.string,\n                day: PropTypes.string,\n                hour: PropTypes.string,\n                minute: PropTypes.string,\n                second: PropTypes.string\n            })\n        ]),\n        width: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number\n        ]),\n        tabIndex: PropTypes.number,\n        title: PropTypes.string,\n        steps: PropTypes.shape({\n            year: PropTypes.number,\n            month: PropTypes.number,\n            day: PropTypes.number,\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        min: PropTypes.instanceOf(Date),\n        max: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        spinners: PropTypes.bool,\n        name: PropTypes.string,\n        dir: PropTypes.string,\n        label: PropTypes.string,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        ariaExpanded: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.string\n        ]),\n        onChange: PropTypes.func,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        valid: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    DateInput.defaultProps = {\n        format: defaultFormat,\n        formatPlaceholder: defaultFormatPlaceholder,\n        // defaultValue: null as Date | null,\n        spinners: false,\n        disabled: false,\n        max: cloneDate(MAX_DATE),\n        min: cloneDate(MIN_DATE),\n        minTime: cloneDate(MIN_TIME),\n        maxTime: cloneDate(MAX_TIME),\n        required: false,\n        validityStyles: true,\n        validationMessage: VALIDATION_MESSAGE,\n        placeholder: null\n        // the rest of the properties are undefined by default\n    };\n    return DateInput;\n}(React.Component));\nexport { DateInput };\nregisterForIntl(DateInput);\nregisterForLocalization(DateInput);\n","import * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * Represents the default `toggleButton` component rendered by the [KendoReact Scheduler DatePicker]({% slug overview_datepicker %}).\n */\nexport var ToggleButton = React.forwardRef(function (props, ref) {\n    var className = classNames('k-select', props.className);\n    return (React.createElement(\"a\", { ref: ref, id: props.id, role: \"button\", style: props.style, className: className, tabIndex: props.tabIndex, title: props.title, \"aria-label\": props.title, onMouseDown: props.onMouseDown, onClick: props.onClick, onMouseUp: props.onMouseUp }, props.children));\n});\n","import * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * Represents the default `pickerWrap` component rendered by the [KendoReact Scheduler DatePicker]({% slug overview_datepicker %}).\n */\nexport var PickerWrap = React.forwardRef(function (props, ref) {\n    var _ref = props._ref;\n    var element = React.useRef(null);\n    React.useImperativeHandle(ref, function () { return element.current; });\n    React.useImperativeHandle(_ref, function () { return element.current; });\n    var className = React.useMemo(function () { return classNames(props.className, 'k-picker-wrap'); }, [props.className]);\n    return (React.createElement(\"span\", { ref: element, id: props.id, style: props.style, className: className, tabIndex: props.tabIndex }, props.children));\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\n/**\n * @hidden\n */\nexport var usePickerFloatingLabel = function (dateInput) {\n    var _a = React.useState(false), show = _a[0], setShow = _a[1];\n    var syncText = function () {\n        if (dateInput.current) {\n            setShow(Boolean(dateInput.current.text));\n        }\n    };\n    React.useEffect(syncText);\n    return {\n        editorValue: show\n    };\n};\n/**\n * @hidden\n */\nexport var PickerFloatingLabel = function (props) {\n    var floatingLabelProps = usePickerFloatingLabel(props.dateInput);\n    return (React.createElement(FloatingLabel, __assign({}, props, floatingLabelProps)));\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { getDate, cloneDate } from '@progress/kendo-date-math';\nimport { classNames, guid, Keys, AsyncFocusBlur } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { DateInput } from '../dateinput/DateInput';\nimport { Calendar } from '../calendar/components/Calendar';\nimport { MIN_DATE, MAX_DATE, setTime } from '../utils';\nimport { isInDateRange } from '../utils';\nimport { messages, toggleCalendar } from '../messages';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { ToggleButton } from './ToggleButton';\nimport { PickerWrap } from '../common/PickerWrap';\nimport { PickerFloatingLabel } from '../hooks/usePickerFloatingLabel';\nvar DatePicker = /** @class */ (function (_super) {\n    __extends(DatePicker, _super);\n    function DatePicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this._popupId = guid();\n        _this._element = null;\n        _this._wrapper = null;\n        _this._dateInput = React.createRef();\n        _this._calendar = null;\n        _this.shouldFocusDateInput = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.dateInput) {\n                _this.dateInput.focus();\n            }\n        };\n        _this.setCalendarRef = function (calendar) {\n            _this._calendar = calendar;\n        };\n        _this.nextValue = function (nextProps, nextState) {\n            return nextProps.value !== undefined\n                ? nextProps.value\n                : nextState.value;\n        };\n        _this.nextShow = function (nextProps, nextState) {\n            return nextProps.show !== undefined\n                ? nextProps.show\n                : nextState.show;\n        };\n        _this.handleInputValueChange = function (event) {\n            _this.handleValueChange(event.value, event);\n        };\n        _this.handleCalendarValueChange = function (event) {\n            var value = _this.mergeTime(event.value);\n            _this.handleValueChange(value, event);\n        };\n        _this.handleValueChange = function (value, event) {\n            _this.setState({\n                value: cloneDate(value || undefined),\n                show: false\n            });\n            _this.valueDuringOnChange = value;\n            _this.showDuringOnChange = false;\n            _this.shouldFocusDateInput = true;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    show: _this.show,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n            _this.showDuringOnChange = undefined;\n        };\n        _this.handleFocus = function () {\n            _this.setState({ focused: true });\n        };\n        _this.handleBlur = function () {\n            _this.setState({ focused: false });\n            _this.setShow(false);\n        };\n        _this.handleIconClick = function () {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.shouldFocusDateInput = true;\n            _this.setShow(!_this.show);\n        };\n        _this.handleIconMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleKeyDown = function (event) {\n            var altKey = event.altKey, keyCode = event.keyCode;\n            if (keyCode === Keys.esc) {\n                _this.shouldFocusDateInput = true;\n                _this.setShow(false);\n                return;\n            }\n            if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                event.stopPropagation();\n                _this.shouldFocusDateInput = keyCode === Keys.up;\n                _this.setShow(keyCode === Keys.down);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            value: _this.props.defaultValue || DatePicker.defaultProps.defaultValue,\n            show: _this.props.defaultShow || DatePicker.defaultProps.defaultShow,\n            focused: false\n        };\n        return _this;\n    }\n    Object.defineProperty(DatePicker.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the DatePicker.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"dateInput\", {\n        /**\n         * Gets the DateInput component inside the DatePicker component.\n         */\n        get: function () {\n            return this._dateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"calendar\", {\n        /**\n         * Gets the Calendar component inside the DatePicker component.\n         */\n        get: function () {\n            return this._calendar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"value\", {\n        /**\n         * Gets the value of the DatePicker.\n         */\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return (value !== null) ? cloneDate(value) : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"show\", {\n        /**\n         * Gets the popup state of the DatePicker.\n         */\n        get: function () {\n            return this.showDuringOnChange !== undefined\n                ? this.showDuringOnChange\n                : this.props.show !== undefined\n                    ? this.props.show\n                    : this.state.show;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DatePicker.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DatePicker.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DatePicker.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"dateInputComp\", {\n        get: function () {\n            return this.props.dateInput || DatePicker.defaultProps.dateInput;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"toggleButtonComp\", {\n        get: function () {\n            return this.props.toggleButton || DatePicker.defaultProps.toggleButton;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"calendarComp\", {\n        get: function () {\n            return this.props.calendar || DatePicker.defaultProps.calendar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"popupComp\", {\n        get: function () {\n            return this.props.popup || DatePicker.defaultProps.popup;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"pickerWrapComp\", {\n        get: function () {\n            return this.props.pickerWrap || DatePicker.defaultProps.pickerWrap;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DatePicker is set.\n         */\n        get: function () {\n            var inRange = isInDateRange(this.value, this.min, this.max);\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== null) && inRange;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                rangeOverflow: (this.value && this.max.getTime() < this.value.getTime()) || false,\n                rangeUnderflow: (this.value && this.value.getTime() < this.min.getTime()) || false,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DatePicker.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DatePicker.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DatePicker.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DatePicker.prototype.componentDidMount = function () {\n        if (this.show) {\n            // If defaultShow is true during the initial render, the popup is not aligned.\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DatePicker.prototype.componentDidUpdate = function () {\n        if (this._calendar && this._calendar.element && this.show && !this.prevShow) {\n            this._calendar.element.focus({ preventScroll: true });\n        }\n        if (this.dateInput\n            && this.dateInput.element\n            && !this.show\n            && this.shouldFocusDateInput) {\n            this.dateInput.element.focus({ preventScroll: true });\n        }\n        this.prevShow = this.show;\n        this.shouldFocusDateInput = false;\n    };\n    /**\n     * @hidden\n     */\n    DatePicker.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    DatePicker.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, disabled = _a.disabled, tabIndex = _a.tabIndex, title = _a.title, id = _a.id, format = _a.format, formatPlaceholder = _a.formatPlaceholder, min = _a.min, max = _a.max, weekNumber = _a.weekNumber, focusedDate = _a.focusedDate, className = _a.className, width = _a.width, name = _a.name, validationMessage = _a.validationMessage, required = _a.required, validityStyles = _a.validityStyles, ariaLabelledBy = _a.ariaLabelledBy, ariaDescribedBy = _a.ariaDescribedBy;\n        var _b = this.props.popupSettings, popupClass = _b.popupClass, otherPopupSettings = __rest(_b, [\"popupClass\"]);\n        var show = this.show;\n        var value = this.value;\n        var sanitizedValue = value && getDate(value);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var rootClassName = classNames('k-widget k-datepicker', className);\n        var wrapperClassNames = classNames('k-picker-wrap', {\n            'k-state-invalid': !isValid,\n            'k-state-disabled': disabled,\n            'k-state-focused': this.state.focused\n        });\n        var popupClassNames = classNames('k-calendar-container k-group k-reset', popupClass);\n        var dateInputProps = {\n            disabled: disabled,\n            format: format,\n            formatPlaceholder: formatPlaceholder,\n            id: id,\n            ariaLabelledBy: ariaLabelledBy,\n            ariaDescribedBy: ariaDescribedBy,\n            max: max,\n            min: min,\n            name: name,\n            onChange: this.handleInputValueChange,\n            required: required,\n            tabIndex: !show ? tabIndex : -1,\n            title: title,\n            valid: this.validity.valid,\n            validationMessage: validationMessage,\n            validityStyles: validityStyles,\n            value: value,\n            label: undefined,\n            placeholder: !this.state.focused ? this.props.placeholder : null,\n            ariaHasPopup: true,\n            ariaExpanded: this.show\n        };\n        var popupProps = __assign({ show: show, anchor: this._wrapper || this._element, className: popupClassNames, id: this._popupId, anchorAlign: {\n                horizontal: 'left',\n                vertical: 'bottom'\n            }, popupAlign: {\n                horizontal: 'left',\n                vertical: 'top'\n            } }, otherPopupSettings);\n        var calendarProps = {\n            disabled: disabled,\n            value: sanitizedValue,\n            min: min,\n            max: max,\n            weekNumber: weekNumber,\n            focusedDate: focusedDate,\n            onChange: this.handleCalendarValueChange\n        };\n        var datepicker = (React.createElement(AsyncFocusBlur, { onFocus: this.handleFocus, onBlur: this.handleBlur, onSyncBlur: this.props.onBlur, onSyncFocus: this.props.onFocus }, function (_a) {\n            var onFocus = _a.onFocus, onBlur = _a.onBlur;\n            return (React.createElement(\"span\", { role: \"group\", \"aria-expanded\": _this.show, ref: function (span) { _this._element = span; }, className: rootClassName, onKeyDown: _this.handleKeyDown, style: { width: width }, onFocus: onFocus, onBlur: onBlur },\n                React.createElement(_this.pickerWrapComp, { _ref: function (span) { _this._wrapper = span; }, className: wrapperClassNames },\n                    React.createElement(_this.dateInputComp, __assign({ _ref: _this._dateInput }, dateInputProps)),\n                    React.createElement(_this.toggleButtonComp, { onMouseDown: _this.handleIconMouseDown, onClick: _this.handleIconClick, title: provideLocalizationService(_this)\n                            .toLanguageString(toggleCalendar, messages[toggleCalendar]), className: \"k-select\" },\n                        React.createElement(\"span\", { className: \"k-icon k-i-calendar\" }))),\n                React.createElement(_this.popupComp, __assign({}, popupProps),\n                    React.createElement(_this.calendarComp, __assign({ _ref: _this.setCalendarRef }, calendarProps)))));\n        }));\n        return this.props.label\n            ? (React.createElement(PickerFloatingLabel, { dateInput: this._dateInput, label: this.props.label, editorId: id, editorValid: isValid, editorDisabled: this.props.disabled, children: datepicker, style: { width: this.props.width } }))\n            : datepicker;\n    };\n    DatePicker.prototype.setShow = function (show) {\n        if (this.show === show) {\n            return;\n        }\n        this.setState({ show: show });\n    };\n    DatePicker.prototype.mergeTime = function (value) {\n        return this.value && value ? setTime(value, this.value) : value;\n    };\n    DatePicker.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    /**\n     * @hidden\n     */\n    DatePicker.propTypes = {\n        className: PropTypes.string,\n        defaultShow: PropTypes.bool,\n        defaultValue: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        focusedDate: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        formatPlaceholder: PropTypes.oneOfType([\n            PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']),\n            PropTypes.shape({\n                year: PropTypes.string,\n                month: PropTypes.string,\n                day: PropTypes.string,\n                hour: PropTypes.string,\n                minute: PropTypes.string,\n                second: PropTypes.string\n            })\n        ]),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        min: PropTypes.instanceOf(Date),\n        max: PropTypes.instanceOf(Date),\n        name: PropTypes.string,\n        popupSettings: PropTypes.shape({\n            animate: PropTypes.bool,\n            appendTo: PropTypes.any,\n            popupClass: PropTypes.string\n        }),\n        show: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        title: PropTypes.string,\n        value: PropTypes.instanceOf(Date),\n        weekNumber: PropTypes.bool,\n        width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        valid: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    DatePicker.defaultProps = {\n        defaultShow: false,\n        defaultValue: null,\n        dateInput: DateInput,\n        calendar: Calendar,\n        toggleButton: ToggleButton,\n        popup: Popup,\n        pickerWrap: PickerWrap,\n        disabled: false,\n        format: 'd',\n        max: MAX_DATE,\n        min: MIN_DATE,\n        popupSettings: {},\n        tabIndex: 0,\n        weekNumber: false,\n        required: false,\n        validityStyles: true\n    };\n    return DatePicker;\n}(React.Component));\nexport { DatePicker };\nregisterForLocalization(DatePicker);\n","import { cloneDate } from '@progress/kendo-date-math';\nvar setHours = function (date, hours) {\n    var clone = cloneDate(date);\n    clone.setHours(hours);\n    return clone;\n};\nvar isAM = function (value) { return value !== null && value < 12; };\nvar isPM = function (value) { return value !== null && (!value || value > 11); };\nvar inRange = function (value, min, max) { return ((!min && !max) || (value >= min && value <= max)); };\nvar inReverseRange = function (value, min, max) { return ((!min && !max) || value >= min || value <= max); };\n/**\n * @hidden\n */\nvar DayPeriodService = /** @class */ (function () {\n    function DayPeriodService(intl) {\n        this.intl = intl;\n    }\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.apply = function (value, candidate) {\n        var hour = value.getHours();\n        var hourAM = isAM(hour);\n        var candidateAM = isAM(candidate.getHours());\n        if ((hourAM && candidateAM) || (!hourAM && !candidateAM)) {\n            return value;\n        }\n        var _a = this.normalizedRange(), min = _a[0], _b = _a[1], max = _b === void 0 ? 24 : _b;\n        var result = hour + (candidateAM ? -12 : 12);\n        return setHours(value, Math.min(Math.max(min, result), (max || 24)));\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.configure = function (settings) {\n        var _a = settings.min, min = _a === void 0 ? this.min : _a, _b = settings.max, max = _b === void 0 ? this.max : _b, _c = settings.part, part = _c === void 0 ? this.part : _c;\n        this.min = min;\n        this.max = max;\n        this.part = part;\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.data = function (_) {\n        var names = this.part.names;\n        if (!names) {\n            return [];\n        }\n        var data = [];\n        var _a = this.normalizedRange(), min = _a[0], max = _a[1];\n        var dayPeriod = this.intl.dateFormatNames(names);\n        if (isAM(min)) {\n            data.push({ text: dayPeriod.am, value: setHours(this.min, min) });\n        }\n        if (isPM(max)) {\n            data.push({ text: dayPeriod.pm, value: setHours(this.min, Math.max(12, max)) });\n        }\n        return this.min.getHours() !== min ? data.reverse() : data;\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.isRangeChanged = function (_, __) {\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.limitRange = function (min, max, _) {\n        return [min, max];\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.total = function () {\n        var _a = this.normalizedRange(), min = _a[0], max = _a[1];\n        if (!min && !max) {\n            return 2;\n        }\n        if (min > 11 || max < 12) {\n            return 1;\n        }\n        return 2;\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.selectedIndex = function (value) {\n        if (!this.valueInList(value)) {\n            return -1;\n        }\n        var index = Math.floor(value.getHours() / 12);\n        return this.min.getHours() === this.normalizedRange()[0] ? index : (index === 0 ? 1 : 0);\n    };\n    /**\n     * @hidden\n     */\n    DayPeriodService.prototype.valueInList = function (value) {\n        var reverse = this.min.getHours() !== this.normalizedRange()[0];\n        var isInRange = reverse ? inReverseRange : inRange;\n        return isInRange(value.getHours(), this.min.getHours(), this.max.getHours());\n    };\n    DayPeriodService.prototype.normalizedRange = function () {\n        var minHour = this.min.getHours();\n        var maxHour = this.max.getHours();\n        return [\n            Math.min(minHour, maxHour),\n            Math.max(minHour, maxHour)\n        ];\n    };\n    return DayPeriodService;\n}());\nexport { DayPeriodService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a, _b;\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { Keys, noop } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl } from '@progress/kendo-react-intl';\nimport { Virtualization } from '../virtualization/Virtualization';\nimport { TIME_PART } from './models';\nimport { SecondsService, MinutesService, HoursService, DayPeriodService, DOMService } from './services';\nimport { MAX_TIME, MIDNIGHT_DATE } from '../utils';\nvar SCROLL_THRESHOLD = 2; // < 2px threshold\nvar SNAP_THRESHOLD = 0.05; // % of the item height\nvar SKIP = 0;\nvar getters = (_a = {},\n    _a[Keys.end] = function (data, _) { return data[data.length - 1]; },\n    _a[Keys.home] = function (data, _) { return data[0]; },\n    _a[Keys.up] = function (data, index) { return data[index - 1]; },\n    _a[Keys.down] = function (data, index) { return data[index + 1]; },\n    _a);\nvar services = (_b = {},\n    _b[TIME_PART.dayperiod] = DayPeriodService,\n    _b[TIME_PART.hour] = HoursService,\n    _b[TIME_PART.minute] = MinutesService,\n    _b[TIME_PART.second] = SecondsService,\n    _b);\n/**\n * @hidden\n */\nvar TimeList = /** @class */ (function (_super) {\n    __extends(TimeList, _super);\n    function TimeList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.animateToIndex = false;\n        _this.focus = function (args) {\n            Promise.resolve().then(function () {\n                if (!_this.element) {\n                    return;\n                }\n                _this.element.focus(args);\n            });\n        };\n        _this.itemOffset = function (scrollTop) {\n            if (!_this.virtualization) {\n                return -1;\n            }\n            var valueIndex = _this.service.selectedIndex(_this.props.value);\n            var activeIndex = _this.virtualization.activeIndex();\n            var offset = _this.virtualization.itemOffset(activeIndex);\n            var distance = Math.abs(Math.ceil(scrollTop) - offset);\n            if (valueIndex === activeIndex && distance < SCROLL_THRESHOLD) {\n                return offset;\n            }\n            var scrollUp = valueIndex > activeIndex;\n            var moveToNext = scrollUp && distance >= _this.bottomThreshold || !scrollUp && distance > _this.topThreshold;\n            return moveToNext ? _this.virtualization.itemOffset(activeIndex + 1) : offset;\n        };\n        _this.calculateHeights = function () {\n            if (!_this.dom.didCalculate) {\n                return;\n            }\n            _this.itemHeight = _this.dom.itemHeight;\n            _this.listHeight = _this.dom.timeListHeight;\n            _this.topOffset = (_this.listHeight - _this.itemHeight) / 2;\n            _this.bottomOffset = _this.listHeight - _this.itemHeight;\n            _this.topThreshold = _this.itemHeight * SNAP_THRESHOLD;\n            _this.bottomThreshold = _this.itemHeight * (1 - SNAP_THRESHOLD);\n        };\n        _this.configureServices = function (_a) {\n            var _b = _a === void 0 ? _this.props : _a, min = _b.min, max = _b.max, value = _b.value;\n            var _c = _this.service.limitRange(min || _this.min, max || _this.max, value || _this.props.value), newMin = _c[0], newMax = _c[1];\n            _this.service.configure(_this.serviceSettings({ min: newMin, max: newMax }));\n        };\n        _this.serviceSettings = function (settings) {\n            var defaults = {\n                boundRange: _this.props.boundRange || TimeList.defaultProps.boundRange,\n                insertUndividedMax: false,\n                min: cloneDate(_this.min),\n                max: cloneDate(_this.max),\n                part: _this.props.part,\n                step: _this.step\n            };\n            var result = Object.assign({}, defaults, settings);\n            result.boundRange = result.part.type !== 'hour' || _this.props.boundRange || TimeList.defaultProps.boundRange;\n            return result;\n        };\n        _this.handleScrollAction = function (_a) {\n            var target = _a.target, animationInProgress = _a.animationInProgress;\n            if (!_this.virtualization) {\n                return;\n            }\n            if (target && !animationInProgress) {\n                _this.animateToIndex = false;\n                var index = _this.virtualization.itemIndex(_this.itemOffset(target.scrollTop));\n                var dataItem = _this.service.data(_this.props.value)[index];\n                _this.handleChange(dataItem);\n            }\n        };\n        _this.handleFocus = function (event) {\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleMouseOver = function () {\n            if (!_this._element) {\n                return;\n            }\n            if (document && document.activeElement !== _this._element) {\n                _this._element.focus({ preventScroll: true });\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.down\n                || keyCode === Keys.up\n                || keyCode === Keys.end\n                || keyCode === Keys.home) {\n                event.preventDefault();\n            }\n            var getter = getters[event.keyCode] || noop;\n            var dataItem = getter(_this.service.data(_this.props.value), _this.service.selectedIndex(_this.props.value));\n            if (dataItem) {\n                _this.handleChange(dataItem);\n            }\n        };\n        _this.handleChange = function (dataItem) {\n            var candidate = _this.service.apply(_this.props.value, dataItem.value);\n            if (_this.props.value.getTime() === candidate.getTime()) {\n                return;\n            }\n            _this.setState({\n                value: candidate\n            });\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, candidate);\n            }\n        };\n        _this.dom = new DOMService();\n        return _this;\n    }\n    Object.defineProperty(TimeList.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"animate\", {\n        get: function () {\n            return Boolean(this.props.smoothScroll && this.animateToIndex);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"min\", {\n        get: function () {\n            return this.props.min || TimeList.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"max\", {\n        get: function () {\n            return this.props.max || TimeList.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"step\", {\n        get: function () {\n            return this.props.step !== undefined && this.props.step !== 0\n                ? Math.floor(this.props.step)\n                : TimeList.defaultProps.step;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimeList.prototype.componentDidMount = function () {\n        var _this = this;\n        // Async calculation of height to avoid animation cancellation\n        Promise.resolve().then(function () {\n            if (!_this._element) {\n                return;\n            }\n            _this.dom.calculateHeights(_this._element);\n            _this.forceUpdate();\n        });\n    };\n    /**\n     * @hidden\n     */\n    TimeList.prototype.componentDidUpdate = function () {\n        if (!this.virtualization) {\n            return;\n        }\n        var index = this.service.selectedIndex(this.props.value);\n        this.virtualization[this.animate ? 'animateToIndex' : 'scrollToIndex'](index);\n        this.animateToIndex = true;\n    };\n    /**\n     * @hidden\n     */\n    TimeList.prototype.render = function () {\n        var _this = this;\n        if (!this.props.part.type || !services[this.props.part.type]) {\n            return;\n        }\n        this.calculateHeights();\n        this.intl = provideIntlService(this);\n        this.service = new services[this.props.part.type](this.intl);\n        this.configureServices();\n        var data = this.service.data(this.props.value);\n        var transform = 'translateY(' + this.topOffset + 'px)';\n        var total = this.service.total(this.props.value);\n        var list = (React.createElement(\"ul\", { style: { transform: transform, msTransform: transform }, className: \"k-reset\" }, data.map(function (item, idx) {\n            return (React.createElement(\"li\", { key: idx, className: \"k-item\", onClick: function () { _this.handleChange(item); } },\n                React.createElement(\"span\", null, item.text)));\n        })));\n        return (React.createElement(\"div\", { className: \"k-time-list\", id: String(this.props.id || ''), tabIndex: this.props.disabled ? -1 : 0, ref: function (el) { _this._element = el; }, onKeyDown: this.handleKeyDown, onFocus: this.handleFocus, onBlur: this.handleBlur, onMouseOver: this.handleMouseOver }, this.dom.didCalculate\n            ? (React.createElement(Virtualization, { bottomOffset: this.bottomOffset, children: list, className: \"k-time-container\", itemHeight: this.itemHeight, maxScrollDifference: this.listHeight, onScrollAction: this.handleScrollAction, ref: function (el) { _this.virtualization = el; }, role: \"presentation\", skip: SKIP, tabIndex: -1, take: total, topOffset: this.topOffset, total: total }))\n            : (React.createElement(\"div\", { className: \"k-time-container\" }, list))));\n    };\n    TimeList.propTypes = {\n        id: PropTypes.number,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        part: function (props, propName, componentName) {\n            var prop = props[propName];\n            if (!prop || !services[prop.type]) {\n                throw new Error(\"\\n                    Invalid prop '\" + propName + \"' supplied to \" + componentName + \".\\n                    Supported part types are hour|minute|second|dayperiod.\\n                \");\n            }\n            return null;\n        },\n        step: function (props, propName, componentName) {\n            var prop = props[propName];\n            if (prop !== undefined && prop <= 0) {\n                throw new Error(\"\\n                    Invalid prop '\" + propName + \"' supplied to \" + componentName + \".\\n                    \" + propName + \" cannot be less than 1.\\n                \");\n            }\n            return null;\n        },\n        value: PropTypes.instanceOf(Date),\n        smoothScroll: PropTypes.bool\n    };\n    TimeList.defaultProps = {\n        boundRange: false,\n        max: MAX_TIME,\n        min: MIDNIGHT_DATE,\n        step: 1,\n        smoothScroll: true\n    };\n    return TimeList;\n}(React.Component));\nexport { TimeList };\nregisterForIntl(TimeList);\n","import { domContainerFactory as containerFactory } from '../../utils';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DOMService = /** @class */ (function () {\n    function DOMService() {\n        this.didCalculate = false;\n    }\n    DOMService.prototype.ensureHeights = function () {\n        if (this.timeListHeight !== undefined) {\n            return;\n        }\n        this.calculateHeights();\n    };\n    DOMService.prototype.calculateHeights = function (container) {\n        if (!canUseDOM) {\n            return;\n        }\n        var div = containerFactory('div');\n        var ul = containerFactory('ul');\n        var li = containerFactory('li');\n        var listItem = function () { return li('<span>02</span>', 'k-item'); };\n        var list = function () { return ul([listItem()], 'k-reset'); };\n        var scrollable = function () { return (div([list()], 'k-time-container k-content k-scrollable')); };\n        var timeListWrapper = function () {\n            return div([div([scrollable()], 'k-time-list')], 'k-time-list-wrapper', { left: '-10000px', position: 'absolute' });\n        };\n        var timeWrapper = timeListWrapper();\n        var listContainer = container && container.querySelector('.k-time-container');\n        var hostContainer = listContainer || document.body;\n        var wrapper = hostContainer.appendChild(timeWrapper);\n        this.timeListHeight = wrapper.querySelector('.k-scrollable').offsetHeight;\n        this.itemHeight = wrapper.querySelector('li').offsetHeight;\n        hostContainer.removeChild(wrapper);\n        this.didCalculate = true;\n    };\n    return DOMService;\n}());\nexport { DOMService };\n","import { getDate, isEqual } from '@progress/kendo-date-math';\nimport { MIDNIGHT_DATE } from '../../utils';\nimport { range, setHours } from '../utils';\nvar HOURS_IN_DAY = 24;\nvar clampToRange = function (rangeValue) { return function (value) { return value % rangeValue; }; };\nvar clamp = clampToRange(HOURS_IN_DAY);\nvar stepper = function (start, step) { return function (idx) { return clamp(start + (idx * step)); }; };\nvar distanceFromMin = function (value, min) { return clamp(HOURS_IN_DAY + value - min); };\nvar limit = function (borderValue) { return function (barrier, value) {\n    var useBarrier = !value || getDate(barrier).getTime() === getDate(value).getTime();\n    return useBarrier ? barrier : setHours(barrier, borderValue);\n}; };\nvar limitDown = limit(0);\nvar limitUp = limit(HOURS_IN_DAY - 1);\n/**\n * @hidden\n */\nvar HoursService = /** @class */ (function () {\n    function HoursService(intl) {\n        this.intl = intl;\n        this.boundRange = false;\n        this.insertUndividedMax = false;\n    }\n    HoursService.prototype.apply = function (value, candidate) {\n        return setHours(value, candidate.getHours());\n    };\n    HoursService.prototype.configure = function (settings) {\n        var _this = this;\n        var _a = settings.boundRange, boundRange = _a === void 0 ? this.boundRange : _a, _b = settings.insertUndividedMax, insertUndividedMax = _b === void 0 ? this.insertUndividedMax : _b, _c = settings.min, min = _c === void 0 ? this.min : _c, _d = settings.max, max = _d === void 0 ? this.max : _d, part = settings.part, _e = settings.step, step = _e === void 0 ? this.step : _e;\n        this.boundRange = boundRange;\n        this.insertUndividedMax = insertUndividedMax;\n        this.toListItem = function (hour) {\n            var date = setHours(MIDNIGHT_DATE, hour);\n            return {\n                text: _this.intl.formatDate(date, part.pattern),\n                value: date\n            };\n        };\n        this.min = min;\n        this.max = max;\n        this.step = step;\n    };\n    HoursService.prototype.data = function (selectedValue) {\n        var _this = this;\n        var min = this.range(selectedValue)[0];\n        var getHour = stepper(min, this.step);\n        var convertToItem = function (idx) { return (_this.toListItem(getHour(idx))); };\n        var data = range(0, this.countFromMin(selectedValue)).map(convertToItem);\n        this.addLast(data);\n        if (selectedValue) {\n            this.addMissing(data, selectedValue);\n        }\n        return data;\n    };\n    HoursService.prototype.isRangeChanged = function (min, max) {\n        return !isEqual(this.min, min) || !isEqual(this.max, max);\n    };\n    HoursService.prototype.limitRange = function (min, max, value) {\n        return this.boundRange ? [limitDown(min, value), limitUp(max, value)] : [min, max];\n    };\n    HoursService.prototype.total = function (value) {\n        var last = this.insertUndividedMax && this.isLastMissing(value) ? 1 : 0;\n        var missing = this.isMissing(value) ? 1 : 0;\n        return this.countFromMin(value) + missing + last;\n    };\n    HoursService.prototype.selectedIndex = function (value) {\n        return Math.ceil(this.divideByStep(value));\n    };\n    HoursService.prototype.valueInList = function (value) {\n        if (!value) {\n            return true;\n        }\n        var matchMax = this.insertUndividedMax && this.lastHour(value) === value.getHours();\n        return matchMax || !this.isMissing(value);\n    };\n    HoursService.prototype.addLast = function (data, value) {\n        if (this.insertUndividedMax && this.isLastMissing(value)) {\n            data.push(this.toListItem(this.lastHour(value)));\n        }\n        return data;\n    };\n    HoursService.prototype.addMissing = function (data, value) {\n        if (this.valueInList(value)) {\n            return data;\n        }\n        var missingItem = this.toListItem(value.getHours());\n        data.splice(this.selectedIndex(value), 0, missingItem);\n        return data;\n    };\n    HoursService.prototype.countFromMin = function (value) {\n        var _a = this.range(value), min = _a[0], max = _a[1];\n        return Math.floor(distanceFromMin(max, min) / this.step) + 1; /* include min */\n    };\n    HoursService.prototype.isMissing = function (value) {\n        if (!value) {\n            return false;\n        }\n        return this.selectedIndex(value) !== this.divideByStep(value);\n    };\n    HoursService.prototype.isLastMissing = function (value) {\n        return this.isMissing(setHours(this.max, this.lastHour(value)));\n    };\n    HoursService.prototype.divideByStep = function (value) {\n        return distanceFromMin(value.getHours(), this.min.getHours()) / this.step;\n    };\n    HoursService.prototype.lastHour = function (value) {\n        return this.range(value)[1];\n    };\n    HoursService.prototype.range = function (value) {\n        var _a = this.limitRange(this.min, this.max, value), min = _a[0], max = _a[1];\n        return [min.getHours(), max.getHours()];\n    };\n    return HoursService;\n}());\nexport { HoursService };\n","import { isEqual } from '@progress/kendo-date-math';\nimport { MIDNIGHT_DATE } from '../../utils';\nimport { range, setMinutes } from '../utils';\nvar MINUTES_IN_HOUR = 60;\nvar clampToRange = function (rangeValue) { return function (value) { return value % rangeValue; }; };\nvar clamp = clampToRange(MINUTES_IN_HOUR);\nvar stepper = function (start, step) { return function (idx) { return clamp(start + (idx * step)); }; };\nvar distanceFromMin = function (value, min) { return clamp(MINUTES_IN_HOUR + value - min); };\nvar limit = function (borderValue) { return function (barrier, value) {\n    var useBarrier = !value || barrier.getHours() === value.getHours();\n    return useBarrier ? barrier : setMinutes(barrier, borderValue);\n}; };\nvar limitDown = limit(0);\nvar limitUp = limit(MINUTES_IN_HOUR - 1);\n/**\n * @hidden\n */\nvar MinutesService = /** @class */ (function () {\n    function MinutesService(intl) {\n        this.intl = intl;\n        this.insertUndividedMax = false;\n    }\n    MinutesService.prototype.apply = function (value, candidate) {\n        return setMinutes(value, candidate.getMinutes());\n    };\n    MinutesService.prototype.configure = function (settings) {\n        var _this = this;\n        var _a = settings.insertUndividedMax, insertUndividedMax = _a === void 0 ? this.insertUndividedMax : _a, _b = settings.min, min = _b === void 0 ? this.min : _b, _c = settings.max, max = _c === void 0 ? this.max : _c, part = settings.part, _d = settings.step, step = _d === void 0 ? this.step : _d;\n        this.insertUndividedMax = insertUndividedMax;\n        this.toListItem = function (minute) {\n            var date = setMinutes(MIDNIGHT_DATE, minute);\n            return {\n                text: _this.intl.formatDate(date, part.pattern),\n                value: date\n            };\n        };\n        this.min = min;\n        this.max = max;\n        this.step = step;\n    };\n    MinutesService.prototype.data = function (selectedValue) {\n        var _this = this;\n        var min = this.range(selectedValue)[0];\n        var getMinute = stepper(min, this.step);\n        var convertToItem = function (idx) { return (_this.toListItem(getMinute(idx))); };\n        var data = range(0, this.countFromMin(selectedValue)).map(convertToItem);\n        this.addLast(data);\n        if (selectedValue) {\n            this.addMissing(data, selectedValue);\n        }\n        return data;\n    };\n    MinutesService.prototype.isRangeChanged = function (min, max) {\n        return !isEqual(this.min, min) || !isEqual(this.max, max);\n    };\n    MinutesService.prototype.limitRange = function (min, max, value) {\n        return [limitDown(min, value), limitUp(max, value)];\n    };\n    MinutesService.prototype.total = function (value) {\n        var last = this.insertUndividedMax && this.isLastMissing(value) ? 1 : 0;\n        var missing = this.isMissing(value) ? 1 : 0;\n        return this.countFromMin(value) + missing + last;\n    };\n    MinutesService.prototype.selectedIndex = function (value) {\n        return Math.ceil(this.divideByStep(value));\n    };\n    MinutesService.prototype.valueInList = function (value) {\n        if (!value) {\n            return true;\n        }\n        var matchMax = this.insertUndividedMax && this.lastMinute(value) === value.getMinutes();\n        return matchMax || !this.isMissing(value);\n    };\n    MinutesService.prototype.addLast = function (data, value) {\n        if (this.insertUndividedMax && this.isLastMissing(value)) {\n            data.push(this.toListItem(this.lastMinute(value)));\n        }\n        return data;\n    };\n    MinutesService.prototype.addMissing = function (data, value) {\n        if (this.valueInList(value)) {\n            return data;\n        }\n        var missingItem = this.toListItem(value.getMinutes());\n        data.splice(this.selectedIndex(value), 0, missingItem);\n        return data;\n    };\n    MinutesService.prototype.countFromMin = function (value) {\n        var _a = this.range(value), min = _a[0], max = _a[1];\n        return Math.floor(distanceFromMin(max, min) / this.step) + 1; /* include min */\n    };\n    MinutesService.prototype.isMissing = function (value) {\n        if (!value) {\n            return false;\n        }\n        return this.selectedIndex(value) !== this.divideByStep(value);\n    };\n    MinutesService.prototype.isLastMissing = function (value) {\n        return this.isMissing(setMinutes(this.max, this.lastMinute(value)));\n    };\n    MinutesService.prototype.divideByStep = function (value) {\n        return distanceFromMin(value.getMinutes(), this.min.getMinutes()) / this.step;\n    };\n    MinutesService.prototype.lastMinute = function (value) {\n        return this.range(value)[1];\n    };\n    MinutesService.prototype.range = function (value) {\n        var _a = this.limitRange(this.min, this.max, value), min = _a[0], max = _a[1];\n        return [min.getMinutes(), max.getMinutes()];\n    };\n    return MinutesService;\n}());\nexport { MinutesService };\n","import { isEqual } from '@progress/kendo-date-math';\nimport { MIDNIGHT_DATE } from '../../utils';\nimport { range, setSeconds } from '../utils';\nvar SECONDS_IN_HOUR = 60;\nvar clampToRange = function (rangeValue) { return function (value) { return value % rangeValue; }; };\nvar clamp = clampToRange(SECONDS_IN_HOUR);\nvar stepper = function (start, step) { return function (idx) { return clamp(start + (idx * step)); }; };\nvar distanceFromMin = function (value, min) { return clamp(SECONDS_IN_HOUR + value - min); };\nvar limit = function (borderValue) { return function (barrier, value) {\n    var useBarrier = !value ||\n        (barrier.getMinutes() === value.getMinutes() && barrier.getHours() === value.getHours());\n    return useBarrier ? barrier : setSeconds(barrier, borderValue);\n}; };\nvar limitDown = limit(0);\nvar limitUp = limit(SECONDS_IN_HOUR - 1);\n/**\n * @hidden\n */\nvar SecondsService = /** @class */ (function () {\n    function SecondsService(intl) {\n        this.intl = intl;\n        this.insertUndividedMax = false;\n    }\n    SecondsService.prototype.apply = function (value, candidate) {\n        return setSeconds(value, candidate.getSeconds());\n    };\n    SecondsService.prototype.configure = function (settings) {\n        var _this = this;\n        var _a = settings.insertUndividedMax, insertUndividedMax = _a === void 0 ? this.insertUndividedMax : _a, _b = settings.min, min = _b === void 0 ? this.min : _b, _c = settings.max, max = _c === void 0 ? this.max : _c, part = settings.part, _d = settings.step, step = _d === void 0 ? this.step : _d;\n        this.insertUndividedMax = insertUndividedMax;\n        this.toListItem = function (minute) {\n            var date = setSeconds(MIDNIGHT_DATE, minute);\n            return {\n                text: _this.intl.formatDate(date, part.pattern),\n                value: date\n            };\n        };\n        this.min = min;\n        this.max = max;\n        this.step = step;\n    };\n    SecondsService.prototype.data = function (selectedValue) {\n        var _this = this;\n        var min = this.range(selectedValue)[0];\n        var getSecond = stepper(min, this.step);\n        var convertToItem = function (idx) { return (_this.toListItem(getSecond(idx))); };\n        var data = range(0, this.countFromMin(selectedValue)).map(convertToItem);\n        this.addLast(data);\n        if (selectedValue) {\n            this.addMissing(data, selectedValue);\n        }\n        return data;\n    };\n    SecondsService.prototype.isRangeChanged = function (min, max) {\n        return !isEqual(this.min, min) || !isEqual(this.max, max);\n    };\n    SecondsService.prototype.limitRange = function (min, max, value) {\n        return [limitDown(min, value), limitUp(max, value)];\n    };\n    SecondsService.prototype.total = function (value) {\n        var last = this.insertUndividedMax && this.isLastMissing(value) ? 1 : 0;\n        var missing = this.isMissing(value) ? 1 : 0;\n        return this.countFromMin(value) + missing + last;\n    };\n    SecondsService.prototype.selectedIndex = function (value) {\n        return Math.ceil(this.divideByStep(value));\n    };\n    SecondsService.prototype.valueInList = function (value) {\n        if (!value) {\n            return true;\n        }\n        var matchMax = this.insertUndividedMax && this.lastSecond(value) === value.getSeconds();\n        return matchMax || !this.isMissing(value);\n    };\n    SecondsService.prototype.divideByStep = function (value) {\n        return distanceFromMin(value.getSeconds(), this.min.getSeconds()) / this.step;\n    };\n    SecondsService.prototype.addLast = function (data, value) {\n        if (this.insertUndividedMax && this.isLastMissing(value)) {\n            data.push(this.toListItem(this.lastSecond(value)));\n        }\n        return data;\n    };\n    SecondsService.prototype.addMissing = function (data, value) {\n        if (this.valueInList(value)) {\n            return data;\n        }\n        var missingItem = this.toListItem(value.getSeconds());\n        data.splice(this.selectedIndex(value), 0, missingItem);\n        return data;\n    };\n    SecondsService.prototype.countFromMin = function (value) {\n        var _a = this.range(value), min = _a[0], max = _a[1];\n        return Math.floor(distanceFromMin(max, min) / this.step) + 1; /* include min */\n    };\n    SecondsService.prototype.isMissing = function (value) {\n        if (!value) {\n            return false;\n        }\n        return this.selectedIndex(value) !== this.divideByStep(value);\n    };\n    SecondsService.prototype.isLastMissing = function (value) {\n        return this.isMissing(setSeconds(this.max, this.lastSecond(value)));\n    };\n    SecondsService.prototype.lastSecond = function (value) {\n        return this.range(value)[1];\n    };\n    SecondsService.prototype.range = function (value) {\n        var _a = this.limitRange(this.min, this.max, value), min = _a[0], max = _a[1];\n        return [min.getSeconds(), max.getSeconds()];\n    };\n    return SecondsService;\n}());\nexport { SecondsService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { provideIntlService, provideLocalizationService, registerForIntl, registerForLocalization } from '@progress/kendo-react-intl';\nimport { messages, now, selectNow } from '../messages';\nimport { TimeList } from './TimeList';\nimport { MIDNIGHT_DATE, MIN_TIME, MAX_TIME } from '../utils';\nimport { TIME_PART } from './models/TimePart';\nimport { generateSnappers, getNow, isInTimeRange, snapTime, timeInRange } from './utils';\nvar formatRegExp = new RegExp(TIME_PART.hour + \"|\" + TIME_PART.minute + \"|\" + TIME_PART.second + \"|\" + TIME_PART.dayperiod + \"|literal\");\n/**\n * @hidden\n */\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Left\"] = 0] = \"Left\";\n    Direction[Direction[\"Right\"] = 1] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * @hidden\n */\nvar TimePart = /** @class */ (function (_super) {\n    __extends(TimePart, _super);\n    function TimePart(props) {\n        var _this = _super.call(this, props) || this;\n        _this.timeLists = [];\n        _this.focus = function (args) {\n            Promise.resolve().then(function () {\n                var timeList = _this.timeLists[0];\n                if ((_this.state.activeListIndex === -1) && !_this.hasActiveButton() && timeList && timeList.element) {\n                    timeList.focus(args);\n                }\n            });\n        };\n        _this.timeFormatReducer = function (acc, current) { return acc + current.pattern; };\n        // Filtering only the time part of the format.\n        // Literal types are added if the previous part is\n        // part of a time format.\n        _this.timeFormatFilter = function (part, index, all) {\n            var prevItem = index >= 1 && all[index - 1];\n            if (!prevItem) {\n                return formatRegExp.test(part.type || '');\n            }\n            if (prevItem && part.type === 'literal') {\n                return formatRegExp.test(prevItem.type || '');\n            }\n            return formatRegExp.test(part.type || '');\n        };\n        _this.focusList = function (dir) {\n            if (!_this.timeLists.length) {\n                return;\n            }\n            _this.timeLists.reduce(_this.listReducer, ([]))\n                .map(function (state) { return dir === Direction.Right ? state.next : state.prev; })\n                .map(function (list) { return list && list.element && list.element.focus({ preventScroll: true }); });\n        };\n        _this.listReducer = function (state, list, idx, all) {\n            if (state.length || list.props.id !== _this.state.activeListIndex) {\n                return state;\n            }\n            return [{\n                    next: all[idx + 1] || list,\n                    prev: all[idx - 1] || list\n                }];\n        };\n        _this.showNowButton = function () {\n            return !_this.hasSteps() && _this.props.nowButton && isInTimeRange(getNow(), _this.min, _this.max);\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            switch (keyCode) {\n                case Keys.left:\n                    event.preventDefault();\n                    _this.focusList(Direction.Left);\n                    return;\n                case Keys.right:\n                    event.preventDefault();\n                    _this.focusList(Direction.Right);\n                    return;\n                default:\n                    return;\n            }\n        };\n        _this.handleListBlur = function () {\n            _this.nextTick(function () {\n                _this.setState({ activeListIndex: -1 });\n            });\n        };\n        _this.handleListFocus = function (idx) {\n            clearTimeout(_this.nextTickId);\n            _this.setState({\n                activeListIndex: idx\n            });\n        };\n        _this.handleChange = function (candidate) {\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, candidate);\n            }\n        };\n        _this.snapTime = snapTime(generateSnappers(_this.props.steps, _this.props.min || TimePart.defaultProps.min));\n        _this.state = {\n            activeListIndex: -1\n        };\n        _this.hasActiveButton = _this.hasActiveButton.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(TimePart.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"value\", {\n        get: function () {\n            return timeInRange(this.snapTime(cloneDate(this.props.value || MIDNIGHT_DATE)), this.min, this.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"intl\", {\n        get: function () {\n            return provideIntlService(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"min\", {\n        get: function () {\n            return this.snapTime(this.props.min || TimePart.defaultProps.min);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"max\", {\n        get: function () {\n            return this.snapTime(this.props.max || TimePart.defaultProps.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"steps\", {\n        get: function () {\n            return this.props.steps || TimePart.defaultProps.steps;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePart.prototype, \"boundRange\", {\n        get: function () {\n            return this.props.boundRange !== undefined\n                ? this.props.boundRange\n                : TimePart.defaultProps.boundRange;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimePart.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    TimePart.prototype.componentDidMount = function () {\n        var onMount = this.props.onMount;\n        if (onMount) {\n            onMount.call(undefined, this.value);\n        }\n    };\n    /**\n     * @hidden\n     */\n    TimePart.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, format = _a.format, smoothScroll = _a.smoothScroll, onNowClick = _a.onNowClick, className = _a.className, disabled = _a.disabled;\n        this.snapTime = snapTime(generateSnappers(this.steps, this.min));\n        this.dateFormatParts = this.intl\n            .splitDateFormat(format || TimePart.defaultProps.format)\n            .filter(this.timeFormatFilter);\n        var rootClassName = classNames({\n            'k-state-disabled': disabled\n        }, className, 'k-time-part');\n        this.timeLists = [];\n        var localizationService = provideLocalizationService(this);\n        var selectNowMessage = localizationService.toLanguageString(selectNow, messages[selectNow]);\n        return (React.createElement(\"div\", { className: rootClassName },\n            React.createElement(\"div\", { className: \"k-time-header\" },\n                React.createElement(\"span\", { className: \"k-title\" }, this.intl.formatDate(this.value, this.dateFormatParts.reduce(this.timeFormatReducer, ''))),\n                this.showNowButton() &&\n                    React.createElement(\"button\", __assign({ type: \"button\", ref: function (btn) { _this._nowButton = btn; }, className: \"k-button k-flat k-time-now\", title: selectNowMessage }, { 'aria-label': selectNowMessage }, { onClick: onNowClick, tabIndex: disabled ? -1 : 0 }), localizationService.toLanguageString(now, messages[now]))),\n            React.createElement(\"div\", { className: \"k-time-list-container\", onKeyDown: this.handleKeyDown },\n                React.createElement(\"span\", { className: \"k-time-highlight\" }),\n                this.dateFormatParts.map(function (part, idx) {\n                    return (part.type !== 'literal'\n                        ? React.createElement(\"div\", { key: idx, className: classNames('k-time-list-wrapper', {\n                                'k-state-focused': idx === _this.state.activeListIndex\n                            }), role: \"presentation\", tabIndex: -1 },\n                            React.createElement(\"span\", { className: \"k-title\", onMouseDown: function (e) { e.preventDefault(); } }, _this.intl.dateFieldName(part)),\n                            React.createElement(TimeList, { min: _this.min, max: _this.max, boundRange: _this.boundRange, part: part, step: part.type ? _this.steps[part.type] : 1, smoothScroll: smoothScroll, ref: function (el) { if (!el) {\n                                    return;\n                                } _this.timeLists.push(el); }, id: idx, onFocus: function () { _this.handleListFocus(idx); }, onBlur: _this.handleListBlur, onChange: _this.handleChange, value: _this.value, disabled: disabled }))\n                        : React.createElement(\"div\", { key: idx, className: \"k-time-separator\" }, part.pattern));\n                }))));\n    };\n    TimePart.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    TimePart.prototype.hasActiveButton = function () {\n        return document.activeElement === this._nowButton;\n    };\n    TimePart.prototype.hasSteps = function () {\n        var _this = this;\n        var keys = Object.keys(this.steps);\n        return keys.length !== keys.reduce(function (acc, k) { return acc + _this.steps[k]; }, 0);\n    };\n    TimePart.propTypes = {\n        cancelButton: PropTypes.bool,\n        disabled: PropTypes.bool,\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        nowButton: PropTypes.bool,\n        steps: PropTypes.shape({\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        smoothScroll: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        value: PropTypes.instanceOf(Date)\n    };\n    TimePart.defaultProps = {\n        value: null,\n        disabled: false,\n        nowButton: true,\n        cancelButton: true,\n        format: 'hh:mm a',\n        min: MIN_TIME,\n        max: MAX_TIME,\n        steps: {},\n        boundRange: false\n    };\n    return TimePart;\n}(React.Component));\nexport { TimePart };\nregisterForIntl(TimePart);\nregisterForLocalization(TimePart);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, timePickerCancel, timePickerSet } from '../messages';\nimport { MIN_TIME, MAX_TIME, MIDNIGHT_DATE } from '../utils';\nimport { generateGetters, getNow, valueMerger } from './utils';\nimport { TimePart } from './TimePart';\n/**\n * @hidden\n */\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Left\"] = 0] = \"Left\";\n    Direction[Direction[\"Right\"] = 1] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * @hidden\n */\nvar TimeSelector = /** @class */ (function (_super) {\n    __extends(TimeSelector, _super);\n    function TimeSelector(props) {\n        var _this = _super.call(this, props) || this;\n        _this.focusActiveList = function () {\n            if (!_this.timePart) {\n                return;\n            }\n            _this.timePart.focus({ preventScroll: true });\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            switch (keyCode) {\n                case Keys.enter:\n                    if (!_this.hasActiveButton()) {\n                        _this.handleAccept(event);\n                    }\n                    return;\n                default:\n                    return;\n            }\n        };\n        _this.handleAccept = function (event) {\n            var value = _this.mergeValue(cloneDate(_this.value || getNow()), _this.timePart ? _this.timePart.value : _this.current);\n            _this.setState({ value: value });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        _this.handleReject = function (event) {\n            _this.setState({ current: _this.value });\n            var onReject = _this.props.onReject;\n            if (onReject) {\n                onReject.call(undefined, event);\n            }\n        };\n        _this.handleNowClick = function (event) {\n            var now = _this.mergeValue(cloneDate(_this.value || getNow()), getNow());\n            _this.setState({\n                current: now,\n                value: now\n            });\n            _this.valueDuringOnChange = now;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        _this.handleChange = function (candidate) {\n            _this.setState({ current: candidate });\n        };\n        _this.dateFormatParts = _this.intl.splitDateFormat(_this.props.format || TimeSelector.defaultProps.format);\n        _this.mergeValue = valueMerger(generateGetters(_this.dateFormatParts));\n        _this.hasActiveButton = _this.hasActiveButton.bind(_this);\n        _this.state = {\n            current: _this.props.value || MIDNIGHT_DATE,\n            value: _this.props.value || TimeSelector.defaultProps.value\n        };\n        return _this;\n    }\n    Object.defineProperty(TimeSelector.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"value\", {\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return (value !== null)\n                ? cloneDate(value)\n                : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"intl\", {\n        get: function () {\n            return provideIntlService(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"current\", {\n        get: function () {\n            return this.state.current !== null\n                ? cloneDate(this.state.current)\n                : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimeSelector.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    TimeSelector.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, format = _a.format, cancelButton = _a.cancelButton, disabled = _a.disabled, tabIndex = _a.tabIndex, className = _a.className, smoothScroll = _a.smoothScroll, min = _a.min, max = _a.max, boundRange = _a.boundRange, nowButton = _a.nowButton, steps = _a.steps;\n        var localizationService = provideLocalizationService(this);\n        var cancelMessage = localizationService.toLanguageString(timePickerCancel, messages[timePickerCancel]);\n        var setMessage = localizationService.toLanguageString(timePickerSet, messages[timePickerSet]);\n        return (React.createElement(\"div\", { ref: function (el) { _this._element = el; }, tabIndex: !disabled ? tabIndex || 0 : undefined, className: classNames('k-timeselector k-reset', className, {\n                'k-state-disabled': disabled\n            }), onKeyDown: this.handleKeyDown },\n            React.createElement(TimePart, { ref: function (el) { _this.timePart = el; }, value: this.current, onChange: this.handleChange, onNowClick: this.handleNowClick, format: format, smoothScroll: smoothScroll, min: min, max: max, boundRange: boundRange, disabled: disabled, nowButton: nowButton, steps: steps }),\n            React.createElement(\"div\", { className: \"k-time-footer k-actions k-hstack k-justify-content-stretch\" },\n                cancelButton &&\n                    React.createElement(\"button\", __assign({ type: \"button\", ref: function (btn) { _this._cancelButton = btn; }, className: \"k-button k-time-cancel\", onClick: this.handleReject, title: cancelMessage }, { 'aria-label': cancelMessage }), cancelMessage),\n                React.createElement(\"button\", __assign({ type: \"button\", ref: function (btn) { _this._acceptButton = btn; }, className: \"k-time-accept k-button k-primary\", onClick: this.handleAccept, title: setMessage }, { 'aria-label': setMessage }), setMessage))));\n    };\n    TimeSelector.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    TimeSelector.prototype.hasActiveButton = function () {\n        if (!this._acceptButton) {\n            return false;\n        }\n        return document.activeElement === this._acceptButton\n            || document.activeElement === this._cancelButton;\n    };\n    TimeSelector.propTypes = {\n        cancelButton: PropTypes.bool,\n        className: PropTypes.string,\n        disabled: PropTypes.bool,\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        nowButton: PropTypes.bool,\n        steps: PropTypes.shape({\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        smoothScroll: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        value: PropTypes.instanceOf(Date)\n    };\n    TimeSelector.defaultProps = {\n        value: null,\n        disabled: false,\n        cancelButton: true,\n        format: 't',\n        min: MIN_TIME,\n        max: MAX_TIME,\n        boundRange: false\n    };\n    return TimeSelector;\n}(React.Component));\nexport { TimeSelector };\nregisterForIntl(TimeSelector);\nregisterForLocalization(TimeSelector);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, guid, Keys, AsyncFocusBlur } from '@progress/kendo-react-common';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { messages, toggleTimeSelector, toggleClock } from '../messages';\nimport { DateInput } from '../dateinput/DateInput';\nimport { TimeSelector } from './TimeSelector';\nimport { MIDNIGHT_DATE, MIN_TIME, MAX_TIME, setTime } from '../utils';\nimport { isInRange, isSmallerThanMin, isBiggerThanMax } from './utils';\nimport { PickerFloatingLabel } from '../hooks/usePickerFloatingLabel';\nvar TimePicker = /** @class */ (function (_super) {\n    __extends(TimePicker, _super);\n    function TimePicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this._popupId = guid();\n        _this._element = null;\n        _this._wrapper = null;\n        _this._dateInput = React.createRef();\n        _this._timeSelector = null;\n        _this.shouldFocusDateInput = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.dateInput) {\n                _this.dateInput.focus();\n            }\n        };\n        _this.setTimeSelectorRef = function (timeSelector) {\n            _this._timeSelector = timeSelector;\n        };\n        _this.nextValue = function (nextProps, nextState) {\n            return nextProps.value !== undefined\n                ? nextProps.value\n                : nextState.value;\n        };\n        _this.nextShow = function (nextProps, nextState) {\n            return nextProps.show !== undefined\n                ? nextProps.show\n                : nextState.show;\n        };\n        _this.handleInputValueChange = function (event) {\n            var value = _this.mergeTime(event.value);\n            _this.handleValueChange(__assign({}, event, { value: value }));\n        };\n        _this.handleValueChange = function (event) {\n            _this.setState({\n                value: cloneDate(event.value),\n                show: false\n            });\n            _this.valueDuringOnChange = event.value;\n            _this.showDuringOnChange = false;\n            _this.shouldFocusDateInput = true;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    show: _this.show,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n            _this.showDuringOnChange = undefined;\n        };\n        _this.handleFocus = function () {\n            _this.setState({ focused: true });\n        };\n        _this.handleBlur = function () {\n            _this.setState({ focused: false });\n            _this.setShow(false);\n        };\n        _this.handleValueReject = function (_) {\n            _this.setShow(false);\n        };\n        _this.handleIconClick = function (_) {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.shouldFocusDateInput = true;\n            _this.setShow(!_this.show);\n        };\n        _this.handleIconMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleKeyDown = function (event) {\n            var altKey = event.altKey, keyCode = event.keyCode;\n            if (keyCode === Keys.esc) {\n                _this.shouldFocusDateInput = true;\n                _this.setShow(false);\n                return;\n            }\n            if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                event.stopPropagation();\n                _this.shouldFocusDateInput = keyCode === Keys.up;\n                _this.setShow(keyCode === Keys.down);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            value: _this.props.defaultValue || TimePicker.defaultProps.defaultValue,\n            show: _this.props.defaultShow || TimePicker.defaultProps.defaultShow,\n            focused: false\n        };\n        _this.normalizeTime = _this.normalizeTime.bind(_this);\n        _this.setShow = _this.setShow.bind(_this);\n        _this.nextTick = _this.nextTick.bind(_this);\n        _this.mergeTime = _this.mergeTime.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(TimePicker.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the TimePicker.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"dateInput\", {\n        /**\n         * Gets the DateInput component inside the TimePicker component.\n         */\n        get: function () {\n            return this._dateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"timeSelector\", {\n        /**\n         * Gets the TimeSelector component inside the TimePicker component.\n         */\n        get: function () {\n            return this._timeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"value\", {\n        /**\n         * Gets the value of the TimePicker.\n         */\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return (value !== null) ? cloneDate(value) : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"show\", {\n        /**\n         * Gets the popup state of the TimeSelector.\n         */\n        get: function () {\n            return this.showDuringOnChange !== undefined\n                ? this.showDuringOnChange\n                : this.props.show !== undefined\n                    ? this.props.show\n                    : this.state.show;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the TimePicker.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the TimePicker is set.\n         */\n        get: function () {\n            var value = this.value && this.normalizeTime(this.value);\n            var min = this.normalizeTime(this.min);\n            var max = this.normalizeTime(this.max);\n            var inRange = isInRange(value, min, max);\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== null) && inRange;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                rangeOverflow: isBiggerThanMax(value, max),\n                rangeUnderflow: isSmallerThanMin(value, min),\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : TimePicker.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : TimePicker.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"popupSettings\", {\n        get: function () {\n            return this.props.popupSettings || TimePicker.defaultProps.popupSettings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined ? this.props.min : TimePicker.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined ? this.props.max : TimePicker.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimePicker.prototype, \"dateInputComp\", {\n        get: function () {\n            return this.props.dateInput || TimePicker.defaultProps.dateInput;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimePicker.prototype.componentDidMount = function () {\n        if (this.show) {\n            // If defaultShow is true during the initial render, the popup is not aligned.\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    TimePicker.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    TimePicker.prototype.componentDidUpdate = function () {\n        if (this._timeSelector && this.show && !this.prevShow) {\n            this._timeSelector.focusActiveList();\n        }\n        else if (this.dateInput\n            && this.dateInput.element\n            && !this.show\n            && this.shouldFocusDateInput) {\n            this.dateInput.element.focus({ preventScroll: true });\n        }\n        this.prevShow = this.show;\n        this.shouldFocusDateInput = false;\n    };\n    /**\n     * @hidden\n     */\n    TimePicker.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, disabled = _a.disabled, tabIndex = _a.tabIndex, title = _a.title, id = _a.id, className = _a.className, format = _a.format, formatPlaceholder = _a.formatPlaceholder, smoothScroll = _a.smoothScroll, width = _a.width, name = _a.name, steps = _a.steps, cancelButton = _a.cancelButton, nowButton = _a.nowButton, validationMessage = _a.validationMessage, required = _a.required, validityStyles = _a.validityStyles, ariaLabelledBy = _a.ariaLabelledBy, ariaDescribedBy = _a.ariaDescribedBy;\n        var _b = this.popupSettings, popupClass = _b.popupClass, otherPopupSettings = __rest(_b, [\"popupClass\"]);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var rootClassName = classNames('k-widget k-timepicker', className);\n        var wrapperClassNames = classNames('k-picker-wrap', {\n            'k-state-invalid': !isValid,\n            'k-state-disabled': disabled,\n            'k-state-focused': this.state.focused\n        });\n        var popupClassNames = classNames('k-group k-reset', popupClass);\n        var dateInputProps = {\n            disabled: disabled,\n            format: format,\n            formatPlaceholder: formatPlaceholder,\n            id: id,\n            ariaLabelledBy: ariaLabelledBy,\n            ariaDescribedBy: ariaDescribedBy,\n            max: this.normalizeTime(this.max),\n            min: this.normalizeTime(this.min),\n            name: name,\n            onChange: this.handleInputValueChange,\n            required: required,\n            steps: steps,\n            tabIndex: !this.show ? tabIndex : -1,\n            title: title,\n            valid: this.validity.valid,\n            validationMessage: validationMessage,\n            validityStyles: validityStyles,\n            value: this.value && this.normalizeTime(this.value),\n            label: undefined,\n            placeholder: !this.state.focused ? this.props.placeholder : null,\n            ariaHasPopup: true,\n            ariaExpanded: this.show\n        };\n        var popupProps = __assign({ show: this.show, animate: this._wrapper !== null, anchor: this._wrapper, className: popupClassNames, id: this._popupId, anchorAlign: {\n                horizontal: 'left',\n                vertical: 'bottom'\n            }, popupAlign: {\n                horizontal: 'left',\n                vertical: 'top'\n            } }, otherPopupSettings);\n        var timeSelector = (React.createElement(TimeSelector, { ref: this.setTimeSelectorRef, cancelButton: cancelButton, disabled: disabled, nowButton: nowButton, format: format, min: this.min, max: this.max, steps: steps, smoothScroll: smoothScroll, value: this.value, onChange: this.handleValueChange, onReject: this.handleValueReject }));\n        var localizationService = provideLocalizationService(this);\n        var toggleClockMessage = localizationService.toLanguageString(toggleClock, messages[toggleClock]);\n        var toggleTimeMessage = localizationService\n            .toLanguageString(toggleTimeSelector, messages[toggleTimeSelector]);\n        var timepicker = (React.createElement(AsyncFocusBlur, { onFocus: this.handleFocus, onBlur: this.handleBlur, onSyncBlur: this.props.onBlur, onSyncFocus: this.props.onFocus }, function (_a) {\n            var onFocus = _a.onFocus, onBlur = _a.onBlur;\n            return (React.createElement(\"div\", { ref: function (span) { _this._element = span; }, className: rootClassName, onKeyDown: _this.handleKeyDown, style: { width: width }, onFocus: onFocus, onBlur: onBlur },\n                React.createElement(\"span\", { ref: function (span) { _this._wrapper = span; }, className: wrapperClassNames },\n                    React.createElement(_this.dateInputComp, __assign({ _ref: _this._dateInput }, dateInputProps)),\n                    React.createElement(\"span\", __assign({ role: \"button\", onMouseDown: _this.handleIconMouseDown, onClick: _this.handleIconClick, title: toggleTimeMessage, className: \"k-select\" }, {\n                        'aria-controls': _this._popupId,\n                        'aria-label': toggleClockMessage\n                    }),\n                        React.createElement(\"span\", { className: \"k-icon k-i-clock\" }))),\n                _this.props.popup\n                    ? React.createElement(_this.props.popup, __assign({}, popupProps), timeSelector)\n                    : React.createElement(Popup, __assign({}, popupProps), timeSelector)));\n        }));\n        return this.props.label\n            ? (React.createElement(PickerFloatingLabel, { dateInput: this._dateInput, label: this.props.label, editorId: id, editorValid: isValid, editorDisabled: this.props.disabled, children: timepicker, style: { width: this.props.width } }))\n            : timepicker;\n    };\n    TimePicker.prototype.normalizeTime = function (date) {\n        return setTime(MIDNIGHT_DATE, date);\n    };\n    TimePicker.prototype.setShow = function (show) {\n        if (this.show === show) {\n            return;\n        }\n        this.setState({ show: show });\n    };\n    TimePicker.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    TimePicker.prototype.mergeTime = function (value) {\n        return this.value && value ? setTime(this.value, value) : value;\n    };\n    /**\n     * @hidden\n     */\n    TimePicker.propTypes = {\n        className: PropTypes.string,\n        cancelButton: PropTypes.bool,\n        nowButton: PropTypes.bool,\n        defaultShow: PropTypes.bool,\n        defaultValue: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        formatPlaceholder: PropTypes.oneOfType([\n            PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']),\n            PropTypes.shape({\n                year: PropTypes.string,\n                month: PropTypes.string,\n                day: PropTypes.string,\n                hour: PropTypes.string,\n                minute: PropTypes.string,\n                second: PropTypes.string\n            })\n        ]),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        min: PropTypes.instanceOf(Date),\n        max: PropTypes.instanceOf(Date),\n        name: PropTypes.string,\n        popupSettings: PropTypes.shape({\n            animate: PropTypes.bool,\n            appendTo: PropTypes.any,\n            popupClass: PropTypes.string\n        }),\n        show: PropTypes.bool,\n        steps: PropTypes.shape({\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        smoothScroll: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        title: PropTypes.string,\n        value: PropTypes.instanceOf(Date),\n        width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        valid: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    TimePicker.defaultProps = {\n        defaultShow: false,\n        defaultValue: null,\n        disabled: false,\n        format: 't',\n        max: MAX_TIME,\n        min: MIN_TIME,\n        popupSettings: {},\n        tabIndex: 0,\n        steps: {},\n        required: false,\n        validityStyles: true,\n        dateInput: DateInput\n    };\n    return TimePicker;\n}(React.Component));\nexport { TimePicker };\nregisterForLocalization(TimePicker);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { View } from './View';\nimport { CalendarViewEnum } from '../models';\nimport { classNames } from '@progress/kendo-react-common';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { MAX_DATE, MIN_DATE } from '../../defaults';\nvar DEFAULT_FETCH_MONTHS_COUNT = 2;\n/**\n * @hidden\n */\nvar HorizontalViewList = /** @class */ (function (_super) {\n    __extends(HorizontalViewList, _super);\n    function HorizontalViewList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.isActive = false;\n        _this.focusActiveDate = function () {\n            if (!_this._element) {\n                return;\n            }\n            var focusedCell = _this._element.querySelector('td.k-state-focused');\n            var nextActiveCell = _this._element.querySelector('.k-state-pending-focus');\n            if (focusedCell && focusedCell[0]) {\n                focusedCell[0].classList.remove('k-state-focused');\n            }\n            if (nextActiveCell) {\n                nextActiveCell.classList.add('k-state-focused');\n            }\n            _this.isActive = true;\n        };\n        _this.blurActiveDate = function () {\n            if (!_this._element) {\n                return;\n            }\n            var focusedCell = _this._element.querySelector('td.k-state-focused');\n            if (focusedCell) {\n                focusedCell.classList.remove('k-state-focused');\n            }\n            _this.isActive = false;\n        };\n        _this.rotateSelectionRange = function (selectionRange) {\n            if (selectionRange.start === null || selectionRange.end === null) {\n                return selectionRange;\n            }\n            var needRotate = selectionRange.end < selectionRange.start;\n            return {\n                start: needRotate ? selectionRange.end : selectionRange.start,\n                end: needRotate ? selectionRange.start : selectionRange.end\n            };\n        };\n        _this.handleDateChange = function (event, isTodayClick) {\n            if (isTodayClick === void 0) { isTodayClick = false; }\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: cloneDate(event.value),\n                    target: _this,\n                    isTodayClick: isTodayClick\n                };\n                onChange.call(undefined, args);\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(HorizontalViewList.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HorizontalViewList.prototype, \"weekNumber\", {\n        get: function () {\n            return Boolean(this.props.showWeekNumbers && this.props.activeView === CalendarViewEnum.month);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HorizontalViewList.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : HorizontalViewList.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HorizontalViewList.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : HorizontalViewList.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HorizontalViewList.prototype.componentDidUpdate = function () {\n        if (this.isActive) {\n            this.focusActiveDate();\n        }\n    };\n    HorizontalViewList.prototype.render = function () {\n        var _this = this;\n        var selectionRange = this.props.allowReverse\n            ? this.rotateSelectionRange(this.props.selectionRange)\n            : this.props.selectionRange;\n        var rootClassNames = classNames('k-calendar-view k-hstack k-align-items-start k-justify-content-center', {\n            'k-calendar-monthview': this.props.activeView === CalendarViewEnum.month,\n            'k-calendar-yearview': this.props.activeView === CalendarViewEnum.year,\n            'k-calendar-decadeview': this.props.activeView === CalendarViewEnum.decade,\n            'k-calendar-centuryview': this.props.activeView === CalendarViewEnum.century\n        });\n        return (React.createElement(\"div\", { ref: function (el) { _this._element = el; }, className: rootClassNames }, this.props.dates.map(function (date) { return (React.createElement(\"table\", { className: \"k-calendar-table k-calendar-content k-content\", key: date.getTime() },\n            React.createElement(View, { bus: _this.props.bus, service: _this.props.service, key: date.getTime(), direction: \"horizontal\", activeView: _this.props.activeView, cellUID: _this.props.cellUID, viewDate: date, min: _this.min, max: _this.max, focusedDate: _this.props.focusedDate, selectionRange: selectionRange, selectedDate: _this.props.value, showWeekNumbers: _this.weekNumber, onChange: _this.handleDateChange, onCellEnter: _this.props.onCellEnter, cell: _this.props.cell, weekCell: _this.props.weekCell }))); })));\n    };\n    HorizontalViewList.defaultProps = {\n        showWeekNumbers: false,\n        views: DEFAULT_FETCH_MONTHS_COUNT,\n        take: DEFAULT_FETCH_MONTHS_COUNT,\n        allowReverse: true,\n        min: MIN_DATE,\n        max: MAX_DATE\n    };\n    return HorizontalViewList;\n}(React.Component));\nexport { HorizontalViewList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { classNames, guid, Keys } from '@progress/kendo-react-common';\nimport { cloneDate, isEqualDate, getDate } from '@progress/kendo-date-math';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { Action, CalendarViewEnum, EMPTY_SELECTIONRANGE } from '../models';\nimport { Header } from './Header';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\nimport { messages, prevView, nextView } from '../../messages';\nimport { BusViewService, NavigationService } from '../services';\nimport { dateInRange, isInRange, viewInRange, getToday } from '../../utils';\nimport { HorizontalViewList } from './HorizontalViewList';\nimport { TodayCommand } from './TodayCommand';\nvar extractDateFromValue = function (min, max, value) {\n    if (min === void 0) { min = MultiViewCalendar.defaultProps.min; }\n    if (max === void 0) { max = MultiViewCalendar.defaultProps.max; }\n    return value instanceof Date && !Array.isArray(value) && isInRange(getDate(value), min, max)\n        ? getDate(value)\n        : null;\n};\nvar extractMultipleFromValue = function (min, max, value) {\n    if (min === void 0) { min = MultiViewCalendar.defaultProps.min; }\n    if (max === void 0) { max = MultiViewCalendar.defaultProps.max; }\n    return Array.isArray(value)\n        ? value.filter(function (date) { return isInRange(date, min, max); }).map(function (date) { return getDate(date); })\n        : null;\n};\nvar extractRangeFromValue = function (value) {\n    return typeof value === 'object' && !(value instanceof Date) && value !== null && !Array.isArray(value)\n        ? value\n        : EMPTY_SELECTIONRANGE;\n};\nvar extractFocusedDate = function (single, multiple, range) {\n    return single || (multiple && multiple[0]) || (range && range.start);\n};\nvar extractActiveRange = function (range, single) {\n    return range.start === null && single === null\n        ? 'start'\n        : range.end === null\n            ? 'end'\n            : 'start';\n};\nvar MultiViewCalendar = /** @class */ (function (_super) {\n    __extends(MultiViewCalendar, _super);\n    function MultiViewCalendar(props) {\n        var _this = _super.call(this, props) || this;\n        _this.selectedDate = null;\n        _this.selectedMultiple = null;\n        _this.selectedRange = EMPTY_SELECTIONRANGE;\n        _this.cellUID = guid();\n        _this.activeRangeEnd = 'start';\n        _this.wrapperID = guid();\n        _this.isActive = false;\n        _this.calculateFocusFromValue = true;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        _this.clampRange = function (value) { return ({ start: value, end: null }); };\n        _this.rangeWithFocused = function (range, focusedDate) {\n            return {\n                start: range.start,\n                end: range.end === null && range.start !== null && _this.isActive ? focusedDate : range.end\n            };\n        };\n        _this.generateRange = function (candidate, value) {\n            var end = value.end, start = value.start;\n            var shouldSwap = value.start !== null && candidate.getTime() <= value.start.getTime();\n            if (!_this.props.allowReverse && shouldSwap) {\n                return { start: candidate, end: _this.selectedRange.start };\n            }\n            return _this.activeRange !== 'end'\n                ? ({ start: candidate, end: end })\n                : ({ start: start || _this.selectedDate, end: candidate });\n        };\n        _this.canNavigate = function (action) {\n            if (!_this.service) {\n                return false;\n            }\n            var candidate = _this.service.move(_this.focusedDate, action);\n            return (_this.min <= candidate && candidate <= _this.max)\n                || _this.service.isInSameView(candidate, _this.min)\n                || _this.service.isInSameView(candidate, _this.max);\n        };\n        _this.isListInRange = function (list) {\n            return _this.min < list[0]\n                && _this.max > list[Math.max(0, (_this.props.views || MultiViewCalendar.defaultProps.views) - 1)];\n        };\n        _this.navigate = function (action) {\n            _this.calculateFocusFromValue = false;\n            var candidate = _this.move(action);\n            _this.setState({ focusedDate: candidate });\n        };\n        _this.move = function (action) {\n            return _this.clampDate(_this.service.move(_this.focusedDate, action));\n        };\n        _this.clampDate = function (value) {\n            return dateInRange(value, _this.min, _this.max);\n        };\n        _this.shouldAutoCorrect = function (candidate, value) {\n            var end = value.end, start = value.start;\n            if (_this.activeRange !== 'end') {\n                return end !== null && candidate > end;\n            }\n            else {\n                return start !== null && candidate < start;\n            }\n        };\n        _this.handleCellEnter = function (value) {\n            if (_this.props.mode === 'range') {\n                _this.calculateFocusFromValue = false;\n                _this.setState({\n                    focusedDate: value\n                });\n            }\n        };\n        _this.handleMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleClick = function (_) {\n            if (!_this._element) {\n                return;\n            }\n            _this._element.focus({ preventScroll: true });\n        };\n        _this.handleFocus = function (event) {\n            _this.isActive = true;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.focusActiveDate();\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            _this.isActive = false;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.blurActiveDate();\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleTodayClick = function (event) {\n            if (!_this.todayIsInRange) {\n                return;\n            }\n            _this.handleDateChange.call(undefined, event, true);\n        };\n        _this.handlePrevButtonClick = function () {\n            _this.navigate(Action.PrevView);\n        };\n        _this.handleNextButtonClick = function () {\n            _this.navigate(Action.NextView);\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.enter) {\n                var args = {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.focusedDate,\n                    target: _this\n                };\n                _this.handleDateChange.call(undefined, args);\n            }\n            else {\n                var candidate = dateInRange(_this.navigation.move(_this.focusedDate, _this.navigation.action(event), _this.state.activeView, _this.service, event), _this.min, _this.max);\n                if (isEqualDate(_this.focusedDate, candidate)) {\n                    return;\n                }\n                _this.calculateFocusFromValue = false;\n                _this.setState({ focusedDate: candidate });\n            }\n            event.preventDefault();\n        };\n        _this.handleViewChange = function (_a) {\n            var view = _a.view;\n            _this.setState({ activeView: view });\n        };\n        _this.handleDateChange = function (event) {\n            var focusedDate = cloneDate(event.value);\n            var canNavigateDown = _this.bus.canMoveDown(_this.state.activeView);\n            if (_this.props.disabled) {\n                return;\n            }\n            if (canNavigateDown) {\n                if (event.isTodayClick) {\n                    _this.bus.moveToBottom(_this.state.activeView);\n                }\n                else {\n                    _this.bus.moveDown(_this.state.activeView, event.syntheticEvent);\n                    _this.setState({ focusedDate: focusedDate });\n                    return;\n                }\n            }\n            _this.calculateFocusFromValue = true;\n            var value;\n            switch (_this.props.mode) {\n                case 'single':\n                    value = cloneDate(event.value);\n                    break;\n                case 'multiple':\n                    if (Array.isArray(_this.selectedMultiple)) {\n                        var result = _this.selectedMultiple.slice();\n                        var index_1 = -1;\n                        result.forEach(function (date, idx) {\n                            if (isEqualDate(date, event.value)) {\n                                index_1 = idx;\n                            }\n                        });\n                        index_1 !== -1\n                            ? result.splice(index_1, 1)\n                            : result.push(cloneDate(event.value));\n                        value = result.slice();\n                    }\n                    else {\n                        if (_this.selectedDate) {\n                            value = [cloneDate(_this.selectedDate), cloneDate(event.value)];\n                        }\n                        else {\n                            value = [cloneDate(event.value)];\n                        }\n                    }\n                    break;\n                case 'range':\n                    var hasSelection = _this.selectedRange.start !== null\n                        && _this.selectedRange.end !== null\n                        && _this.activeRange === 'start';\n                    value = hasSelection\n                        ? _this.clampRange(event.value)\n                        : _this.generateRange(event.value, _this.selectedRange);\n                    _this.activeRangeEnd = _this.activeRange !== 'end' ? 'end' : 'start';\n                    break;\n                default:\n                    value = cloneDate(event.value);\n                    break;\n            }\n            _this.valueDuringOnChange = value;\n            _this.setState({ value: value, focusedDate: focusedDate });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: value,\n                    target: _this\n                };\n                onChange.call(undefined, args);\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        var value = props.value !== undefined\n            ? props.value\n            : props.defaultValue || MultiViewCalendar.defaultProps.defaultValue;\n        var selectedDate = extractDateFromValue(_this.min, _this.max, value);\n        var selectedMultiple = extractMultipleFromValue(_this.min, _this.max, value);\n        var selectedRange = extractRangeFromValue(value);\n        var calculatedFocus = extractFocusedDate(selectedDate, selectedMultiple, selectedRange);\n        var activeView = viewInRange(CalendarViewEnum[props.defaultActiveView], _this.bottomView, _this.topView);\n        var focusedDate = dateInRange(props.focusedDate || calculatedFocus || getToday(), _this.min, _this.max);\n        _this.state = {\n            value: value,\n            activeView: activeView,\n            focusedDate: focusedDate\n        };\n        _this.activeRangeEnd = extractActiveRange(selectedRange, selectedDate);\n        _this.bus = new BusViewService(_this.handleViewChange);\n        _this.navigation = new NavigationService(_this.bus);\n        _this.calculateFocusFromValue = false;\n        _this.lastView = activeView;\n        _this.lastViewsCount = _this.props.views || HorizontalViewList.defaultProps.views;\n        return _this;\n    }\n    Object.defineProperty(MultiViewCalendar.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the MultiViewCalendar component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"value\", {\n        /**\n         * Gets the value of the MultiViewCalendar.\n         */\n        get: function () {\n            return this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"focusedDate\", {\n        /**\n         * Gets the current focused date of the MultiViewCalendar.\n         */\n        get: function () {\n            return cloneDate(this._focusedDate);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"min\", {\n        get: function () {\n            return getDate(this.props.min !== undefined\n                ? this.props.min\n                : MultiViewCalendar.defaultProps.min);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"max\", {\n        get: function () {\n            return getDate(this.props.max !== undefined\n                ? this.props.max\n                : MultiViewCalendar.defaultProps.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"bottomView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.bottomView !== undefined\n                ? this.props.bottomView\n                : MultiViewCalendar.defaultProps.bottomView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"topView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.topView !== undefined\n                ? this.props.topView\n                : MultiViewCalendar.defaultProps.topView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"activeRange\", {\n        get: function () {\n            return this.props.activeRangeEnd !== undefined\n                ? this.props.activeRangeEnd\n                : this.activeRangeEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendar.prototype, \"todayIsInRange\", {\n        get: function () {\n            return isInRange(getToday(), getDate(this.min), getDate(this.max));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiViewCalendar.prototype.componentDidMount = function () {\n        this.calculateFocusFromValue = true;\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendar.prototype.componentDidUpdate = function () {\n        if (this.calendarViewList) {\n            (this.isActive ? this.calendarViewList.focusActiveDate : this.calendarViewList.blurActiveDate)();\n        }\n        var stateValue = extractDateFromValue(this.min, this.max, this.value);\n        this.calculateFocusFromValue = Boolean(this.selectedDate\n            && stateValue\n            && (this.selectedDate.getTime() && stateValue.getTime()));\n        this.lastView = this.state.activeView;\n        this.lastViewsCount = this.props.views || HorizontalViewList.defaultProps.views;\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendar.prototype.render = function () {\n        var _this = this;\n        if (this.props._ref) {\n            this.props._ref(this);\n        }\n        this.intl = provideIntlService(this);\n        this.localization = provideLocalizationService(this);\n        this.bus.configure(this.bottomView, this.topView);\n        var activeView = viewInRange(this.state.activeView, this.bottomView, this.topView);\n        this.service = this.bus.service(activeView, this.intl);\n        this.selectedDate = extractDateFromValue(this.min, this.max, this.value);\n        this.selectedMultiple = extractMultipleFromValue(this.min, this.max, this.value);\n        this.selectedRange = extractRangeFromValue(this.value);\n        var calculatedFocus = extractFocusedDate(this.selectedDate, this.selectedMultiple, this.selectedRange);\n        this._focusedDate = dateInRange(this.calculateFocusFromValue && calculatedFocus !== null\n            ? calculatedFocus\n            : this.state.focusedDate, this.min, this.max);\n        var wrapperClassName = classNames('k-widget k-calendar k-calendar-range', {\n            'k-state-disabled': this.props.disabled\n        }, this.props.className);\n        var visualizedRange = this.rangeWithFocused(this.selectedRange, this.focusedDate);\n        var wrapperAria = {\n            'aria-disabled': this.props.disabled,\n            'aria-activedescendant': this.cellUID + this.focusedDate.getTime()\n        };\n        var prevViewTitle = this.localization.toLanguageString(prevView, messages[prevView]);\n        var nextViewTittle = this.localization.toLanguageString(nextView, messages[nextView]);\n        var isPrevDisabled = !this.canNavigate(Action.PrevView);\n        var isNextDisabled = !this.canNavigate(Action.NextView);\n        var prevBtnAria = { 'aria-disabled': isPrevDisabled };\n        var nextBtnAria = { 'aria-disabled': isNextDisabled };\n        var didViewChange = this.lastView !== activeView;\n        var isDateInList = this.dates && this.service.isInArray(this.focusedDate, this.dates);\n        var didViewsCountChange = this.lastViewsCount !== this.props.views;\n        if (!isDateInList || didViewChange || didViewsCountChange) {\n            this.dates = this.service.datesList(this.focusedDate, this.props.views || HorizontalViewList.defaultProps.views);\n        }\n        var activeDate = cloneDate(this.dates && this.dates[0] ? this.dates[0] : getToday());\n        return (React.createElement(\"div\", __assign({ ref: function (el) { _this._element = el; }, className: wrapperClassName, id: this.props.id || this.wrapperID, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, role: 'grid', tabIndex: !this.props.disabled ? this.props.tabIndex : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur, onMouseDown: this.handleMouseDown, onClick: this.handleClick, onKeyDown: this.handleKeyDown }, wrapperAria),\n            React.createElement(Header, { key: \".kendo.calendar.header.\" + activeDate.getTime(), activeView: activeView, currentDate: activeDate, min: this.min, max: this.max, rangeLength: this.props.views, bus: this.bus, service: this.service, headerTitle: this.props.headerTitle, commands: (React.createElement(React.Fragment, null,\n                    React.createElement(Button, __assign({ type: \"button\", className: \"k-nav-prev\", icon: \"arrow-chevron-left\", look: \"flat\", title: prevViewTitle, disabled: isPrevDisabled, onClick: this.handlePrevButtonClick }, prevBtnAria)),\n                    React.createElement(TodayCommand, { min: this.min, max: this.max, onClick: this.handleTodayClick, disabled: !this.todayIsInRange }),\n                    React.createElement(Button, __assign({ type: \"button\", className: \"k-nav-next\", icon: \"arrow-chevron-right\", look: \"flat\", title: nextViewTittle, disabled: isNextDisabled, onClick: this.handleNextButtonClick }, nextBtnAria)))) }),\n            React.createElement(HorizontalViewList, { ref: function (el) { _this.calendarViewList = el; }, dates: this.dates, activeView: activeView, focusedDate: this.focusedDate, min: this.min, max: this.max, bus: this.bus, service: this.service, selectionRange: visualizedRange, value: this.selectedMultiple || this.selectedDate, cellUID: this.cellUID, views: this.props.views, onChange: this.handleDateChange, showWeekNumbers: this.props.weekNumber, onCellEnter: this.handleCellEnter, cell: this.props.cell, weekCell: this.props.weekCell, headerTitle: this.props.headerTitle })));\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendar.propTypes = {\n        activeRangeEnd: PropTypes.oneOf(['start', 'end']),\n        allowReverse: PropTypes.bool,\n        bottomView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        className: PropTypes.string,\n        defaultActiveView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        defaultValue: PropTypes.oneOfType([\n            PropTypes.instanceOf(Date),\n            PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n            PropTypes.shape({ start: PropTypes.instanceOf(Date), end: PropTypes.instanceOf(Date) })\n        ]),\n        disabled: PropTypes.bool,\n        focusedDate: PropTypes.instanceOf(Date),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        mode: PropTypes.oneOf(['single', 'multiple', 'range']),\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        tabIndex: PropTypes.number,\n        topView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        value: PropTypes.oneOfType([\n            PropTypes.instanceOf(Date),\n            PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n            PropTypes.shape({ start: PropTypes.instanceOf(Date), end: PropTypes.instanceOf(Date) })\n        ]),\n        views: function (props, propName, componentName) {\n            var views = props[propName];\n            if (views !== undefined && views < 1) {\n                return new Error(\"Invalid prop '\" + propName + \"' supplied to\" +\n                    (\"'\" + componentName + \"'. The '\" + propName + \"' property cannot be less than 1'\"));\n            }\n            return null;\n        },\n        weekNumber: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendar.defaultProps = {\n        disabled: false,\n        min: MIN_DATE,\n        max: MAX_DATE,\n        navigation: true,\n        defaultActiveView: 'month',\n        defaultValue: null,\n        topView: 'century',\n        tabIndex: 0,\n        bottomView: 'month',\n        views: 2,\n        allowReverse: false\n    };\n    return MultiViewCalendar;\n}(React.Component));\nexport { MultiViewCalendar };\nregisterForIntl(MultiViewCalendar);\nregisterForLocalization(MultiViewCalendar);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { guid, classNames, Keys } from '@progress/kendo-react-common';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { DateInput } from '../dateinput/DateInput';\nimport { MultiViewCalendar } from '../calendar/components/MultiViewCalendar';\nimport { EMPTY_SELECTIONRANGE } from '../calendar/models';\nimport { MIN_DATE, MAX_DATE } from '../defaults';\nimport { swapStartEnd, start, end, separator, messages } from '../messages';\nvar WRAPPER_STYLES = { display: 'inline-block' };\nvar DateRangePicker = /** @class */ (function (_super) {\n    __extends(DateRangePicker, _super);\n    function DateRangePicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        _this._wrapper = null;\n        _this._calendar = null;\n        _this._startDateInput = React.createRef();\n        _this._endDateInput = React.createRef();\n        _this._popupId = guid();\n        _this._startInputId = guid();\n        _this._endInputId = guid();\n        _this.shouldFocusDateInput = false;\n        _this.shouldFocusCalendar = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.startDateInput) {\n                _this.startDateInput.focus();\n            }\n        };\n        _this.setCalendarRef = function (calendar) {\n            _this._calendar = calendar;\n        };\n        _this.focusCalendarElement = function () {\n            if (_this._calendar && _this._calendar.element) {\n                _this._calendar.element.focus({ preventScroll: true });\n            }\n        };\n        _this.calculateValue = function (props, state) {\n            var value = props.value !== undefined\n                ? props.value\n                : state.value;\n            return value || EMPTY_SELECTIONRANGE;\n        };\n        _this.calculateShow = function (nextProps, nextState) {\n            return nextProps.show !== undefined\n                ? nextProps.show\n                : nextState.show;\n        };\n        _this.handleReverseClick = function (event) {\n            var value = {\n                start: _this.value.end,\n                end: _this.value.start\n            };\n            var args = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent\n            };\n            _this.handleChange(value, args);\n        };\n        _this.handleReverseMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleFocus = function (event) {\n            clearTimeout(_this.nextTickId);\n            if (!_this.shouldFocusDateInput) {\n                _this.setShow(true);\n            }\n            if (_this.startDateInput && _this.startDateInput.element) {\n                _this.startDateInput.element.classList.add('k-state-focused');\n            }\n            if (_this.endDateInput && _this.endDateInput.element) {\n                _this.endDateInput.element.classList.add('k-state-focused');\n            }\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            _this.nextTick(function () {\n                if (_this.startDateInput && _this.startDateInput.element) {\n                    _this.startDateInput.element.classList.remove('k-state-focused');\n                }\n                if (_this.endDateInput && _this.endDateInput.element) {\n                    _this.endDateInput.element.classList.remove('k-state-focused');\n                }\n                _this.setShow(false);\n            });\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleEndChange = function (event) {\n            var value = {\n                start: _this.value.start,\n                end: cloneDate(event.value || undefined)\n            };\n            _this.handleChange(value, event);\n        };\n        _this.handleStartChange = function (event) {\n            var value = {\n                start: cloneDate(event.value || undefined),\n                end: _this.value.end\n            };\n            _this.handleChange(value, event);\n        };\n        _this.extractRangeFromValue = function (event) {\n            if (!Array.isArray(event.value) && !(event.value instanceof Date)) {\n                return event.value || EMPTY_SELECTIONRANGE;\n            }\n            var candidate = Array.isArray(event.value) ? event.value[0] : event.value;\n            return {\n                start: _this.value.end !== null ? candidate : _this.value.start,\n                end: _this.value.start !== null ? candidate : _this.value.end\n            };\n        };\n        _this.handleCalendarChange = function (event) {\n            var value = _this.extractRangeFromValue(event);\n            _this.handleChange(value, event);\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode, altKey = event.altKey;\n            if (keyCode === Keys.esc) {\n                event.preventDefault();\n                _this.shouldFocusDateInput = true;\n                _this.setShow(false);\n            }\n            else if (altKey && keyCode === Keys.down) {\n                event.preventDefault();\n                _this.shouldFocusCalendar = true;\n                _this.setShow(true);\n            }\n            else if (keyCode === Keys.tab\n                && _this.show\n                && _this._calendar\n                && _this._calendar.element\n                && _this.endDateInput\n                && _this.endDateInput.element\n                && document\n                && document.activeElement === _this.endDateInput.element) {\n                event.preventDefault();\n                _this.focusCalendarElement();\n            }\n        };\n        _this.handleChange = function (value, event) {\n            _this.setState({ value: value });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    show: _this.show,\n                    target: _this\n                };\n                onChange.call(undefined, args);\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            show: _this.props.show || _this.props.defaultShow || DateRangePicker.defaultProps.defaultShow,\n            value: _this.props.value || _this.props.defaultValue || DateRangePicker.defaultProps.defaultValue\n        };\n        _this.nextTick = _this.nextTick.bind(_this);\n        _this.setShow = _this.setShow.bind(_this);\n        _this.focusCalendarElement = _this.focusCalendarElement.bind(_this);\n        _this.focusDateInputElement = _this.focusDateInputElement.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(DateRangePicker.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the DateRangePicker.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"startDateInput\", {\n        /**\n         * Gets the start DateInput component inside the DatePicker component.\n         */\n        get: function () {\n            return this._startDateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"endDateInput\", {\n        /**\n         * Gets the end DateInput component inside the DatePicker component.\n         */\n        get: function () {\n            return this._endDateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"calendar\", {\n        /**\n         * Gets the MultiVieCalendar inside the DateRangePicker.\n         */\n        get: function () {\n            return this._calendar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"value\", {\n        /**\n         * Gets the value of the DateRangePicker.\n         */\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return value || EMPTY_SELECTIONRANGE;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"show\", {\n        /**\n         * Gets the popup state of the DateRangePicker.\n         */\n        get: function () {\n            return this.showDuringOnChange !== undefined\n                ? this.showDuringOnChange\n                : this.props.show !== undefined\n                    ? this.props.show\n                    : this.state.show;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DateRangePicker.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePicker.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DateRangePicker.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DateRangePicker.prototype.componentDidMount = function () {\n        if (this.show) {\n            // If defaultShow is true during the initial render, the popup is not aligned.\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateRangePicker.prototype.componentDidUpdate = function () {\n        if (this.shouldFocusCalendar) {\n            this.focusCalendarElement();\n        }\n        if (this.shouldFocusDateInput) {\n            this.focusDateInputElement();\n        }\n        this.shouldFocusCalendar = false;\n        this.shouldFocusDateInput = false;\n    };\n    /**\n     * @hidden\n     */\n    DateRangePicker.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    DateRangePicker.prototype.render = function () {\n        var _this = this;\n        var value = this.value || EMPTY_SELECTIONRANGE;\n        var startDateInputId = (this.props.startDateInputSettings || {}).id || this._startInputId;\n        var endDateInputId = (this.props.endDateInputSettings || {}).id || this._endInputId;\n        var rootClassName = classNames('k-daterangepicker', {\n            'k-state-disabled': this.props.disabled\n        }, this.props.className);\n        var localizationService = provideLocalizationService(this);\n        var startMessage = localizationService.toLanguageString(start, messages[start]);\n        var endMessage = localizationService.toLanguageString(end, messages[end]);\n        var separatorMessage = localizationService.toLanguageString(separator, messages[separator]);\n        var startDateInputProps = __assign({ label: startMessage, format: this.props.format, min: this.min, max: this.max, id: this._startInputId, disabled: this.props.disabled, valid: this.props.valid, ariaHasPopup: true, ariaExpanded: this.show }, this.props.startDateInputSettings, { value: value.start, onChange: this.handleStartChange });\n        var endDateInputProps = __assign({ label: endMessage, format: this.props.format, min: this.min, max: this.max, id: this._endInputId, disabled: this.props.disabled, valid: this.props.valid, ariaHasPopup: true, ariaExpanded: this.show }, this.props.endDateInputSettings, { value: value.end, onChange: this.handleEndChange });\n        var popupProps = __assign({ animate: this._wrapper !== null, anchor: this._wrapper, id: this._popupId, anchorAlign: {\n                horizontal: 'left',\n                vertical: 'bottom'\n            }, popupAlign: {\n                horizontal: 'left',\n                vertical: 'top'\n            } }, this.props.popupSettings, { show: this.show });\n        var calendarProps = __assign({ min: this.min, max: this.max, allowReverse: this.props.allowReverse, mode: 'range', focusedDate: this.props.focusedDate, disabled: this.props.disabled }, this.props.calendarSettings, { value: value, onChange: this.handleCalendarChange });\n        var calendar = this.props.calendar\n            ? React.createElement(this.props.calendar, __assign({}, calendarProps))\n            : React.createElement(MultiViewCalendar, __assign({}, calendarProps, { ref: this.setCalendarRef }));\n        var reverseButton = (React.createElement(\"span\", __assign({ role: \"button\", className: \"k-select k-button k-flat\", title: provideLocalizationService(this)\n                .toLanguageString(swapStartEnd, messages[swapStartEnd]), onMouseDown: this.handleReverseMouseDown, onClick: this.handleReverseClick }, {\n            'aria-controls': startDateInputId + ' ' + endDateInputId,\n            'aria-label': provideLocalizationService(this)\n                .toLanguageString(swapStartEnd, messages[swapStartEnd])\n        }),\n            React.createElement(\"span\", { style: { transform: 'rotate(90deg)' }, className: \"k-icon k-i-arrows-swap\" })));\n        return (React.createElement(\"span\", { ref: function (span) {\n                _this._element = span;\n            }, className: rootClassName, style: this.props.style, id: this.props.id, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, tabIndex: this.props.tabIndex, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyDown: this.handleKeyDown },\n            React.createElement(\"span\", { ref: function (span) {\n                    _this._wrapper = span;\n                }, className: \"k-daterangepicker-wrap\", style: WRAPPER_STYLES },\n                this.props.startDateInput\n                    ? React.createElement(this.props.startDateInput, __assign({}, startDateInputProps))\n                    : React.createElement(DateInput, __assign({}, startDateInputProps, { ref: this._startDateInput })),\n                (this.props.allowReverse\n                    || (this.props.calendarSettings && this.props.calendarSettings.allowReverse))\n                    && this.props.swapButton\n                    ? (reverseButton)\n                    : (separatorMessage),\n                this.props.endDateInput\n                    ? React.createElement(this.props.endDateInput, __assign({}, endDateInputProps))\n                    : React.createElement(DateInput, __assign({}, endDateInputProps, { ref: this._endDateInput }))),\n            this.props.popup\n                ? React.createElement(this.props.popup, __assign({}, popupProps), calendar)\n                : React.createElement(Popup, __assign({}, popupProps), calendar)));\n    };\n    DateRangePicker.prototype.focusDateInputElement = function () {\n        if (!document || !this.startDateInput || !this.startDateInput.element\n            || !this.endDateInput || !this.endDateInput.element) {\n            return;\n        }\n        if ((this.value.start === null || this.value.end !== null)\n            && document.activeElement !== this.endDateInput.element) {\n            this.startDateInput.element.focus({ preventScroll: true });\n        }\n        else if (document.activeElement !== this.startDateInput.element) {\n            this.endDateInput.element.focus({ preventScroll: true });\n        }\n    };\n    DateRangePicker.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    DateRangePicker.prototype.setShow = function (show) {\n        if (this.show === show) {\n            return;\n        }\n        this.setState({ show: show });\n    };\n    /**\n     * @hidden\n     */\n    DateRangePicker.propTypes = {\n        allowReverse: PropTypes.bool,\n        calendarSettings: PropTypes.any,\n        className: PropTypes.string,\n        defaultShow: PropTypes.bool,\n        defaultValue: PropTypes.shape({ start: PropTypes.instanceOf(Date), end: PropTypes.instanceOf(Date) }),\n        disabled: PropTypes.bool,\n        endDateInputSettings: PropTypes.shape(DateInput.propTypes),\n        focusedDate: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        popupSettings: PropTypes.any,\n        show: PropTypes.bool,\n        startDateInputSettings: PropTypes.any,\n        style: PropTypes.any,\n        swapButton: PropTypes.any,\n        tabIndex: PropTypes.number,\n        value: PropTypes.shape({ start: PropTypes.instanceOf(Date), end: PropTypes.instanceOf(Date) })\n    };\n    /**\n     * @hidden\n     */\n    DateRangePicker.defaultProps = {\n        allowReverse: false,\n        defaultShow: false,\n        defaultValue: EMPTY_SELECTIONRANGE,\n        disabled: false,\n        format: 'd',\n        max: MAX_DATE,\n        min: MIN_DATE,\n        swapButton: false\n    };\n    return DateRangePicker;\n}(React.Component));\nexport { DateRangePicker };\nregisterForLocalization(DateRangePicker);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, date, time, dateTimePickerCancel as cancel, dateTimePickerSet as set } from '../messages';\nimport { Button, ButtonGroup } from '@progress/kendo-react-buttons';\nimport { Calendar } from '../calendar/components/Calendar';\nimport { TimePart } from '../timepicker/TimePart';\nimport { setTime, getToday, MIN_TIME, MAX_TIME } from '../utils';\nimport { isEqualDate } from '@progress/kendo-date-math';\nimport { Keys, classNames } from '@progress/kendo-react-common';\nimport { MIDNIGHT_DATE } from '../defaults';\nimport { getNow } from '../timepicker/utils';\n/**\n * @hidden\n */\nvar DateTimeSelector = /** @class */ (function (_super) {\n    __extends(DateTimeSelector, _super);\n    function DateTimeSelector(props) {\n        var _this = _super.call(this, props) || this;\n        _this._calendarWrap = null;\n        _this.focus = function (args) {\n            // Async to avoid stealing the focus from the DateInput on close\n            Promise.resolve().then(function () {\n                if (_this.state.tab === 'time' && _this._timePart) {\n                    _this._timePart.focus(args);\n                }\n                var calendarElement = _this.calendarElement();\n                if (_this.state.tab === 'date' && calendarElement) {\n                    calendarElement.focus(args);\n                }\n            });\n        };\n        _this.calendarElement = function () {\n            return (_this._calendar && _this._calendar.element) ||\n                (_this._calendarWrap && _this._calendarWrap.querySelector('.k-widget.k-calendar'));\n        };\n        _this.move = function (direction) {\n            if (direction === 'right' && _this.state.tab === 'time') {\n                return;\n            }\n            if (direction === 'left' && _this.state.tab === 'date') {\n                return;\n            }\n            var nextPart = direction === 'left' ? 'date' : 'time';\n            _this.shouldFocusPart = true;\n            _this.setState({ tab: nextPart });\n        };\n        _this.handleReject = function (event) {\n            _this.setState({ dateValue: _this.props.value, timeValue: _this.props.value || MIDNIGHT_DATE });\n            var value = _this.mergeDate(_this.props.value, _this.props.value || MIDNIGHT_DATE);\n            if (_this.props.onReject) {\n                var args = {\n                    nativeEvent: event.nativeEvent,\n                    syntheticEvent: event,\n                    target: _this,\n                    value: value\n                };\n                _this.props.onReject.call(undefined, args);\n            }\n        };\n        _this.handleAccept = function (event, timeOverride) {\n            if (!_this.state.dateValue || !_this.state.timeValue || !_this.hasDateValue) {\n                return;\n            }\n            var value = _this.mergeDate(_this.state.dateValue, timeOverride || _this.state.timeValue);\n            _this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                value: value,\n                target: _this\n            });\n        };\n        _this.handleNowClick = function (event) {\n            _this.setState({ timeValue: getNow() });\n            _this.handleAccept(event, getNow());\n        };\n        _this.handleCalendarValueChange = function (event) {\n            event.syntheticEvent.stopPropagation();\n            _this.setState({ dateValue: event.value, tab: 'time' });\n            _this.shouldFocusPart = true;\n        };\n        _this.handleTimeListContainerChange = function (candidate) {\n            _this.setState({ timeValue: candidate });\n        };\n        _this.handleDateClick = function (event) {\n            event.stopPropagation();\n            _this.move('left');\n        };\n        _this.handleTimeClick = function (event) {\n            event.stopPropagation();\n            _this.move('right');\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode, altKey = event.altKey;\n            switch (keyCode) {\n                case Keys.enter:\n                    if (!_this.hasActiveButton() && _this.hasDateValue) {\n                        _this.handleAccept(event);\n                    }\n                    return;\n                case Keys.left:\n                    if (!altKey) {\n                        return;\n                    }\n                    _this.move('left');\n                    return;\n                case Keys.right:\n                    if (!altKey) {\n                        return;\n                    }\n                    _this.move('right');\n                    return;\n                default:\n                    return;\n            }\n        };\n        _this.handleTimePartMount = function (value) {\n            _this.setState({ timeValue: value });\n        };\n        _this.state = {\n            tab: 'date',\n            dateValue: _this.props.value,\n            timeValue: _this.props.value || MIDNIGHT_DATE\n        };\n        return _this;\n    }\n    Object.defineProperty(DateTimeSelector.prototype, \"calendar\", {\n        get: function () {\n            return this._calendar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimeSelector.prototype, \"timePart\", {\n        get: function () {\n            return this._timePart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimeSelector.prototype, \"hasDateValue\", {\n        get: function () {\n            return this.state.dateValue !== null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DateTimeSelector.prototype.componentDidUpdate = function () {\n        if (this.shouldFocusPart) {\n            this.focus({ preventScroll: true });\n        }\n        this.shouldFocusPart = false;\n    };\n    DateTimeSelector.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, disabled = _a.disabled, cancelButton = _a.cancelButton, min = _a.min, max = _a.max, weekNumber = _a.weekNumber, focusedDate = _a.focusedDate, format = _a.format;\n        var rootClassName = classNames({\n            'k-date-tab': this.state.tab === 'date',\n            'k-time-tab': this.state.tab === 'time',\n            'k-state-disabled': disabled\n        }, 'k-datetime-wrap');\n        var setButtonClassName = classNames({ 'k-state-disabled': !this.hasDateValue }, 'k-time-accept k-button k-primary');\n        var localizationService = provideLocalizationService(this);\n        var dateMessage = localizationService.toLanguageString(date, messages[date]);\n        var timeMessage = localizationService.toLanguageString(time, messages[time]);\n        var cancelMessage = localizationService.toLanguageString(cancel, messages[cancel]);\n        var setMessage = localizationService.toLanguageString(set, messages[set]);\n        var calendarProps = {\n            min: min, max: max, weekNumber: weekNumber, focusedDate: focusedDate,\n            disabled: disabled || this.state.tab !== 'date',\n            value: this.state.dateValue,\n            onChange: this.handleCalendarValueChange,\n            navigation: false\n        };\n        return (React.createElement(\"div\", { onKeyDown: this.handleKeyDown, className: rootClassName, tabIndex: -1 },\n            React.createElement(\"div\", { className: \"k-datetime-buttongroup\" },\n                React.createElement(ButtonGroup, { width: \"100%\" },\n                    React.createElement(Button, { type: \"button\", selected: this.state.tab === 'date', togglable: true, onClick: this.handleDateClick }, dateMessage),\n                    React.createElement(Button, { type: \"button\", selected: this.state.tab === 'time', togglable: true, onClick: this.handleTimeClick }, timeMessage))),\n            React.createElement(\"div\", { className: \"k-datetime-selector\" },\n                React.createElement(\"div\", { className: \"k-datetime-calendar-wrap\", ref: function (e) { return _this._calendarWrap = e; } }, this.props.calendar ?\n                    React.createElement(this.props.calendar, __assign({}, calendarProps)) :\n                    React.createElement(Calendar, __assign({ ref: function (calendar) { _this._calendar = calendar; } }, calendarProps))),\n                React.createElement(\"div\", { className: \"k-datetime-time-wrap\" }, React.createElement(TimePart, { key: 1, onNowClick: this.handleNowClick, disabled: disabled || this.state.tab !== 'time', ref: function (timePart) { _this._timePart = timePart; }, min: this.minTime || MIN_TIME, max: this.maxTime || MAX_TIME, steps: this.props.steps, value: this.state.timeValue, format: format, onChange: this.handleTimeListContainerChange, onMount: this.handleTimePartMount }))),\n            React.createElement(\"div\", { className: \"k-datetime-footer k-actions k-hstack k-justify-content-stretch\" },\n                cancelButton && React.createElement(\"button\", __assign({ type: \"button\", ref: function (btn) { _this._cancelButton = btn; }, className: \"k-button k-time-cancel\", onClick: this.handleReject, title: cancelMessage }, { 'aria-label': cancelMessage }), cancelMessage),\n                React.createElement(\"button\", __assign({ type: \"button\", ref: function (btn) { _this._acceptButton = btn; }, className: setButtonClassName, onClick: this.handleAccept, title: setMessage }, { 'aria-label': setMessage }), setMessage))));\n    };\n    Object.defineProperty(DateTimeSelector.prototype, \"minTime\", {\n        get: function () {\n            return this.props.minTime !== undefined\n                ? this.props.minTime\n                : this.normalizeRange(this.props.min, this.state.dateValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimeSelector.prototype, \"maxTime\", {\n        get: function () {\n            return this.props.maxTime !== undefined\n                ? this.props.maxTime\n                : this.normalizeRange(this.props.max, this.state.dateValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DateTimeSelector.prototype.normalizeRange = function (candidate, value) {\n        return isEqualDate(candidate, value || getToday())\n            ? candidate\n            : null;\n    };\n    DateTimeSelector.prototype.hasActiveButton = function () {\n        if (!this._acceptButton) {\n            return false;\n        }\n        return document.activeElement === this._acceptButton\n            || document.activeElement === this._cancelButton;\n    };\n    DateTimeSelector.prototype.mergeTime = function (current, candidate) {\n        return current && candidate ? setTime(candidate, current) : candidate;\n    };\n    DateTimeSelector.prototype.mergeDate = function (candidate, value) {\n        return candidate ? setTime(candidate || getToday(), value) : value;\n    };\n    return DateTimeSelector;\n}(React.Component));\nexport { DateTimeSelector };\nregisterForLocalization(DateTimeSelector);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, guid, Keys, AsyncFocusBlur } from '@progress/kendo-react-common';\nimport { DateInput } from '../dateinput/DateInput';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { MIN_DATE, MAX_DATE, isInDateRange, MAX_TIME } from '../utils';\nimport { messages, toggleDateTimeSelector } from '../messages';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { DateTimeSelector } from './DateTimeSelector';\nimport { isInTimeRange } from '../timepicker/utils';\nimport { MIN_TIME } from '../defaults';\nimport { PickerFloatingLabel } from '../hooks/usePickerFloatingLabel';\nvar DateTimePicker = /** @class */ (function (_super) {\n    __extends(DateTimePicker, _super);\n    function DateTimePicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this._popupId = guid();\n        _this._element = null;\n        _this._wrapper = null;\n        _this._dateInput = React.createRef();\n        _this._dateTimeSelector = null;\n        _this.shouldFocusDateInput = false;\n        _this.prevShow = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            var dateInputElement = _this.dateInputElement();\n            if (dateInputElement) {\n                dateInputElement.focus();\n            }\n        };\n        _this.handleReject = function () {\n            _this.shouldFocusDateInput = true;\n            _this.setShow(false);\n        };\n        _this.handleValueChange = function (event) {\n            _this.setState({\n                value: cloneDate(event.value || undefined),\n                show: false\n            });\n            _this.valueDuringOnChange = event.value;\n            _this.showDuringOnChange = false;\n            _this.shouldFocusDateInput = true;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    show: _this.show,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n            _this.showDuringOnChange = undefined;\n        };\n        _this.handleFocus = function () {\n            _this.setState({ focused: true });\n        };\n        _this.handleBlur = function () {\n            _this.setState({ focused: false });\n            _this.setShow(false);\n        };\n        _this.handleDateIconClick = function () {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.shouldFocusDateInput = true;\n            _this.setShow(!_this.show);\n        };\n        _this.handleIconMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleKeyDown = function (event) {\n            var altKey = event.altKey, keyCode = event.keyCode;\n            if (keyCode === Keys.esc) {\n                _this.shouldFocusDateInput = true;\n                _this.setShow(false);\n                return;\n            }\n            if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                event.stopPropagation();\n                _this.shouldFocusDateInput = keyCode === Keys.up;\n                _this.setShow(keyCode === Keys.down);\n            }\n        };\n        _this.dateInputElement = function () {\n            return (_this.dateInput && _this.dateInput.element) ||\n                (_this._wrapper && _this._wrapper.querySelector('.k-dateinput-wrap > input.k-input'));\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            value: _this.props.defaultValue || DateTimePicker.defaultProps.defaultValue,\n            show: _this.props.defaultShow || DateTimePicker.defaultProps.defaultShow,\n            focused: false\n        };\n        return _this;\n    }\n    Object.defineProperty(DateTimePicker.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the DateTimePicker.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"dateInput\", {\n        /**\n         * Gets the DateInput component inside the DateTimePicker component.\n         */\n        get: function () {\n            return this._dateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"value\", {\n        /**\n         * Gets the value of the DateTimePicker.\n         */\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return (value !== null) ? cloneDate(value) : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"show\", {\n        /**\n         * Gets the popup state of the DateTimePicker.\n         */\n        get: function () {\n            return this.showDuringOnChange !== undefined\n                ? this.showDuringOnChange\n                : this.props.show !== undefined\n                    ? this.props.show\n                    : this.state.show;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DateTimePicker.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DateTimePicker.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DateTimePicker.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DateTimePicker is set.\n         */\n        get: function () {\n            var inRange = isInDateRange(this.value, this.min, this.max)\n                && isInTimeRange(this.value, this.props.minTime || MIN_TIME, this.props.maxTime || MAX_TIME);\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== null) && inRange;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                rangeOverflow: (this.value && this.max.getTime() < this.value.getTime()) || false,\n                rangeUnderflow: (this.value && this.value.getTime() < this.min.getTime()) || false,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DateTimePicker.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DateTimePicker.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateTimePicker.prototype, \"dateInputComp\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.dateInput || DateTimePicker.defaultProps.dateInput;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DateTimePicker.prototype.componentDidMount = function () {\n        if (this.show) {\n            // If defaultShow is true during the initial render, the popup is not aligned.\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateTimePicker.prototype.componentDidUpdate = function () {\n        var dateInputElement = this.dateInputElement();\n        if (this._dateTimeSelector && this.show && !this.prevShow) {\n            this._dateTimeSelector.focus({ preventScroll: true });\n        }\n        if (dateInputElement\n            && !this.show\n            && this.shouldFocusDateInput) {\n            dateInputElement.focus({ preventScroll: true });\n        }\n        this.prevShow = this.show;\n        this.shouldFocusDateInput = false;\n    };\n    /**\n     * @hidden\n     */\n    DateTimePicker.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    DateTimePicker.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, disabled = _a.disabled, tabIndex = _a.tabIndex, title = _a.title, id = _a.id, format = _a.format, formatPlaceholder = _a.formatPlaceholder, min = _a.min, max = _a.max, weekNumber = _a.weekNumber, focusedDate = _a.focusedDate, className = _a.className, width = _a.width, name = _a.name, validationMessage = _a.validationMessage, required = _a.required, validityStyles = _a.validityStyles, cancelButton = _a.cancelButton, minTime = _a.minTime, maxTime = _a.maxTime, ariaLabelledBy = _a.ariaLabelledBy, ariaDescribedBy = _a.ariaDescribedBy, _b = _a.popup, PopupComponent = _b === void 0 ? Popup : _b, calendar = _a.calendar;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var rootClassName = classNames('k-widget k-datetimepicker', {\n            'k-state-invalid': !isValid\n        }, className);\n        var wrapperClassNames = classNames('k-picker-wrap', {\n            'k-state-disabled': disabled,\n            'k-state-focused': this.state.focused\n        });\n        var dataInputProps = {\n            id: id, ariaLabelledBy: ariaLabelledBy, ariaDescribedBy: ariaDescribedBy, format: format, formatPlaceholder: formatPlaceholder, disabled: disabled,\n            title: title, validityStyles: validityStyles, validationMessage: validationMessage, required: required, min: min, max: max, minTime: minTime, maxTime: maxTime, name: name,\n            tabIndex: !this.show ? tabIndex : -1,\n            valid: this.validity.valid,\n            value: this.value,\n            onChange: this.handleValueChange,\n            steps: this.props.steps,\n            label: undefined,\n            placeholder: !this.state.focused ? this.props.placeholder : null,\n            ariaHasPopup: true,\n            ariaExpanded: this.show\n        };\n        var dateTimePicker = (React.createElement(AsyncFocusBlur, { onFocus: this.handleFocus, onBlur: this.handleBlur, onSyncFocus: this.props.onFocus, onSyncBlur: this.props.onBlur }, function (_a) {\n            var onFocus = _a.onFocus, onBlur = _a.onBlur;\n            return (React.createElement(\"div\", { ref: function (div) {\n                    _this._element = div;\n                }, className: rootClassName, onKeyDown: _this.handleKeyDown, style: { width: width }, onFocus: onFocus, onBlur: onBlur },\n                React.createElement(\"div\", { ref: function (span) { _this._wrapper = span; }, className: wrapperClassNames },\n                    React.createElement(_this.dateInputComp, __assign({ _ref: _this._dateInput }, dataInputProps)),\n                    React.createElement(\"span\", __assign({ role: \"button\", onMouseDown: _this.handleIconMouseDown, onClick: _this.handleDateIconClick, title: provideLocalizationService(_this)\n                            .toLanguageString(toggleDateTimeSelector, messages[toggleDateTimeSelector]), className: \"k-select\" }, {\n                        'aria-controls': _this._popupId,\n                        'aria-label': provideLocalizationService(_this)\n                            .toLanguageString(toggleDateTimeSelector, messages[toggleDateTimeSelector])\n                    }),\n                        React.createElement(\"span\", { className: \"k-link k-link-date\" },\n                            React.createElement(\"span\", { className: \"k-icon k-i-calendar\" })))),\n                React.createElement(PopupComponent, { show: _this.show, animate: _this._wrapper !== null, anchor: _this._wrapper, className: \"k-datetime-container k-group k-reset\", id: _this._popupId, anchorAlign: {\n                        horizontal: 'left',\n                        vertical: 'bottom'\n                    }, popupAlign: {\n                        horizontal: 'left',\n                        vertical: 'top'\n                    } },\n                    React.createElement(DateTimeSelector, { ref: function (dateTimeSelector) { _this._dateTimeSelector = dateTimeSelector; }, cancelButton: cancelButton, steps: _this.props.steps, value: _this.value, onChange: _this.handleValueChange, onReject: _this.handleReject, disabled: disabled, weekNumber: weekNumber, min: _this.min, max: _this.max, minTime: minTime, maxTime: maxTime, focusedDate: focusedDate, format: format, calendar: calendar }))));\n        }));\n        return this.props.label\n            ? (React.createElement(PickerFloatingLabel, { dateInput: this._dateInput, label: this.props.label, editorId: id, editorValid: isValid, editorDisabled: this.props.disabled, children: dateTimePicker, style: { width: this.props.width } }))\n            : dateTimePicker;\n    };\n    DateTimePicker.prototype.setShow = function (show) {\n        if (this.show === show) {\n            return;\n        }\n        this.setState({ show: show });\n    };\n    DateTimePicker.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    /**\n     * @hidden\n     */\n    DateTimePicker.propTypes = {\n        className: PropTypes.string,\n        defaultShow: PropTypes.bool,\n        defaultValue: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        focusedDate: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        formatPlaceholder: PropTypes.oneOfType([\n            PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']),\n            PropTypes.shape({\n                year: PropTypes.string,\n                month: PropTypes.string,\n                day: PropTypes.string,\n                hour: PropTypes.string,\n                minute: PropTypes.string,\n                second: PropTypes.string\n            })\n        ]),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        min: PropTypes.instanceOf(Date),\n        max: PropTypes.instanceOf(Date),\n        name: PropTypes.string,\n        popupSettings: PropTypes.shape({\n            animate: PropTypes.bool,\n            appendTo: PropTypes.any,\n            popupClass: PropTypes.string\n        }),\n        show: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        title: PropTypes.string,\n        value: PropTypes.instanceOf(Date),\n        weekNumber: PropTypes.bool,\n        width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        valid: PropTypes.bool,\n        cancelButton: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    DateTimePicker.defaultProps = {\n        defaultShow: false,\n        defaultValue: null,\n        disabled: false,\n        format: 'g',\n        max: MAX_DATE,\n        min: MIN_DATE,\n        popupSettings: {},\n        tabIndex: 0,\n        weekNumber: false,\n        required: false,\n        validityStyles: true,\n        cancelButton: true,\n        dateInput: DateInput\n    };\n    return DateTimePicker;\n}(React.Component));\nexport { DateTimePicker };\nregisterForLocalization(DateTimePicker);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createFilterComponent } from './FilterComponent';\nimport { DatePicker } from '@progress/kendo-react-dateinputs';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nvar settings = {\n    inputComponent: function (props) { return React.createElement(DatePicker, __assign({}, props)); },\n    operatorComponent: function (props) { return React.createElement(DropDownList, __assign({}, props)); },\n    emptyFilter: { operator: 'eq', value: null }\n};\n/**\n * @hidden\n */\nvar DateFilterCell = /** @class */ (function (_super) {\n    __extends(DateFilterCell, _super);\n    function DateFilterCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DateFilterCell;\n}(createFilterComponent(settings)));\nexport { DateFilterCell };\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-inputs',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635344847,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","/**\n * @hidden\n */\nexport var isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n *\n * Fits the contender number into the specified bounds.\n * If the number is NaN or null, the minimum is returned.\n *\n * @param contender Represents the number you want to fit into the specified bounds.\n * @param min The inclusive lower bound number.\n * @param max The inclusive upper bound number.\n */\nexport var fitIntoBounds = function (contender, min, max) {\n    if (!isPresent(contender) || isNaN(contender)) {\n        return min;\n    }\n    return contender <= min ? min : contender >= max ? max : contender;\n};\n","var Class = function Class () {};\n\nexport default Class;\n","function matchUserAgent(userAgent) {\n    var browserRxs = {\n        edge: /(edge)[ \\/]([\\w.]+)/i,\n        webkit: /(chrome)[ \\/]([\\w.]+)/i,\n        safari: /(webkit)[ \\/]([\\w.]+)/i,\n        opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n        msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n        mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n    };\n\n    var browser;\n\n    for (var agent in browserRxs) {\n        if (browserRxs.hasOwnProperty(agent)) {\n            var match = userAgent.match(browserRxs[agent]);\n            if (match) {\n                browser = {};\n                browser[agent] = true;\n                browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                browser.version = parseInt(document.documentMode || match[2], 10);\n\n                break;\n            }\n        }\n    }\n\n    return browser;\n}\n\nvar browser = {};\n\nvar support = {\n    get browser() {\n        if (typeof window === 'undefined' || browser) {\n            return browser;\n        }\n\n        browser = matchUserAgent(window.navigator.userAgent);\n        return browser;\n    }\n};\n\nexport default support;\n","var namedColors = {\n    aliceblue: \"f0f8ff\", antiquewhite: \"faebd7\", aqua: \"00ffff\",\n    aquamarine: \"7fffd4\", azure: \"f0ffff\", beige: \"f5f5dc\",\n    bisque: \"ffe4c4\", black: \"000000\", blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\", blueviolet: \"8a2be2\", brown: \"a52a2a\",\n    burlywood: \"deb887\", cadetblue: \"5f9ea0\", chartreuse: \"7fff00\",\n    chocolate: \"d2691e\", coral: \"ff7f50\", cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\", crimson: \"dc143c\", cyan: \"00ffff\",\n    darkblue: \"00008b\", darkcyan: \"008b8b\", darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\", darkgrey: \"a9a9a9\", darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\", darkmagenta: \"8b008b\", darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\", darkorchid: \"9932cc\", darkred: \"8b0000\",\n    darksalmon: \"e9967a\", darkseagreen: \"8fbc8f\", darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\", darkslategrey: \"2f4f4f\", darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\", deeppink: \"ff1493\", deepskyblue: \"00bfff\",\n    dimgray: \"696969\", dimgrey: \"696969\", dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\", floralwhite: \"fffaf0\", forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\", gainsboro: \"dcdcdc\", ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\", goldenrod: \"daa520\", gray: \"808080\",\n    grey: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\", hotpink: \"ff69b4\", indianred: \"cd5c5c\",\n    indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n    lavender: \"e6e6fa\", lavenderblush: \"fff0f5\", lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\", lightblue: \"add8e6\", lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\", lightgoldenrodyellow: \"fafad2\", lightgray: \"d3d3d3\",\n    lightgrey: \"d3d3d3\", lightgreen: \"90ee90\", lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\", lightseagreen: \"20b2aa\", lightskyblue: \"87cefa\",\n    lightslategray: \"778899\", lightslategrey: \"778899\", lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\", lime: \"00ff00\", limegreen: \"32cd32\",\n    linen: \"faf0e6\", magenta: \"ff00ff\", maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\", mediumblue: \"0000cd\", mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\", mediumseagreen: \"3cb371\", mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\", mediumturquoise: \"48d1cc\", mediumvioletred: \"c71585\",\n    midnightblue: \"191970\", mintcream: \"f5fffa\", mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\", navajowhite: \"ffdead\", navy: \"000080\",\n    oldlace: \"fdf5e6\", olive: \"808000\", olivedrab: \"6b8e23\",\n    orange: \"ffa500\", orangered: \"ff4500\", orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\", palegreen: \"98fb98\", paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\", papayawhip: \"ffefd5\", peachpuff: \"ffdab9\",\n    peru: \"cd853f\", pink: \"ffc0cb\", plum: \"dda0dd\",\n    powderblue: \"b0e0e6\", purple: \"800080\", red: \"ff0000\",\n    rosybrown: \"bc8f8f\", royalblue: \"4169e1\", saddlebrown: \"8b4513\",\n    salmon: \"fa8072\", sandybrown: \"f4a460\", seagreen: \"2e8b57\",\n    seashell: \"fff5ee\", sienna: \"a0522d\", silver: \"c0c0c0\",\n    skyblue: \"87ceeb\", slateblue: \"6a5acd\", slategray: \"708090\",\n    slategrey: \"708090\", snow: \"fffafa\", springgreen: \"00ff7f\",\n    steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n    thistle: \"d8bfd8\", tomato: \"ff6347\", turquoise: \"40e0d0\",\n    violet: \"ee82ee\", wheat: \"f5deb3\", white: \"ffffff\",\n    whitesmoke: \"f5f5f5\", yellow: \"ffff00\", yellowgreen: \"9acd32\"\n};\n\nexport default namedColors;","import Class from '../class';\nimport support from '../support';\nimport namedColors from './named-colors';\n\nvar browser = support.browser;\n\nvar matchNamedColor = function (color) {\n    var colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    var regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = function (color) { return regexp.exec(color); };\n\n    return regexp.exec(color);\n};\n\nvar BaseColor = (function (Class) {\n    function BaseColor() { Class.call(this); }\n\n    if ( Class ) BaseColor.__proto__ = Class;\n    BaseColor.prototype = Object.create( Class && Class.prototype );\n    BaseColor.prototype.constructor = BaseColor;\n    BaseColor.prototype.toHSV = function toHSV () { return this; };\n\n    BaseColor.prototype.toRGB = function toRGB () { return this; };\n\n    BaseColor.prototype.toHex = function toHex (options) { return this.toBytes().toHex(options); };\n\n    BaseColor.prototype.toBytes = function toBytes () { return this; };\n\n    BaseColor.prototype.toCss = function toCss (options) { return \"#\" + this.toHex(options); };\n\n    BaseColor.prototype.toCssRgba = function toCssRgba () {\n        var rgb = this.toBytes();\n        return (\"rgba(\" + (rgb.r) + \", \" + (rgb.g) + \", \" + (rgb.b) + \", \" + (parseFloat((Number(this.a)).toFixed(3))) + \")\");\n    };\n\n    BaseColor.prototype.toDisplay = function toDisplay () {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    };\n\n    BaseColor.prototype.equals = function equals (c) {\n        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();\n    };\n\n    BaseColor.prototype.diff = function diff (other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        var c1 = this.toBytes();\n        var c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    };\n\n    BaseColor.prototype.clone = function clone () {\n        var c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    };\n\n    return BaseColor;\n}(Class));\n\nvar RGB = (function (BaseColor) {\n    function RGB(r, g, b, a) {\n        BaseColor.call(this);\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    if ( BaseColor ) RGB.__proto__ = BaseColor;\n    RGB.prototype = Object.create( BaseColor && BaseColor.prototype );\n    RGB.prototype.constructor = RGB;\n\n    RGB.prototype.toHSV = function toHSV () {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var v = max;\n        var h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    };\n\n    RGB.prototype.toHSL = function toHSL () {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n        }\n\n        return new HSL(h * 60, s * 100, l * 100, this.a);\n    };\n\n    RGB.prototype.toBytes = function toBytes () {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    };\n\n    return RGB;\n}(BaseColor));\n\nvar Bytes = (function (RGB) {\n    function Bytes(r, g, b, a) {\n        RGB.call(this, Math.round(r), Math.round(g), Math.round(b), a);\n    }\n\n    if ( RGB ) Bytes.__proto__ = RGB;\n    Bytes.prototype = Object.create( RGB && RGB.prototype );\n    Bytes.prototype.constructor = Bytes;\n\n    Bytes.prototype.toRGB = function toRGB () {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    };\n\n    Bytes.prototype.toHSV = function toHSV () {\n        return this.toRGB().toHSV();\n    };\n\n    Bytes.prototype.toHSL = function toHSL () {\n        return this.toRGB().toHSL();\n    };\n\n    Bytes.prototype.toHex = function toHex (options) {\n        var value = hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n\n        if (options && options.alpha) {\n            value += hex(Math.round(this.a * 255), 2);\n        }\n\n        return value;\n    };\n\n    Bytes.prototype.toBytes = function toBytes () {\n        return this;\n    };\n\n    return Bytes;\n}(RGB));\n\nfunction hex(n, width, pad) {\n    if ( pad === void 0 ) pad = \"0\";\n\n    var result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nvar HSV = (function (BaseColor) {\n    function HSV(h, s, v, a) {\n        BaseColor.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n\n    if ( BaseColor ) HSV.__proto__ = BaseColor;\n    HSV.prototype = Object.create( BaseColor && BaseColor.prototype );\n    HSV.prototype.constructor = HSV;\n\n    HSV.prototype.toRGB = function toRGB () {\n        var ref = this;\n        var h = ref.h;\n        var s = ref.s;\n        var v = ref.v;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            var i = Math.floor(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    };\n\n    HSV.prototype.toHSL = function toHSL () {\n        return this.toRGB().toHSL();\n    };\n\n    HSV.prototype.toBytes = function toBytes () {\n        return this.toRGB().toBytes();\n    };\n\n    return HSV;\n}(BaseColor));\n\nvar HSL = (function (BaseColor) {\n    function HSL(h, s, l, a) {\n        BaseColor.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n\n    if ( BaseColor ) HSL.__proto__ = BaseColor;\n    HSL.prototype = Object.create( BaseColor && BaseColor.prototype );\n    HSL.prototype.constructor = HSL;\n\n    HSL.prototype.toRGB = function toRGB () {\n        var h = this.h / 360;\n        var s = this.s / 100;\n        var l = this.l / 100;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    };\n\n    HSL.prototype.toHSV = function toHSV () {\n        return this.toRGB().toHSV();\n    };\n\n    HSL.prototype.toBytes = function toBytes () {\n        return this.toRGB().toBytes();\n    };\n\n    return HSL;\n}(BaseColor));\n\nfunction hue2rgb(p, q, s) {\n    var t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nfunction alphaFromHex(a) {\n    return parseFloat(parseFloat(parseInt(a, 16) / 255 ).toFixed(3));\n}\n\nexport { RGB, Bytes, HSV, HSL };\n\nexport default function parseColor(value, safe) {\n    var m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    var color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) { // Parse 4 digit hex color\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16),\n                        alphaFromHex(m[4] + m[4]));\n    } else if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) { // Parse 8 digit hex color\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16),\n                        alphaFromHex(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n","import Class from '../class';\nimport namedColors from './named-colors';\nimport { Bytes, RGB, HSV, HSL } from './parse-color';\n\nvar DARK_TRESHOLD = 180;\n\nvar Color = (function (Class) {\n    function Color(value) {\n        var this$1 = this;\n\n        Class.call(this);\n\n        if (arguments.length === 1) {\n            var formats = Color.formats;\n            var resolvedColor = this.resolveColor(value);\n\n            for (var idx = 0; idx < formats.length; idx++) {\n                var formatRegex = formats[idx].re;\n                var processor = formats[idx].process;\n                var parts = formatRegex.exec(resolvedColor);\n\n                if (parts) {\n                    var channels = processor(parts);\n                    this$1.r = channels[0];\n                    this$1.g = channels[1];\n                    this$1.b = channels[2];\n                }\n            }\n        } else {\n            this.r = arguments[0];\n            this.g = arguments[1];\n            this.b = arguments[2];\n        }\n\n        this.r = this.normalizeByte(this.r);\n        this.g = this.normalizeByte(this.g);\n        this.b = this.normalizeByte(this.b);\n    }\n\n    if ( Class ) Color.__proto__ = Class;\n    Color.prototype = Object.create( Class && Class.prototype );\n    Color.prototype.constructor = Color;\n\n    Color.prototype.toHex = function toHex () {\n        var pad = this.padDigit;\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n\n        return \"#\" + pad(r) + pad(g) + pad(b);\n    };\n\n    Color.prototype.resolveColor = function resolveColor (value) {\n        var color = value || \"black\";\n\n        if (color.charAt(0) === \"#\") {\n            color = color.substr(1, 6);\n        }\n\n        color = color.replace(/ /g, \"\");\n        color = color.toLowerCase();\n        color = Color.namedColors[color] || color;\n\n        return color;\n    };\n\n    Color.prototype.normalizeByte = function normalizeByte (value) {\n        if (value < 0 || isNaN(value)) {\n            return 0;\n        }\n\n        return value > 255 ? 255 : value;\n    };\n\n    Color.prototype.padDigit = function padDigit (value) {\n        return (value.length === 1) ? \"0\" + value : value;\n    };\n\n    Color.prototype.brightness = function brightness (value) {\n        var round = Math.round;\n\n        this.r = round(this.normalizeByte(this.r * value));\n        this.g = round(this.normalizeByte(this.g * value));\n        this.b = round(this.normalizeByte(this.b * value));\n\n        return this;\n    };\n\n    Color.prototype.percBrightness = function percBrightness () {\n        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);\n    };\n\n    Color.prototype.isDark = function isDark () {\n        return this.percBrightness() < DARK_TRESHOLD;\n    };\n\n    Color.fromBytes = function fromBytes (r, g, b, a) {\n        return new Bytes(r, g, b, a != null ? a : 1);\n    };\n\n    Color.fromRGB = function fromRGB (r, g, b, a) {\n        return new RGB(r, g, b, a != null ? a : 1);\n    };\n\n    Color.fromHSV = function fromHSV (h, s, v, a) {\n        return new HSV(h, s, v, a != null ? a : 1);\n    };\n\n    Color.fromHSL = function fromHSL (h, s, l, a) {\n        return new HSL(h, s, l, a != null ? a : 1);\n    };\n\n    return Color;\n}(Class));\n\nColor.formats = [ {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n        ];\n    }\n}, {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n        ];\n    }\n}, {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1] + parts[1], 16),\n            parseInt(parts[2] + parts[2], 16),\n            parseInt(parts[3] + parts[3], 16)\n        ];\n    }\n} ];\n\nColor.namedColors = namedColors;\n\nexport default Color;","import { parseColor as parse, Color } from '@progress/kendo-drawing';\nimport { isPresent, fitIntoBounds } from './misc';\n/**\n * @hidden\n *\n * Returns the hex or RGBA string representation of the color.\n */\nexport var parseColor = function (value, format, safe) {\n    if (safe === void 0) { safe = true; }\n    var allowedFormats = ['hex', 'rgba']; // TODO: constant?\n    // Angular supports third type: name : const allowedFormats: Array<string> = ['hex', 'rgba', 'name'];\n    if (allowedFormats.indexOf(format) === -1) {\n        throw new Error(\"Unsupported color output format '\" + format + \"'. The available options are 'hex' or 'rgba'.\");\n    }\n    if (!isPresent(value)) {\n        return;\n    }\n    var parsedColor = parse(value.trim(), safe);\n    if (!isPresent(parsedColor)) {\n        return;\n    }\n    return format === 'hex' ? parsedColor.toCss() : parsedColor.toCssRgba();\n};\n/**\n * @hidden\n *\n * Returns an HSV object representation of the color string.\n */\nexport var getHSV = function (value, safe) {\n    if (safe === void 0) { safe = true; }\n    var parsed = parse(value, safe);\n    if (!isPresent(parsed)) {\n        return {};\n    }\n    return parsed.toHSV();\n};\n/**\n * @hidden\n *\n * Returns an RGBA object representation of the color string.\n */\nexport var getRGBA = function (value, safe) {\n    if (safe === void 0) { safe = true; }\n    var parsed = parse(value, safe);\n    if (!isPresent(parsed)) {\n        return {};\n    }\n    return parsed.toBytes();\n};\n/**\n * @hidden\n *\n * Returns the RGBA string representation of the color.\n */\nexport var getColorFromHSV = function (hsva) {\n    var hue = fitIntoBounds(hsva.h, 0, 359.9);\n    var saturation = fitIntoBounds(hsva.s, 0, 1);\n    var value = fitIntoBounds(hsva.v, 0, 1);\n    var alpha = fitIntoBounds(hsva.a, 0, 1);\n    return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n};\n/**\n * @hidden\n *\n * Returns the RGBA string representation of the color based on the `hue` and\n * assuming the `value`, `saturation`, and `alpha` have a value of `1`.\n */\nexport var getColorFromHue = function (hue) {\n    return getColorFromHSV({ h: hue, s: 1, v: 1, a: 1 });\n};\n/**\n * @hidden\n *\n * Returns the RGBA string representation of the color.\n */\nexport var getColorFromRGBA = function (rgba) {\n    var red = fitIntoBounds(rgba.r, 0, 255);\n    var green = fitIntoBounds(rgba.g, 0, 255);\n    var blue = fitIntoBounds(rgba.b, 0, 255);\n    var alpha = fitIntoBounds(rgba.a, 0, 1);\n    return Color.fromBytes(red, green, blue, alpha).toCssRgba();\n};\n/**\n * @hidden\n *\n * Returns the RGB object representation of the color based on the background color.\n */\nexport var getRGBFromRGBA = function (foregroundColor, backgroundColor) {\n    var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n    var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n    var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n    var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n    var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n    var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n    var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n    return {\n        r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n        g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n        b: Math.round(((1 - a1) * b2) + (a1 * b1))\n    };\n};\n/**\n * @hidden\n *\n * Returns the relative luminance.\n */\nexport var getLuminance = function (rgb) {\n    var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n        v /= 255;\n        return v <= 0.03928\n            ? v / 12.92\n            : Math.pow((v + 0.055) / 1.055, 2.4);\n    });\n    return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n};\n/**\n * @hidden\n *\n * Returns the color contrast.\n */\nexport var getContrast = function (luminance1, luminance2) {\n    var brightest = Math.max(luminance1, luminance2);\n    var darkest = Math.min(luminance1, luminance2);\n    return (brightest + 0.05)\n        / (darkest + 0.05);\n};\n/**\n * @hidden\n *\n * Returns the color contrast from two RGBA colors.\n */\nexport var getContrastFromTwoRGBAs = function (a, b) {\n    return getContrast(getLuminance(getRGBFromRGBA(a, b)), getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n};\n","var cache = {};\n/**\n * @hidden\n */\nexport function cacheHsva(componentGuid, value, hsva) {\n    cache[componentGuid] = { value: value, hsva: hsva };\n}\n/**\n * @hidden\n */\nexport function cacheRgba(componentGuid, value, rgba) {\n    cache[componentGuid] = { value: value, rgba: rgba };\n}\n/**\n * @hidden\n */\nexport function cacheHex(componentGuid, value, hex) {\n    cache[componentGuid] = { value: value, hex: hex };\n}\n/**\n * @hidden\n */\nexport function removeCachedColor(componentGuid) {\n    delete cache[componentGuid];\n}\n/**\n * @hidden\n */\nexport function getCachedHex(componentGuid, value) {\n    if (componentGuid) {\n        var cachedColor = cache[componentGuid];\n        return cachedColor && cachedColor.value === value ? cachedColor.hex : undefined;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @hidden\n */\nexport function getCachedHsva(componentGuid, value) {\n    if (componentGuid) {\n        var cachedColor = cache[componentGuid];\n        return cachedColor && cachedColor.value === value ? cachedColor.hsva : undefined;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @hidden\n */\nexport function getCachedRgba(componentGuid, value) {\n    if (componentGuid) {\n        var cachedColor = cache[componentGuid];\n        return cachedColor && cachedColor.value === value ? cachedColor.rgba : undefined;\n    }\n    else {\n        return undefined;\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { parseColor } from './utils/color-parser';\nimport { isPresent } from './utils/misc';\n/**\n * @hidden\n */\nvar HexInput = /** @class */ (function (_super) {\n    __extends(HexInput, _super);\n    function HexInput(props) {\n        var _this = _super.call(this, props) || this;\n        _this.onChange = function (event) {\n            var hex = event.target.value;\n            var value = parseColor(hex, 'rgba');\n            _this.setState({ hex: hex });\n            if (isPresent(value)) {\n                _this.props.onHexChange(hex, value, event);\n            }\n        };\n        _this.onBlur = function () {\n            if (!isPresent(parseColor(_this.state.hex, 'rgba'))) {\n                _this.setState({ hex: _this.state.originalHex });\n            }\n        };\n        _this.state = { hex: _this.props.hex, originalHex: _this.props.hex };\n        return _this;\n    }\n    HexInput.prototype.render = function () {\n        return (React.createElement(\"input\", { value: this.state.hex, className: \"k-textbox k-hex-value\", onChange: this.onChange, onBlur: this.onBlur, disabled: this.props.disabled }));\n    };\n    HexInput.getDerivedStateFromProps = function (props, state) {\n        if (props.hex !== state.originalHex) {\n            return { hex: props.hex, originalHex: props.hex };\n        }\n        return null;\n    };\n    return HexInput;\n}(React.Component));\nexport default HexInput;\n","var _a;\n/**\n * @hidden\n */\nexport var numericIncreaseValue = 'numerictextbox.increment';\n/**\n * @hidden\n */\nexport var numericDecreaseValue = 'numerictextbox.decrement';\n/**\n * @hidden\n */\nexport var sliderIncreaseValue = 'slider.increment';\n/**\n * @hidden\n */\nexport var sliderDecreaseValue = 'slider.decrement';\n/**\n * @hidden\n */\nexport var sliderDragTitle = 'slider.dragTitle';\n/**\n * @hidden\n */\nexport var colorGradientR = 'colorGradient.r';\n/**\n * @hidden\n */\nexport var colorGradientG = 'colorGradient.g';\n/**\n * @hidden\n */\nexport var colorGradientB = 'colorGradient.b';\n/**\n * @hidden\n */\nexport var colorGradientA = 'colorGradient.a';\n/**\n * @hidden\n */\nexport var colorGradientHex = 'colorGradient.hex';\n/**\n * @hidden\n */\nexport var colorGradientContrastRatio = 'colorGradient.contrastRatio';\n/**\n * @hidden\n */\nexport var colorGradientAALevel = 'colorGradient.colorGradientAALevel';\n/**\n * @hidden\n */\nexport var colorGradientAAALevel = 'colorGradient.colorGradientAAALevel';\n/**\n * @hidden\n */\nexport var colorGradientPass = 'colorGradient.colorGradientPass';\n/**\n * @hidden\n */\nexport var colorGradientFail = 'colorGradient.colorGradientFail';\n/**\n * @hidden\n */\nexport var checkboxValidation = 'checkbox.validation';\n/**\n * @hidden\n */\nexport var checkboxOptionalText = 'checkbox.optionalText';\n/**\n * @hidden\n */\nexport var radioButtonValidation = 'radioButton.validation';\n/**\n * @hidden\n */\nexport var switchValidation = 'switch.validation';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[numericIncreaseValue] = 'Increase value',\n    _a[numericDecreaseValue] = 'Decrease value',\n    _a[sliderIncreaseValue] = 'Increase',\n    _a[sliderDecreaseValue] = 'Decrease',\n    _a[sliderDragTitle] = 'Drag',\n    _a[colorGradientR] = 'r',\n    _a[colorGradientG] = 'g',\n    _a[colorGradientB] = 'b',\n    _a[colorGradientA] = 'a',\n    _a[colorGradientHex] = 'hex',\n    _a[colorGradientContrastRatio] = 'Contrast ratio',\n    _a[colorGradientAALevel] = 'AA',\n    _a[colorGradientAAALevel] = 'AAA',\n    _a[colorGradientPass] = 'Pass',\n    _a[colorGradientFail] = 'Fail',\n    _a[checkboxValidation] = 'Please check this box if you want to proceed!',\n    _a[checkboxOptionalText] = '(Optional)',\n    _a[radioButtonValidation] = 'Please select option if you want to proceed!',\n    _a[switchValidation] = 'Please turn on if you want to proceed!',\n    _a);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { NumericTextBox } from '../main';\nimport HexInput from './HexInput';\nimport { registerForIntl, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, colorGradientR, colorGradientHex, colorGradientA, colorGradientB, colorGradientG } from '../messages';\n/**\n * @hidden\n */\nvar ColorInput = /** @class */ (function (_super) {\n    __extends(ColorInput, _super);\n    function ColorInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onRgbaRChange = function (event) {\n            _this.dispatchRgbaChange({ r: event.value }, event);\n        };\n        _this.onRgbaGChange = function (event) {\n            _this.dispatchRgbaChange({ g: event.value }, event);\n        };\n        _this.onRgbaBChange = function (event) {\n            _this.dispatchRgbaChange({ b: event.value }, event);\n        };\n        _this.onRgbaAChange = function (event) {\n            _this.dispatchRgbaChange({ a: event.value }, event);\n        };\n        return _this;\n    }\n    ColorInput.prototype.render = function () {\n        var localizationService = provideLocalizationService(this);\n        var hexMessage = localizationService.toLanguageString(colorGradientR, messages[colorGradientHex]);\n        var rMessage = localizationService.toLanguageString(colorGradientR, messages[colorGradientR]);\n        var gMessage = localizationService.toLanguageString(colorGradientR, messages[colorGradientG]);\n        var bMessage = localizationService.toLanguageString(colorGradientR, messages[colorGradientB]);\n        var aMessage = localizationService.toLanguageString(colorGradientR, messages[colorGradientA]);\n        return (React.createElement(\"div\", { className: \"k-colorinputs\" },\n            React.createElement(\"div\", { className: \"k-hbox k-gradient-values\" },\n                React.createElement(HexInput, { hex: this.props.hex, onHexChange: this.props.onHexChange, disabled: this.props.disabled }),\n                React.createElement(NumericTextBox, { value: this.props.rgba.r, min: 0, max: 255, spinners: false, format: \"n\", onChange: this.onRgbaRChange, disabled: this.props.disabled }),\n                React.createElement(NumericTextBox, { value: this.props.rgba.g, min: 0, max: 255, spinners: false, format: \"n\", onChange: this.onRgbaGChange, disabled: this.props.disabled }),\n                React.createElement(NumericTextBox, { value: this.props.rgba.b, min: 0, max: 255, spinners: false, format: \"n\", onChange: this.onRgbaBChange, disabled: this.props.disabled }),\n                this.props.opacity && React.createElement(NumericTextBox, { value: this.props.rgba.a, min: 0, max: 1, step: 0.01, spinners: false, format: \"n2\", onChange: this.onRgbaAChange, disabled: this.props.disabled })),\n            React.createElement(\"div\", { className: \"k-hbox k-gradient-values\" },\n                React.createElement(\"div\", { className: \"k-hex-value\" }, hexMessage),\n                React.createElement(\"div\", null, rMessage),\n                React.createElement(\"div\", null, gMessage),\n                React.createElement(\"div\", null, bMessage),\n                this.props.opacity && (React.createElement(\"div\", null, aMessage)))));\n    };\n    ColorInput.prototype.dispatchRgbaChange = function (newValue, event) {\n        var rgba = __assign({}, this.props.rgba);\n        if (newValue.r !== undefined) {\n            rgba.r = newValue.r;\n        }\n        if (newValue.g !== undefined) {\n            rgba.g = newValue.g;\n        }\n        if (newValue.b !== undefined) {\n            rgba.b = newValue.b;\n        }\n        if (newValue.a !== undefined) {\n            rgba.a = newValue.a;\n        }\n        this.props.onRgbaChange(rgba, event);\n    };\n    return ColorInput;\n}(React.Component));\nexport default ColorInput;\nregisterForIntl(ColorInput);\nregisterForLocalization(ColorInput);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, colorGradientContrastRatio, colorGradientAALevel, colorGradientAAALevel, colorGradientPass, colorGradientFail } from '../messages';\nimport { getContrastFromTwoRGBAs } from './utils/color-parser';\n/**\n * @hidden\n */\nvar ColorContrastLabels = /** @class */ (function (_super) {\n    __extends(ColorContrastLabels, _super);\n    function ColorContrastLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColorContrastLabels.prototype.render = function () {\n        var localizationService = provideLocalizationService(this);\n        var contrastRatioMessage = localizationService.toLanguageString(colorGradientContrastRatio, messages[colorGradientContrastRatio]);\n        var AALevelMessage = localizationService.toLanguageString(colorGradientAALevel, messages[colorGradientAALevel]);\n        var AAALevelMessage = localizationService.toLanguageString(colorGradientAAALevel, messages[colorGradientAAALevel]);\n        var passMessage = localizationService.toLanguageString(colorGradientPass, messages[colorGradientPass]);\n        var failMessage = localizationService.toLanguageString(colorGradientFail, messages[colorGradientFail]);\n        var contrast = getContrastFromTwoRGBAs(this.props.rgba, this.props.bgColor);\n        var requiredAAContrast = (4.5).toFixed(1);\n        var requiredAAAContrast = (7.0).toFixed(1);\n        var contrastText = contrastRatioMessage + \": \" + contrast.toFixed(2);\n        var aaText = AALevelMessage + \": \" + requiredAAContrast;\n        var aaaText = AAALevelMessage + \": \" + requiredAAAContrast;\n        var success = (React.createElement(\"span\", { className: \"k-contrast-validation k-text-success\" },\n            passMessage,\n            \" \",\n            React.createElement(\"span\", { className: \"k-icon k-i-check\" })));\n        var error = (React.createElement(\"span\", { className: \"k-contrast-validation k-text-error\" },\n            failMessage,\n            \" \",\n            React.createElement(\"span\", { className: \"k-icon k-i-close\" })));\n        return (React.createElement(\"div\", { className: \"k-vbox k-color-contrast\" },\n            React.createElement(\"span\", { className: \"k-separator\" }),\n            React.createElement(\"div\", { className: \"k-contrast-ratio\" },\n                React.createElement(\"span\", { className: \"k-contrast-ratio-text\" }, contrastText),\n                contrast >= 4.5 ? (React.createElement(\"span\", { className: \"k-contrast-validation k-text-success\" },\n                    React.createElement(\"span\", { className: \"k-icon k-i-check\" }),\n                    contrast >= 7 && React.createElement(\"span\", { className: \"k-icon k-i-check\" }))) : (React.createElement(\"span\", { className: \"k-contrast-validation k-text-error\" },\n                    React.createElement(\"span\", { className: \"k-icon k-i-close\" })))),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", null, aaText),\n                contrast >= 4.5 ? success : error),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", null, aaaText),\n                contrast >= 7 ? success : error)));\n    };\n    return ColorContrastLabels;\n}(React.Component));\nexport { ColorContrastLabels };\nregisterForLocalization(ColorContrastLabels);\n","/**\n * @hidden\n *\n * Render the svg <path> element.\n *\n * @param points (array) Represents the points coordinates as an array of tuples.\n * @param command (function) The command that is used (bezierCommand, lineCommand).\n *      @param point (array) [x,y] Represents the current point coordinates.\n *      @param i (integer) Represents the index of 'point' in the array 'a'.\n *      @param a (array) Represents the complete array of points coordinates.\n *      @output (string) a svg path command.\n * @output (string) a Svg <path> element\n */\nexport var svgPath = function (points, command) {\n    if (points.length === 0) {\n        return '';\n    }\n    // build the d attributes by looping over the points\n    var d = points.reduce(function (acc, point, i, a) {\n        return i === 0 ?\n            // if first point\n            \"M \" + point[0] + \",\" + point[1] :\n            // else\n            acc + \" \" + command(point, i, a);\n    }, '');\n    return \"<path d=\\\"\" + d + \"\\\" fill=\\\"none\\\" stroke=\\\"white\\\" stroke-width=\\\"1\\\"/>\";\n};\n/**\n * @hidden\n *\n * Returns the properties of a line.\n *\n * @param pointA (array) [x,y] Represents the start point coordinates.\n * @param pointB (array) [x,y] Represents the end point coordinates.\n * @output (object) { length: (integer), angle: (integer) }\n */\nexport var line = function (pointA, pointB) {\n    var lengthX = pointB[0] - pointA[0];\n    var lengthY = pointB[1] - pointA[1];\n    return {\n        length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n        angle: Math.atan2(lengthY, lengthX)\n    };\n};\n/**\n * @hidden\n *\n * Create a function to calculate the position of the control point.\n *\n * @param lineCalc (function) Represents the line function.\n *      @param pointA (array) [x,y] Represents the start point coordinates.\n *      @param pointB (array) [x,y] Represents the end point coordinates.\n *      @output (object) { length: (integer), angle: (integer) }\n * @output (function) closure.\n *      @param current (array) [x, y] Represents the current point coordinates.\n *      @param previous (array) [x, y] Represents the previous point coordinates.\n *      @param next (array) [x, y] ]Represents the next point coordinates.\n *      @param reverse (boolean, optional) Sets the direction.\n *      @output (array) [x, y] coordinates of a control point.\n */\nexport var controlPoint = function (lineCalc) {\n    return function (current, previous, next, reverse) {\n        // when 'current' is the first or last point of the array\n        // 'previous' and 'next' are undefined \n        // replace with 'current'\n        var p = previous || current;\n        var n = next || current;\n        var smooth = 0.1;\n        // properties of the line between previous and next \n        var l = lineCalc(p, n);\n        // If is end-control-point, add PI to the angle to go backward\n        var angle = l.angle + (reverse ? Math.PI : 0);\n        var length = l.length * smooth;\n        // The control point position is relative to the current point\n        var x = current[0] + Math.cos(angle) * length;\n        var y = current[1] + Math.sin(angle) * length;\n        return [x, y];\n    };\n};\n/**\n * @hidden\n *\n * Create a function to calculate a bezier curve command.\n *\n * @param controlPointCalc (function) Represents the controlPoint function.\n *      @param current (array) [x, y] Represents the current point coordinates.\n *      @param previous (array) [x, y] Represents the previous point coordinates.\n *      @param next (array) [x, y] ]Represents the next point coordinates.\n *      @param reverse (boolean, optional) Sets the direction.\n *      @output (array) [x, y] coordinates of a control point.\n * @output (function) closure.\n *      @param point (array) [x,y] Represents the current point coordinates.\n *      @param i (integer) Represents the index of 'point' in the array 'a'.\n *      @param a (array) Represents the complete array of points coordinates.\n *      @output (string) 'C x2,y2 x1,y1 x,y' Cubic bezier command.\n */\nexport var bezierCommand = function (controlPointCalc) { return function (point, i, a) {\n    // start control point\n    var _a = controlPointCalc(a[i - 1], a[i - 2], point), cpsX = _a[0], cpsY = _a[1];\n    // end control point\n    var _b = controlPointCalc(point, a[i - 1], a[i + 1], true), cpeX = _b[0], cpeY = _b[1];\n    return \"C \" + cpsX + \",\" + cpsY + \" \" + cpeX + \",\" + cpeY + \" \" + point[0] + \",\" + point[1];\n}; };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { bezierCommand, controlPoint, line, svgPath } from './utils/svg-calc';\nimport { getColorFromHSV, getRGBA, getContrastFromTwoRGBAs } from './utils/color-parser';\nvar AA_CONTRAST = 4.5;\nvar AAA_CONTRAST = 7;\nvar STEP_COUNT = 16;\n;\n/**\n * @hidden\n */\nvar ColorContrastSvg = /** @class */ (function (_super) {\n    __extends(ColorContrastSvg, _super);\n    function ColorContrastSvg() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColorContrastSvg.prototype.renderSvgCurveLine = function () {\n        var _this = this;\n        var gradientRectMetrics = this.props.metrics;\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var hsva = Object.assign({}, _this.props.hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(getRGBA(getColorFromHSV(hsva)), getRGBA(_this.props.backgroundColor || ''));\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                }\n                else {\n                    return null;\n                }\n            }\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n        var getPaths = function (contrast, stepCount, reversed) {\n            if (reversed === void 0) { reversed = false; }\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width / stepCount) {\n                var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? (function (a, b) { return a < b; }) : (function (a, b) { return a > b; }));\n                if (value !== null) {\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        return svgPath(getPaths(AA_CONTRAST, STEP_COUNT), bezierCommandCalc) +\n            svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n            svgPath(getPaths(AAA_CONTRAST, STEP_COUNT), bezierCommandCalc) +\n            svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n    };\n    ColorContrastSvg.prototype.shouldComponentUpdate = function (nextProps) {\n        if (nextProps.hsva.h === this.props.hsva.h &&\n            nextProps.hsva.a === this.props.hsva.a &&\n            this.props.backgroundColor === nextProps.backgroundColor) {\n            return false;\n        }\n        return true;\n    };\n    ColorContrastSvg.prototype.render = function () {\n        return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", className: 'k-color-contrast-svg', dangerouslySetInnerHTML: { __html: this.renderSvgCurveLine() }, style: {\n                position: 'absolute',\n                overflow: 'visible',\n                pointerEvents: 'none',\n                left: 0,\n                top: 0,\n                zIndex: 3\n            } }));\n    };\n    return ColorContrastSvg;\n}(React.Component));\nexport { ColorContrastSvg };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Draggable, guid, classNames, focusFirstFocusableChild, getTabIndex } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Slider } from './../main';\nimport { fitIntoBounds, isPresent } from './utils/misc';\nimport { getColorFromHue, parseColor, getHSV, getColorFromHSV, getRGBA, getColorFromRGBA } from './utils/color-parser';\nimport { cacheHsva, removeCachedColor, getCachedHsva, getCachedRgba, getCachedHex, cacheRgba, cacheHex } from './utils/color-cache';\nimport ColorInput from './ColorInput';\nimport { ColorContrastLabels } from './ColorContrastLabels';\nimport { ColorContrastSvg } from './ColorContrastSvg';\nvar FORMAT = 'rgba';\nvar DEFAULT_SELECTED_COLOR = 'rgba(255, 255, 255, 1)';\n/**\n * Represents the [KendoReact ColorGradient component]({% slug overview_colorgradient %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorGradient />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar ColorGradient = /** @class */ (function (_super) {\n    __extends(ColorGradient, _super);\n    function ColorGradient(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.onHexChange = function (hex, value, event) {\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n            }\n            else {\n                cacheHex(_this.state.guid, value, hex);\n            }\n            _this.dispatchChangeEvent(value, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRgbaChange = function (rgba, event) {\n            var value = getColorFromRGBA(rgba);\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                var hex = parseColor(value, 'hex');\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: rgba, hex: hex });\n            }\n            else {\n                cacheRgba(_this.state.guid, value, rgba);\n            }\n            _this.dispatchChangeEvent(value, event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onAlphaSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { a: event.value / 100 }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onHueSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { h: event.value }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (e) {\n            _this.gradientWrapper.classList.add('k-dragging');\n            _this.changePosition(e.event);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function () {\n            _this.gradientWrapper.classList.remove('k-dragging');\n        };\n        /**\n         * @hidden\n         */\n        _this.onGradientWrapperClick = function (event) {\n            _this.changePosition(event);\n        };\n        /**\n         * @hidden\n         */\n        _this.changePosition = function (event) {\n            var gradientRectMetrics = _this.getGradientRectMetrics();\n            var deltaX = event.clientX - gradientRectMetrics.left;\n            var deltaY = event.clientY - gradientRectMetrics.top;\n            var left = fitIntoBounds(deltaX, 0, gradientRectMetrics.width);\n            var top = fitIntoBounds(deltaY, 0, gradientRectMetrics.height);\n            var hsva = Object.assign({}, _this.state.hsva, { s: left / gradientRectMetrics.width, v: 1 - top / gradientRectMetrics.height });\n            _this.handleHsvaChange(hsva, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            focusFirstFocusableChild(_this.wrapper);\n        };\n        validatePackage(packageMetadata);\n        var value = props.value || props.defaultValue || parseColor(DEFAULT_SELECTED_COLOR, FORMAT);\n        _this.state = Object.assign({}, ColorGradient.getStateFromValue(value), { isFirstRender: true, guid: guid() });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ColorGradient.getDerivedStateFromProps = function (props, state) {\n        if (props.value && !state.isFirstRender) {\n            // The component is in controlled mode.\n            return ColorGradient.getStateFromValue(props.value, state.guid);\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentDidMount = function () {\n        this.setAlphaSliderBackground(this.state.backgroundColor);\n        if (this.state.isFirstRender) {\n            this.setState({ isFirstRender: false });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentWillUnmount = function () {\n        removeCachedColor(this.state.guid);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentDidUpdate = function (_, prevState) {\n        if (prevState.backgroundColor !== this.state.backgroundColor) {\n            this.setAlphaSliderBackground(this.state.backgroundColor);\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.renderRectangleDragHandle = function () {\n        var style = {};\n        if (!this.state.isFirstRender) {\n            var gradientRectMetrics = this.getGradientRectMetrics();\n            var top_1 = (1 - this.state.hsva.v) * gradientRectMetrics.height;\n            var left = this.state.hsva.s * gradientRectMetrics.width;\n            style.top = top_1 + \"px\";\n            style.left = left + \"px\";\n        }\n        return React.createElement(\"div\", { className: \"k-draghandle\", style: style });\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.handleHsvaChange = function (hsva, syntheticEvent, nativeEvent) {\n        var value = getColorFromHSV(hsva);\n        if (this.isUncontrolled) {\n            var hex = parseColor(value, 'hex');\n            this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n        }\n        else {\n            cacheHsva(this.state.guid, value, hsva);\n        }\n        this.dispatchChangeEvent(value, syntheticEvent, nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.dispatchChangeEvent = function (value, syntheticEvent, nativeEvent) {\n        if (this.props.onChange) {\n            this.props.onChange.call(undefined, { syntheticEvent: syntheticEvent, nativeEvent: nativeEvent, target: this, value: value });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.getStateFromValue = function (value, componentGuid) {\n        if (!isPresent(parseColor(value, 'hex'))) {\n            // Validate/sanitize the input.\n            value = DEFAULT_SELECTED_COLOR;\n        }\n        var hsva = getCachedHsva(componentGuid, value) || getHSV(value);\n        var rgba = getCachedRgba(componentGuid, value) || getRGBA(value);\n        var hex = getCachedHex(componentGuid, value) || parseColor(value, 'hex');\n        var backgroundColor = getColorFromHue(hsva.h);\n        return { hsva: hsva, backgroundColor: backgroundColor, rgba: rgba, hex: hex };\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.setAlphaSliderBackground = function (backgroundColor) {\n        if (this.props.opacity && this.alphaSlider && this.alphaSlider.sliderTrack) {\n            this.alphaSlider.sliderTrack.style.background = \"linear-gradient(to top, transparent, \" + backgroundColor + \")\";\n        }\n    };\n    Object.defineProperty(ColorGradient.prototype, \"isUncontrolled\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.value === undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.getGradientRectMetrics = function () {\n        return this.gradientWrapper.getBoundingClientRect();\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.render = function () {\n        var _this = this;\n        var className = classNames('k-widget k-flatcolorpicker', { 'k-state-disabled': this.props.disabled });\n        return (React.createElement(\"div\", { id: this.props.id, className: className, \"aria-disabled\": this.props.disabled ? 'true' : undefined, style: this.props.style, ref: function (el) { return _this.wrapper = el; }, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled), \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy },\n            React.createElement(\"div\", { className: \"k-hbox k-hsv-wrap\" },\n                React.createElement(\"div\", { className: \"k-hsv-rectangle\", style: { background: this.state.backgroundColor } },\n                    React.createElement(Draggable, { onDrag: this.onDrag, onRelease: this.onRelease, ref: function (el) { return _this.gradientWrapper = el ? el.element : undefined; } },\n                        React.createElement(\"div\", { className: \"k-hsv-gradient\", style: { touchAction: 'none' }, onClick: this.onGradientWrapperClick }, this.renderRectangleDragHandle())),\n                    this.props.backgroundColor && !this.state.isFirstRender &&\n                        React.createElement(ColorContrastSvg, { metrics: this.gradientWrapper ? this.getGradientRectMetrics() : undefined, hsva: this.state.hsva, backgroundColor: this.props.backgroundColor })),\n                React.createElement(\"div\", { className: \"k-hbox k-sliders-wrap\" },\n                    React.createElement(Slider, { value: this.state.hsva.h, buttons: false, vertical: true, min: 0, max: 360, step: 5, onChange: this.onHueSliderChange, className: \"k-hue-slider\", disabled: this.props.disabled }),\n                    this.props.opacity && React.createElement(Slider, { value: isPresent(this.state.hsva.a) ? this.state.hsva.a * 100 : 100, buttons: false, vertical: true, min: 0, max: 100, step: 1, onChange: this.onAlphaSliderChange, className: \"k-alpha-slider\", disabled: this.props.disabled, ref: function (el) { return _this.alphaSlider = el; } }))),\n            React.createElement(ColorInput, { rgba: this.state.rgba, onRgbaChange: this.onRgbaChange, hex: this.state.hex, onHexChange: this.onHexChange, opacity: this.props.opacity, disabled: this.props.disabled }),\n            this.props.backgroundColor && (React.createElement(ColorContrastLabels, { bgColor: getRGBA(this.props.backgroundColor), rgba: this.state.rgba }))));\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.propTypes = {\n        defaultValue: PropTypes.string,\n        value: PropTypes.string,\n        onChange: PropTypes.func,\n        opacity: PropTypes.bool,\n        backgroundColor: PropTypes.string,\n        disabled: PropTypes.bool,\n        style: PropTypes.any,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.defaultProps = {\n        opacity: true\n    };\n    return ColorGradient;\n}(React.Component));\nexport { ColorGradient };\n","import { isPresent } from './misc';\nimport { parseColor } from '@progress/kendo-drawing';\n/**\n * @hidden\n */\nvar ColorPaletteService = /** @class */ (function () {\n    function ColorPaletteService() {\n        this.colorRows = [];\n    }\n    ColorPaletteService.prototype.setColorMatrix = function (palette, columns) {\n        this.colorRows = [];\n        if (!(isPresent(palette) && palette.length)) {\n            return;\n        }\n        columns = columns || palette.length;\n        for (var start = 0; start < palette.length; start += columns) {\n            var row = palette.slice(start, columns + start);\n            this.colorRows.push(row);\n        }\n    };\n    ColorPaletteService.prototype.getCellCoordsFor = function (color) {\n        var _this = this;\n        if (!isPresent(color)) {\n            return;\n        }\n        var parsedColor = color ? parseColor(color, true) : color;\n        var colors = [color];\n        if (isPresent(parsedColor)) {\n            colors.push(parsedColor.toCss(), parsedColor.toCssRgba());\n        }\n        var _loop_1 = function (row) {\n            var _loop_2 = function (col) {\n                if (colors.some(function (c) { return c === _this.colorRows[row][col]; })) {\n                    return { value: { row: row, col: col } };\n                }\n            };\n            for (var col = 0; col < this_1.colorRows[row].length; col++) {\n                var state_2 = _loop_2(col);\n                if (typeof state_2 === \"object\")\n                    return state_2;\n            }\n        };\n        var this_1 = this;\n        for (var row = 0; row < this.colorRows.length; row++) {\n            var state_1 = _loop_1(row);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    ColorPaletteService.prototype.getColorAt = function (cellCoords) {\n        if (!(isPresent(cellCoords) && isPresent(this.colorRows[cellCoords.row]))) {\n            return;\n        }\n        return this.colorRows[cellCoords.row][cellCoords.col];\n    };\n    ColorPaletteService.prototype.getNextCell = function (current, horizontalStep, verticalStep) {\n        if (!(isPresent(current) && isPresent(current.row) && isPresent(current.col))) {\n            return { row: 0, col: 0 };\n        }\n        var row = this.clampIndex(current.row + verticalStep, this.colorRows.length - 1);\n        var col = this.clampIndex(current.col + horizontalStep, this.colorRows[row].length - 1);\n        return { row: row, col: col };\n    };\n    ColorPaletteService.prototype.clampIndex = function (index, max) {\n        var minArrayIndex = 0;\n        if (index < minArrayIndex) {\n            return minArrayIndex;\n        }\n        if (index > max) {\n            return max;\n        }\n        return index;\n    };\n    return ColorPaletteService;\n}());\nexport { ColorPaletteService };\n","/* eslint-disable max-len */\n/**\n * @hidden\n */\nexport var PALETTEPRESETS = {\n    basic: {\n        colors: ['#000000', '#7f7f7f', '#880015', '#ed1c24', '#ff7f27', '#fff200', '#22b14c', '#00a2e8', '#3f48cc', '#a349a4', ' ffffff', '#c3c3c3', '#b97a57', '#ffaec9', '#ffc90e', '#efe4b0', '#b5e61d', '#99d9ea', '#7092be', '#c8bfe7'],\n        columns: 10\n    },\n    office: {\n        colors: ['#ffffff', '#000000', '#e6e6e6', '#435569', '#4371c4', '#ed7e32', '#a5a4a5', '#febf04', '#5a9bd5', '#71ae48', '#f2f2f3', '#7f7f7f', '#d1cece', '#d5dde3', '#dae1f4', '#fce5d4', '#deeded', '#fff2cc', '#deeaf6', '#e1efd9', '#d7d8d8', '#585959', '#aeabab', '#adbaca', '#b4c5e7', '#f6caac', '#dbdbdb', '#ffe498', '#bcd6ee', '#c5e0b2', '#bfbfc0', '#3f3f3f', '#767070', '#8595b1', '#8fabdb', '#f5b183', '#c9c8c9', '#fed965', '#9bc4e5', '#a8d08d', '#a5a5a6', '#262625', '#393939', '#334050', '#2e5496', '#c45a11', '#7b7b7a', '#bf9000', '#2f75b5', '#548235', '#7f7f7f', '#0b0c0c', '#161616', '#222a34', '#203764', '#843d0b', '#525252', '#7f6000', '#1d4d79', '#375623'],\n        columns: 10\n    },\n    apex: {\n        colors: ['#ffffff', '#000000', '#c9c2d1', '#69676d', '#ceb966', '#9cb084', '#6bb1c9', '#6585cf', '#7e6bc9', '#a379bb', '#f2f2f2', '#7f7f7f', '#f4f2f5', '#e0e0e2', '#f5f1e0', '#ebefe6', '#e1eff4', '#e0e6f5', '#e5e1f4', '#ece4f1', '#d8d8d8', '#595959', '#e9e6ec', '#c2c1c5', '#ebe3c1', '#d7dfcd', '#c3dfe9', '#c1ceeb', '#cbc3e9', '#dac9e3', '#bfbfbf', '#3f3f3f', '#dedae3', '#a4a3a8', '#e1d5a3', '#c3cfb5', '#a6d0de', '#a2b5e2', '#b1a6de', '#c7aed6', '#a5a5a5', '#262626', '#9688a5', '#4e4d51', '#ae9638', '#758c5a', '#3d8da9', '#365bb0', '#533da9', '#7d4d99', '#7f7f7f', '#0c0c0c', '#635672', '#343336', '#746425', '#4e5d3c', '#295e70', '#243c75', '#372970', '#533366'],\n        columns: 10\n    },\n    austin: {\n        colors: ['#ffffff', '#000000', '#caf278', '#3e3d2d', '#94c600', '#71685a', '#ff6700', '#909465', '#956b43', '#fea022', '#f2f2f2', '#7f7f7f', '#f4fce4', '#dddcd0', '#efffc0', '#e3e1dc', '#ffe0cb', '#e8e9df', '#ece1d6', '#feecd2', '#d8d8d8', '#595959', '#e9f9c9', '#bbb9a1', '#dfff82', '#c8c3ba', '#ffc299', '#d2d4c0', '#dac3ad', '#fed9a6', '#bfbfbf', '#3f3f3f', '#dff7ae', '#ada598', '#cfff43', '#ada598', '#ffa365', '#bcbfa1', '#c8a585', '#fec67a', '#a5a5a5', '#262626', '#a9ea25', '#2e2d21', '#6f9400', '#544e43', '#bf4d00', '#6c6f4b', '#6f5032', '#d77b00', '#7f7f7f', '#0c0c0c', '#74a50f', '#1f1e16', '#4a6300', '#38342d', '#7f3300', '#484a32', '#4a3521', '#8f5200'],\n        columns: 10\n    },\n    clarity: {\n        colors: ['#ffffff', '#292934', '#f3f2dc', '#d2533c', '#93a299', '#ad8f67', '#726056', '#4c5a6a', '#808da0', '#79463d', '#f2f2f2', '#e7e7ec', '#e7e5b9', '#f6dcd8', '#e9ecea', '#eee8e0', '#e4dedb', '#d8dde3', '#e5e8ec', '#e9d6d3', '#d8d8d8', '#c4c4d1', '#d5d185', '#edbab1', '#d3d9d6', '#ded2c2', '#c9beb8', '#b2bcc8', '#ccd1d9', '#d3aea7', '#bfbfbf', '#8a8aa3', '#aca73b', '#e4978a', '#bec7c1', '#cdbba3', '#af9e94', '#8c9bac', '#b2bac6', '#bd857c', '#a5a5a5', '#56566e', '#56531d', '#a43925', '#6b7c72', '#866b48', '#554840', '#39434f', '#5c697b', '#5a342d', '#7f7f7f', '#3b3b4b', '#22210b', '#6d2619', '#47534c', '#594730', '#39302b', '#262d35', '#3d4652', '#3c231e'],\n        columns: 10\n    },\n    slipstream: {\n        colors: ['#ffffff', '#000000', '#b4dcfa', '#212745', '#4e67c8', '#5eccf3', '#a7ea52', '#5dceaf', '#ff8021', '#f14124', '#f2f2f2', '#7f7f7f', '#8bc9f7', '#c7cce4', '#dbe0f4', '#def4fc', '#edfadc', '#def5ef', '#ffe5d2', '#fcd9d3', '#d8d8d8', '#595959', '#4facf3', '#909aca', '#b8c2e9', '#beeafa', '#dbf6b9', '#beebdf', '#ffcca6', '#f9b3a7', '#bfbfbf', '#3f3f3f', '#0d78c9', '#5967af', '#94a3de', '#9ee0f7', '#caf297', '#9de1cf', '#ffb279', '#f68d7b', '#a5a5a5', '#262626', '#063c64', '#181d33', '#31479f', '#11b2eb', '#81d319', '#34ac8b', '#d85c00', '#c3260c', '#7f7f7f', '#0c0c0c', '#021828', '#101322', '#202f6a', '#0b769c', '#568c11', '#22725c', '#903d00', '#821908'],\n        columns: 10\n    },\n    metro: {\n        colors: ['#ffffff', '#000000', '#d6ecff', '#4e5b6f', '#7fd13b', '#ea157a', '#feb80a', '#00addc', '#738ac8', '#1ab39f', '#f2f2f2', '#7f7f7f', '#a7d6ff', '#d9dde4', '#e5f5d7', '#fad0e4', '#fef0cd', '#c5f2ff', '#e2e7f4', '#c9f7f1', '#d8d8d8', '#595959', '#60b5ff', '#b3bcca', '#cbecb0', '#f6a1c9', '#fee29c', '#8be6ff', '#c7d0e9', '#94efe3', '#bfbfbf', '#3f3f3f', '#007dea', '#8d9baf', '#b2e389', '#f272af', '#fed46b', '#51d9ff', '#aab8de', '#5fe7d5', '#a5a5a5', '#262626', '#003e75', '#3a4453', '#5ea226', '#af0f5b', '#c58c00', '#0081a5', '#425ea9', '#138677', '#7f7f7f', '#0c0c0c', '#00192e', '#272d37', '#3f6c19', '#750a3d', '#835d00', '#00566e', '#2c3f71', '#0c594f'],\n        columns: 10\n    },\n    flow: {\n        colors: ['#ffffff', '#000000', '#dbf5f9', '#04617b', '#0f6fc6', '#009dd9', '#0bd0d9', '#10cf9b', '#7cca62', '#a5c249', '#f2f2f2', '#7f7f7f', '#b2e9f2', '#b4ecfc', '#c7e2fa', '#c4eeff', '#c9fafc', '#c9faed', '#e4f4df', '#edf2da', '#d8d8d8', '#595959', '#76d9e8', '#6adafa', '#90c6f6', '#89deff', '#93f5f9', '#94f6db', '#cae9c0', '#dbe6b6', '#bfbfbf', '#3f3f3f', '#21b2c8', '#20c8f7', '#59a9f2', '#4fceff', '#5df0f6', '#5ff2ca', '#b0dfa0', '#c9da91', '#a5a5a5', '#262626', '#105964', '#02485c', '#0b5394', '#0075a2', '#089ca2', '#0b9b74', '#54a838', '#7e9532', '#7f7f7f', '#0c0c0c', '#062328', '#01303d', '#073763', '#004e6c', '#05686c', '#07674d', '#387025', '#546321'],\n        columns: 10\n    },\n    hardcover: {\n        colors: ['#ffffff', '#000000', '#ece9c6', '#895d1d', '#873624', '#d6862d', '#d0be40', '#877f6c', '#972109', '#aeb795', '#f2f2f2', '#7f7f7f', '#e1dca5', '#f2e0c6', '#f0d0c9', '#f6e6d5', '#f5f2d8', '#e7e5e1', '#fbc7bc', '#eef0e9', '#d8d8d8', '#595959', '#d0c974', '#e6c28d', '#e2a293', '#eeceaa', '#ece5b2', '#cfccc3', '#f78f7a', '#dee2d4', '#bfbfbf', '#3f3f3f', '#a29a36', '#daa454', '#d4735e', '#e6b681', '#e2d88c', '#b7b2a5', '#f35838', '#ced3bf', '#a5a5a5', '#262626', '#514d1b', '#664515', '#65281a', '#a2641f', '#a39428', '#655f50', '#711806', '#879464', '#7f7f7f', '#0c0c0c', '#201e0a', '#442e0e', '#431b11', '#6c4315', '#6d621a', '#433f35', '#4b1004', '#5a6243'],\n        columns: 10\n    },\n    trek: {\n        colors: ['#ffffff', '#000000', '#fbeec9', '#4e3b30', '#f0a22e', '#a5644e', '#b58b80', '#c3986d', '#a19574', '#c17529', '#f2f2f2', '#7f7f7f', '#f7e09e', '#e1d6cf', '#fcecd5', '#eddfda', '#f0e7e5', '#f3eae1', '#ece9e3', '#f5e3d1', '#d8d8d8', '#595959', '#f3cc5f', '#c4ad9f', '#f9d9ab', '#dcc0b6', '#e1d0cc', '#e7d5c4', '#d9d4c7', '#ebc7a3', '#bfbfbf', '#3f3f3f', '#d29f0f', '#a78470', '#f6c781', '#cba092', '#d2b9b2', '#dbc1a7', '#c6bfab', '#e1ac76', '#a5a5a5', '#262626', '#694f07', '#3a2c24', '#c87d0e', '#7b4b3a', '#926255', '#a17242', '#7b7153', '#90571e', '#7f7f7f', '#0c0c0c', '#2a1f03', '#271d18', '#855309', '#523226', '#614138', '#6b4c2c', '#524b37', '#603a14'],\n        columns: 10\n    },\n    verve: {\n        colors: ['#ffffff', '#000000', '#d2d2d2', '#666666', '#ff388c', '#e40059', '#9c007f', '#68007f', '#005bd3', '#00349e', '#f2f2f2', '#7f7f7f', '#bdbdbd', '#e0e0e0', '#ffd7e8', '#ffc6dc', '#ffb8f1', '#f1b2ff', '#c3dcff', '#b8cfff', '#d8d8d8', '#595959', '#9d9d9d', '#c1c1c1', '#ffafd1', '#ff8eba', '#ff71e4', '#e365ff', '#87baff', '#72a0ff', '#bfbfbf', '#3f3f3f', '#696969', '#a3a3a3', '#ff87ba', '#ff5597', '#ff2ad7', '#d519ff', '#4b98ff', '#2b71ff', '#a5a5a5', '#262626', '#343434', '#4c4c4c', '#e90062', '#ab0042', '#75005f', '#4e005f', '#00449e', '#002676', '#7f7f7f', '#0c0c0c', '#151515', '#333333', '#9b0041', '#72002c', '#4e003f', '#34003f', '#002d69', '#00194f'],\n        columns: 10\n    },\n    monochrome: {\n        colors: ['#000000', '#1a1a1a', '#333333', '#4d4d4d', '#666666', '#808080', '#999999', '#b3b3b3', '#cccccc', '#e6e6e6', '#f2f2f2', '#ffffff'],\n        columns: 12\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ColorPaletteService } from './utils/color-palette.service';\nimport { classNames, Keys, dispatchEvent, guid, getTabIndex } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { PALETTEPRESETS } from './models/palette-presets';\nimport { isPresent } from './utils/misc';\nimport { parseColor } from './utils/color-parser';\n/**\n * @hidden\n */\nexport var DEFAULT_TILE_SIZE = 24;\n/**\n * @hidden\n */\nexport var DEFAULT_COLUMNS_COUNT = 10;\n/**\n * @hidden\n */\nexport var DEFAULT_PRESET = 'office';\n/**\n * Represents the [KendoReact ColorPalette component]({% slug overview_colorpalette %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorPalette palette='basic' />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar ColorPalette = /** @class */ (function (_super) {\n    __extends(ColorPalette, _super);\n    function ColorPalette(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.wrapper = null;\n        _this.guid = guid();\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.wrapper) {\n                _this.wrapper.focus();\n            }\n        };\n        _this.onKeyDown = function (event) {\n            switch (event.keyCode) {\n                case Keys.down:\n                    _this.handleCellNavigation(0, 1);\n                    break;\n                case Keys.up:\n                    _this.handleCellNavigation(0, -1);\n                    break;\n                case Keys.right:\n                    _this.handleCellNavigation(1, 0);\n                    break;\n                case Keys.left:\n                    _this.handleCellNavigation(-1, 0);\n                    break;\n                case Keys.enter:\n                    _this.handleEnter(event);\n                    break;\n                default: return;\n            }\n            event.preventDefault();\n        };\n        _this.onColorClick = function (color, event) {\n            if (_this.isUncontrolled) {\n                _this.setState({ selectedColor: color, focusedColor: color });\n            }\n            else {\n                _this.setState({ focusedColor: color });\n            }\n            _this.dispatchChangeEvent(color, event);\n        };\n        _this.onFocus = function () {\n            _this.setState({ focusedColor: _this.state.selectedColor || _this.paletteService.colorRows[0][0] });\n        };\n        _this.onBlur = function () {\n            _this.setState({ focusedColor: undefined });\n        };\n        validatePackage(packageMetadata);\n        // The empty string for the `value` prop means no selection but controlled mode.\n        _this.state = {\n            selectedColor: _this.props.value !== undefined ? _this.props.value : _this.props.defaultValue,\n            isFirstRender: true\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ColorPalette.prototype.render = function () {\n        var _this = this;\n        var paletteInfo = this.getPaletteInfo();\n        var svc = this.paletteService = new ColorPaletteService();\n        svc.setColorMatrix(paletteInfo.colors, paletteInfo.columns);\n        var selectedCellCoords = svc.getCellCoordsFor(this.state.selectedColor);\n        var focusedCellCoords = svc.getCellCoordsFor(this.state.focusedColor);\n        var className = classNames('k-widget k-colorpalette', { 'k-state-disabled': this.props.disabled });\n        if (paletteInfo.colors.length) {\n            return (React.createElement(\"div\", { id: this.props.id, className: className, onFocus: this.onFocus, onBlur: this.onBlur, onKeyDown: this.onKeyDown, \"aria-disabled\": this.props.disabled ? 'true' : undefined, \"aria-activedescendant\": selectedCellCoords && this.createCellId(selectedCellCoords), \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled), ref: function (el) { return _this.wrapper = el; } },\n                React.createElement(\"div\", { role: \"grid\" },\n                    React.createElement(\"table\", { className: \"k-palette k-reset\", role: \"presentation\" },\n                        React.createElement(\"tbody\", null, this.renderRows(svc.colorRows, selectedCellCoords, focusedCellCoords))))));\n        }\n        else {\n            // In this way, the code prevents an eventual focus of the component when no cells are available.\n            // This is needed because upon focus the first cell gets focused.\n            return '';\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorPalette.getDerivedStateFromProps = function (props, state) {\n        if (!state.isFirstRender && props.value !== undefined) {\n            // The component is in controlled mode.\n            if (props.value === '' && state.selectedColor !== undefined) {\n                // The selection has to be removed.\n                return { selectedColor: undefined };\n            }\n            else if (props.value !== '' && props.value !== state.selectedColor) {\n                return { selectedColor: props.value };\n            }\n        }\n        else if (state.isFirstRender) {\n            return { isFirstRender: false };\n        }\n        return null;\n    };\n    ColorPalette.prototype.handleCellNavigation = function (horizontalStep, verticalStep) {\n        if (this.focusedColorCooridanates) {\n            var newCoords = this.paletteService.getNextCell(this.focusedColorCooridanates, horizontalStep, verticalStep);\n            this.setState({ focusedColor: this.paletteService.getColorAt(newCoords) });\n        }\n        else {\n            this.setState({ focusedColor: this.paletteService.colorRows[0][0] });\n        }\n    };\n    ColorPalette.prototype.handleEnter = function (event) {\n        if (this.isUncontrolled) {\n            this.setState({ selectedColor: this.state.focusedColor });\n        }\n        this.dispatchChangeEvent(this.state.focusedColor, event);\n    };\n    ColorPalette.prototype.dispatchChangeEvent = function (value, event) {\n        dispatchEvent(this.props.onChange, event, this, { value: value, rgbaValue: parseColor(value, 'rgba') });\n    };\n    Object.defineProperty(ColorPalette.prototype, \"focusedColorCooridanates\", {\n        get: function () {\n            return this.state.focusedColor ? this.paletteService.getCellCoordsFor(this.state.focusedColor) : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColorPalette.prototype, \"isUncontrolled\", {\n        get: function () {\n            return this.props.value === undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ColorPalette.prototype.getPaletteInfo = function () {\n        if (typeof this.props.palette === 'string') {\n            var preset = PALETTEPRESETS[this.props.palette];\n            if (isPresent(preset)) {\n                return {\n                    colors: preset.colors,\n                    columns: this.props.columns || preset.columns || DEFAULT_COLUMNS_COUNT\n                };\n            }\n            else {\n                return { colors: [], columns: 0 };\n            }\n        }\n        else {\n            return { colors: this.props.palette || [], columns: this.props.columns || DEFAULT_COLUMNS_COUNT };\n        }\n    };\n    ColorPalette.prototype.renderRows = function (rows, selectedCellCoords, focusedCellCoords) {\n        var _this = this;\n        return rows.map(function (row, i) {\n            return React.createElement(\"tr\", { role: \"row\", key: i }, _this.renderColumns(row, i, selectedCellCoords, focusedCellCoords));\n        });\n    };\n    ColorPalette.prototype.renderColumns = function (columns, rowIndex, selectedCellCoords, focusedCellCoords) {\n        var _this = this;\n        var rowIsSelected = selectedCellCoords !== undefined && selectedCellCoords.row === rowIndex;\n        var selectedColumn = selectedCellCoords && selectedCellCoords.col;\n        var rowIsFocused = focusedCellCoords !== undefined && focusedCellCoords.row === rowIndex;\n        var focusedColumn = focusedCellCoords && focusedCellCoords.col;\n        var tileSize = typeof this.props.tileSize !== 'number' ?\n            this.props.tileSize : { width: this.props.tileSize, height: this.props.tileSize };\n        var width = tileSize.width + 'px';\n        var height = tileSize.height + 'px';\n        return columns.map(function (color, i) {\n            var isSelected = rowIsSelected && selectedColumn === i;\n            var className = classNames('k-item', {\n                'k-state-selected': isSelected,\n                'k-state-focused': rowIsFocused && focusedColumn === i\n            });\n            return (React.createElement(\"td\", { className: className, \"aria-label\": color, \"aria-selected\": isSelected ? true : _this.props.disabled ? undefined : false, style: { backgroundColor: color, width: width, height: height, minWidth: width }, onClick: function (event) { return _this.onColorClick(color, event); }, id: _this.createCellId({ row: rowIndex, col: i }), key: i }));\n        });\n    };\n    ColorPalette.prototype.createCellId = function (cellCoords) {\n        return this.guid + \"_\" + cellCoords.row + \"_\" + cellCoords.col;\n    };\n    /**\n     * @hidden\n     */\n    ColorPalette.propTypes = {\n        palette: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.string]),\n        columns: PropTypes.number,\n        tileSize: PropTypes.any,\n        defaultValue: PropTypes.string,\n        value: PropTypes.string,\n        disabled: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        onChange: PropTypes.func,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    ColorPalette.defaultProps = {\n        palette: DEFAULT_PRESET,\n        tileSize: DEFAULT_TILE_SIZE\n    };\n    return ColorPalette;\n}(React.Component));\nexport { ColorPalette };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { classNames } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ANCHOR_VERTICAL_ALIGN = 'bottom';\n/**\n * @hidden\n */\nvar POPUP_VERTICAL_ALIGN = 'top';\n/**\n * @hidden\n */\nexport var Picker = function (props) {\n    var popupSettings = props.popupSettings || {};\n    var horizontalAlign = props.dir === 'rtl' ? 'right' : 'left';\n    var anchorAlign = React.useMemo(function () { return ({ horizontal: horizontalAlign, vertical: ANCHOR_VERTICAL_ALIGN }); }, [horizontalAlign]);\n    var popupAlign = React.useMemo(function () { return ({ horizontal: horizontalAlign, vertical: POPUP_VERTICAL_ALIGN }); }, [horizontalAlign]);\n    return (React.createElement(React.Fragment, null,\n        props.input,\n        props.button,\n        React.createElement(Popup, __assign({ style: __assign({}, (popupSettings || {}).style, { direction: props.dir }) }, popupSettings, { anchor: props.popupAnchor, anchorAlign: anchorAlign, popupAlign: popupAlign, show: props.open, onOpen: props.onOpen, onClose: props.onClose, className: classNames('k-reset', popupSettings.className) }), props.content)));\n};\nPicker.displayName = 'KendoPickerComponent';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, useDir, getTabIndex } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Picker } from './Picker';\nimport { ColorGradient } from './ColorGradient';\nimport { ColorPalette, DEFAULT_PRESET, DEFAULT_TILE_SIZE } from './ColorPalette';\n/**\n * @hidden\n */\nvar DEFAULT_GRADIENT_SETTINGS = {\n    opacity: true\n};\n/**\n * @hidden\n */\nvar DEFAULT_PALETTE_SETTINGS = {\n    palette: DEFAULT_PRESET,\n    tileSize: DEFAULT_TILE_SIZE\n};\n/**\n * @hidden\n */\nvar isControlled = function (prop) {\n    return prop !== undefined;\n};\n/**\n * Represents the [KendoReact ColorPicker component]({% slug overview_colorpicker %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorPicker />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ColorPicker = React.forwardRef(function (props, target) {\n    validatePackage(packageMetadata);\n    var popupSettings = props.popupSettings, gradientSettings = props.gradientSettings, paletteSettings = props.paletteSettings, valid = props.valid, disabled = props.disabled, tabIndex = props.tabIndex, view = props.view, icon = props.icon, onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur, onActiveColorClick = props.onActiveColorClick;\n    var focusableElementRef = React.useRef(null);\n    var gradientRef = React.useRef(null);\n    var paletteRef = React.useRef(null);\n    var blurTimeoutRef = React.useRef();\n    var buttonRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (focusableElementRef.current) {\n            focusableElementRef.current.focus();\n        }\n    }, []);\n    React.useImperativeHandle(target, function () { return ({\n        // we agreed that each element will have focus method exposed\n        element: focusableElementRef.current,\n        actionElement: buttonRef.current,\n        focus: focusElement\n    }); });\n    var _a = React.useState(false), focused = _a[0], setFocused = _a[1];\n    var _b = React.useState(props.defaultValue), stateValue = _b[0], setStateValue = _b[1];\n    var _c = React.useState(false), stateOpen = _c[0], setStateOpen = _c[1];\n    var isValueControlled = isControlled(props.value);\n    var isOpenControlled = isControlled(props.open);\n    var value = isValueControlled ? props.value : stateValue;\n    var open = isOpenControlled ? props.open : stateOpen;\n    var setOpen = React.useCallback(function (nextOpen, isBlur) {\n        if (!isOpenControlled) {\n            if (!nextOpen && !isBlur && focusableElementRef && focusableElementRef.current) {\n                focusableElementRef.current.focus();\n            }\n            setStateOpen(nextOpen);\n        }\n    }, [isOpenControlled]);\n    var onKeyDownHandler = React.useCallback(function (event) {\n        var altKey = event.altKey, keyCode = event.keyCode;\n        if (keyCode === Keys.esc) {\n            setOpen(false);\n            return;\n        }\n        if (keyCode === Keys.enter && !isOpenControlled) {\n            event.preventDefault();\n            event.stopPropagation();\n            setOpen(!open);\n            return;\n        }\n        if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (keyCode === Keys.up && focusableElementRef && focusableElementRef.current) {\n                focusableElementRef.current.focus();\n                setOpen(false);\n            }\n            if (keyCode === Keys.down) {\n                setOpen(true);\n            }\n        }\n    }, [open, isOpenControlled]);\n    var onOpenHandler = React.useCallback(function () {\n        // Skip content autofocus when in controlled mode\n        if (!isOpenControlled) {\n            if (gradientRef.current) {\n                gradientRef.current.focus();\n            }\n            else if (paletteRef.current) {\n                paletteRef.current.focus();\n            }\n        }\n    }, [isOpenControlled]);\n    var onClickHandler = React.useCallback(function () {\n        setOpen(!open, true);\n    }, [open]);\n    var onActiveColorClickHandler = React.useCallback(function (event) {\n        if (onActiveColorClick) {\n            onActiveColorClick.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                value: value\n            });\n        }\n    }, [onActiveColorClick, value]);\n    var onFocusHandler = React.useCallback(function (event) {\n        if (blurTimeoutRef.current) {\n            clearTimeout(blurTimeoutRef.current);\n            blurTimeoutRef.current = undefined;\n            // case where moving back to input from popup\n            // if (event.target === focusableElementRef.current) {\n            // setOpen(false); // in this case we should focus input on keydown\n            // }\n        }\n        else {\n            setFocused(true);\n        }\n        if (onFocus) {\n            onFocus.call(undefined, {\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event\n            });\n        }\n    }, [onFocus]);\n    var onBlurTimeout = React.useCallback(function () {\n        setOpen(false, true);\n        setFocused(false);\n        blurTimeoutRef.current = undefined;\n    }, []);\n    var onBlurHandler = React.useCallback(function (event) {\n        clearTimeout(blurTimeoutRef.current);\n        blurTimeoutRef.current = window.setTimeout(onBlurTimeout);\n        if (onBlur) {\n            onBlur.call(undefined, {\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event\n            });\n        }\n    }, [onBlur]);\n    var onChangeHandler = React.useCallback(function (event, isPalette) {\n        var currentValue = isPalette ? event.rgbaValue : event.value;\n        if (!isValueControlled) {\n            setStateValue(currentValue);\n        }\n        if (isPalette) {\n            setOpen(false);\n        }\n        if (onChange) {\n            onChange.call(undefined, {\n                value: currentValue,\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event.syntheticEvent\n            });\n        }\n    }, [isValueControlled, onChange]);\n    var onPaletteChangeHandler = React.useCallback(function (event) { return onChangeHandler(event, true); }, [isControlled, onChangeHandler]);\n    var dir = useDir(focusableElementRef, props.dir);\n    var iconClassName = props.iconClassName || (icon && \"k-icon k-i-\" + icon);\n    var wrapperClassName = classNames({\n        'k-widget': true,\n        'k-colorpicker': true,\n        'k-state-invalid': valid === false\n    });\n    var className = React.useMemo(function () { return classNames({\n        'k-picker-wrap': true,\n        'k-state-disabled': disabled,\n        'k-state-focused': focused\n    }); }, [focused, disabled]);\n    return (React.createElement(\"span\", { className: wrapperClassName, dir: dir },\n        React.createElement(\"span\", { id: props.id, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy, className: className, ref: focusableElementRef, tabIndex: getTabIndex(tabIndex, disabled), title: props.title, onKeyDown: onKeyDownHandler, onFocus: onFocusHandler, onBlur: onBlurHandler },\n            React.createElement(Picker, { dir: dir, open: open, onOpen: onOpenHandler, popupAnchor: focusableElementRef.current || undefined, popupSettings: __assign({}, popupSettings), input: (!iconClassName ? (React.createElement(\"span\", { onClick: onActiveColorClickHandler, className: 'k-selected-color', style: { backgroundColor: value } }, !value && React.createElement(\"span\", { className: 'k-icon k-i-line' }))) : (React.createElement(\"span\", { onClick: onActiveColorClickHandler, className: classNames('k-tool-icon', iconClassName) },\n                    React.createElement(\"span\", { className: 'k-selected-color', style: { backgroundColor: value } })))), button: (React.createElement(\"span\", { onClick: onClickHandler, className: 'k-select', ref: buttonRef },\n                    React.createElement(\"span\", { className: 'k-icon k-i-arrow-s' }))), content: (React.createElement(React.Fragment, null,\n                    (view === 'combo' || view === 'gradient') && (React.createElement(ColorGradient, __assign({}, gradientSettings, { tabIndex: 0, ref: gradientRef, value: value, onChange: onChangeHandler }))),\n                    (view === 'combo' || view === 'palette') && (React.createElement(ColorPalette, __assign({}, paletteSettings, { ref: paletteRef, value: value, onChange: onPaletteChangeHandler }))))) }))));\n});\nColorPicker.propTypes = {\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    view: PropTypes.oneOf(['gradient', 'palette', 'combo']),\n    dir: PropTypes.string,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nColorPicker.defaultProps = {\n    view: 'palette',\n    gradientSettings: DEFAULT_GRADIENT_SETTINGS,\n    paletteSettings: DEFAULT_PALETTE_SETTINGS\n};\nColorPicker.displayName = 'KendoColorPicker';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { guid, classNames } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar Input = /** @class */ (function (_super) {\n    __extends(Input, _super);\n    function Input(props) {\n        var _this = _super.call(this, props) || this;\n        _this._inputId = guid();\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        _this.isInvalid = function (state) {\n            var result = false;\n            for (var prop in state) {\n                if (state.hasOwnProperty(prop)) {\n                    result = result || state[prop];\n                }\n            }\n            return result;\n        };\n        /**\n         * @hidden\n         */\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this.validity.valid || !_this.validityStyles\n                    ? _this._input.classList.remove('k-state-invalid')\n                    : _this._input.classList.add('k-state-invalid');\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || '');\n            }\n        };\n        _this.handleChange = function (event) {\n            _this.setState({\n                value: event.target.value\n            });\n            _this.valueDuringOnChange = event.target.value;\n            if (_this.props.onChange) {\n                _this.props.onChange.call(undefined, {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: event.target.value,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        /**\n         * @hidden\n         */\n        _this.handleAutoFill = function (e) {\n            if (e.animationName === 'autoFillStart') {\n                var parent_1 = e.target.parentNode;\n                if (parent_1 && parent_1.classList.contains('k-state-empty')) {\n                    parent_1.classList.remove('k-state-empty');\n                }\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            value: _this.props.defaultValue || Input.defaultProps.defaultValue\n        };\n        return _this;\n    }\n    Object.defineProperty(Input.prototype, \"element\", {\n        /**\n         * Gets the native input element of the Input component.\n         */\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"value\", {\n        /**\n         * Gets the value of the Input.\n         */\n        get: function () {\n            return this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the Input.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the Input is set.\n         */\n        get: function () {\n            var result = {\n                badInput: this._input ? this._input.validity.badInput : false,\n                patternMismatch: this._input\n                    ? this._input.validity.patternMismatch\n                    : false,\n                rangeOverflow: this._input ? this._input.validity.rangeOverflow : false,\n                rangeUnderflow: this._input ? this._input.validity.rangeUnderflow : false,\n                stepMismatch: this._input ? this._input.validity.stepMismatch : false,\n                tooLong: this._input ? this._input.validity.tooLong : false,\n                typeMismatch: this._input ? this._input.validity.typeMismatch : false,\n                valueMissing: this._input ? this._input.validity.valueMissing : false\n            };\n            return __assign({}, result, { customError: this.props.validationMessage !== undefined, valid: this.props.valid !== undefined\n                    ? this.props.valid\n                    : this._input\n                        ? !this.isInvalid(result)\n                        : true });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : Input.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Input.prototype.componentDidMount = function () {\n        this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n    Input.prototype.componentDidUpdate = function () {\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    Input.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, label = _a.label, id = _a.id, validationMessage = _a.validationMessage, defaultValue = _a.defaultValue, valid = _a.valid, \n        // Removed to support direct use in Form Field component\n        visited = _a.visited, touched = _a.touched, modified = _a.modified, ariaLabelledBy = _a.ariaLabelledBy, ariaDescribedBy = _a.ariaDescribedBy, validityStyles = _a.validityStyles, style = _a.style, props = __rest(_a, [\"className\", \"label\", \"id\", \"validationMessage\", \"defaultValue\", \"valid\", \"visited\", \"touched\", \"modified\", \"ariaLabelledBy\", \"ariaDescribedBy\", \"validityStyles\", \"style\"]);\n        var inputId = id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var inputClassName = classNames(className, 'k-textbox');\n        var textbox = (React.createElement(\"input\", __assign({ \"aria-labelledby\": ariaLabelledBy, \"aria-describedby\": ariaDescribedBy }, props, { style: !label\n                ? style\n                : undefined, value: this.value, id: inputId, className: inputClassName, onChange: this.handleChange, onAnimationStart: this.handleAutoFill, ref: function (el) {\n                _this._input = el;\n            } })));\n        return label ?\n            (React.createElement(FloatingLabel, { label: label, editorId: inputId, editorValue: String(this.value), editorValid: isValid, editorDisabled: props.disabled, editorPlaceholder: props.placeholder, children: textbox, style: style, dir: props.dir }))\n            : textbox;\n    };\n    /**\n     * @hidden\n     */\n    Input.propTypes = {\n        label: PropTypes.string,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    Input.defaultProps = {\n        defaultValue: '',\n        required: false,\n        validityStyles: true\n    };\n    return Input;\n}(React.Component));\nexport { Input };\n","/**\n * @hidden\n */\nexport var ResultType;\n(function (ResultType) {\n    ResultType[ResultType[\"Literal\"] = 0] = \"Literal\";\n    ResultType[ResultType[\"Mask\"] = 1] = \"Mask\";\n    ResultType[ResultType[\"Undefined\"] = 2] = \"Undefined\";\n})(ResultType || (ResultType = {}));\n/**\n * @hidden\n */\nvar Result = /** @class */ (function () {\n    function Result(value, rest, type) {\n        if (type === void 0) { type = ResultType.Undefined; }\n        this.value = value;\n        this.rest = rest;\n        this.type = type;\n    }\n    // map :: Functor f => f a ~> (a -> b) -> f b\n    Result.prototype.map = function (fn) {\n        return new Result(fn(this.value), this.rest);\n    };\n    // chain :: Chain m => m a ~> (a -> m b) -> m b\n    Result.prototype.chain = function (fn) {\n        return fn(this.value, this.rest);\n    };\n    Result.prototype.fold = function (s, _ /* we don't need it*/) {\n        return s(this.value, this.rest);\n    };\n    Result.prototype.concat = function (r) {\n        return this.map(function (vs, _) { return r.chain(function (v, __) { return vs.concat([v]); }); });\n    };\n    Result.prototype.toString = function () {\n        return \"Result({ value: '\" + this.value + \"', rest: \" + this.rest + \" })\";\n    };\n    return Result;\n}());\nexport { Result };\n","/**\n * @hidden\n */\nvar Stream = /** @class */ (function () {\n    function Stream(input, control) {\n        if (input === void 0) { input = []; }\n        if (control === void 0) { control = []; }\n        this.input = input;\n        this.control = control;\n        this.inputCursor = 0;\n        this.controlCursor = 0;\n    }\n    Stream.prototype.eof = function () {\n        return this.inputCursor >= this.input.length;\n    };\n    // Get the first value from the input.\n    Stream.prototype.next = function () {\n        return {\n            char: this.input[this.inputCursor++],\n            control: this.control[this.controlCursor++]\n        };\n    };\n    Stream.prototype.peek = function () {\n        return {\n            char: this.input[this.inputCursor],\n            control: this.control[this.controlCursor]\n        };\n    };\n    Stream.prototype.eat_input = function () {\n        this.inputCursor++;\n    };\n    Stream.prototype.eat_control = function () {\n        this.controlCursor++;\n    };\n    Stream.prototype.eat = function () {\n        this.inputCursor++;\n        this.controlCursor++;\n    };\n    return Stream;\n}());\nexport { Stream };\n","import { Result, ResultType } from './result';\nimport { Stream } from './stream';\nvar toArray = function (value) { return (value || '').split(''); };\nvar ESCAPE_CHARACTER = '\\\\';\n/**\n * @hidden\n */\nvar Parser = /** @class */ (function () {\n    function Parser(parse) {\n        this.parse = parse;\n    }\n    Parser.prototype.run = function (input, control) {\n        if (control === void 0) { control = ''; }\n        if (input instanceof Stream) {\n            return this.parse(input);\n        }\n        else {\n            return this.parse(new Stream(toArray(input), toArray(control)));\n        }\n    };\n    // map :: Functor f => f a ~> (a -> b) -> f b\n    Parser.prototype.map = function (f) {\n        var _this = this;\n        return new Parser(function (stream) { return _this.parse(stream).map(f); });\n    };\n    // chain :: Chain m => m a ~> (a -> m b) -> m b\n    Parser.prototype.chain = function (f) {\n        var _this = this;\n        return new Parser(function (stream) { return _this.parse(stream).chain(function (v, s) { return f(v).run(s); }); });\n    };\n    Parser.prototype.isLiteral = function (c) {\n        return this.run(c).type === ResultType.Literal;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * @hidden\n */\nexport var mask = function (_a) {\n    var prompt = _a.prompt, promptPlaceholder = _a.promptPlaceholder;\n    return function (rule) { return new Parser(function (stream) {\n        while (!stream.eof()) {\n            var _a = stream.peek(), char = _a.char, control = _a.control;\n            if (char === control && control === prompt) {\n                stream.eat();\n                return new Result(prompt, stream, ResultType.Mask);\n            }\n            if (rule.test(char)) {\n                stream.eat();\n                return new Result(char, stream, ResultType.Mask);\n            }\n            if (char === promptPlaceholder) {\n                stream.eat();\n                return new Result(prompt, stream, ResultType.Mask);\n            }\n            stream.eat_input();\n        }\n        stream.eat();\n        return new Result(prompt, stream, ResultType.Mask);\n    }); };\n};\n/**\n * @hidden\n */\nexport var literal = function (_token) { return new Parser(function (stream) {\n    //    let {char, control} = stream.peek();\n    var char = stream.peek().char;\n    if (char === _token) {\n        stream.eat();\n        return new Result(_token, stream, ResultType.Literal);\n    }\n    //    if (control === _token) {\n    //        while (!stream.eof() && char !== _token) {\n    //            stream.eat_input();\n    //            char = stream.peek().char;\n    //        }\n    //    }\n    //\n    //    if (control !== undefined) {\n    //        stream.eat();\n    //    }\n    return new Result(_token, stream, ResultType.Literal);\n}); };\n/**\n * @hidden\n */\nexport var unmask = function (prompt) { return function (rule) { return new Parser(function (stream) {\n    while (!stream.eof()) {\n        var _a = stream.peek(), char = _a.char, control = _a.control;\n        if (char === prompt && control === prompt) {\n            stream.eat();\n            return new Result(char, stream);\n        }\n        if (rule.test(char)) {\n            stream.eat();\n            return new Result(char, stream);\n        }\n        stream.eat_input();\n    }\n    stream.eat();\n    return new Result('', stream);\n}); }; };\n/**\n * @hidden\n */\nexport var unliteral = function (_token) { return new Parser(function (stream) {\n    if (stream.eof()) {\n        return new Result('', stream);\n    }\n    var char = stream.peek().char;\n    if (char === _token) {\n        stream.eat();\n    }\n    return new Result(_token, stream);\n}); };\n/**\n * @hidden\n */\nexport var token = function (rules, creator) { return new Parser(function (stream) {\n    var char = stream.next().char;\n    var rule = rules[char];\n    if (char === ESCAPE_CHARACTER) {\n        char = stream.next().char;\n        return new Result(creator.literal(char), stream);\n    }\n    if (!rule) {\n        return new Result(creator.literal(char), stream);\n    }\n    return new Result(creator.mask(rule), stream);\n}); };\n/**\n * @hidden\n */\nexport var rawMask = function (_a) {\n    var prompt = _a.prompt, promptPlaceholder = _a.promptPlaceholder;\n    return new Parser(function (stream) {\n        var char = stream.next().char;\n        if (char === prompt) {\n            return new Result(promptPlaceholder, stream);\n        }\n        return new Result(char, stream);\n    });\n};\n/**\n * @hidden\n */\nexport var rawLiteral = function (includeLiterals) { return new Parser(function (stream) {\n    var char = stream.next().char;\n    if (includeLiterals) {\n        return new Result(char, stream);\n    }\n    return new Result('', stream);\n}); };\n","import { Parser } from './parsers';\nimport { Result } from './result';\n/**\n * @hidden\n */\nvar always = function (value) { return new Parser(function (stream) { return new Result(value, stream); }); };\n/**\n * @hidden\n */\nvar append = function (p1, p2) { return p1.chain(function (vs) { return p2.map(function (v) { return vs.concat([v]); }); }); };\n/**\n * @hidden\n */\nexport var sequence = function (list) { return list.reduce(function (acc, parser) { return append(acc, parser); }, always([])); };\n/**\n * @hidden\n */\nexport var greedy = function (parser) { return new Parser(function (stream) {\n    var result = new Result([], stream);\n    while (!stream.eof()) {\n        result = result.concat(parser.run(stream));\n    }\n    return result;\n}); };\n","import { greedy, sequence } from './parsing/combinators';\nimport { literal, mask as maskParser, rawLiteral, rawMask, token, unliteral, unmask } from './parsing/parsers';\n/**\n * @hidden\n */\nvar MaskingService = /** @class */ (function () {\n    function MaskingService() {\n        this.rules = {};\n        this.prompt = '_';\n        this.mask = '';\n        this.promptPlaceholder = ' ';\n        this.includeLiterals = false;\n        this.maskTokens = [];\n        this.unmaskTokens = [];\n        this.rawTokens = [];\n        this.validationTokens = [];\n    }\n    MaskingService.prototype.update = function (_a) {\n        var _b = _a.mask, mask = _b === void 0 ? '' : _b, _c = _a.prompt, prompt = _c === void 0 ? '' : _c, _d = _a.promptPlaceholder, promptPlaceholder = _d === void 0 ? ' ' : _d, _e = _a.rules, rules = _e === void 0 ? {} : _e, _f = _a.includeLiterals, includeLiterals = _f === void 0 ? false : _f;\n        this.mask = mask;\n        this.prompt = prompt;\n        this.promptPlaceholder = promptPlaceholder;\n        this.rules = rules;\n        this.includeLiterals = includeLiterals;\n        this.tokenize();\n    };\n    MaskingService.prototype.validationValue = function (maskedValue) {\n        if (maskedValue === void 0) { maskedValue = ''; }\n        var value = maskedValue;\n        sequence(this.validationTokens)\n            .run(maskedValue)\n            .fold(function (unmasked) {\n            value = unmasked.join('');\n        });\n        return value;\n    };\n    MaskingService.prototype.rawValue = function (maskedValue) {\n        if (maskedValue === void 0) { maskedValue = ''; }\n        var value = maskedValue;\n        if (!this.rawTokens.length) {\n            return value;\n        }\n        sequence(this.rawTokens)\n            .run(maskedValue)\n            .fold(function (unmasked) {\n            value = unmasked.join('');\n        });\n        return value;\n    };\n    /**\n     * @hidden\n     */\n    MaskingService.prototype.maskRaw = function (rawValue) {\n        if (rawValue === void 0) { rawValue = ''; }\n        var value = rawValue;\n        if (!this.maskTokens.length) {\n            return value;\n        }\n        sequence(this.maskTokens)\n            .run(rawValue)\n            .fold(function (masked) {\n            value = masked.join('');\n        });\n        return value;\n    };\n    MaskingService.prototype.maskInput = function (input, control, splitPoint) {\n        if (input.length < control.length) {\n            return this.maskRemoved(input, control, splitPoint);\n        }\n        return this.maskInserted(input, control, splitPoint);\n    };\n    MaskingService.prototype.maskInRange = function (pasted, oldValue, start, end) {\n        var value = '';\n        var selection = end;\n        var beforeChange = oldValue.split('').slice(0, start);\n        var afterChange = oldValue.split('').slice(end);\n        sequence(this.maskTokens.slice(start, end))\n            .run(pasted)\n            .fold(function (masked) {\n            value = beforeChange\n                .concat(masked)\n                .concat(afterChange)\n                .join('');\n        });\n        return {\n            selection: selection,\n            value: value\n        };\n    };\n    MaskingService.prototype.maskRemoved = function (input, control, splitPoint) {\n        var _this = this;\n        var value = '';\n        var selection = splitPoint;\n        var unchanged = input.split('').slice(splitPoint);\n        var changed = input.split('').slice(0, splitPoint).join('');\n        var take = this.maskTokens.length - (input.length - splitPoint);\n        sequence(this.maskTokens.slice(0, take))\n            .run(changed, control)\n            .fold(function (masked) {\n            selection = _this.adjustPosition(masked, selection);\n            value = masked.concat(unchanged).join('');\n        });\n        return {\n            selection: selection,\n            value: value\n        };\n    };\n    MaskingService.prototype.adjustPosition = function (input, selection) {\n        var caretChar = input[selection];\n        var isLiteral = this.maskTokens[selection].isLiteral(caretChar);\n        if (!isLiteral && caretChar !== this.prompt) {\n            return selection + 1;\n        }\n        return selection;\n    };\n    MaskingService.prototype.maskInserted = function (input, control, splitPoint) {\n        var _this = this;\n        var value = '';\n        var selection = splitPoint;\n        var changed = input.slice(0, splitPoint);\n        sequence(this.unmaskTokens)\n            .run(changed, control)\n            .chain(function (unmasked) {\n            selection = unmasked.join('').length;\n            var unchanged = control.slice(selection);\n            return sequence(_this.maskTokens)\n                .run(unmasked.join('') + unchanged, control);\n        })\n            .fold(function (masked) {\n            value = masked.join('');\n        });\n        return {\n            selection: selection,\n            value: value\n        };\n    };\n    Object.defineProperty(MaskingService.prototype, \"maskTokenCreator\", {\n        get: function () {\n            var _a = this, prompt = _a.prompt, promptPlaceholder = _a.promptPlaceholder;\n            return {\n                literal: function (rule) { return literal(rule); },\n                mask: function (rule) { return maskParser({ prompt: prompt, promptPlaceholder: promptPlaceholder })(rule); }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskingService.prototype, \"unmaskTokenCreator\", {\n        get: function () {\n            var _this = this;\n            return {\n                literal: function (rule) { return unliteral(rule); },\n                mask: function (rule) { return unmask(_this.prompt)(rule); }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskingService.prototype, \"rawTokenCreator\", {\n        get: function () {\n            var _a = this, prompt = _a.prompt, promptPlaceholder = _a.promptPlaceholder, includeLiterals = _a.includeLiterals;\n            return {\n                literal: function (_) { return rawLiteral(includeLiterals); },\n                mask: function (_) { return rawMask({ prompt: prompt, promptPlaceholder: promptPlaceholder }); }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskingService.prototype, \"validationTokenCreator\", {\n        get: function () {\n            var prompt = this.prompt;\n            return {\n                literal: function (_) { return rawLiteral(false); },\n                mask: function (_) { return rawMask({ prompt: prompt, promptPlaceholder: '' }); }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MaskingService.prototype.tokenize = function () {\n        var _this = this;\n        greedy(token(this.rules, this.maskTokenCreator))\n            .run(this.mask)\n            .fold(function (tokens, _) {\n            _this.maskTokens = tokens;\n        });\n        greedy(token(this.rules, this.unmaskTokenCreator))\n            .run(this.mask)\n            .fold(function (tokens, _) {\n            _this.unmaskTokens = tokens;\n        });\n        greedy(token(this.rules, this.rawTokenCreator))\n            .run(this.mask)\n            .fold(function (tokens, _) {\n            _this.rawTokens = tokens;\n        });\n        greedy(token(this.rules, this.validationTokenCreator))\n            .run(this.mask)\n            .fold(function (tokens, _) {\n            _this.validationTokens = tokens;\n        });\n    };\n    return MaskingService;\n}());\nexport { MaskingService };\n","/**\n * @hidden\n */\nvar defaultRules = {\n    '#': /[\\d\\s\\+\\-]/,\n    '&': /[\\S]/,\n    '0': /[\\d]/,\n    '9': /[\\d\\s]/,\n    '?': /[a-zA-Z\\s]/,\n    'A': /[a-zA-Z0-9]/,\n    'C': /./,\n    'L': /[a-zA-Z]/,\n    'a': /[a-zA-Z0-9\\s]/\n};\n/**\n * @hidden\n */\nvar returnFalse = function () { return false; };\n/**\n * @hidden\n */\nvar maskingChanged = function (prev, next) {\n    return prev.includeLiterals !== next.includeLiterals ||\n        prev.mask !== next.mask ||\n        prev.prompt !== next.prompt ||\n        prev.promptPlaceholder !== next.promptPlaceholder ||\n        !sameRules(prev.rules, next.rules);\n};\n/**\n * @hidden\n */\nvar sameRules = function (rules1, rules2) {\n    if (!!rules1 !== !!rules2) {\n        return false;\n    }\n    if (rules1 === rules2 || (!rules1 || !rules2)) {\n        return true;\n    }\n    var same = true;\n    for (var key in rules1) {\n        if (rules1[key] !== rules2[key]) {\n            same = false;\n            break;\n        }\n    }\n    if (same) {\n        for (var key in rules2) {\n            if (!rules1.hasOwnProperty(key)) {\n                same = false;\n                break;\n            }\n        }\n    }\n    return same;\n};\nexport { defaultRules, maskingChanged, returnFalse };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MaskingService } from './masking.service';\nimport { defaultRules, maskingChanged, returnFalse } from './utils';\nimport { guid, classNames, getTabIndex } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the props of the [KendoReact MaskedTextBox component]({% slug overview_maskedtextbox %}).\n */\nvar MaskedTextBox = /** @class */ (function (_super) {\n    __extends(MaskedTextBox, _super);\n    function MaskedTextBox(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this._inputId = \"k-\" + guid();\n        _this._service = new MaskingService();\n        _this._isPasted = false;\n        _this._selection = [null, null];\n        _this._input = null;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        _this.pasteHandler = function (event) {\n            var _a = event.target, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n            if (selectionEnd === selectionStart) {\n                return;\n            }\n            _this._isPasted = true;\n            _this._selection = [selectionStart || 0, selectionEnd || 0];\n        };\n        _this.onChangeHandler = function (event) {\n            var input = event.currentTarget;\n            var value = input.value;\n            var start = _this._selection[0] || 0;\n            var end = _this._selection[1] || 0;\n            if (!_this.props.mask) {\n                _this._isPasted = false;\n                _this._selection = [null, null];\n                _this.triggerOnChange(value, event);\n                return;\n            }\n            var maskedValue = _this.value;\n            var result;\n            if (_this._isPasted) {\n                _this._isPasted = false;\n                var rightPart = maskedValue.length - end;\n                var to = value.length - rightPart;\n                result = _this._service.maskInRange(value.slice(start, to), maskedValue, start, end);\n            }\n            else {\n                result = _this._service.maskInput(value, maskedValue, input.selectionStart || 0);\n            }\n            _this._selection = [result.selection, result.selection];\n            _this.triggerOnChange(result.value, event);\n        };\n        _this.focusHandler = function (event) {\n            if (!_this.state.focused) {\n                _this.setState({ focused: true });\n                if (_this.props.onFocus) {\n                    _this.props.onFocus.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.blurHandler = function (event) {\n            if (_this.state.focused) {\n                _this.setState({ focused: false });\n                if (_this.props.onBlur) {\n                    _this.props.onBlur.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.setValidity = function () {\n            if (_this.element) {\n                _this.element.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || '');\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MaskedTextBox.prototype, \"element\", {\n        /**\n         * Gets the element of the MaskedTextBox.\n         *\n         * @return - An `HTMLInputElement`.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *     }\n         *     element = null;\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <MaskedTextBox\n         *                     ref={(component) =>\n         *                         this.element = component ? component.element : null}\n         *                 />\n         *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         *\n         * ReactDOM.render(\n         *     <App />,\n         *     document.getElementsByTagName('my-app')[0]\n         * );\n         * ```\n         */\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"value\", {\n        /**\n         * Gets the value with the mask of the MaskedTextBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"rawValue\", {\n        /**\n         * Gets the raw value without the mask of the MaskedTextBox.\n         */\n        get: function () {\n            return this._service.rawValue(this.value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MaskedTextBox is set.\n         */\n        get: function () {\n            var maskedValue = this.value;\n            var value = this._service.validationValue(maskedValue);\n            var customError = this.props.validationMessage !== undefined;\n            var valid = (this.props.valid !== undefined ?\n                this.props.valid : ((!this.required || !!value)) &&\n                (!this.props.maskValidation || !this.props.prompt || maskedValue.indexOf(this.props.prompt) === -1));\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: !value\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MaskedTextBox.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MaskedTextBox.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBox.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MaskedTextBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MaskedTextBox.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.element && this.state.focused && prevState.focused) {\n            var _a = this._selection, start = _a[0], end = _a[1];\n            var prevSelection = prevProps.selection;\n            var nextSelection = this.props.selection;\n            if ((!prevSelection && nextSelection) ||\n                (prevSelection && nextSelection &&\n                    (prevSelection.start !== nextSelection.start || prevSelection.end !== nextSelection.end))) {\n                start = nextSelection.start;\n                end = nextSelection.end;\n            }\n            if (start !== null && end !== null) {\n                this.element.setSelectionRange(start, end);\n            }\n        }\n        if (maskingChanged(prevProps, this.props)) {\n            this.updateService();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBox.prototype.componentDidMount = function () {\n        this.updateService();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBox.prototype.render = function () {\n        var _this = this;\n        var inputId = this.props.id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var style = this.props.style || {};\n        var component = (React.createElement(\"span\", { dir: this.props.dir, className: classNames('k-widget k-maskedtextbox', this.props.className, {\n                'k-state-focused': this.state.focused,\n                'k-state-disabled': this.props.disabled,\n                'k-state-invalid': !isValid\n            }), style: !this.props.label\n                ? __assign({ width: this.props.width }, style) : style },\n            React.createElement(\"input\", { type: \"text\", autoComplete: \"off\", autoCorrect: \"off\", autoCapitalize: \"off\", spellCheck: false, className: \"k-textbox\", value: this.value, id: inputId, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, name: this.props.name, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, true), accessKey: this.props.accessKey, title: this.props.title, disabled: this.props.disabled || undefined, readOnly: this.props.readonly || undefined, placeholder: this.props.placeholder, ref: function (input) { return _this._input = input; }, onChange: this.onChangeHandler, onPaste: this.pasteHandler, onFocus: this.focusHandler, onBlur: this.blurHandler, onDragStart: returnFalse, onDrop: returnFalse })));\n        return this.props.label\n            ? (React.createElement(FloatingLabel, { label: this.props.label, editorId: inputId, editorValue: this.value, editorValid: isValid, editorDisabled: this.props.disabled, editorPlaceholder: this.props.placeholder, children: component, style: { width: this.props.width }, dir: this.props.dir }))\n            : component;\n    };\n    MaskedTextBox.prototype.triggerOnChange = function (maskedValue, event) {\n        this.setState({\n            value: maskedValue\n        });\n        if (this.props.onChange) {\n            this._valueDuringOnChange = maskedValue;\n            this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                selectionStart: this._selection[0],\n                selectionEnd: this._selection[1],\n                target: this,\n                value: this.value\n            });\n            this._valueDuringOnChange = undefined;\n        }\n    };\n    MaskedTextBox.prototype.updateService = function (extra) {\n        var config = Object.assign({\n            includeLiterals: this.props.includeLiterals,\n            mask: this.props.mask,\n            prompt: this.props.prompt,\n            promptPlaceholder: this.props.promptPlaceholder,\n            rules: this.rules\n        }, extra); // tslint:disable-line:align\n        this._service.update(config);\n    };\n    Object.defineProperty(MaskedTextBox.prototype, \"rules\", {\n        get: function () {\n            return Object.assign({}, defaultRules, this.props.rules);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MaskedTextBox.propTypes = {\n        value: PropTypes.string,\n        defaultValue: PropTypes.string,\n        placeholder: PropTypes.string,\n        title: PropTypes.string,\n        dir: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        width: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number\n        ]),\n        tabIndex: PropTypes.number,\n        accessKey: PropTypes.string,\n        disabled: PropTypes.bool,\n        readonly: PropTypes.bool,\n        prompt: PropTypes.string,\n        promptPlaceholder: PropTypes.string,\n        includeLiterals: PropTypes.bool,\n        maskValidation: PropTypes.bool,\n        mask: PropTypes.string,\n        rules: function (props, propName, componentName) {\n            var rules = props.rules;\n            if (rules !== undefined) {\n                var valid = Object.entries(rules)\n                    .some(function (e) { return typeof e !== 'string' || !(rules[e] instanceof RegExp); });\n                if (!valid) {\n                    return new Error('Invalid prop `' + propName + '` supplied to' +\n                        ' `' + componentName + '`. Validation failed.');\n                }\n                return null;\n            }\n        },\n        selection: PropTypes.shape({\n            start: PropTypes.number.isRequired,\n            end: PropTypes.number.isRequired\n        }),\n        name: PropTypes.string,\n        label: PropTypes.string,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        valid: PropTypes.bool,\n        validityStyles: PropTypes.bool,\n        onChange: PropTypes.func\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBox.defaultProps = {\n        prompt: '_',\n        promptPlaceholder: ' ',\n        includeLiterals: false,\n        maskValidation: true,\n        rules: defaultRules,\n        required: false,\n        validityStyles: true\n    };\n    return MaskedTextBox;\n}(React.Component));\nexport { MaskedTextBox };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar DEFAULT_NUMBER = 1111111.1111111;\nvar MAX_DECIMAL = 0.31111111111111117;\nvar MIN_DECIMAL = 1;\nvar ONE_NUMBER = 1;\nvar ZERO_NUMBER = 0;\nvar DIGITS_REGEX = /\\d/;\nvar MAX_PRECISION = 15;\n/**\n * @hidden\n */\nexport var getInitialState = function () { return ({\n    eventValue: null,\n    prevLooseValue: '',\n    currentLooseValue: '',\n    focused: false,\n    selectionStart: undefined,\n    selectionEnd: undefined,\n    decimalSelect: false,\n    valueIsCorrected: false,\n    valueIsOutOfRange: false\n}); };\n/**\n * @hidden\n */\nexport var getStateOrPropsValue = function (value, stateValue) {\n    return value !== undefined ? value : stateValue;\n};\n/**\n * @hidden\n */\nexport var formatValue = function (value, format, intlService) {\n    if (value === null && value === undefined) {\n        return '';\n    }\n    if (typeof value === 'string') {\n        return value;\n    }\n    return intlService.formatNumber(value, format);\n};\n/**\n * @hidden\n */\nexport var fractionLength = function (value) {\n    return (String(value).split('.')[1] || '').length;\n};\n/**\n * @hidden\n */\nvar maxFractionLength = function (value1, value2) {\n    return Math.max(fractionLength(value1), fractionLength(value2));\n};\n/**\n * @hidden\n */\nexport var limitPrecision = function (precision) { return Math.min(precision, MAX_PRECISION); };\n/**\n * @hidden\n */\nexport var toFixedPrecision = function (value, precision) {\n    var maxPrecision = limitPrecision(precision);\n    return parseFloat(value.toFixed(maxPrecision));\n};\n/**\n * @hidden\n */\nexport var increaseValue = function (value, newState, step, min, max, format, intlService) {\n    var maxPrecision = maxFractionLength(value || 0, step || 0);\n    var increasedValue = rangeValue(toFixedPrecision((value || 0) + (step || 0), maxPrecision), min, max);\n    newState.eventValue = increasedValue;\n    newState.currentLooseValue = formatValue(increasedValue, format, intlService);\n    newState.selectionStart = newState.selectionEnd = getLastNumberIndex(newState.currentLooseValue, DIGITS_REGEX);\n};\n/**\n * @hidden\n */\nexport var decreaseValue = function (value, newState, step, min, max, format, intlService) {\n    var maxPrecision = maxFractionLength(value || 0, step || 0);\n    var decreasedValue = rangeValue(toFixedPrecision((value || 0) - (step || 0), maxPrecision), min, max);\n    newState.eventValue = decreasedValue;\n    newState.currentLooseValue = formatValue(decreasedValue, format, intlService);\n    newState.selectionStart = newState.selectionEnd = getLastNumberIndex(newState.currentLooseValue, DIGITS_REGEX);\n};\n/**\n * @hidden\n */\nexport var rangeValue = function (value, min, max) {\n    if (value == null) {\n        return value;\n    }\n    if (!(value > 1 || value < 1 || value === 1)) {\n        // null, undefined or NaN\n        return null;\n    }\n    if (max !== undefined && min !== undefined && max < min) {\n        return null;\n    }\n    if (max !== undefined && value > max) {\n        value = max;\n    }\n    if (min !== undefined && value < min) {\n        value = min;\n    }\n    return value;\n};\n/**\n * @hidden\n */\nexport var getMaxCursorPosition = function (nextValue, formatInfo) {\n    var formatSuffixIndex = formatInfo.findIndex(function (_a) {\n        var _ = _a[0], currSuffix = _a[1];\n        return Boolean(currSuffix) && nextValue.indexOf(currSuffix) === nextValue.length - currSuffix.length;\n    });\n    if (formatSuffixIndex === -1) {\n        return -1;\n    }\n    var suffix = formatInfo[formatSuffixIndex][1];\n    return nextValue.length - suffix.length;\n};\n/**\n * @hidden\n */\nexport var getMinCursorPosition = function (nextValue, formatInfo) {\n    var formatPrefixIndex = formatInfo.findIndex(function (_a) {\n        var currPrefix = _a[0], _ = _a[1];\n        return Boolean(currPrefix) && nextValue.indexOf(currPrefix) === 0;\n    });\n    if (formatPrefixIndex === -1) {\n        return -1;\n    }\n    var prefix = formatInfo[formatPrefixIndex][0];\n    return prefix.length;\n};\n/**\n * @hidden\n */\nexport var rangeSelection = function (nextLooseValue, formatInfo, newState) {\n    var maxPosition = getMaxCursorPosition(nextLooseValue, formatInfo);\n    if (maxPosition !== -1 && newState.selectionStart > maxPosition) {\n        newState.selectionStart = newState.selectionEnd = maxPosition;\n        return;\n    }\n    if (newState.selectionStart > nextLooseValue.length) {\n        newState.selectionStart = newState.selectionEnd = nextLooseValue.length;\n    }\n    var minPosition = getMinCursorPosition(nextLooseValue, formatInfo);\n    if (minPosition !== -1 && newState.selectionStart < minPosition) {\n        newState.selectionStart = newState.selectionEnd = minPosition;\n    }\n    if (newState.selectionStart === -1) {\n        newState.selectionStart = newState.selectionEnd = 0;\n    }\n};\n/**\n * @hidden\n */\nexport var setSelection = function (newState, newIndex, nextLooseValue, formatInfo) {\n    newState.selectionStart = newState.selectionEnd = newIndex;\n    rangeSelection(nextLooseValue, formatInfo, newState);\n};\n/**\n * @hidden\n */\nexport var setInvalid = function (newState, format, formatInfo, intlService) {\n    newState.eventValue = intlService.parseNumber(newState.prevLooseValue, format);\n    newState.currentLooseValue = newState.prevLooseValue;\n    newState.valueIsCorrected = true;\n    setSelection(newState, newState.selectionStart, newState.currentLooseValue, formatInfo);\n};\n/**\n * @hidden\n */\nexport var isMinusSymbolAdded = function (newState, symbols) {\n    var newText = String(newState.currentLooseValue);\n    var oldText = String(newState.prevLooseValue);\n    return (newText.split(symbols.minusSign).length !== oldText.split(symbols.minusSign).length &&\n        newText.length === oldText.length + symbols.minusSign.length);\n};\n/**\n * @hidden\n */\nexport var isMinusSymbolRemoved = function (newState, symbols) {\n    var newText = String(newState.currentLooseValue);\n    var oldText = String(newState.prevLooseValue);\n    return (newText.indexOf(symbols.minusSign) === -1 && oldText.indexOf(symbols.minusSign) !== -1);\n};\n/**\n * @hidden\n */\nexport var isDecimalDuplicated = function (newState, symbols) {\n    var newText = String(newState.currentLooseValue);\n    return newText.split(symbols.decimal).length > 2;\n};\n/**\n * @hidden\n */\nexport var getFormatPrefixSufix = function (format, intlService) {\n    var positiveResult = intlService.formatNumber(DEFAULT_NUMBER, format);\n    var negativeResult = intlService.formatNumber(-DEFAULT_NUMBER, format);\n    var zeroResult = intlService.formatNumber(ZERO_NUMBER, format);\n    var oneResult = intlService.formatNumber(ONE_NUMBER, format);\n    var positivePrefix = getPrefix(positiveResult);\n    var negativePrefix = getPrefix(negativeResult);\n    var zeroPrefix = getPrefix(zeroResult);\n    var onePrefix = getPrefix(oneResult);\n    var positiveSuffix = getSuffix(positiveResult);\n    var negativeSuffix = getSuffix(negativeResult);\n    var zeroSuffix = getSuffix(zeroResult);\n    var oneSuffix = getSuffix(oneResult);\n    return {\n        positiveInfo: [positivePrefix, positiveSuffix],\n        negativeInfo: [negativePrefix, negativeSuffix],\n        zeroInfo: [zeroPrefix, zeroSuffix],\n        oneInfo: [onePrefix, oneSuffix]\n    };\n};\n/**\n * @hidden\n */\nexport var getFormatSymbols = function (format, intlService) {\n    var positiveResult = intlService.formatNumber(DEFAULT_NUMBER, format);\n    var negativeResult = intlService.formatNumber(-DEFAULT_NUMBER, format);\n    var zeroResult = intlService.formatNumber(ZERO_NUMBER, format);\n    var oneResult = intlService.formatNumber(ONE_NUMBER, format);\n    var symbols = intlService.numberSymbols();\n    var sanitizeRegex = new RegExp(\"[\\\\d\\\\\" + symbols.decimal + symbols.group + \"]\", 'g');\n    var resultWithDuplicates = [positiveResult, negativeResult, zeroResult, oneResult]\n        .map(function (result) { return result.replace(sanitizeRegex, ''); })\n        .join('');\n    return resultWithDuplicates\n        .split('')\n        .filter(function (x, n, s) { return s.indexOf(x) === n; })\n        .join('');\n};\n/**\n * @hidden\n */\nexport var getInitialPosition = function (nextLooseValue, symbols) {\n    var decimalIdex = nextLooseValue.indexOf(symbols.decimal);\n    if (decimalIdex > -1) {\n        return decimalIdex;\n    }\n    return getLastNumberIndex(nextLooseValue, DIGITS_REGEX);\n};\n/**\n * @hidden\n */\nexport var reverseString = function (str) {\n    return str.split('').reverse().join('');\n};\n/**\n * @hidden\n */\nexport var getLastNumberIndex = function (currentLooseValue, inputRegex) {\n    return currentLooseValue.length - reverseString(currentLooseValue).search(inputRegex);\n};\n/**\n * @hidden\n */\nexport var getPrefix = function (str) {\n    return str.split(str[str.search(DIGITS_REGEX)])[0];\n};\n/**\n * @hidden\n */\nexport var getSuffix = function (str) {\n    var reversedString = reverseString(str);\n    return reverseString(reversedString.split(reversedString[reversedString.search(DIGITS_REGEX)])[0]);\n};\n/**\n * @hidden\n */\nexport var getFirstNumberIndex = function (prevLooseValue, inputRegex) {\n    return prevLooseValue.search(inputRegex);\n};\n/**\n * @hidden\n */\nexport var getDecimalCount = function (value, decimal) {\n    var currentDecimalPlace = value.indexOf(decimal);\n    return currentDecimalPlace > -1 ? value.length - currentDecimalPlace - 1 : 0;\n};\n/**\n * @hidden\n */\nexport var changeBasedSelection = function (currentValue, nextValue, selectionPosition, isDelete, sanitizeRegex) {\n    var isCurrentLeadingZero = currentValue.replace(sanitizeRegex, '')[0] === '0';\n    var isNextLeadingZero = nextValue.replace(sanitizeRegex, '')[0] === '0';\n    if (isCurrentLeadingZero && !isNextLeadingZero) {\n        return selectionPosition - 1;\n    }\n    if (isNextLeadingZero && isDelete) {\n        return selectionPosition + 1;\n    }\n    var numberCounter = 0;\n    for (var idx = 0; idx < selectionPosition; idx++) {\n        if (DIGITS_REGEX.test(currentValue.charAt(idx))) {\n            numberCounter++;\n        }\n    }\n    var newSelection = 0;\n    while (numberCounter > 0 && nextValue.length > newSelection) {\n        if (DIGITS_REGEX.test(nextValue.charAt(newSelection))) {\n            numberCounter--;\n        }\n        newSelection++;\n    }\n    return newSelection;\n};\n/**\n * @hidden\n */\nexport var sanitizeNumber = function (state, format, intlService) {\n    var newState = __assign({}, state);\n    var prevLooseValue = newState.prevLooseValue;\n    var symbols = intlService.numberSymbols();\n    var restrictedSymbols = getFormatSymbols(format, intlService);\n    var currentLooseValueAsString = String(newState.currentLooseValue);\n    var prevLooseValueAsString = String(prevLooseValue);\n    var sanitizeRegex = new RegExp(\"[^\\\\d\\\\\" + symbols.decimal + \"]\", 'g');\n    var sanitizeGroupRegex = new RegExp(\"[^\\\\d\\\\\" + symbols.decimal + \"\\\\\" + symbols.group + \"]\", 'g');\n    var allSymbolsRegex = new RegExp(\"[\\\\d\\\\\" + symbols.decimal + \"\\\\\" + symbols.group + \"]\");\n    var sanitizedString = currentLooseValueAsString.replace(sanitizeRegex, '');\n    var numberStart = getFirstNumberIndex(currentLooseValueAsString, DIGITS_REGEX);\n    var numberEnd = numberStart === -1 ? -1 : getLastNumberIndex(currentLooseValueAsString, DIGITS_REGEX);\n    var decimalIndex = currentLooseValueAsString.indexOf(symbols.decimal);\n    var sanitizedFormattedString = (currentLooseValueAsString.substring(0, numberStart) +\n        currentLooseValueAsString.substring(numberStart, numberEnd).replace(sanitizeGroupRegex, '') +\n        currentLooseValueAsString.substring(numberEnd, currentLooseValueAsString.length))\n        .split('')\n        .filter(function (s) { return restrictedSymbols.indexOf(s) !== -1 || s.search(allSymbolsRegex) !== -1; })\n        .join('');\n    var formattedMax = intlService.formatNumber(MAX_DECIMAL, format).replace(sanitizeRegex, '');\n    var maxDecimalIndex = formattedMax.indexOf(symbols.decimal);\n    var maxDecimalCount = maxDecimalIndex > -1 ? formattedMax.length - maxDecimalIndex - 1 : 0;\n    var formattedMin = intlService.formatNumber(MIN_DECIMAL, format).replace(sanitizeRegex, '');\n    var minDecimalIndex = formattedMin.indexOf(symbols.decimal);\n    var minDecimalCount = minDecimalIndex > -1 ? formattedMin.length - minDecimalIndex - 1 : 0;\n    var _a = getFormatPrefixSufix(format, intlService), positiveInfo = _a.positiveInfo, negativeInfo = _a.negativeInfo, zeroInfo = _a.zeroInfo, oneInfo = _a.oneInfo;\n    var formatInfo = [positiveInfo, negativeInfo, zeroInfo, oneInfo];\n    var isFormatContainPrefixSuffix = formatInfo.findIndex(function (info) { return info.findIndex(function (nestedInfo) { return Boolean(nestedInfo); }) !== -1; }) !== 1;\n    var isDelete = currentLooseValueAsString.length > 0 && currentLooseValueAsString.length < prevLooseValueAsString.length;\n    var isPercentFormat = format &&\n        format[0] === 'p' &&\n        currentLooseValueAsString &&\n        currentLooseValueAsString.indexOf(symbols.percentSign) === -1;\n    if (!newState.isPaste) {\n        // 1. Empty input\n        if (currentLooseValueAsString === '') {\n            newState.eventValue = null;\n            newState.currentLooseValue = '';\n            return newState;\n        }\n        // 2. Check is minus sign\n        if (newState.currentLooseValue === symbols.minusSign && intlService.formatNumber(-0, format) !== prevLooseValueAsString) {\n            newState.eventValue = -0;\n            newState.currentLooseValue = formatValue(newState.eventValue, format, intlService);\n            setSelection(newState, getInitialPosition(newState.currentLooseValue, symbols), newState.currentLooseValue, formatInfo);\n            return newState;\n        }\n        // 3. Minus sign toggle\n        if (isMinusSymbolAdded(newState, symbols)) {\n            var nextValue = intlService.parseNumber(prevLooseValue, format);\n            newState.eventValue = -(nextValue !== null ? nextValue : 0);\n            newState.currentLooseValue = formatValue(newState.eventValue, format, intlService);\n            var currentNumberStart = getFirstNumberIndex(newState.currentLooseValue, DIGITS_REGEX);\n            var oldNumberStart = getFirstNumberIndex(prevLooseValueAsString, DIGITS_REGEX);\n            setSelection(newState, newState.selectionEnd - 1 + (currentNumberStart - oldNumberStart), newState.currentLooseValue, formatInfo);\n            return newState;\n        }\n        if (isMinusSymbolRemoved(newState, symbols)) {\n            newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n            setSelection(newState, newState.selectionStart, newState.currentLooseValue, formatInfo);\n            return newState;\n        }\n        // 4. Check is decimal symbol\n        if (newState.currentLooseValue === symbols.decimal) {\n            newState.eventValue = 0;\n            var valueCandidate = formatValue(newState.eventValue, format, intlService);\n            if (minDecimalCount === 0 && maxDecimalCount > 0) {\n                var currentLastNumberIndex = getLastNumberIndex(valueCandidate, DIGITS_REGEX);\n                newState.currentLooseValue = valueCandidate.substring(0, currentLastNumberIndex) +\n                    symbols.decimal +\n                    valueCandidate.substring(currentLastNumberIndex);\n            }\n            else {\n                newState.currentLooseValue = valueCandidate;\n            }\n            setSelection(newState, getInitialPosition(newState.currentLooseValue, symbols) + 1, newState.currentLooseValue, formatInfo);\n            return newState;\n        }\n        // 5. Duplicate decimal - it's possible only as trailing\n        if (isDecimalDuplicated(newState, symbols)) {\n            setInvalid(newState, format, formatInfo, intlService);\n            return newState;\n        }\n        // 6. Percent format\n        if (isPercentFormat) {\n            newState.eventValue = intlService.parseNumber(currentLooseValueAsString, format) / 100;\n            newState.currentLooseValue = formatValue(newState.eventValue, format, intlService);\n            return newState;\n        }\n        // 7. More than 15 numeric symbols\n        var numericSymbols = String(newState.currentLooseValue).replace(/[^\\d]/g, '');\n        if (numericSymbols.length > MAX_PRECISION) {\n            setInvalid(newState, format, formatInfo, intlService);\n            return newState;\n        }\n        // 8. Check prefix / suffix for modifications\n        if (sanitizedString !== currentLooseValueAsString &&\n            currentLooseValueAsString &&\n            isFormatContainPrefixSuffix) {\n            var formatInfoIndex = formatInfo.findIndex(function (_a) {\n                var prefix = _a[0], suffix = _a[1];\n                var prefixIndex = currentLooseValueAsString.indexOf(prefix);\n                var suffixIndex = currentLooseValueAsString.indexOf(suffix);\n                var prefixFound = prefixIndex === 0;\n                var suffixFound = suffixIndex === currentLooseValueAsString.length - suffix.length;\n                var prefixGap = prefixIndex + prefix.length !== numberStart &&\n                    numberStart !== -1 &&\n                    currentLooseValueAsString[prefixIndex + prefix.length] !== symbols.decimal;\n                var suffixGap = suffixIndex !== numberEnd &&\n                    numberEnd !== -1 &&\n                    currentLooseValueAsString[suffixIndex - 1] !== symbols.decimal;\n                if (prefix && suffix) {\n                    if (prefixGap || suffixGap) {\n                        return false;\n                    }\n                    return prefixFound && suffixFound;\n                }\n                if (prefix) {\n                    if (prefixGap) {\n                        return false;\n                    }\n                    return prefixFound;\n                }\n                if (suffix) {\n                    if (suffixGap) {\n                        return false;\n                    }\n                    return suffixFound;\n                }\n                return false;\n            });\n            if (formatInfoIndex === -1) {\n                setInvalid(newState, format, formatInfo, intlService);\n                return newState;\n            }\n        }\n        // 9. Value ending on decimal separator (here as decimal might be typed inside format)\n        if (sanitizedString[sanitizedString.length - 1] === symbols.decimal && maxDecimalCount > 0) {\n            newState.eventValue = intlService.parseNumber(currentLooseValueAsString, format);\n            newState.currentLooseValue = sanitizedFormattedString;\n            return newState;\n        }\n        // 10. prevent deleting decimal and group symbols\n        if (newState.currentLooseValue && prevLooseValue) {\n            var isSpecialSymbolDeleted = (restrictedSymbols + symbols.decimal + symbols.group)\n                .split('')\n                .findIndex(function (s) {\n                if (currentLooseValueAsString.split('').filter(function (x) { return x === s; }).length <\n                    prevLooseValueAsString.split('').filter(function (x) { return x === s; }).length &&\n                    currentLooseValueAsString.length + 1 === prevLooseValueAsString.length) {\n                    if (s === symbols.decimal &&\n                        getDecimalCount(prevLooseValueAsString.replace(sanitizeRegex, ''), symbols.decimal) === 0) {\n                        return false;\n                    }\n                    return true;\n                }\n                return false;\n            }) > -1;\n            if (isSpecialSymbolDeleted) {\n                newState.eventValue = intlService.parseNumber(state.prevLooseValue, format);\n                newState.currentLooseValue = state.prevLooseValue;\n                return newState;\n            }\n        }\n        var currentDecimalCount = getDecimalCount(sanitizedString, symbols.decimal);\n        var endsOnDecimal = sanitizedString[sanitizedString.length - 1] === '0';\n        // 11. Deleting more decimals than allowed\n        if (isDelete && endsOnDecimal && currentDecimalCount < minDecimalCount) {\n            newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n            newState.currentLooseValue = formatValue(newState.eventValue, format, intlService);\n            return newState;\n        }\n        // 12. Ending on zero OR more decimals than allowed\n        if (currentDecimalCount > 0) {\n            var valueUntillDecimal = currentLooseValueAsString.substring(0, decimalIndex);\n            if (endsOnDecimal && (!valueUntillDecimal || prevLooseValueAsString.indexOf(valueUntillDecimal) !== 0)) {\n                // ending on zero but typing before decimal separator\n                newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n                var nextLooseValue = formatValue(newState.eventValue, format, intlService);\n                setSelection(newState, changeBasedSelection(currentLooseValueAsString, nextLooseValue, newState.selectionEnd, isDelete, sanitizeRegex), nextLooseValue, formatInfo);\n                newState.currentLooseValue = nextLooseValue;\n                return newState;\n            }\n            if (currentDecimalCount > maxDecimalCount) {\n                // typing more symbols than format allows\n                var looseDecimalPlace = currentLooseValueAsString.indexOf(symbols.decimal);\n                var result = currentLooseValueAsString.substring(0, looseDecimalPlace) +\n                    currentLooseValueAsString.substring(looseDecimalPlace, looseDecimalPlace + 1 + maxDecimalCount) +\n                    currentLooseValueAsString.substring(numberEnd, String(newState.currentLooseValue).length);\n                newState.eventValue = intlService.parseNumber(result, format);\n                newState.currentLooseValue = result;\n                setSelection(newState, newState.selectionStart, result, formatInfo);\n                return newState;\n            }\n            if (minDecimalCount !== maxDecimalCount && currentDecimalCount <= maxDecimalCount && endsOnDecimal) {\n                // adding trailing zeroes\n                newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n                newState.currentLooseValue = sanitizedFormattedString;\n                return newState;\n            }\n            if (currentDecimalCount < minDecimalCount) {\n                // deleting more decimals than allowed\n                newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n                newState.currentLooseValue = formatValue(newState.eventValue, format, intlService);\n                return newState;\n            }\n        }\n    }\n    // X. All other values should be parsed\n    newState.eventValue = intlService.parseNumber(newState.currentLooseValue, format);\n    if (isPercentFormat) {\n        newState.eventValue = newState.eventValue / 100;\n    }\n    if (typeof newState.eventValue === 'number') {\n        var nextLooseValue = formatValue(newState.eventValue, format, intlService);\n        // First digit add\n        if (currentLooseValueAsString.length === 1) {\n            setSelection(newState, getInitialPosition(nextLooseValue, symbols), nextLooseValue, formatInfo);\n        }\n        else {\n            setSelection(newState, changeBasedSelection(currentLooseValueAsString, nextLooseValue, newState.selectionEnd, isDelete, sanitizeRegex), nextLooseValue, formatInfo);\n        }\n        newState.currentLooseValue = nextLooseValue;\n    }\n    else {\n        // Case when deleting last number\n        newState.currentLooseValue = formatValue(intlService.parseNumber(sanitizedString), format, intlService);\n    }\n    return newState;\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { useInternationalization, useLocalization } from '@progress/kendo-react-intl';\nimport { classNames, guid, getTabIndex, dispatchEvent } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { numericIncreaseValue, messages, numericDecreaseValue } from '../messages';\nimport { formatValue, sanitizeNumber, rangeValue, increaseValue, decreaseValue, getStateOrPropsValue, getInitialState } from './utils';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact NumericTextBox component]({% slug overview_numerictextbox %}).\n */\nexport var NumericTextBox = React.forwardRef(function (props, target) {\n    validatePackage(packageMetadata);\n    var calculatedId = React.useMemo(function () { return guid(); }, []);\n    var inputId = props.id || calculatedId;\n    var intlService = useInternationalization();\n    var localizationService = useLocalization();\n    var elementRef = React.useRef(null);\n    var elementWrapperRef = React.useRef(null);\n    var valueDuringChangeRef = React.useRef();\n    var _a = React.useState(false), forceUpdate = _a[0], setForceUpdate = _a[1];\n    var stateRef = React.useRef(getInitialState());\n    var isPasteRef = React.useRef(false);\n    var prevLooseValueRef = React.useRef();\n    var stateValueRef = React.useRef(props.defaultValue);\n    var looseValue = formatValue(stateRef.current.focused && !props.disabled ?\n        stateRef.current.currentLooseValue :\n        getStateOrPropsValue(props.value, stateValueRef.current), props.format, intlService);\n    prevLooseValueRef.current = looseValue;\n    React.useEffect(function () {\n        if (elementRef.current && elementRef.current.setCustomValidity) {\n            elementRef.current.setCustomValidity(validityGetter().valid\n                ? ''\n                : props.validationMessage || VALIDATION_MESSAGE);\n        }\n    });\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var valueGetter = React.useCallback(function () {\n        if (valueDuringChangeRef.current !== undefined) {\n            return valueDuringChangeRef.current;\n        }\n        else {\n            return getStateOrPropsValue(props.value, stateValueRef.current);\n        }\n    }, [props.value]);\n    var nameGetter = React.useCallback(function () {\n        return props.name;\n    }, [props.name]);\n    var requiredGetter = React.useCallback(function () {\n        return props.required;\n    }, [props.required]);\n    var validityGetter = React.useCallback(function () {\n        var customError = props.validationMessage !== undefined;\n        var currentValue = valueGetter();\n        var valid = props.valid !== undefined ?\n            props.valid :\n            !stateRef.current.valueIsOutOfRange &&\n                (!requiredGetter() || (currentValue !== null && currentValue !== undefined));\n        return {\n            customError: customError,\n            valid: valid,\n            valueMissing: currentValue === null || currentValue === undefined\n        };\n    }, [props.validationMessage, props.valid, valueGetter, requiredGetter]);\n    var validityStylesGetter = React.useCallback(function () {\n        return props.validityStyles;\n    }, [props.validityStyles]);\n    var propsGetter = React.useCallback(function () {\n        return props;\n    }, [props]);\n    var getImperativeHandle = React.useCallback(function () {\n        var options = {\n            element: elementRef.current,\n            focus: focusElement\n        };\n        Object.defineProperty(options, 'name', { get: nameGetter });\n        Object.defineProperty(options, 'value', { get: valueGetter });\n        Object.defineProperty(options, 'validity', { get: validityGetter });\n        Object.defineProperty(options, 'validityStyles', { get: validityStylesGetter });\n        Object.defineProperty(options, 'required', { get: requiredGetter });\n        Object.defineProperty(options, 'props', { get: propsGetter });\n        return options;\n    }, [nameGetter, valueGetter, validityGetter, validityStylesGetter, requiredGetter, focusElement, propsGetter]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var getCurrentState = React.useCallback(function () {\n        return {\n            eventValue: getStateOrPropsValue(props.value, stateValueRef.current),\n            prevLooseValue: prevLooseValueRef.current,\n            currentLooseValue: elementRef.current.value,\n            selectionStart: elementRef.current.selectionStart,\n            selectionEnd: elementRef.current.selectionEnd,\n            decimalSelect: false,\n            valueIsCorrected: false,\n            valueIsOutOfRange: false,\n            isPaste: isPasteRef.current,\n            focused: stateRef.current.focused\n        };\n    }, [props.value]);\n    var triggerChange = React.useCallback(function (event, newState) {\n        if (props.disabled) {\n            return;\n        }\n        valueDuringChangeRef.current = newState.eventValue;\n        stateValueRef.current = newState.eventValue;\n        var formattedValue = formatValue(rangeValue(newState.eventValue, props.min, props.max), props.format, intlService);\n        var rangedValue = rangeValue(intlService.parseNumber(formattedValue, props.format), props.min, props.max);\n        if (rangedValue !== newState.eventValue) {\n            newState.valueIsOutOfRange = true;\n            newState.eventValue = rangedValue;\n            stateValueRef.current = rangedValue;\n        }\n        if (newState.valueIsCorrected) {\n            var wrapper_1 = elementWrapperRef.current;\n            if (wrapper_1 && wrapper_1.className.indexOf('k-state-invalid') === -1) {\n                wrapper_1.className += ' k-state-invalid';\n                window.setTimeout(function () { return wrapper_1.className = wrapper_1.className.replace(' k-state-invalid', ''); }, 50);\n            }\n        }\n        var shouldFireEvent = props.value !== newState.eventValue;\n        if (shouldFireEvent) {\n            dispatchEvent(props.onChange, event, getImperativeHandle(), { value: newState.eventValue });\n        }\n        valueDuringChangeRef.current = undefined;\n        stateRef.current = newState;\n        setForceUpdate(function (_x) { return !_x; });\n    }, [props.value, props.onChange, props.disabled, setForceUpdate, getImperativeHandle]);\n    var onChangeHandler = React.useCallback(function (event) {\n        var stateCandidate = getCurrentState();\n        isPasteRef.current = false;\n        triggerChange(event, sanitizeNumber(stateCandidate, props.format, intlService));\n    }, [props.format, props.onChange, intlService, triggerChange, getCurrentState]);\n    var onKeyDown = React.useCallback(function (event) {\n        var newState = getCurrentState();\n        var currentValue = intlService.parseNumber(String(newState.currentLooseValue), props.format);\n        // Select All\n        if (newState.selectionEnd > newState.selectionStart &&\n            newState.selectionEnd - newState.selectionStart === String(newState.currentLooseValue).length) {\n            isPasteRef.current = true;\n            return;\n        }\n        switch (event.keyCode) {\n            case 38:\n                // Arrow up\n                increaseValue(currentValue, newState, props.step, props.min, props.max, props.format, intlService);\n                break;\n            case 40:\n                // Arrow down\n                decreaseValue(currentValue, newState, props.step, props.min, props.max, props.format, intlService);\n                break;\n            case 13:\n                // Enter - range values\n                if (props.rangeOnEnter === false) {\n                    return;\n                }\n                var formattedValue = formatValue(rangeValue(currentValue, props.min, props.max), props.format, intlService);\n                var rangedValue = rangeValue(intlService.parseNumber(formattedValue, props.format), props.min, props.max);\n                newState.eventValue = rangedValue;\n                newState.currentLooseValue = formatValue(rangedValue, props.format, intlService);\n                newState.selectionStart = newState.selectionEnd = newState.currentLooseValue.length;\n                break;\n            case 110:\n                // Numpad decimal key\n                var element = elementRef.current;\n                var symbols = intlService.numberSymbols();\n                if (element) {\n                    newState.currentLooseValue = newState.currentLooseValue.slice(0, newState.selectionStart) +\n                        symbols.decimal +\n                        newState.currentLooseValue.slice(newState.selectionEnd);\n                    newState.selectionStart = newState.selectionEnd = newState.selectionStart + 1;\n                    newState = sanitizeNumber(newState, props.format, intlService);\n                }\n                break;\n            default:\n                return;\n        }\n        event.preventDefault();\n        triggerChange(event, newState);\n    }, [props.format, props.min, props.max, props.step, props.onChange, props.rangeOnEnter, triggerChange, getCurrentState]);\n    var onPasteHandler = React.useCallback(function () {\n        isPasteRef.current = true;\n    }, []);\n    var onIncrease = React.useCallback(function (event) {\n        if (props.readOnly ||\n            props.disabled) {\n            return;\n        }\n        var newState = getCurrentState();\n        increaseValue(intlService.parseNumber(String(newState.currentLooseValue), props.format), newState, props.step, props.min, props.max, props.format, intlService);\n        triggerChange(event, newState);\n    }, [props.format, props.min, props.max, props.step, props.onChange, props.readOnly, props.disabled, triggerChange, getCurrentState]);\n    var onDecrease = React.useCallback(function (event) {\n        if (props.readOnly ||\n            props.disabled) {\n            return;\n        }\n        var newState = getCurrentState();\n        decreaseValue(intlService.parseNumber(String(newState.currentLooseValue), props.format), newState, props.step, props.min, props.max, props.format, intlService);\n        triggerChange(event, newState);\n    }, [props.format, props.min, props.max, props.step, props.onChange, props.readOnly, props.disabled, triggerChange, getCurrentState]);\n    var onWheelHandler = React.useCallback(function (event) {\n        if (!document ||\n            document.activeElement !== elementRef.current ||\n            !elementRef.current ||\n            props.readOnly ||\n            props.disabled) {\n            return;\n        }\n        if (event.nativeEvent.deltaY < 0) {\n            onIncrease(event);\n        }\n        if (event.nativeEvent.deltaY > 0) {\n            onDecrease(event);\n        }\n    }, [onIncrease, onDecrease, props.disabled, props.readOnly]);\n    var onFocus = React.useCallback(function (event) {\n        stateRef.current.currentLooseValue = prevLooseValueRef.current;\n        stateRef.current.focused = true;\n        dispatchEvent(props.onFocus, event, getImperativeHandle(), {});\n        setForceUpdate(function (x) { return !x; });\n    }, [props.onFocus, setForceUpdate, getImperativeHandle]);\n    var onBlur = React.useCallback(function (event) {\n        stateRef.current = getInitialState();\n        dispatchEvent(props.onBlur, event, getImperativeHandle(), {});\n        setForceUpdate(function (x) { return !x; });\n    }, [props.onBlur, setForceUpdate, getImperativeHandle]);\n    var onMouseDown = React.useCallback(function (e) {\n        if (document && elementRef.current) {\n            e.preventDefault();\n            if (document.activeElement !== elementRef.current) {\n                elementRef.current.focus();\n            }\n        }\n    }, []);\n    React.useLayoutEffect(function () {\n        if (elementRef.current && stateRef.current.selectionStart !== undefined && stateRef.current.selectionEnd !== undefined) {\n            elementRef.current.selectionStart = stateRef.current.selectionStart;\n            elementRef.current.selectionEnd = stateRef.current.selectionEnd;\n            stateRef.current.selectionStart = undefined;\n            stateRef.current.selectionEnd = undefined;\n        }\n    }, [forceUpdate]);\n    var isValid = !validityStylesGetter() || validityGetter().valid;\n    var numerictextbox = (React.createElement(\"span\", { dir: props.dir, style: !props.label\n            ? { width: props.width }\n            : undefined, className: 'k-widget k-numerictextbox' + (props.className ? ' ' + props.className : ''), \"aria-disabled\": props.disabled ? 'true' : undefined },\n        React.createElement(\"span\", { className: classNames('k-numeric-wrap', {\n                'k-state-disabled': props.disabled,\n                'k-state-invalid': !isValid,\n                'k-state-focused': stateRef.current.focused\n            }), ref: elementWrapperRef },\n            React.createElement(\"input\", { value: looseValue === null ? '' : looseValue, tabIndex: getTabIndex(props.tabIndex, props.disabled), accessKey: props.accessKey, disabled: props.disabled, title: props.title, \"aria-valuemin\": props.min, \"aria-valuemax\": props.max, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy, placeholder: props.placeholder, spellCheck: false, autoComplete: 'off', autoCorrect: 'off', type: props.inputType || 'tel', className: 'k-input k-formatted-value', id: inputId, name: props.name, readOnly: props.readOnly, onChange: onChangeHandler, onFocus: onFocus, onBlur: onBlur, onKeyDown: onKeyDown, onPaste: onPasteHandler, onWheel: onWheelHandler, ref: elementRef }),\n            props.children,\n            props.spinners &&\n                (React.createElement(\"span\", { className: \"k-select\", onMouseDown: onMouseDown },\n                    React.createElement(\"span\", { className: \"k-link k-link-increase\", \"aria-label\": localizationService\n                            .toLanguageString(numericIncreaseValue, messages[numericIncreaseValue]), title: localizationService\n                            .toLanguageString(numericIncreaseValue, messages[numericIncreaseValue]), onClick: onIncrease },\n                        React.createElement(\"span\", { className: \"k-icon k-i-arrow-n\" })),\n                    React.createElement(\"span\", { className: \"k-link k-link-decrease\", \"aria-label\": localizationService\n                            .toLanguageString(numericDecreaseValue, messages[numericDecreaseValue]), title: localizationService\n                            .toLanguageString(numericDecreaseValue, messages[numericDecreaseValue]), onClick: onDecrease },\n                        React.createElement(\"span\", { className: \"k-icon k-i-arrow-s\" })))))));\n    return props.label\n        ? (React.createElement(FloatingLabel, { label: props.label, editorId: inputId, editorValue: looseValue === null ? '' : looseValue, editorValid: isValid, editorDisabled: props.disabled, editorPlaceholder: props.placeholder, children: numerictextbox, style: { width: props.width }, dir: props.dir }))\n        : numerictextbox;\n});\nNumericTextBox.propTypes = {\n    value: PropTypes.number,\n    defaultValue: PropTypes.number,\n    step: PropTypes.number,\n    format: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.shape({\n            style: PropTypes.oneOf(['decimal', 'currency', 'percent', 'scientific', 'accounting']),\n            currency: PropTypes.string,\n            currencyDisplay: PropTypes.oneOf(['symbol', 'code', 'name']),\n            useGrouping: PropTypes.bool,\n            minimumIntegerDigits: PropTypes.number,\n            minimumFractionDigits: PropTypes.number,\n            maximumFractionDigits: PropTypes.number\n        })\n    ]),\n    width: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number\n    ]),\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    title: PropTypes.string,\n    placeholder: PropTypes.string,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    spinners: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    dir: PropTypes.string,\n    name: PropTypes.string,\n    label: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    rangeOnEnter: PropTypes.bool,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n};\nNumericTextBox.displayName = 'KendoNumericTextBox';\nNumericTextBox.defaultProps = {\n    step: 1,\n    spinners: true,\n    disabled: false,\n    required: false,\n    validityStyles: true,\n    rangeOnEnter: true,\n    onChange: function (_) { return; },\n    onFocus: function (_) { return; },\n    onBlur: function (_) { return; }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useDir } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nexport var SLIDER_LABEL_ATTRIBUTE = 'data-slider-label';\n/**\n * Represents the KendoReact SliderLabel component.\n */\nexport var SliderLabel = function (props) {\n    var _a, _b;\n    var sliderLabelRef = React.useRef(null);\n    var dir = useDir(sliderLabelRef);\n    var style = props.vertical\n        ? { bottom: props.position + \"%\", height: '1px', width: '100%' }\n        : (_a = {}, _a[dir === 'rtl' ? 'right' : 'left'] = props.position + \"%\", _a.width = '1px', _a);\n    return (React.createElement(\"li\", { ref: sliderLabelRef, role: \"presentation\", className: \"k-tick k-tick-large\", title: props.title, style: __assign({ zIndex: 1, position: 'absolute' }, style) },\n        React.createElement(\"span\", __assign({}, (_b = {}, _b[SLIDER_LABEL_ATTRIBUTE] = true, _b), { className: \"k-label\", onClick: props.onClick }), props.children)));\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent, Keys, classNames, Draggable, getTabIndex } from '@progress/kendo-react-common';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, sliderIncreaseValue, sliderDecreaseValue, sliderDragTitle } from './../messages';\nimport { SLIDER_LABEL_ATTRIBUTE } from './SliderLabel';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact Slider component]({% slug overview_slider%}).\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            value: _this.props.defaultValue === undefined ? _this.props.min : _this.props.defaultValue,\n            focused: false,\n            dir: _this.props.dir\n        };\n        /**\n         * @hidden\n         */\n        _this.buttons = function (props) {\n            if (!props.enabled) {\n                return props.children;\n            }\n            return (React.createElement(React.Fragment, null,\n                React.createElement(\"a\", { className: \"k-button k-button-decrease\", style: { position: 'relative' }, title: props.decrementTitle, onClick: props.decrement },\n                    React.createElement(\"span\", { className: classNames('k-icon', {\n                            'k-i-arrow-s': _this.props.vertical,\n                            'k-i-arrow-w': !_this.props.vertical\n                        }) })),\n                props.children,\n                React.createElement(\"a\", { className: \"k-button k-button-increase\", style: { position: 'relative' }, title: props.incrementTitle, onClick: props.increment },\n                    React.createElement(\"span\", { className: classNames('k-icon', {\n                            'k-i-arrow-n': _this.props.vertical,\n                            'k-i-arrow-e': !_this.props.vertical\n                        }) }))));\n        };\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        _this.isLabel = function (target) {\n            var currentTarget = target;\n            while (currentTarget) {\n                if (Boolean(currentTarget.getAttribute(SLIDER_LABEL_ATTRIBUTE))) {\n                    return true;\n                }\n                currentTarget = currentTarget.parentElement;\n            }\n            return false;\n        };\n        _this.onFocus = function () {\n            _this.setState({ focused: true });\n        };\n        _this.onBlur = function () {\n            _this.setState({ focused: false });\n        };\n        _this.onKeyDown = function (e) {\n            var newValue = undefined;\n            if (e.keyCode === Keys.left || e.keyCode === Keys.down) {\n                newValue = _this.state.value - (_this.props.step || 0);\n            }\n            else if (e.keyCode === Keys.right || e.keyCode === Keys.up) {\n                newValue = _this.state.value + (_this.props.step || 0);\n            }\n            else if (e.keyCode === Keys.home) {\n                newValue = _this.props.min;\n            }\n            else if (e.keyCode === Keys.end) {\n                newValue = _this.props.max;\n            }\n            if (newValue !== undefined) {\n                e.preventDefault();\n                _this.change(e, newValue);\n            }\n        };\n        _this.decrement = function (e) {\n            e.preventDefault();\n            _this.change(e, _this.state.value - (_this.props.step || 0));\n        };\n        _this.increment = function (e) {\n            e.preventDefault();\n            _this.change(e, _this.state.value + (_this.props.step || 0));\n        };\n        _this.dragStart = function (e) {\n            if (!_this.isLabel(e.event.originalEvent.target)) {\n                if (e.event.isTouch) {\n                    e.event.originalEvent.preventDefault();\n                }\n                _this.drag(e);\n            }\n        };\n        _this.dragOver = function (e) {\n            e.event.originalEvent.preventDefault();\n            _this.drag(e);\n        };\n        _this.drag = function (e) {\n            var computed = e.element.getBoundingClientRect();\n            var distance = _this.props.vertical\n                ? (computed.bottom - e.event.clientY)\n                : (_this.state.dir === 'rtl'\n                    ? computed.right - e.event.clientX\n                    : e.event.clientX - computed.left);\n            var size = _this.props.vertical ? computed.height : computed.width;\n            var percentage = (distance / size);\n            _this.change(e, _this.props.min + percentage * (_this.props.max - _this.props.min));\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Slider.getDerivedStateFromProps = function (props, state) {\n        var value = props.value !== undefined ? props.value : state.value;\n        var min = props.min, max = props.max;\n        return value === undefined ? null :\n            { value: Math.min(Math.max(value, min), max) };\n    };\n    /**\n     * @hidden\n     */\n    Slider.prototype.componentDidMount = function () {\n        if (!this.state.dir && window && this._element) {\n            // Note: getComputedStyle forces reflow\n            var direction = window.getComputedStyle(this._element).direction;\n            if (direction) {\n                this.setState({ dir: direction });\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Slider.prototype.render = function () {\n        var _this = this;\n        var _a, _b;\n        var lS = provideLocalizationService(this);\n        var percentValue = ((this.state.value - this.props.min) / (this.props.max - this.props.min)) * 100;\n        var trackStyles = this.props.vertical\n            ? { marginTop: '0.5rem', marginBottom: '0.5rem' }\n            : { marginLeft: '0.5rem', marginRight: '0.5rem' };\n        var sliderItemsStyle = this.props.vertical\n            ? { paddingTop: 0, height: '100%' }\n            : {};\n        return (React.createElement(\"div\", { ref: function (el) { return _this._element = el; }, \"aria-valuemin\": this.props.min, \"aria-valuemax\": this.props.max, \"aria-valuenow\": this.state.value, \"aria-disabled\": this.props.disabled ? 'true' : undefined, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, dir: this.state.dir, role: \"slider\", id: this.props.id, style: this.props.style, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, undefined), onFocus: this.onFocus, onBlur: this.onBlur, onKeyDown: this.onKeyDown, className: classNames('k-slider k-widget', {\n                'k-state-focused': this.state.focused,\n                'k-state-disabled': this.props.disabled,\n                'k-slider-horizontal': !this.props.vertical,\n                'k-slider-vertical': this.props.vertical\n            }, this.props.className) },\n            React.createElement(\"div\", { className: classNames('k-slider-wrap', {\n                    'k-slider-buttons': this.props.buttons\n                }), style: {\n                    display: 'flex',\n                    position: 'relative',\n                    flexDirection: this.props.vertical ? 'column-reverse' : 'row'\n                } },\n                React.createElement(this.buttons, { enabled: this.props.buttons, decrement: this.decrement, increment: this.increment, incrementTitle: lS.toLanguageString(sliderIncreaseValue, messages[sliderIncreaseValue]), decrementTitle: lS.toLanguageString(sliderDecreaseValue, messages[sliderDecreaseValue]) },\n                    React.createElement(Draggable, { onDrag: this.dragOver, onPress: this.dragStart },\n                        React.createElement(\"div\", { className: \"k-slider-track-wrap\", style: __assign({ flexGrow: 1, position: 'relative', touchAction: 'none' }, trackStyles) },\n                            this.props.children && (React.createElement(\"ul\", { className: \"k-reset k-slider-items\", style: __assign({ margin: 0 }, sliderItemsStyle) }, React.Children.map(this.props.children, function (child) {\n                                return child && React.cloneElement(child, {\n                                    position: 100 * (child.props.position - _this.props.min) /\n                                        (_this.props.max - _this.props.min),\n                                    vertical: _this.props.vertical\n                                }, child.props.children);\n                            }))),\n                            React.createElement(\"div\", { className: \"k-slider-track\", style: this.props.vertical\n                                    ? { bottom: 0, height: '100%' }\n                                    : (_a = {}, _a[this.state.dir === 'rtl' ? 'right' : 'left'] = 0, _a.width = '100%', _a), ref: function (el) { return _this._sliderTrack = el; } },\n                                React.createElement(\"div\", { className: \"k-slider-selection\", style: this.props.vertical\n                                        ? { height: percentValue + '%' }\n                                        : { width: percentValue + '%' } }),\n                                React.createElement(\"a\", { className: \"k-draghandle\", title: lS.toLanguageString(sliderDragTitle, messages[sliderDragTitle]), style: this.props.vertical\n                                        ? { bottom: 'calc(' + percentValue + '% - 8px)', zIndex: 1 }\n                                        : (_b = {},\n                                            _b[this.state.dir === 'rtl' ? 'right' : 'left'] = 'calc(' + percentValue + '% - 8px)',\n                                            _b.zIndex = 1,\n                                            _b) }))))))));\n    };\n    Object.defineProperty(Slider.prototype, \"sliderTrack\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._sliderTrack;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Slider.prototype.change = function (e, value) {\n        value = Math.min(Math.max(value, this.props.min), this.props.max);\n        this.setState({ value: value });\n        dispatchEvent(this.props.onChange, e, this, { value: value });\n    };\n    /**\n     * @hidden\n     */\n    Slider.propTypes = {\n        min: PropTypes.number.isRequired,\n        max: PropTypes.number.isRequired,\n        value: PropTypes.number,\n        vertical: PropTypes.bool,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n        // TODO: validation when buttons is set to true, but no step is provided\n    };\n    return Slider;\n}(React.Component));\nexport { Slider };\nregisterForLocalization(Slider);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @hidden\n */\nexport var RANGE_ACTION;\n(function (RANGE_ACTION) {\n    RANGE_ACTION[\"start\"] = \"start\";\n    RANGE_ACTION[\"end\"] = \"end\";\n    RANGE_ACTION[\"min\"] = \"min\";\n    RANGE_ACTION[\"max\"] = \"max\";\n    RANGE_ACTION[\"increase\"] = \"increase\";\n    RANGE_ACTION[\"decrease\"] = \"decrease\";\n})(RANGE_ACTION || (RANGE_ACTION = {}));\n/**\n * @hidden\n */\nexport var rangeReducer = function (state, action) {\n    var newState;\n    var newValue;\n    switch (action.type) {\n        case RANGE_ACTION.start:\n            if (action.payload === undefined) {\n                return state;\n            }\n            newState = {\n                start: action.payload > state.end ? state.end : Math.max(action.payload, action.min),\n                end: state.end\n            };\n            break;\n        case RANGE_ACTION.end:\n            if (action.payload === undefined) {\n                return state;\n            }\n            newState = {\n                start: state.start,\n                end: action.payload < state.start ? state.start : Math.min(action.payload, action.max)\n            };\n            break;\n        case RANGE_ACTION.min:\n            if (action.key === 'start') {\n                newState = __assign({}, state, { start: action.min });\n            }\n            else {\n                newState = __assign({}, state, { end: Math.max(action.min, state.start) });\n            }\n            break;\n        case RANGE_ACTION.max:\n            if (action.key === 'start') {\n                newState = __assign({}, state, { start: Math.min(action.max, state.end) });\n            }\n            else {\n                newState = __assign({}, state, { end: action.max });\n            }\n            break;\n        case RANGE_ACTION.increase:\n            if (action.step === undefined || action.key === undefined) {\n                return state;\n            }\n            newValue = state[action.key] + action.step;\n            if (action.key === 'start') {\n                if (newValue < action.min) {\n                    newState = __assign({}, state, { start: action.min });\n                }\n                else {\n                    newState = __assign({}, state, { start: Math.min(newValue, state.end) });\n                }\n            }\n            else {\n                if (newValue > action.max) {\n                    newState = __assign({}, state, { end: action.max });\n                }\n                else {\n                    newState = __assign({}, state, { end: Math.max(newValue, state.start) });\n                }\n            }\n            break;\n        case RANGE_ACTION.decrease:\n            if (action.step === undefined || action.key === undefined) {\n                return state;\n            }\n            newValue = state[action.key] - action.step;\n            if (action.key === 'start') {\n                if (newValue < action.min) {\n                    newState = __assign({}, state, { start: action.min });\n                }\n                else {\n                    newState = __assign({}, state, { start: Math.min(newValue, state.end) });\n                }\n            }\n            else {\n                if (newValue > action.max) {\n                    newState = __assign({}, state, { end: action.max });\n                }\n                else {\n                    newState = __assign({}, state, { end: Math.max(newValue, state.start) });\n                }\n            }\n            break;\n        default:\n            newState = state;\n            break;\n    }\n    return newState;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, useDir, useDraggable, getTabIndex } from '@progress/kendo-react-common';\nimport { messages, sliderDragTitle } from './../messages';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport { rangeReducer, RANGE_ACTION } from './range-raducer';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * @hidden\n */\nvar useRange = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchAction = React.useCallback(function (action) {\n        var newState = rangeReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    }, [args, callback]);\n    return [state, handleDispatchAction];\n};\n/**\n * Represents the RangeSlider component.\n */\nexport var RangeSlider = React.forwardRef(function (props, ref) {\n    var _a, _b, _c, _d;\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var sliderRef = React.useRef(null);\n    var sliderSelectionRef = React.useRef(null);\n    var startHandle = React.useRef(null);\n    var endHandle = React.useRef(null);\n    var focus = React.useCallback(function () {\n        if (startHandle.current) {\n            startHandle.current.focus();\n        }\n    }, [startHandle]);\n    React.useImperativeHandle(target, function () { return ({\n        element: sliderRef.current,\n        focus: focus,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var min = React.useMemo(function () { return props.min; }, [props.min]);\n    var max = React.useMemo(function () { return props.max; }, [props.max]);\n    var step = React.useMemo(function () { return props.step !== undefined ? props.step : defaultProps.step; }, [props.step, defaultProps.step]);\n    var dir = useDir(sliderRef, props.dir);\n    var handleChange = function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    };\n    var _e = React.useState(''), currentDrag = _e[0], setCurrentDrag = _e[1];\n    var _f = useRange(props.defaultValue || defaultProps.defaultValue, {\n        min: min,\n        max: max,\n        step: step,\n        state: props.value\n    }, handleChange), stateValue = _f[0], dispatchStateValue = _f[1];\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var sliderTrackRef = React.useRef(null);\n    var sliderTrackWrapRef = React.useRef(null);\n    var percentStart = React.useMemo(function () { return ((value.start - min) / (max - min)) * 100; }, [value.start, min, max]);\n    var percentEnd = React.useMemo(function () { return ((value.end - min) / (max - min)) * 100; }, [value.end, min, max]);\n    var sliderItemsStyle = React.useMemo(function () { return props.vertical ? { paddingTop: 0, height: '100%' } : {}; }, [props.vertical]);\n    var trackStyles = React.useMemo(function () { return props.vertical\n        ? { marginTop: '0.5rem', marginBottom: '0.5rem' }\n        : { marginLeft: '0.5rem', marginRight: '0.5rem' }; }, [props.vertical]);\n    var localization = useLocalization();\n    var calcNewDistance = React.useCallback(function (event) {\n        if (!sliderTrackWrapRef.current) {\n            return;\n        }\n        event.originalEvent.preventDefault();\n        var computed = sliderTrackWrapRef.current.getBoundingClientRect();\n        var distance = props.vertical\n            ? (computed.bottom - event.clientY)\n            : dir === 'rtl'\n                ? (computed.right - event.clientX)\n                : (event.clientX - computed.left);\n        var size = props.vertical ? computed.height : computed.width;\n        var percentage = (distance / size);\n        var payload = (min + percentage * (max - min));\n        return payload;\n    }, [\n        sliderTrackWrapRef,\n        props.vertical,\n        dir,\n        min,\n        max,\n        stateValue.start,\n        stateValue.end,\n        props.value && props.value.start,\n        props.value && props.value.end\n    ]);\n    var calcKey = React.useCallback(function (payload) {\n        if (payload <= value.start) {\n            return 'start';\n        }\n        if (payload >= value.end) {\n            return 'end';\n        }\n        return (2 * payload < value.end + value.start) ? 'start' : 'end';\n    }, [\n        stateValue.start, stateValue.end,\n        props.value && props.value.start,\n        props.value && props.value.end\n    ]);\n    var handleStartKeyDown = React.useCallback(function (event) {\n        switch (event.keyCode) {\n            case Keys.right:\n                event.preventDefault();\n                dispatchStateValue({ type: dir === 'rtl' ? RANGE_ACTION.decrease : RANGE_ACTION.increase, key: 'start', event: event });\n                break;\n            case Keys.up:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.increase, key: 'start', event: event });\n                break;\n            case Keys.left:\n                event.preventDefault();\n                dispatchStateValue({ type: dir === 'rtl' ? RANGE_ACTION.increase : RANGE_ACTION.decrease, key: 'start', event: event });\n                break;\n            case Keys.down:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.decrease, key: 'start', event: event });\n                break;\n            case Keys.home:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.min, key: 'start', event: event });\n                break;\n            case Keys.end:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.max, key: 'start', event: event });\n                break;\n            default:\n                break;\n        }\n    }, [dispatchStateValue]);\n    var handleEndKeyDown = React.useCallback(function (event) {\n        switch (event.keyCode) {\n            case Keys.right:\n                event.preventDefault();\n                dispatchStateValue({ type: dir === 'rtl' ? RANGE_ACTION.decrease : RANGE_ACTION.increase, key: 'end', event: event });\n                break;\n            case Keys.up:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.increase, key: 'end', event: event });\n                break;\n            case Keys.left:\n                event.preventDefault();\n                dispatchStateValue({ type: dir === 'rtl' ? RANGE_ACTION.increase : RANGE_ACTION.decrease, key: 'end', event: event });\n                break;\n            case Keys.down:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.decrease, key: 'end', event: event });\n                break;\n            case Keys.home:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.min, key: 'end', event: event });\n                break;\n            case Keys.end:\n                event.preventDefault();\n                dispatchStateValue({ type: RANGE_ACTION.max, key: 'end', event: event });\n                break;\n            default:\n                break;\n        }\n    }, [dispatchStateValue, dir]);\n    var handleTrackPress = React.useCallback(function (event) {\n        var payload = calcNewDistance(event);\n        var key = calcKey(payload);\n        setCurrentDrag(key);\n        key === 'end' ? endHandle.current.focus() : startHandle.current.focus();\n        var action = (key === 'end' ? RANGE_ACTION.end : RANGE_ACTION.start);\n        dispatchStateValue({ type: action, payload: payload, event: event });\n    }, [props.vertical, min, max, dispatchStateValue]);\n    var handleTrackDrag = function (event) {\n        var payload = calcNewDistance(event);\n        var action = currentDrag === 'end' ? RANGE_ACTION.end : RANGE_ACTION.start;\n        dispatchStateValue({ type: action, payload: payload, event: event });\n    };\n    var handleTrackRelease = function (event) {\n        var payload = calcNewDistance(event);\n        var action = currentDrag === 'end' ? RANGE_ACTION.end : RANGE_ACTION.start;\n        dispatchStateValue({ type: action, payload: payload, event: event });\n        setCurrentDrag('');\n    };\n    useDraggable(sliderTrackWrapRef, { onPress: handleTrackPress, onDrag: handleTrackDrag, onRelease: handleTrackRelease });\n    return (React.createElement(\"div\", { role: \"slider\", id: props.id, style: props.style, ref: sliderRef, dir: dir, className: classNames('k-widget k-slider', {\n            'k-rtl': dir === 'rtl',\n            'k-state-disabled': props.disabled,\n            'k-slider-vertical': props.vertical,\n            'k-slider-horizontal': !props.vertical\n        }, props.className), \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"div\", { className: 'k-slider-wrap', style: {\n                display: 'flex',\n                position: 'relative',\n                flexDirection: props.vertical ? 'column-reverse' : 'row'\n            } },\n            React.createElement(\"div\", { ref: sliderTrackWrapRef, className: \"k-slider-track-wrap\", style: __assign({ flexGrow: 1, position: 'relative', touchAction: 'none' }, trackStyles) },\n                props.children && (React.createElement(\"ul\", { className: \"k-reset k-slider-items\", style: __assign({ margin: 0 }, sliderItemsStyle) }, React.Children.map(props.children, function (child) {\n                    return child && React.cloneElement(child, {\n                        position: 100 * (child.props.position - props.min) /\n                            (props.max - props.min),\n                        vertical: props.vertical\n                    }, child.props.children);\n                }))),\n                React.createElement(\"div\", { ref: sliderTrackRef, className: \"k-slider-track\", style: props.vertical\n                        ? { bottom: 0, height: '100%' }\n                        : (_a = {}, _a[dir === 'rtl' ? 'right' : 'left'] = 0, _a.width = '100%', _a) },\n                    (percentStart !== null && percentEnd !== null) && React.createElement(\"div\", { \"data-selection\": true, ref: sliderSelectionRef, title: value.start + \" - \" + value.end, className: \"k-slider-selection\", style: props.vertical\n                            ? { height: (percentEnd - percentStart) + '%', bottom: percentStart + '%' }\n                            : (_b = {},\n                                _b[dir === 'rtl' ? 'right' : 'left'] = percentStart + '%',\n                                _b.width = (percentEnd - percentStart) + '%',\n                                _b) }),\n                    React.createElement(\"a\", { ref: startHandle, role: \"slider\", tabIndex: getTabIndex(props.startTabIndex, props.disabled, undefined), \"aria-valuemin\": min, \"aria-valuemax\": Math.max(max, value.end), \"aria-valuenow\": value.start, \"aria-disabled\": props.disabled ? 'true' : undefined, className: \"k-draghandle\", title: localization.toLanguageString(sliderDragTitle, messages[sliderDragTitle]), style: props.vertical\n                            ? { bottom: 'calc(' + percentStart + '% - 8px)', zIndex: 1 }\n                            : (_c = {}, _c[dir === 'rtl' ? 'right' : 'left'] = 'calc(' + percentStart + '% - 8px)', _c.zIndex = 1, _c), onKeyDown: handleStartKeyDown }),\n                    React.createElement(\"a\", { ref: endHandle, role: \"slider\", tabIndex: getTabIndex(props.endTabIndex, props.disabled, undefined), \"aria-valuemin\": Math.min(min, value.start), \"aria-valuemax\": max, \"aria-valuenow\": value.end, \"aria-disabled\": props.disabled ? 'true' : undefined, className: \"k-draghandle\", title: localization.toLanguageString(sliderDragTitle, messages[sliderDragTitle]), style: props.vertical\n                            ? { bottom: 'calc(' + percentEnd + '% - 8px)', zIndex: 1 }\n                            : (_d = {}, _d[dir === 'rtl' ? 'right' : 'left'] = 'calc(' + percentEnd + '% - 8px)', _d.zIndex = 1, _d), onKeyDown: handleEndKeyDown }))))));\n});\nvar propTypes = {\n    value: function (props, propName, componentName) {\n        if (props.value) {\n            var start = props.value.start;\n            var end = props.value.end;\n            var min = props.min;\n            var max = props.max;\n            if (start > end || start > max || start < min || end > max || end < min || end < start) {\n                return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\\n                    \");\n            }\n        }\n        return null;\n    },\n    defaultValue: function (props, propName, componentName) {\n        if (props.defaultValue) {\n            var start = props.defaultValue.start;\n            var end = props.defaultValue.end;\n            var min = props.min;\n            var max = props.max;\n            if (start > end || start > max || start < min || end > max || end < min || end < start) {\n                return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\\n                    \");\n            }\n        }\n        return null;\n    },\n    onChange: PropTypes.func,\n    step: PropTypes.number,\n    min: function (props, propName, componentName) {\n        var prop = props[propName];\n        var min = props.min;\n        var max = props.max;\n        if (min === undefined) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                \" + propName + \" value can not be undefined.\\n                \");\n        }\n        if (prop && min >= max) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                \" + propName + \" value can not be equal to or bigger than the max value.\\n                \");\n        }\n        return null;\n    },\n    max: function (props, propName, componentName) {\n        var prop = props[propName];\n        var min = props.min;\n        var max = props.max;\n        if (max === undefined) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                \" + propName + \" value can not be undefined.\\n                \");\n        }\n        if (prop && max <= min) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                \" + propName + \" value can not be equal to or smaller than the min value.\\n                \");\n        }\n        return null;\n    },\n    vertical: PropTypes.bool,\n    disabled: PropTypes.bool,\n    dir: PropTypes.oneOf(['ltr', 'rtl'])\n};\nvar defaultProps = {\n    step: 1,\n    defaultValue: {\n        start: 0,\n        end: 0\n    },\n    vertical: false,\n    disabled: false\n};\nRangeSlider.displayName = 'KendoReactRangeSlider';\n// TODO: delete casting when @types/react is updated!\nRangeSlider.propTypes = propTypes;\nRangeSlider.defaultProps = defaultProps;\n","import * as React from 'react';\nimport Draggable from '@telerik/kendo-draggable';\n/** @hidden */\nexport function useDraggable(ref, _a) {\n    var onPress = _a.onPress, onDrag = _a.onDrag, onRelease = _a.onRelease;\n    var draggable = React.useMemo(function () { return new Draggable({\n        press: onPress,\n        drag: onDrag,\n        release: onRelease\n    }); }, []);\n    var initDraggable = function () {\n        var element = ref.current;\n        if (!element) {\n            return;\n        }\n        draggable.bindTo(element);\n        return function () { draggable.destroy(); };\n    };\n    var updateDraggable = function () {\n        draggable.update({\n            press: onPress,\n            drag: onDrag,\n            release: onRelease\n        });\n    };\n    React.useEffect(initDraggable, []);\n    React.useEffect(updateDraggable, [onPress, onDrag, onRelease]);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, guid, noop, Keys, dispatchEvent, getTabIndex } from '@progress/kendo-react-common';\nimport { provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, switchValidation } from './../messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar SWITCH_CONTAINER = 'k-switch-container';\nvar SWITCH_HANDLE = 'k-switch-handle';\nvar SWITCH_LABEL_ON = 'k-switch-label-on';\nvar SWITCH_LABEL_OFF = 'k-switch-label-off';\n/**\n * Represents the [KendoReact Switch component]({% slug overview_switch%}).\n */\nvar Switch = /** @class */ (function (_super) {\n    __extends(Switch, _super);\n    /**\n     * @hidden\n     */\n    function Switch(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage ||\n                        _this.defaultValidationMessage.toLanguageString(switchValidation, messages[switchValidation]));\n            }\n        };\n        _this.limit = function (offset, drag, wrapper) {\n            var wrapperWidth = wrapper.offsetWidth;\n            var margin = drag.offsetWidth;\n            if (offset < 0) {\n                return 0;\n            }\n            else if (offset > wrapperWidth - margin) {\n                return wrapperWidth - margin;\n            }\n            return offset;\n        };\n        _this.toggle = function (value, event) {\n            _this.setState({ checked: value });\n            _this.valueDuringOnChange = value;\n            dispatchEvent(_this.props.onChange, event, _this, { value: value });\n            _this.valueDuringOnChange = undefined;\n        };\n        _this._id = guid();\n        _this.defaultValidationMessage = provideLocalizationService(_this);\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        _this.dummyInput = function (value) {\n            /* Dummy component to support forms */\n            return (React.createElement(\"input\", { type: \"checkbox\", checked: _this.props.checked, ref: function (el) {\n                    _this._input = el;\n                }, tabIndex: -1, \"aria-hidden\": true, value: value, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' }, onChange: noop }));\n        };\n        _this.handleClick = function (event) {\n            if (_this.eventTimeStamp === event.timeStamp) {\n                // This is guard against the case when wrapped in label, click event is emmited twice\n                return;\n            }\n            _this.eventTimeStamp = event.timeStamp;\n            _this.toggle(!_this.value, event);\n        };\n        _this.handleKeyDown = function (event) {\n            if (_this.props.disabled) {\n                return;\n            }\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.space || keyCode === Keys.enter) {\n                _this.toggle(!_this.value, event);\n            }\n        };\n        _this.handleWrapperFocus = function (event) {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.setState({ focused: true });\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleWrapperBlur = function (event) {\n            if (_this.props.disabled) {\n                return;\n            }\n            _this.setState({ focused: false });\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            checked: props.defaultChecked || Switch.defaultProps.defaultChecked,\n            focused: false\n        };\n        return _this;\n    }\n    Object.defineProperty(Switch.prototype, \"value\", {\n        /**\n         * Gets the value of the Switch.\n         */\n        get: function () {\n            return this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.checked !== undefined\n                    ? this.props.checked\n                    : this.state.checked;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"actionElement\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the Switch.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the Switch is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = this.props.valid !== undefined ?\n                this.props.valid :\n                !this.props.required ?\n                    true :\n                    this.value ? true : false;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : Switch.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Switch.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : Switch.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Switch.prototype.componentDidMount = function () {\n        this.setValidity();\n        // Due to dynamic dir calculation\n        this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n    Switch.prototype.componentDidUpdate = function () {\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    Switch.prototype.render = function () {\n        var _this = this;\n        var focused = this.state.focused;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, id = _a.id, offLabel = _a.offLabel, onLabel = _a.onLabel, tabIndex = _a.tabIndex;\n        this.dir = dir || (this._wrapper && getComputedStyle(this._wrapper).direction) || undefined;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var switchClassName = classNames({\n            'k-widget': true,\n            'k-switch': true,\n            'k-switch-on': this.value,\n            'k-switch-off': !this.value,\n            'k-state-focused': focused,\n            'k-state-disabled': disabled,\n            'k-state-invalid': !isValid\n        }, this.props.className);\n        var ariaAttributes = {\n            'aria-checked': this.value,\n            'aria-disabled': disabled || undefined\n        };\n        return (React.createElement(\"span\", { ref: function (span) {\n                _this._wrapper = span;\n            }, className: switchClassName, dir: this.dir, onKeyDown: this.handleKeyDown, onClick: this.handleClick, onBlur: this.handleWrapperBlur, onFocus: this.handleWrapperFocus },\n            React.createElement(\"span\", __assign({ className: SWITCH_CONTAINER, id: id || this._id, role: 'switch' }, ariaAttributes, { \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, ref: function (span) {\n                    _this._element = span;\n                }, tabIndex: getTabIndex(tabIndex, disabled, undefined), accessKey: this.props.accessKey }),\n                this.dummyInput(this.value),\n                React.createElement(\"span\", { className: SWITCH_LABEL_ON }, onLabel),\n                React.createElement(\"span\", { className: SWITCH_LABEL_OFF }, offLabel),\n                React.createElement(\"span\", { className: SWITCH_HANDLE }))));\n    };\n    /**\n     * @hidden\n     */\n    Switch.propTypes = {\n        accessKey: PropTypes.string,\n        checked: PropTypes.bool,\n        className: PropTypes.string,\n        disabled: PropTypes.bool,\n        defaultChecked: PropTypes.bool,\n        dir: PropTypes.string,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        offLabel: PropTypes.string,\n        required: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        valid: PropTypes.bool,\n        validate: PropTypes.bool,\n        validationMessage: PropTypes.string,\n        onBlur: PropTypes.any,\n        onChange: PropTypes.any,\n        onFocus: PropTypes.any,\n        onLabel: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    Switch.defaultProps = {\n        disabled: false,\n        defaultChecked: false,\n        offLabel: 'OFF',\n        onBlur: noop,\n        onFocus: noop,\n        onLabel: 'ON',\n        required: false,\n        validityStyles: true\n    };\n    return Switch;\n}(React.Component));\nexport { Switch };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Keys, classNames, guid, useDir, getTabIndex, dispatchEvent } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport { messages, checkboxValidation, checkboxOptionalText } from './../messages';\n/**\n * Represents the [KendoReact Checkbox component]({% slug overview_checkbox %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <Checkbox />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var Checkbox = React.forwardRef(function (props, target) {\n    validatePackage(packageMetadata);\n    var _a = props, ariaDescribedBy = _a.ariaDescribedBy, ariaLabelledBy = _a.ariaLabelledBy, checked = _a.checked, className = _a.className, children = _a.children, defaultChecked = _a.defaultChecked, disabled = _a.disabled, defaultValue = _a.defaultValue, id = _a.id, label = _a.label, labelPlacement = _a.labelPlacement, name = _a.name, labelOptional = _a.labelOptional, onChange = _a.onChange, onFocus = _a.onFocus, onBlur = _a.onBlur, tabIndex = _a.tabIndex, value = _a.value, required = _a.required, valid = _a.valid, validationMessage = _a.validationMessage, validityStyles = _a.validityStyles, \n    // Removed to support direct use in Form Field component\n    visited = _a.visited, touched = _a.touched, modified = _a.modified, others = __rest(_a, [\"ariaDescribedBy\", \"ariaLabelledBy\", \"checked\", \"className\", \"children\", \"defaultChecked\", \"disabled\", \"defaultValue\", \"id\", \"label\", \"labelPlacement\", \"name\", \"labelOptional\", \"onChange\", \"onFocus\", \"onBlur\", \"tabIndex\", \"value\", \"required\", \"valid\", \"validationMessage\", \"validityStyles\", \"visited\", \"touched\", \"modified\"]);\n    var elementRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () { return ({\n        element: elementRef.current,\n        focus: focusElement,\n        get name() { return elementRef.current && elementRef.current.name; }\n    }); }, [focusElement]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var _b = React.useState(defaultChecked), stateChecked = _b[0], setStateChecked = _b[1];\n    var _c = React.useState(defaultValue), stateValue = _c[0], setStateValue = _c[1];\n    var valueIsBoolean = (typeof value === 'boolean' || value === null);\n    var isCheckedControlled = checked !== undefined;\n    var isValueControlled = valueIsBoolean;\n    var currentValue = isValueControlled ? value : stateValue;\n    var currentChecked = isCheckedControlled ? checked : isValueControlled ? undefined : stateChecked;\n    var useValueAsChecked = currentChecked === undefined && currentValue;\n    var checkedProp = useValueAsChecked ? currentValue : currentChecked;\n    var valueProp = (useValueAsChecked || isValueControlled) ? (value === null ? value : undefined) : value || currentValue;\n    var indeterminateProp = checkedProp === null || valueProp === null;\n    var calculatedId = React.useMemo(function () { return guid(); }, []);\n    var localizationService = useLocalization();\n    var localizeMessage = function (message) {\n        return localizationService.toLanguageString(message, messages[message]);\n    };\n    var defaultValidationMessage = localizeMessage(checkboxValidation);\n    var optionalMessage = localizeMessage(checkboxOptionalText);\n    var isValid = valid !== undefined ?\n        valid :\n        !required ?\n            true :\n            currentChecked ? true : false;\n    React.useEffect(function () {\n        if (elementRef.current && elementRef.current.setCustomValidity) {\n            elementRef.current.setCustomValidity(isValid\n                ? ''\n                : (validationMessage || defaultValidationMessage));\n        }\n    }, [isValid, validationMessage, defaultValidationMessage]);\n    var setValue = React.useCallback(function (e, val) {\n        if (!isValueControlled && !disabled) {\n            setStateValue(val);\n            if (!isCheckedControlled && !disabled) {\n                setStateChecked(val);\n            }\n        }\n        if (onChange && !disabled) {\n            dispatchEvent(onChange, e, __assign({}, getImperativeHandle(), { value: val }), { value: val });\n        }\n    }, [isCheckedControlled, disabled, onChange, isValueControlled, getImperativeHandle]);\n    var handleChange = React.useCallback(function (e) {\n        var newValue = e.target.checked;\n        setValue(e, newValue);\n    }, [setValue, value]);\n    var handleKeyDown = React.useCallback(function (e) {\n        if (disabled) {\n            return;\n        }\n        var keyCode = e.keyCode;\n        var currentVal = e.currentTarget.checked;\n        if (keyCode === Keys.space) {\n            e.preventDefault();\n            e.stopPropagation();\n            setValue(e, !currentVal);\n        }\n    }, [disabled, setValue]);\n    var handleKeyUp = React.useCallback(function (e) {\n        if (disabled) {\n            return;\n        }\n        var keyCode = e.keyCode;\n        if (keyCode === Keys.space) {\n            e.preventDefault();\n        }\n    }, [disabled]);\n    var handleFocus = React.useCallback(function (e) {\n        if (onFocus && !disabled) {\n            dispatchEvent(onFocus, e, getImperativeHandle(), undefined);\n        }\n    }, [onFocus, disabled, getImperativeHandle]);\n    var handleBlur = React.useCallback(function (e) {\n        if (onBlur && !disabled) {\n            dispatchEvent(onBlur, e, getImperativeHandle(), undefined);\n        }\n    }, [onBlur, disabled, getImperativeHandle]);\n    var dir = useDir(elementRef, props.dir);\n    var checkboxClasses = classNames({ 'k-state-disabled': disabled }, className);\n    var inputProps = __assign({ type: 'checkbox', className: classNames({\n            'k-checkbox': true,\n            'k-state-indeterminate': indeterminateProp,\n            'k-state-invalid k-invalid': !(isValid || validityStyles !== undefined || validityStyles === true)\n        }), ref: elementRef, name: name, id: id || calculatedId, 'aria-labelledby': ariaLabelledBy, 'aria-describedby': ariaDescribedBy, checked: Boolean(checkedProp), disabled: disabled, tabIndex: getTabIndex(tabIndex, disabled), role: 'checkbox', required: required !== undefined ? required : false, 'aria-checked': currentChecked || checkedProp ?\n            true :\n            indeterminateProp ?\n                'mixed' :\n                false, 'aria-disabled': disabled || undefined }, others, { onChange: handleChange, onKeyDown: handleKeyDown, onKeyUp: handleKeyUp, onFocus: handleFocus, onBlur: handleBlur });\n    var checkboxInput = (React.createElement(React.Fragment, null, \n    // removing value prop is required due to bug in react where\n    // value set to undefined override default submit value\n    valueProp === undefined ? (React.createElement(\"input\", __assign({}, inputProps))) : (React.createElement(\"input\", __assign({}, inputProps, { value: valueIsBoolean ? undefined : valueProp === null ? '' : valueProp })))));\n    var checkboxLabel = (React.createElement(React.Fragment, null, label !== undefined ? (React.createElement(\"label\", { className: 'k-checkbox-label', htmlFor: id || calculatedId, style: { userSelect: 'none' } },\n        label,\n        labelOptional && React.createElement(\"span\", { className: \"k-label-optional\" }, optionalMessage))) : null));\n    return (React.createElement(React.Fragment, null, (labelPlacement === 'before') ? (React.createElement(\"span\", { className: checkboxClasses, dir: 'rtl' },\n        checkboxInput,\n        checkboxLabel,\n        children)) : (React.createElement(\"span\", { className: checkboxClasses, dir: dir },\n        checkboxInput,\n        checkboxLabel,\n        children))));\n});\nCheckbox.propTypes = {\n    checked: PropTypes.bool,\n    className: PropTypes.string,\n    defaultChecked: PropTypes.bool,\n    defaultValue: PropTypes.any,\n    dir: PropTypes.string,\n    disabled: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    label: PropTypes.any,\n    labelPlacement: PropTypes.string,\n    labelOptional: PropTypes.bool,\n    name: PropTypes.string,\n    tabIndex: PropTypes.number,\n    value: PropTypes.any,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    validate: PropTypes.bool,\n    valid: PropTypes.bool,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n};\nCheckbox.displayName = 'KendoCheckbox';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { guid, classNames, dispatchEvent, getTabIndex } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nexport var RadioButton = React.forwardRef(function (props, target) {\n    validatePackage(packageMetadata);\n    var ariaDescribedBy = props.ariaDescribedBy, checked = props.checked, children = props.children, className = props.className, disabled = props.disabled, id = props.id, label = props.label, labelPlacement = props.labelPlacement, name = props.name, style = props.style, tabIndex = props.tabIndex, value = props.value, valid = props.valid, onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur, others = __rest(props, [\"ariaDescribedBy\", \"checked\", \"children\", \"className\", \"disabled\", \"id\", \"label\", \"labelPlacement\", \"name\", \"style\", \"tabIndex\", \"value\", \"valid\", \"onChange\", \"onFocus\", \"onBlur\"]);\n    var elementRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () { return ({\n        element: elementRef.current,\n        focus: focusElement\n    }); }, [focusElement]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var calculatedId = React.useMemo(function () { return guid(); }, []);\n    var handleChange = React.useCallback(function (event) {\n        dispatchEvent(onChange, event, getImperativeHandle(), { value: value });\n    }, [onChange, value, disabled]);\n    var handleFocus = React.useCallback(function (event) {\n        if (onFocus && !disabled) {\n            dispatchEvent(onFocus, event, getImperativeHandle(), undefined);\n        }\n    }, [onFocus, disabled]);\n    var handleBlur = React.useCallback(function (event) {\n        if (onBlur && !disabled) {\n            dispatchEvent(onBlur, event, getImperativeHandle(), undefined);\n        }\n    }, [onBlur, disabled]);\n    var inputProps = __assign({ type: 'radio', id: id || calculatedId, name: name, className: classNames({\n            'k-radio': true,\n            'k-state-invalid': valid === false,\n            'k-invalid': valid === false\n        }, className), ref: elementRef, disabled: disabled, tabIndex: getTabIndex(tabIndex, disabled), checked: checked, style: style, 'aria-describedby': ariaDescribedBy, value: value, onChange: handleChange, onFocus: handleFocus, onBlur: handleBlur }, others);\n    var radioButtonLabel = (React.createElement(React.Fragment, null, label !== undefined ? (React.createElement(\"label\", { className: 'k-radio-label', htmlFor: id || calculatedId, style: { userSelect: 'none' }, \"aria-label\": label }, label)) : null));\n    var radio = React.createElement(\"input\", __assign({}, inputProps));\n    return (labelPlacement === 'before'\n        ? (React.createElement(React.Fragment, null,\n            radioButtonLabel,\n            radio,\n            children)) : (React.createElement(React.Fragment, null,\n        radio,\n        radioButtonLabel,\n        children)));\n});\nRadioButton.propTypes = {\n    ariaDescribedBy: PropTypes.string,\n    checked: PropTypes.bool,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    id: PropTypes.string,\n    label: PropTypes.string,\n    labelPlacement: PropTypes.string,\n    name: PropTypes.string,\n    style: PropTypes.object,\n    tabIndex: PropTypes.number,\n    value: PropTypes.any,\n    valid: PropTypes.bool,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n};\nRadioButton.displayName = 'KendoRadioButton';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { RadioButton } from './RadioButton';\nimport { useRtl, guid, classNames, focusFirstFocusableChild, dispatchEvent } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nexport var RadioGroup = React.forwardRef(function (props, target) {\n    validatePackage(packageMetadata);\n    var ariaLabelledBy = props.ariaLabelledBy, ariaDescribedBy = props.ariaDescribedBy, className = props.className, data = props.data, defaultValue = props.defaultValue, disabled = props.disabled, name = props.name, labelPlacement = props.labelPlacement, layout = props.layout, style = props.style, value = props.value, valid = props.valid, _a = props.item, Item = _a === void 0 ? defaultProps.item : _a, onChange = props.onChange, onFocus = props.onFocus;\n    var elementRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            focusFirstFocusableChild(elementRef.current);\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () { return ({\n        element: elementRef.current,\n        focus: focusElement\n    }); }, [focusElement]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var _b = React.useState(defaultValue), stateChecked = _b[0], setStateChecked = _b[1];\n    var isControlled = value !== undefined;\n    var checkedRadioValue = isControlled ? value : stateChecked;\n    var handleChange = React.useCallback(function (event) {\n        var currentValue = event.value;\n        if (!isControlled && !disabled) {\n            setStateChecked(currentValue);\n        }\n        if (onChange && !disabled) {\n            dispatchEvent(onChange, event.syntheticEvent, getImperativeHandle(), { value: currentValue });\n        }\n    }, [setStateChecked, onChange, disabled]);\n    var handleFocus = React.useCallback(function (event) {\n        if (onFocus && !disabled) {\n            dispatchEvent(onFocus, event.syntheticEvent, getImperativeHandle(), undefined);\n        }\n    }, [onFocus, disabled]);\n    var radioGroupName = React.useMemo(function () { return guid(); }, []);\n    var radioGroupClasses = classNames('k-radio-list', {\n        'k-list-horizontal': layout === 'horizontal',\n        'k-list-vertical': layout === 'vertical' || layout === undefined\n    }, className);\n    var dir = useRtl(elementRef, props.dir);\n    var radioOptions = (data && data.map(function (option, index) {\n        var isCurrentlyChecked = checkedRadioValue === option.value;\n        var noOptionChecked = checkedRadioValue === null || checkedRadioValue === undefined;\n        var radioButtonProps = __assign({}, option, { valid: valid, checked: isCurrentlyChecked, disabled: (option.disabled || disabled) ? true : false, labelPlacement: option.labelPlacement ? option.labelPlacement : labelPlacement, tabIndex: option.tabIndex\n                ? option.tabIndex\n                : (noOptionChecked && index === 0) || isCurrentlyChecked\n                    ? 0\n                    : -1, index: index, name: name || radioGroupName, onChange: handleChange, onFocus: handleFocus });\n        return (React.createElement(Item, { className: classNames('k-radio-item', { 'k-state-disabled': radioButtonProps.disabled || disabled }), key: index, role: 'radio' },\n            React.createElement(RadioButton, __assign({}, radioButtonProps))));\n    }));\n    return (React.createElement(\"ul\", { role: \"radiogroup\", className: radioGroupClasses, ref: elementRef, dir: dir, style: style, \"aria-labelledby\": ariaLabelledBy, \"aria-describedby\": ariaDescribedBy }, radioOptions));\n});\nvar defaultProps = {\n    item: function (props) { return React.createElement(\"li\", __assign({}, props)); }\n};\nRadioGroup.propTypes = {\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    className: PropTypes.string,\n    data: PropTypes.arrayOf(PropTypes.object),\n    defaultValue: PropTypes.any,\n    dir: PropTypes.string,\n    disabled: PropTypes.bool,\n    labelPlacement: PropTypes.string,\n    layout: PropTypes.string,\n    name: PropTypes.string,\n    style: PropTypes.object,\n    value: PropTypes.any,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func\n};\nRadioGroup.defaultProps = defaultProps;\nRadioGroup.displayName = 'KendoRadioGroup';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { guid, classNames, getTabIndex, dispatchEvent, useDir } from '@progress/kendo-react-common';\n/**\n * Represents the [KendoReact TextArea component]({% slug overview_textarea %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <TextArea />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var TextArea = React.forwardRef(function (props, target) {\n    var _a = props, ariaDescribedBy = _a.ariaDescribedBy, ariaLabelledBy = _a.ariaLabelledBy, autoSize = _a.autoSize, className = _a.className, defaultValue = _a.defaultValue, disabled = _a.disabled, readOnly = _a.readOnly, required = _a.required, rows = _a.rows, id = _a.id, name = _a.name, placeholder = _a.placeholder, style = _a.style, tabIndex = _a.tabIndex, value = _a.value, valid = _a.valid, validationMessage = _a.validationMessage, validityStyles = _a.validityStyles, onChange = _a.onChange, onFocus = _a.onFocus, onBlur = _a.onBlur, \n    // Removed to support direct use in Form Field component\n    visited = _a.visited, touched = _a.touched, modified = _a.modified, others = __rest(_a, [\"ariaDescribedBy\", \"ariaLabelledBy\", \"autoSize\", \"className\", \"defaultValue\", \"disabled\", \"readOnly\", \"required\", \"rows\", \"id\", \"name\", \"placeholder\", \"style\", \"tabIndex\", \"value\", \"valid\", \"validationMessage\", \"validityStyles\", \"onChange\", \"onFocus\", \"onBlur\", \"visited\", \"touched\", \"modified\"]);\n    var elementRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (elementRef.current) {\n            elementRef.current.focus();\n        }\n    }, []);\n    var getImperativeHandle = React.useCallback(function () {\n        return ({\n            element: elementRef,\n            focus: focusElement,\n            get name() { return elementRef.current && elementRef.current.name; }\n        });\n    }, [focusElement]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var _b = React.useState(defaultValue), stateValue = _b[0], setStateValue = _b[1];\n    var _c = React.useState('auto'), textAreaHeight = _c[0], setTextAreaHeight = _c[1];\n    var calculatedId = React.useMemo(function () { return guid(); }, []);\n    var dir = useDir(elementRef, props.dir);\n    var isControlled = value !== undefined;\n    var currentValue = isControlled ? value : stateValue;\n    var isValid = valid !== undefined ?\n        valid :\n        !required ?\n            true :\n            currentValue ? true : false;\n    React.useEffect(function () {\n        if (elementRef.current && elementRef.current.setCustomValidity) {\n            elementRef.current.setCustomValidity(isValid\n                ? ''\n                : (validationMessage || ''));\n        }\n    }, [isValid, validationMessage]);\n    React.useLayoutEffect(function () {\n        if (elementRef.current) {\n            setTextAreaHeight(elementRef.current.scrollHeight + \"px\");\n        }\n    }, [currentValue]);\n    var handleChange = React.useCallback(function (event) {\n        var newValue = event.target.value;\n        if (!isControlled && !disabled) {\n            setTextAreaHeight('auto');\n            setStateValue(newValue);\n        }\n        if (onChange && !disabled) {\n            dispatchEvent(onChange, event, getImperativeHandle(), { value: newValue });\n        }\n    }, [setStateValue, onChange, disabled, isControlled]);\n    var handleFocus = React.useCallback(function (event) {\n        if (onFocus && !disabled) {\n            dispatchEvent(onFocus, event, getImperativeHandle(), undefined);\n        }\n    }, [onFocus, disabled]);\n    var handleBlur = React.useCallback(function (event) {\n        if (onBlur && !disabled) {\n            dispatchEvent(onBlur, event, getImperativeHandle(), undefined);\n        }\n    }, [onBlur, disabled]);\n    var spanProps = {\n        className: classNames('k-textarea', {\n            'k-state-invalid': !(isValid || validityStyles !== undefined || validityStyles === true),\n            'k-state-disabled': disabled\n        }, className),\n        style: style,\n        dir: dir\n    };\n    var textAreaProps = __assign({ id: id || calculatedId, name: name, className: 'k-input', ref: elementRef, disabled: disabled, rows: rows, placeholder: placeholder, readOnly: readOnly, required: required, tabIndex: getTabIndex(tabIndex, disabled), style: autoSize ? { resize: 'none', overflow: 'hidden', height: textAreaHeight } : {}, 'aria-labelledby': ariaLabelledBy, 'aria-describedby': ariaDescribedBy, 'aria-multiline': true, 'aria-disabled': disabled || undefined, value: isControlled ? value : stateValue }, others, { onChange: handleChange, onFocus: handleFocus, onBlur: handleBlur });\n    return (React.createElement(\"span\", __assign({}, spanProps),\n        React.createElement(\"textarea\", __assign({}, textAreaProps))));\n});\nTextArea.propTypes = {\n    ariaDescribedBy: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    autoSize: PropTypes.bool,\n    className: PropTypes.string,\n    defaultValue: PropTypes.string,\n    dir: PropTypes.string,\n    disabled: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    rows: PropTypes.number,\n    id: PropTypes.string,\n    name: PropTypes.string,\n    placeholder: PropTypes.string,\n    style: PropTypes.object,\n    tabIndex: PropTypes.number,\n    value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.number\n    ]),\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n};\nTextArea.displayName = 'KendoTextArea';\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir } from '@progress/kendo-react-common';\n/**\n * Represents the RatingItem component.\n */\nexport var RatingItem = React.forwardRef(function (props, ref) {\n    var target = React.useRef(null);\n    var element = React.useRef(null);\n    var dir = useDir(element, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: element.current,\n        props: props,\n        value: props.value\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleClick = React.useCallback(function (event) {\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                value: props.value,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onClick, props.value]);\n    var handleKeyDown = React.useCallback(function (event) {\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onKeyDown]);\n    var handleFocus = React.useCallback(function (event) {\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onFocus]);\n    var handleBlur = React.useCallback(function (event) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onBlur]);\n    var handleMouseMove = React.useCallback(function (event) {\n        if (props.onMouseMove) {\n            props.onMouseMove.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onMouseMove]);\n    var handleMouseEnter = React.useCallback(function (event) {\n        if (props.onMouseEnter) {\n            props.onMouseEnter.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onMouseEnter]);\n    var handleMouseLeave = React.useCallback(function (event) {\n        if (props.onMouseLeave) {\n            props.onMouseLeave.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onMouseLeave]);\n    return (React.createElement(\"span\", { id: props.id, ref: element, dir: dir, \"data-half\": props.half, tabIndex: props.tabIndex, title: props.title, style: props.style, className: classNames('k-rating-item', {\n            'k-rtl': dir === 'rtl',\n            'k-state-selected': props.selected,\n            'k-state-hovered': props.hovered\n        }, props.className), onClick: handleClick, onKeyDown: handleKeyDown, onFocus: handleFocus, onBlur: handleBlur, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, onMouseMove: handleMouseMove }, props.children));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    icon: PropTypes.any,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    title: PropTypes.string,\n    value: PropTypes.number,\n    half: PropTypes.bool,\n    selected: PropTypes.bool,\n    hovered: PropTypes.bool\n};\nvar defaultProps = {\n    dir: 'ltr'\n};\nRatingItem.displayName = 'KendoReactRatingItem';\n// TODO: delete casting when @types/react is updated!\nRatingItem.propTypes = propTypes;\nRatingItem.defaultProps = defaultProps;\n","/**\n * @hidden\n */\nexport var toRound = function (num, base) {\n    if (num % 1) {\n        var percent = Math.pow(10, (base.toString().split('.')[1] || base.toString().split('.')[0]).length);\n        return Math.round(num * percent) / percent;\n    }\n    return num;\n};\n// Opting out of JS `modulo` calculation due to floating-point problems in JS\n// We're looking for the reminder - R.\n// x / y = a + R\n// R = (x / y) - a | *y\n// R = x - (y * a)\n// : a = Math.floor(x /y );\n/**\n * @hidden\n */\nexport var getRemainder = function (x, y) { return x - (y * Math.floor(x / y)); };\n/**\n * @hidden\n */\nexport var isHalf = function (index, value, step) {\n    return (toRound(index - step, step) < value) && (value < index);\n};\n/**\n * @hidden\n */\nexport var isSelected = function (index, value, step, selection) {\n    if (value === null) {\n        return false;\n    }\n    if (selection === 'continues') {\n        return isHalf(index, value, step)\n            ? toRound(index - step / 2, step / 2) <= value\n            : index <= value;\n    }\n    if (selection === 'single') {\n        return isHalf(index, value, step)\n            ? toRound(index - step / 2, step / 2) === value\n            : index === value;\n    }\n    return false;\n};\n/**\n * @hidden\n */\nexport var calcIsFirstHalf = function (dir, rect, clientX) {\n    return dir === 'ltr'\n        ? clientX < (rect.x + (rect.width / 2))\n        : clientX > (rect.x + (rect.width / 2));\n};\n/**\n * @hidden\n */\nexport var isCorrectValue = function (min, max, step, value) {\n    for (var i = min; i <= max; i += step) {\n        if (value === i) {\n            return true;\n        }\n    }\n    return false;\n};\n","import { toRound } from './utils';\n/**\n * @hidden\n */\nexport var RATING_ACTION;\n(function (RATING_ACTION) {\n    RATING_ACTION[\"select\"] = \"select\";\n    RATING_ACTION[\"deselect\"] = \"deselect\";\n    RATING_ACTION[\"increase\"] = \"increase\";\n    RATING_ACTION[\"decrease\"] = \"decrease\";\n    RATING_ACTION[\"min\"] = \"min\";\n    RATING_ACTION[\"max\"] = \"max\";\n    RATING_ACTION[\"reset\"] = \"reset\";\n})(RATING_ACTION || (RATING_ACTION = {}));\n/**\n * @hidden\n */\nexport var ratingReducer = function (state, action) {\n    switch (action.type) {\n        case RATING_ACTION.select:\n            if (action.payload === undefined || action.step === undefined) {\n                return state;\n            }\n            if (action.payload === state) {\n                return null;\n            }\n            return action.payload >= action.min\n                ? action.payload < action.max\n                    ? toRound(action.payload, action.step)\n                    : action.max\n                : action.min;\n        case RATING_ACTION.deselect:\n            return null;\n        case RATING_ACTION.increase:\n            if (action.step === undefined) {\n                return state;\n            }\n            if (state < action.min) {\n                return action.min;\n            }\n            return state + action.step < action.max\n                ? toRound(state + action.step, action.step)\n                : action.max;\n        case RATING_ACTION.decrease:\n            if (action.step === undefined) {\n                return state;\n            }\n            return toRound(state - action.step, action.step) >= action.min\n                ? toRound(state - action.step, action.step)\n                : action.min;\n        case RATING_ACTION.min:\n            if (action.step === undefined) {\n                return state;\n            }\n            return action.min;\n        case RATING_ACTION.max:\n            return action.max;\n        case RATING_ACTION.reset:\n            return null;\n        default:\n            return state;\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir, Keys, getTabIndex } from '@progress/kendo-react-common';\nimport { RatingItem } from './RatingItem';\nimport { ratingReducer, RATING_ACTION } from './rating-reducer';\nimport { isSelected, isHalf, calcIsFirstHalf, isCorrectValue, toRound, getRemainder } from './utils';\n/**\n * @hidden\n */\nvar useRating = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchAction = function (action) {\n        var newState = ratingReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchAction];\n};\n/**\n * Represents the Rating component.\n */\nexport var Rating = React.forwardRef(function (props, ref) {\n    var _a, _b, _c, _d;\n    var target = React.useRef(null);\n    var ratingRef = React.useRef(null);\n    var dir = useDir(ratingRef, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: ratingRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleChange = React.useCallback(function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onChange]);\n    var min = React.useMemo(function () { return props.min !== undefined ? props.min : defaultProps.min; }, [props.min]);\n    var max = React.useMemo(function () { return props.max !== undefined ? props.max : defaultProps.max; }, [props.max]);\n    var precision = React.useMemo(function () { return props.precision || defaultProps.precision; }, [props.precision]);\n    var step = React.useMemo(function () { return props.step !== undefined ? props.step : defaultProps.step; }, [props.step]);\n    var readonly = React.useMemo(function () { return props.readonly || defaultProps.readonly; }, [props.readonly]);\n    var disabled = React.useMemo(function () { return props.disabled || defaultProps.disabled; }, [props.disabled]);\n    var Item = React.useMemo(function () { return props.item || defaultProps.item; }, [props.item]);\n    var _e = useRating(props.defaultValue || defaultProps.defaultValue, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step\n    }, handleChange), stateValue = _e[0], dispatchStateValue = _e[1];\n    var _f = useRating(null, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step,\n        precision: precision\n    }), stateHover = _f[0], dispatchStateHover = _f[1];\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var hoveredValue = React.useMemo(function () { return stateHover; }, [stateHover]);\n    var selection = React.useMemo(function () { return props.selection || defaultProps.selection; }, [props.selection]);\n    var base = React.useMemo(function () { return step / (precision === 'half' ? 2 : 1); }, [step, precision]);\n    var handleItemClick = React.useCallback(function (event) {\n        if (!event.target || !event.target.element || readonly || disabled) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? toRound(event.target.value - (step / 2), base) : event.target.value;\n            dispatchStateValue({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateValue({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: event.syntheticEvent\n            });\n        }\n    }, [props.onClick, dispatchStateValue, value]);\n    var handleKeyDown = React.useCallback(function (syntheticEvent) {\n        if (readonly || disabled) {\n            return;\n        }\n        switch (syntheticEvent.keyCode) {\n            case Keys.right:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.decrease : RATING_ACTION.increase, event: syntheticEvent\n                });\n                break;\n            case Keys.left:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.increase : RATING_ACTION.decrease, event: syntheticEvent\n                });\n                break;\n            case Keys.home:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.min : RATING_ACTION.max, event: syntheticEvent\n                });\n                break;\n            case Keys.end:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.max : RATING_ACTION.min, event: syntheticEvent\n                });\n                break;\n            case Keys.esc:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: RATING_ACTION.deselect, event: syntheticEvent\n                });\n                break;\n            default:\n                break;\n        }\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onKeyDown, dispatchStateValue, value]);\n    var handleFocus = React.useCallback(function (syntheticEvent) {\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onFocus]);\n    var handleBlur = React.useCallback(function (syntheticEvent) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onBlur]);\n    var handleItemMouseMove = React.useCallback(function (event) {\n        if (!event.target || !event.target.element) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? event.target.value - (step / 2) : event.target.value;\n            dispatchStateHover({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateHover({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n    }, [precision, step, dir]);\n    var handleMouseLeave = React.useCallback(function (event) {\n        dispatchStateHover({ type: RATING_ACTION.reset, event: event.syntheticEvent });\n    }, []);\n    var items = [];\n    var remainder = getRemainder(toRound(max - min, base), step);\n    for (var i = min; i <= max; i = toRound(i + step, base)) {\n        var itemValue = toRound(i + remainder, base);\n        var half = precision === 'half'\n            ? isHalf(itemValue, hoveredValue !== null ? hoveredValue : (value !== null ? value : 0), step)\n            : false;\n        var selectedValue = isSelected(itemValue, value, step, selection);\n        var selected = isSelected(itemValue, hoveredValue !== null ? hoveredValue : value, step, selection);\n        var hovered = isSelected(itemValue, hoveredValue, step, selection);\n        items.push(React.createElement(Item, { key: itemValue, value: itemValue, dir: dir, title: String(half ? toRound(itemValue - (step / 2), base) : itemValue), icon: props.icon, half: half, selected: selectedValue || selected, hovered: hovered, onClick: handleItemClick, onMouseMove: handleItemMouseMove, onMouseLeave: handleMouseLeave },\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-complement', style: (_a = { width: '12px' }, _a[dir === 'rtl' ? 'right' : 'left'] = '50%', _a) },\n                React.createElement(\"span\", { className: classNames('k-icon', (_b = {\n                            'k-i-star-outline': !props.icon\n                        },\n                        _b[props.icon + \"-outline\"] = props.icon,\n                        _b)) }))),\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-part', style: { width: '12px' } },\n                React.createElement(\"span\", { className: classNames('k-icon', (_c = {\n                            'k-i-star': !props.icon\n                        },\n                        _c[\"\" + props.icon] = props.icon,\n                        _c)) }))),\n            half && (React.createElement(\"span\", { style: { width: '24px', height: '24px', display: 'block' } })),\n            !half && (React.createElement(\"span\", { className: classNames('k-icon', (_d = {\n                        'k-i-star': !props.icon && (hovered || (selected && !hovered)),\n                        'k-i-star-outline': !props.icon && (!hovered)\n                    },\n                    _d[\"\" + props.icon] = props.icon && (hovered || (selected && !hovered)),\n                    _d[props.icon + \"-outline\"] = props.icon && (!hovered),\n                    _d)) }))));\n    }\n    return (React.createElement(\"span\", { id: props.id, style: props.style, ref: ratingRef, role: \"slider\", dir: dir, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-rating k-widget', {\n            'k-rtl': dir === 'rtl',\n            'k-state-readonly': readonly,\n            'k-state-disabled': disabled\n        }, props.className), onKeyDown: handleKeyDown, onFocus: handleFocus, onBlur: handleBlur, \"aria-valuemin\": min, \"aria-valuemax\": max, \"aria-valuenow\": value !== null ? value : undefined, \"aria-disabled\": disabled ? 'true' : undefined, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"input\", { id: 'rating', className: 'k-hidden', readOnly: readonly, disabled: disabled }),\n        React.createElement(\"span\", { className: 'k-rating-container' }, items),\n        props.label &&\n            React.createElement(\"span\", { className: 'k-rating-label' }, props.label)));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    selection: PropTypes.oneOf(['continues', 'single']),\n    precision: PropTypes.oneOf(['item', 'half']),\n    value: function (props, propName, componentName) {\n        if (props.value && props.min && props.max && props.step) {\n            var correctValue = props.precision === 'half'\n                ? isCorrectValue(props.min, props.max, props.step / 2, props.value)\n                : isCorrectValue(props.min, props.max, props.step, props.value);\n            if (!correctValue && props.precision === 'half') {\n                return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The value of the { value } property is not correct, please check your values.\\n                    \");\n            }\n        }\n        return null;\n    },\n    defaultValue: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: function (props, propName, componentName) {\n        if (props.step !== undefined && props.step <= 0) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                The value of the { step } property is cannot be equal or less than \\\"0\\\", please check your values.\\n                \");\n        }\n        return null;\n    },\n    hovered: PropTypes.number,\n    label: PropTypes.string,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    half: PropTypes.bool,\n    icon: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    dir: 'ltr',\n    min: 1,\n    max: 5,\n    step: 1,\n    item: RatingItem,\n    defaultValue: null,\n    readonly: false,\n    disabled: false,\n    selection: 'continues',\n    precision: 'item'\n};\nRating.displayName = 'KendoReactRating';\n// TODO: delete casting when @types/react is updated!\nRating.propTypes = propTypes;\nRating.defaultProps = defaultProps;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createFilterComponent } from './FilterComponent';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nimport { NumericTextBox } from '@progress/kendo-react-inputs';\nvar settings = {\n    inputComponent: function (props) { return React.createElement(NumericTextBox, __assign({}, props)); },\n    operatorComponent: function (props) { return React.createElement(DropDownList, __assign({}, props)); },\n    emptyFilter: { operator: 'eq', value: null }\n};\n/**\n * @hidden\n */\nvar NumericFilterCell = /** @class */ (function (_super) {\n    __extends(NumericFilterCell, _super);\n    function NumericFilterCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NumericFilterCell;\n}(createFilterComponent(settings)));\nexport { NumericFilterCell };\n","var _a, _b, _c;\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_LEVEL = 'data-keyboardnavlevel';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_SCOPE = 'data-keyboardnavscope';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_HEADER = 'data-keyboardnavheader';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_BODY = 'data-keyboardnavbody';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_ID = 'data-keyboardnavid';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_DATA_ZONE = 'data-keyboardnavzone';\n/**\n * @hidden\n */\nexport var KEYBOARD_NAV_FILTER_COL_SUFFIX = '_filter';\nvar FOCUSABLE_ELEMENTS_BASE = [\n    'input:not([disabled]):not([type=hidden])',\n    'select:not([disabled])',\n    'textarea:not([disabled])',\n    'button:not([disabled])',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[contenteditable]'\n];\n/**\n * @hidden\n */\nexport var FOCUSABLE_ELEMENTS = FOCUSABLE_ELEMENTS_BASE.concat(['[tabindex]']);\n/**\n * @hidden\n */\nexport var TABBABLE_ELEMENTS = FOCUSABLE_ELEMENTS_BASE.concat(['[tabindex]']).map(function (selector) { return selector + ':not([tabindex=\"-1\"])'; });\n/**\n * @hidden\n */\nexport var tableKeyboardNavigationScopeAttributes = (_a = {},\n    _a[KEYBOARD_NAV_DATA_SCOPE] = true,\n    _a);\n/**\n * @hidden\n */\nexport var tableKeyboardNavigationHeaderAttributes = (_b = {},\n    _b[KEYBOARD_NAV_DATA_HEADER] = true,\n    _b);\n/**\n * @hidden\n */\nexport var tableKeyboardNavigationBodyAttributes = (_c = {},\n    _c[KEYBOARD_NAV_DATA_BODY] = true,\n    _c);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createFilterComponent } from './FilterComponent';\nimport { Input } from '@progress/kendo-react-inputs';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nvar settings = {\n    inputComponent: function (props) { return React.createElement(Input, __assign({}, props)); },\n    operatorComponent: function (props) { return React.createElement(DropDownList, __assign({}, props)); },\n    emptyFilter: { operator: 'contains', value: '' }\n};\n/**\n * @hidden\n */\nvar TextFilterCell = /** @class */ (function (_super) {\n    __extends(TextFilterCell, _super);\n    function TextFilterCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return TextFilterCell;\n}(createFilterComponent(settings)));\nexport { TextFilterCell };\n","import * as React from 'react';\n/**\n * @hidden\n */\nexport var TableKeyboardNavigationContext = React.createContext(undefined);\nTableKeyboardNavigationContext.displayName = 'KendoReactTableKeyboardNavigationContext';\n","import * as React from 'react';\nimport { KEYBOARD_NAV_DATA_ID, KEYBOARD_NAV_DATA_LEVEL } from './constants';\nimport { TableKeyboardNavigationContext } from './TableKeyboardNavigationContext';\n/**\n * @hidden\n */\nexport var useTableKeyboardNavigation = function (elementId, navigatable) {\n    var _a;\n    var navigationContext = React.useContext(TableKeyboardNavigationContext);\n    if (!navigationContext || !elementId || navigatable === false) {\n        return {};\n    }\n    return _a = {\n            tabIndex: navigationContext && navigationContext.activeId && navigationContext.activeId === elementId ? 0 : -1\n        },\n        _a[KEYBOARD_NAV_DATA_LEVEL] = navigationContext.level,\n        _a[KEYBOARD_NAV_DATA_ID] = elementId,\n        _a;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useTableKeyboardNavigation } from '../navigation/hooks';\n/**\n * @hidden\n */\nexport var HeaderThElement = function (props) {\n    var ariaSort = props.ariaSort, colSpan = props.colSpan, rowSpan = props.rowSpan, className = props.className, style = props.style, columnId = props.columnId, onKeyDown = props.onKeyDown, navigatable = props.navigatable, ariaColumnIndex = props.ariaColumnIndex, ariaLabel = props.ariaLabel, role = props.role, ariaSelected = props.ariaSelected;\n    var navigationAttributes = useTableKeyboardNavigation(columnId, navigatable);\n    return (React.createElement(\"th\", __assign({ \"aria-sort\": ariaSort, \"aria-label\": ariaLabel, \"aria-colindex\": ariaColumnIndex, \"aria-selected\": ariaSelected, \n        // TODO: Enable this with React 18. Currently throws warnings\n        // aria-description={ariaDescription}\n        colSpan: colSpan, rowSpan: rowSpan, className: className, style: style, onKeyDown: onKeyDown, role: role }, navigationAttributes), props.children));\n};\nHeaderThElement.displayName = 'KendoReactHeaderThElement';\n","import { FOCUSABLE_ELEMENTS, KEYBOARD_NAV_DATA_BODY, KEYBOARD_NAV_DATA_HEADER, KEYBOARD_NAV_DATA_ID, KEYBOARD_NAV_DATA_LEVEL, KEYBOARD_NAV_DATA_SCOPE, KEYBOARD_NAV_FILTER_COL_SUFFIX, TABBABLE_ELEMENTS } from './constants';\n/**\n * @hidden\n */\nexport var generateNavigatableId = function (navigationId, idPrefix, type) {\n    if (type === void 0) { type = 'cell'; }\n    return idPrefix + \"_\" + navigationId + \"_\" + type;\n};\n/**\n * @hidden\n */\nexport var getNavigatableLevel = function (element) {\n    if (!element) {\n        return;\n    }\n    return parseInt(element.getAttribute(KEYBOARD_NAV_DATA_LEVEL) || '', 10);\n};\n/**\n * @hidden\n */\nexport var getNavigatableId = function (element) {\n    if (!element) {\n        return;\n    }\n    var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n    return dataId ? dataId : undefined;\n};\n/**\n * @hidden\n */\nexport var isNavigatable = function (element) {\n    if (!element) {\n        return false;\n    }\n    var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n    return Boolean(dataId);\n};\n/**\n * @hidden\n */\nexport var getNavigatableElement = function (scope, options) {\n    if (options === void 0) { options = { level: 0 }; }\n    return scope.querySelector(\"[\" + KEYBOARD_NAV_DATA_LEVEL + \"='\" + options.level + \"']\");\n};\n/**\n * @hidden\n */\nexport var getClosestNavigatableElement = function (target) {\n    return (target.parentElement &&\n        target.parentElement.closest(\"[\" + KEYBOARD_NAV_DATA_LEVEL + \"]\"));\n};\n/**\n * @hidden\n */\nexport var getActiveElement = function (scope, activeId) {\n    return scope.querySelector(\"[\" + KEYBOARD_NAV_DATA_ID + \"='\" + activeId + \"']\");\n};\n/**\n * @hidden\n */\nexport var getClosestScope = function (target) {\n    return (target.parentElement &&\n        target.parentElement.closest(\"[\" + KEYBOARD_NAV_DATA_SCOPE + \"]\"));\n};\n/**\n * @hidden\n */\nexport var getHeaderElement = function (scope) {\n    return scope.querySelector(\"[\" + KEYBOARD_NAV_DATA_HEADER + \"]\");\n};\n/**\n * @hidden\n */\nexport var getBodyElement = function (scope) {\n    return scope.querySelector(\"[\" + KEYBOARD_NAV_DATA_BODY + \"]\");\n};\n/**\n * @hidden\n */\nexport var getFocusableElements = function (scope, options) {\n    if (options === void 0) { options = { focusable: false }; }\n    var selectors = options.focusable ? FOCUSABLE_ELEMENTS : TABBABLE_ELEMENTS;\n    return Array.from(scope.querySelectorAll(selectors.join(',')));\n};\n/**\n * @hidden\n */\nexport var getNavigatableElements = function (scope, options) {\n    if (options === void 0) { options = { level: 0 }; }\n    if (!scope) {\n        return [];\n    }\n    var selector = FOCUSABLE_ELEMENTS.map(function (el) { return el + (\"[\" + KEYBOARD_NAV_DATA_LEVEL + \"='\" + options.level + \"']\"); }).join(',');\n    return Array.from(scope.querySelectorAll(selector));\n};\n/**\n * @hidden\n */\nexport var filterNavigatableElements = function (options) {\n    if (options === void 0) { options = { level: 0 }; }\n    var selector = FOCUSABLE_ELEMENTS.map(function (sel) { return sel + (\"[\" + KEYBOARD_NAV_DATA_LEVEL + \"='\" + options.level + \"']\"); }).join(',');\n    return function (element) { return element.matches(selector); };\n};\n/**\n * @hidden\n */\nexport var focusElement = function (options) {\n    var elementForFocus = options.elementForFocus, event = options.event, contextStateRef = options.contextStateRef, prevElement = options.prevElement;\n    if (contextStateRef.current && elementForFocus && elementForFocus.focus) {\n        event.preventDefault();\n        elementForFocus.focus();\n        if (isNavigatable(elementForFocus)) {\n            elementForFocus.setAttribute('tabIndex', '0');\n            contextStateRef.current.activeId = getNavigatableId(elementForFocus);\n        }\n        if (prevElement && isNavigatable(prevElement)) {\n            prevElement.setAttribute('tabIndex', '-1');\n        }\n    }\n};\n/**\n * @hidden\n */\nexport var getIdPrefix = function (navigationStateRef) {\n    return navigationStateRef.current ? navigationStateRef.current.idPrefix : '';\n};\n/**\n * @hidden\n */\nexport var findNextIdByRowIndex = function (initialRowIndex, cellIndex, elementId, matrix, isReverse) {\n    if (!elementId) {\n        return [];\n    }\n    var currentRowIndex = initialRowIndex + (isReverse ? -1 : 1);\n    while (currentRowIndex >= 0 && currentRowIndex < matrix.length) {\n        var currentId = matrix[currentRowIndex][cellIndex];\n        if (currentId !== elementId) {\n            return [currentId, [currentRowIndex, cellIndex]];\n        }\n        currentRowIndex = currentRowIndex + (isReverse ? -1 : 1);\n    }\n    return [];\n};\n/**\n * @hidden\n */\nexport var findNextIdByCellIndex = function (rowIndex, initialCellIndex, elementId, matrix, isReverse) {\n    if (!elementId) {\n        return [];\n    }\n    var currentCellIndex = initialCellIndex + (isReverse ? -1 : 1);\n    while (currentCellIndex >= 0 && currentCellIndex < matrix[rowIndex].length) {\n        var currentId = matrix[rowIndex][currentCellIndex];\n        if (currentId !== elementId) {\n            return [currentId, [rowIndex, currentCellIndex]];\n        }\n        currentCellIndex = currentCellIndex + (isReverse ? -1 : 1);\n    }\n    return [];\n};\n/**\n * @hidden\n */\nexport var findId = function (navigationMatrix, cellId) {\n    if (!cellId) {\n        return;\n    }\n    for (var rowIndex = 0; rowIndex < navigationMatrix.length; rowIndex++) {\n        for (var cellIndex = 0; cellIndex < navigationMatrix[rowIndex].length; cellIndex++) {\n            if (navigationMatrix[rowIndex][cellIndex] === cellId) {\n                return [rowIndex, cellIndex];\n            }\n        }\n    }\n};\n/**\n * @hidden\n */\nexport var getNextNavigationIndex = function (navigationStateRef) {\n    return navigationStateRef.current ? navigationStateRef.current.navigationMatrix.length : 0;\n};\n/**\n * @hidden\n */\nexport var getFilterColumnId = function (columnId) {\n    return columnId ? \"\" + columnId + KEYBOARD_NAV_FILTER_COL_SUFFIX : '';\n};\n/**\n * @hidden\n */\nexport var tableKeyboardNavigationTools = {\n    generateNavigatableId: generateNavigatableId,\n    getNavigatableId: getNavigatableId,\n    getNavigatableLevel: getNavigatableLevel,\n    getNavigatableElement: getNavigatableElement,\n    getClosestNavigatableElement: getClosestNavigatableElement,\n    getActiveElement: getActiveElement,\n    getClosestScope: getClosestScope,\n    getHeaderElement: getHeaderElement,\n    getBodyElement: getBodyElement,\n    getFocusableElements: getFocusableElements,\n    getNavigatableElements: getNavigatableElements,\n    filterNavigatableElements: filterNavigatableElements,\n    focusElement: focusElement,\n    getIdPrefix: getIdPrefix,\n    isNavigatable: isNavigatable,\n    findNextIdByRowIndex: findNextIdByRowIndex,\n    findNextIdByCellIndex: findNextIdByCellIndex,\n    findId: findId,\n    getNextNavigationIndex: getNextNavigationIndex,\n    getFilterColumnId: getFilterColumnId\n};\n","import { generateNavigatableId } from '../../navigation/utils';\nimport { ColumnDefaultProps } from '../ColumnProps';\nfunction nextColumn(columns, current) {\n    var currentDepth = columns[current].depth;\n    var next = null;\n    for (var index = current + 1; index < columns.length; index++) {\n        if (columns[index].depth === currentDepth) {\n            next = columns[index];\n            break;\n        }\n    }\n    return next;\n}\nvar getColumnWidth = function (column) {\n    var width = column.width ? parseFloat(column.width.toString()) : 0;\n    if (!width && column.children && column.children.length) {\n        width = column.children.reduce(function (currentSum, child) { return getColumnWidth(child) + currentSum; }, 0);\n    }\n    return width;\n};\n/**\n * @hidden\n */\nexport function mapColumns(columns) {\n    var columnsMap = [[]];\n    var maxDepth = 0;\n    // set colspans, get maxdepth\n    for (var q = columns.length - 1; q >= 0; q--) {\n        maxDepth = Math.max(maxDepth, columns[q].depth);\n        columns[q].colSpan = columns[q].colSpan || 1;\n        if (columns[q].parentIndex !== -1) {\n            columns[columns[q].parentIndex].colSpan =\n                (columns[columns[q].parentIndex].colSpan || 0) + columns[q].colSpan;\n        }\n    }\n    var colIndexByLevel = [];\n    var rowSpan = 1;\n    // set rowspan, kFirst, index AND create columnsMap\n    columns.forEach(function (column, i) {\n        columnsMap[column.depth] = columnsMap[column.depth] || [];\n        var needKFirst = false;\n        if (columnsMap[column.depth].length === 0) {\n            if (rowSpan <= 1) {\n                rowSpan = 1 + (column.children.length > 0 ? 0 : maxDepth - column.depth);\n            }\n            else {\n                rowSpan--;\n                needKFirst = true;\n            }\n        }\n        column.rowSpan = 1 + (column.children.length > 0 ? 0 : maxDepth - column.depth);\n        column.kFirst = needKFirst;\n        column.index = columnsMap[column.depth].length;\n        columnsMap[column.depth].push(i);\n        column.ariaColumnIndex = colIndexByLevel[column.depth] ? colIndexByLevel[column.depth] + 1 : 1;\n        for (var ci = column.depth; ci < column.depth + column.rowSpan; ci++) {\n            colIndexByLevel[ci] = (colIndexByLevel[ci] || 0) + column.colSpan;\n        }\n    });\n    var stickyLeftWidth = new Array(columnsMap.length).fill(0);\n    var width = 0;\n    // set left AND create stickyLeftWidth\n    columns.forEach(function (column) {\n        if (column.locked) {\n            column.left = stickyLeftWidth[column.depth];\n            width = getColumnWidth(column);\n            if (column.children.length === 0) {\n                for (var i = column.depth; i < stickyLeftWidth.length; i++) {\n                    stickyLeftWidth[i] += width;\n                }\n            }\n            else {\n                stickyLeftWidth[column.depth] += width;\n            }\n        }\n    });\n    var stickyRightWidth = new Array(columnsMap.length).fill(0);\n    // set right, rightBorder AND create stickyRightWidth\n    for (var i = columns.length - 1; i >= 0; i--) {\n        var column = columns[i];\n        if (column.locked) {\n            column.right = stickyRightWidth[column.depth];\n            width = getColumnWidth(column);\n            if (column.children.length === 0) {\n                for (var j = column.depth; j < stickyRightWidth.length; j++) {\n                    stickyRightWidth[j] += width;\n                }\n            }\n            else {\n                stickyRightWidth[column.depth] += width;\n            }\n            var next = nextColumn(columns, i);\n            column.rightBorder = !(next && next.locked);\n        }\n    }\n    return columnsMap;\n}\n/**\n * @hidden\n */\nexport function readColumns(elements, idInfo, depth) {\n    if (depth === void 0) { depth = 0; }\n    var columns = [];\n    if (!elements || !elements.length) {\n        return [];\n    }\n    elements.forEach(function (columnProps) {\n        var children = readColumns(columnProps.children || [], idInfo, depth + 1);\n        columns.push(Object.assign({}, { depth: depth }, ColumnDefaultProps, columnProps, {\n            id: columnProps.id ? columnProps.id : generateNavigatableId(\"\" + idInfo.prevId++, idInfo.idPrefix, 'column'),\n            declarationIndex: columns.length,\n            children: children,\n            rowSpan: 0,\n            colSpan: 0,\n            isAccessible: true\n        }));\n    });\n    var comparator = function (a, b) {\n        return a.orderIndex === b.orderIndex ?\n            a.declarationIndex - b.declarationIndex :\n            ((a.orderIndex || 0) - (b.orderIndex || 0));\n    };\n    columns.sort(comparator);\n    if (depth === 0) {\n        var ret_1 = [];\n        var flat_1 = function (cols, pIndex) {\n            return cols.forEach(function (c) {\n                c.parentIndex = pIndex;\n                flat_1(c.children, ret_1.push(c) - 1);\n            });\n        };\n        flat_1(columns, -1);\n        return ret_1;\n    }\n    return columns;\n}\n/**\n * @hidden\n */\nexport function isRtl(element) {\n    return Boolean(element && getComputedStyle(element).direction === 'rtl');\n}\n/**\n * @hidden\n */\nexport function getIndex(event, parent) {\n    if (!parent || !event || !event.originalEvent) {\n        return -1;\n    }\n    var target = parent.ownerDocument ? parent.ownerDocument.elementFromPoint(event.clientX, event.originalEvent.clientY) : null;\n    while (target && target.parentElement !== parent) {\n        target = target.parentElement;\n    }\n    var children = parent.children;\n    for (var i = 0; i < children.length; i++) {\n        if (children[i] === target) {\n            return i;\n        }\n    }\n    return -1;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { isRtl } from './utils';\nimport { tableKeyboardNavigationHeaderAttributes } from '../navigation/constants';\n/**\n * @hidden\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = null;\n        return _this;\n    }\n    Header.prototype.componentDidMount = function () {\n        var columnResize = this.props.columnResize;\n        if (columnResize && columnResize.resizable) {\n            columnResize.setIsRtl(isRtl(this.element));\n        }\n    };\n    Header.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"thead\", __assign({ className: \"k-grid-header\", role: 'presentation', ref: function (el) { return _this.element = el; } }, tableKeyboardNavigationHeaderAttributes),\n            this.props.headerRow,\n            this.props.filterRow));\n    };\n    return Header;\n}(React.Component));\nexport { Header };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\n/**\n * @hidden\n */\nexport function HeaderCell(props) {\n    var clickProps = props.onClick ? {\n        onClick: props.onClick\n    } : {};\n    var defaultRendering = (React.createElement(\"span\", __assign({ className: 'k-link' }, clickProps),\n        React.createElement(\"span\", { className: 'k-column-title' }, props.title || props.field || '\\u00A0'),\n        props.children));\n    return props.render ?\n        props.render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n}\n","/**\n * @hidden\n */\nexport var normalize = function () {\n    var settings = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        settings[_i] = arguments[_i];\n    }\n    return Object.assign.apply(Object, [{ allowUnsort: true, mode: 'single' }].concat(settings));\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ColumnResizer = /** @class */ (function (_super) {\n    __extends(ColumnResizer, _super);\n    function ColumnResizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element) {\n                _this.props.resize(data.event, element, false);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element) {\n                _this.props.resize(data.event, element, true);\n            }\n        };\n        return _this;\n    }\n    ColumnResizer.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Draggable, { onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { _this.draggable = component; } },\n            React.createElement(\"span\", { className: \"k-column-resizer\", draggable: false })));\n    };\n    return ColumnResizer;\n}(React.PureComponent));\nexport { ColumnResizer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ColumnDraggable = /** @class */ (function (_super) {\n    __extends(ColumnDraggable, _super);\n    function ColumnDraggable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onPress = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.pressHandler) {\n                _this.props.pressHandler(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.dragHandler) {\n                _this.props.dragHandler(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.releaseHandler) {\n                _this.props.releaseHandler(data.event);\n            }\n        };\n        return _this;\n    }\n    ColumnDraggable.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Draggable, { onPress: this.onPress, onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { _this.draggable = component; } },\n            React.createElement(\"tr\", { \"aria-rowindex\": this.props.ariaRowIndex, role: 'row' }, this.props.children)));\n    };\n    return ColumnDraggable;\n}(React.PureComponent));\nexport { ColumnDraggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { HeaderCell } from './HeaderCell';\nimport { normalize } from './SortSettings';\nimport { ColumnResizer } from '../drag/ColumnResizer';\nimport { ColumnDraggable } from '../drag/ColumnDraggable';\nimport { HeaderThElement } from './HeaderThElement';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { registerForLocalization, provideLocalizationService as intl } from '@progress/kendo-react-intl';\nimport { messages, sortAriaLabel } from '../messages';\n/**\n * @hidden\n */\nvar sortSeqMap = {\n    true: { 'asc': 'desc', 'desc': '', '': 'asc' },\n    false: { 'asc': 'desc', 'desc': 'asc', '': 'asc' }\n};\n/**\n * @hidden\n */\nvar ariaSortMap = {\n    'none': 'none',\n    'asc': 'ascending',\n    'desc': 'descending'\n};\n/**\n * @hidden\n */\nvar HeaderRow = /** @class */ (function (_super) {\n    __extends(HeaderRow, _super);\n    function HeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellClick = function (e, column) {\n            e.preventDefault();\n            if (!_this.props.sortChange) {\n                return;\n            }\n            var _a = normalize(_this.props.sortable || false, column.sortable || false), allowUnsort = _a.allowUnsort, mode = _a.mode;\n            var oldDescriptor = (_this.props.sort || []).filter(function (d) { return d.field === column.field; })[0];\n            var dir = sortSeqMap[allowUnsort][oldDescriptor && oldDescriptor.dir || ''];\n            var newDescriptor = (mode === 'single') ?\n                [] : (_this.props.sort || []).filter(function (d) { return d.field !== column.field; });\n            if (dir !== '' && column.field) {\n                newDescriptor.push({ field: column.field, dir: dir });\n            }\n            _this.props.sortChange(e, newDescriptor, column.field);\n        };\n        _this.cellKeyDown = function (event, column) {\n            if (event.isDefaultPrevented()) {\n                return;\n            }\n            if (event.keyCode === Keys.enter) {\n                _this.cellClick(event, column);\n            }\n        };\n        _this.cells = function (rowIndexes) { return rowIndexes.map(function (columnIndex, index) {\n            var column = _this.props.columns[columnIndex];\n            var columnResize = _this.props.columnResize;\n            var resizable = columnResize && columnResize.resizable && column.resizable;\n            var sortable = _this.props.sortable && column.sortable;\n            var sortIndex = _this.props.sort ? _this.props.sort.findIndex(function (s) { return s.field === column.field; }) : -1;\n            var sortDir = sortIndex >= 0 ? ((_this.props.sort)[sortIndex].dir || 'none') : 'none';\n            var headerCellProps = {\n                field: column.field,\n                onClick: sortable && (function (e) { return _this.cellClick(e, column); }) || undefined,\n                selectionChange: _this.props.selectionChange,\n                title: column.title,\n                selectionValue: column.headerSelectionValue,\n                render: _this.props.cellRender,\n                children: _this.sortIcon(sortIndex)\n            };\n            var ColumnMenu = column.columnMenu || _this.props.columnMenu;\n            var className = classNames({\n                'k-first': column.kFirst,\n                'k-filterable': Boolean(ColumnMenu),\n                'k-header': true,\n                'k-grid-header-sticky': column.locked,\n                'k-sorted': _this.props.sort && _this.props.sort.some(function (descriptor) { return descriptor.field === column.field; })\n            }, column.headerClassName);\n            var style = (column.locked !== undefined) ? {\n                left: column.left,\n                right: column.right,\n                borderRightWidth: column.rightBorder ? '1px' : ''\n            } : {};\n            var sortLabel = intl(_this).toLanguageString(sortAriaLabel, messages[sortAriaLabel]);\n            var ariaAttrs = column.isAccessible ? {\n                ariaSort: sortable ? ariaSortMap[sortDir] : undefined,\n                role: 'columnheader',\n                ariaColumnIndex: column.ariaColumnIndex,\n                ariaSelected: false,\n                ariaDescription: sortable ? sortLabel : ''\n            } : {\n                role: 'presentation'\n            };\n            return (React.createElement(HeaderThElement, __assign({ key: index, colSpan: column.colSpan, rowSpan: column.rowSpan, className: className, style: style, columnId: column.id, navigatable: column.navigatable, onKeyDown: sortable && (function (e) { return _this.cellKeyDown(e, column); }) || undefined }, ariaAttrs),\n                column.headerCell && React.createElement(column.headerCell, __assign({}, headerCellProps)),\n                !column.headerCell && (React.createElement(\"span\", { className: 'k-cell-inner' },\n                    React.createElement(HeaderCell, __assign({}, headerCellProps)),\n                    ColumnMenu && (React.createElement(ColumnMenu, { sort: _this.props.sort, onSortChange: _this.props.sortChange, filter: _this.props.columnMenuFilter, onFilterChange: _this.props.columnMenuFilterChange, field: column.field })))),\n                columnResize && resizable &&\n                    React.createElement(ColumnResizer, { key: \"ColumnResizer\", resize: function (e, element, end) { return columnResize.dragHandler(e, column, element, end); } })));\n        }); };\n        return _this;\n    }\n    HeaderRow.prototype.sortIcon = function (sortIndex) {\n        if (!this.props.sort) {\n            return null;\n        }\n        return sortIndex >= 0 && [\n            React.createElement(\"span\", { key: 1, className: 'k-icon k-i-sort-' + this.props.sort[sortIndex].dir + '-sm' }),\n            this.props.sort.length > 1 && React.createElement(\"span\", { key: 2, className: \"k-sort-order\" }, sortIndex + 1)\n        ];\n    };\n    HeaderRow.prototype.render = function () {\n        var _this = this;\n        return this.props.columnsMap.map(function (rowIndexes, i) {\n            return _this.props.pressHandler && (React.createElement(ColumnDraggable, { key: i, pressHandler: _this.props.pressHandler, dragHandler: _this.props.dragHandler, releaseHandler: _this.props.releaseHandler, ariaRowIndex: i + 1 }, _this.cells(rowIndexes))) || React.createElement(\"tr\", { \"aria-rowindex\": i + 1, role: 'row' }, _this.cells(rowIndexes));\n        });\n    };\n    return HeaderRow;\n}(React.Component));\nexport { HeaderRow };\nregisterForLocalization(HeaderRow);\n","/**\n * @hidden\n */\nvar ColumnResize = /** @class */ (function () {\n    function ColumnResize(triggerResize) {\n        var _this = this;\n        /**\n         * The settings for resizing the Grid.\n         */\n        this.resizable = false;\n        this.isRtl = false;\n        this.setIsRtl = function (isRtl) {\n            _this.isRtl = isRtl;\n        };\n        this.onResize = triggerResize;\n        this.dragHandler = this.dragHandler.bind(this);\n    }\n    ColumnResize.prototype.dragHandler = function (event, column, dragCue, end) {\n        var e = event.originalEvent;\n        if (!end) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n        }\n        var tdElement = dragCue.parentElement;\n        if (!tdElement || !tdElement.parentElement) {\n            return;\n        }\n        var oldWidth = tdElement.clientWidth;\n        var newWidth;\n        if (this.isRtl) {\n            newWidth = (dragCue.getBoundingClientRect().right - (dragCue.offsetWidth / 2)) - event.clientX;\n            newWidth += oldWidth;\n        }\n        else {\n            newWidth = oldWidth + event.clientX - dragCue.getBoundingClientRect().left - (dragCue.offsetWidth / 2);\n        }\n        if (!end && Math.abs(newWidth - oldWidth) < 1) {\n            return;\n        }\n        this.setWidths(column, Math.floor(newWidth) / oldWidth);\n        var index = this.columns.filter(function (c) { return !c.children.length; }).indexOf(column);\n        this.onResize(index, oldWidth, newWidth, e, end);\n    };\n    ColumnResize.prototype.setWidths = function (column, coef) {\n        var indexInOriginal = this.columns.indexOf(column);\n        var toAdjust = [];\n        var more = column.children.length;\n        for (var i = indexInOriginal + 1; more > 0 && i < this.columns.length; i++, more--) {\n            var cc = this.columns[i];\n            if (!cc.children.length) {\n                toAdjust.push(cc);\n            }\n            else {\n                more += cc.children.length;\n            }\n        }\n        if (toAdjust.length === 0) {\n            toAdjust.push(column);\n        }\n        toAdjust.forEach(function (colToAdjust) {\n            var targetWidth = colToAdjust.width ? parseFloat(colToAdjust.width.toString()) * coef : 0;\n            var min = colToAdjust.minResizableWidth === undefined ? 10 : colToAdjust.minResizableWidth;\n            if (targetWidth < min) {\n                targetWidth = min;\n            }\n            colToAdjust.width = Math.floor(targetWidth);\n        });\n        this.updateColElements(toAdjust);\n    };\n    ColumnResize.prototype.updateColElements = function (affectedColumns) {\n        var columns = this.columns.filter(function (c) { return !c.children.length; });\n        var difference = 1e-10;\n        for (var i = 0; i < affectedColumns.length; i++) {\n            var colIndex = columns.indexOf(affectedColumns[i]);\n            var currentColumnFloatWidth = parseFloat((affectedColumns[i].width || 0).toString());\n            difference += currentColumnFloatWidth - Math.floor(currentColumnFloatWidth);\n            var currentWidth = Math.floor(currentColumnFloatWidth) + Math.floor(difference);\n            difference -= Math.floor(difference);\n            this.setColWidth(this.colGroupMain && this.colGroupMain.children[colIndex], currentWidth);\n            this.setColWidth(this.colGroupHeader && this.colGroupHeader.children[colIndex], currentWidth);\n            this.setColWidth(this.colGroupFooter && this.colGroupFooter.children[colIndex], currentWidth);\n        }\n    };\n    ColumnResize.prototype.setColWidth = function (col, width) {\n        if (col) {\n            col.style.width = width + 'px';\n        }\n    };\n    return ColumnResize;\n}());\nexport { ColumnResize };\n","import { getIndex } from './../header/';\n/**\n * @hidden\n */\nvar CommonDragLogic = /** @class */ (function () {\n    function CommonDragLogic(columnReorder, groupReorder, columnToGroup) {\n        var _this = this;\n        this.reorderable = false;\n        this.groupable = false;\n        this.startColumn = -1;\n        this.startGroup = -1;\n        this.currentColumn = -1;\n        this.currentGroup = -1;\n        this.dropElementClue = null;\n        this.dragElementClue = null;\n        this.groupPanelDivElement = null;\n        this.refGroupPanelDiv = function (e) {\n            _this.groupPanelDivElement = e;\n        };\n        this.refDropElementClue = function (e) {\n            _this.dropElementClue = e;\n        };\n        this.refDragElementClue = function (e) {\n            _this.dragElementClue = e;\n        };\n        this.pressHandler = function (event, element) {\n            if (!event.isTouch) {\n                event.originalEvent.preventDefault();\n                // could be related to:\n                // https://github.com/telerik/kendo-react/issues/773\n                // but it fixes drag column sorts the column\n                // the problem is that this blocks focus\n            }\n            var startColumn = _this.getColumnIndex(event, element);\n            _this.startGroup = _this.getGroupIndex(event);\n            if (startColumn >= 0) {\n                var col = _this.columns[startColumn];\n                if (col.reorderable && _this.reorderable || col.groupable && _this.groupable) {\n                    _this.startColumn = startColumn;\n                }\n            }\n        };\n        this.dragHandler = function (event, element) {\n            if (!event.isTouch) {\n                event.originalEvent.preventDefault();\n            }\n            event.originalEvent.stopPropagation();\n            if (_this.startColumn === -1 && _this.startGroup === -1) {\n                return;\n            }\n            _this.currentColumn = _this.getColumnIndex(event, element);\n            _this.currentGroup = _this.getGroupIndex(event);\n            if (_this.groupPanelDivElement && _this.startGroup >= 0) {\n                _this.currentGroup = Math.min(_this.currentGroup, _this.groupPanelDivElement.children.length - 2);\n            }\n            var invalidIndex = !_this.isValid();\n            if (invalidIndex) {\n                _this.currentColumn = -1;\n                _this.currentGroup = -1;\n            }\n            var targetElement = (_this.currentColumn >= 0) ?\n                element.children[_this.columns[_this.currentColumn].index] :\n                _this.groupPanelDivElement && _this.groupPanelDivElement.children[_this.currentGroup];\n            _this.updateDragElementClue(event, element, targetElement, invalidIndex);\n            _this.updateDropElementClue(event, element, targetElement, invalidIndex);\n        };\n        this.releaseHandler = function (event) {\n            var prevColumnIndex = _this.startColumn;\n            var nextColumnIndex = _this.currentColumn;\n            var prevGroupIndex = _this.startGroup;\n            var nextGroupIndex = _this.currentGroup;\n            if (_this.dropElementClue) {\n                _this.dropElementClue.setState({ visible: false });\n            }\n            if (_this.dragElementClue) {\n                _this.dragElementClue.setState({ visible: false });\n            }\n            var isValid = _this.isValid();\n            _this.startColumn = _this.startGroup = _this.currentColumn = _this.currentGroup = -1;\n            if (!isValid) {\n                return;\n            }\n            if (prevColumnIndex >= 0 && nextColumnIndex >= 0) {\n                _this.columnReorder(prevColumnIndex, nextColumnIndex, event.originalEvent);\n            }\n            else if (prevGroupIndex >= 0 && nextGroupIndex >= 0) {\n                _this.groupReorder(prevGroupIndex, nextGroupIndex, event.originalEvent);\n            }\n            else if (prevColumnIndex >= 0 && nextGroupIndex >= 0) {\n                _this.columnToGroup(prevColumnIndex, nextGroupIndex, event.originalEvent);\n            }\n        };\n        this.columnReorder = columnReorder;\n        this.groupReorder = groupReorder;\n        this.columnToGroup = columnToGroup;\n    }\n    CommonDragLogic.prototype.getColumnIndex = function (event, parent) {\n        if (!parent || (parent.parentElement === this.groupPanelDivElement)) {\n            return -1;\n        }\n        var index = getIndex(event, parent);\n        if (index === -1) {\n            return -1;\n        }\n        var _loop_1 = function (i) {\n            if (parent.parentNode.children[i] === parent) {\n                return { value: this_1.columns.findIndex(function (c) { return ((c.index === index) && (c.depth === i)); }) };\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < parent.parentNode.children.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1;\n    };\n    CommonDragLogic.prototype.getGroupIndex = function (event) {\n        return getIndex(event, this.groupPanelDivElement);\n    };\n    CommonDragLogic.prototype.isValid = function () {\n        if (this.startGroup >= 0) {\n            // group can be moved into group only\n            return this.currentGroup >= 0 && this.currentGroup !== this.startGroup;\n        }\n        if (this.startColumn === -1) {\n            return false;\n        }\n        if (this.currentGroup >= 0) {\n            // column to group is possible\n            return this.columns[this.startColumn].groupable === true && this.groupable === true;\n        }\n        // reorder is possible\n        return this.reorderable === true &&\n            this.currentColumn >= 0 &&\n            this.currentColumn !== this.startColumn &&\n            this.columns[this.startColumn].reorderable === true &&\n            this.columns[this.currentColumn].parentIndex === this.columns[this.startColumn].parentIndex;\n    };\n    CommonDragLogic.prototype.updateDragElementClue = function (event, element, targetElement, invalidIndex) {\n        if (!this.dragElementClue) {\n            return;\n        }\n        var innerText = this.startColumn >= 0 ?\n            element.children[this.columns[this.startColumn].index].innerText :\n            element.innerText;\n        this.dragElementClue.setState({\n            visible: true,\n            top: (event.pageY + 10),\n            left: event.pageX,\n            innerText: innerText,\n            status: (invalidIndex || !targetElement) ? 'k-i-cancel' : 'k-i-add'\n        });\n    };\n    CommonDragLogic.prototype.updateDropElementClue = function (event, element, targetElement, invalidIndex) {\n        if (!this.dropElementClue) {\n            return;\n        }\n        if (invalidIndex || !targetElement) {\n            this.dropElementClue.setState({ visible: false });\n            return;\n        }\n        var rect = targetElement.getBoundingClientRect();\n        var left = rect.left + event.pageX - event.clientX - 6;\n        if (this.currentColumn > this.startColumn || this.currentGroup > this.startGroup && this.startGroup !== -1) {\n            left += rect.width;\n        }\n        var top = rect.top + event.pageY - event.clientY;\n        this.dropElementClue.setState({\n            visible: true,\n            top: top,\n            left: left,\n            height: (this.currentColumn >= 0) ? element.clientHeight : rect.height\n        });\n    };\n    return CommonDragLogic;\n}());\nexport { CommonDragLogic };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DragClue = /** @class */ (function (_super) {\n    __extends(DragClue, _super);\n    function DragClue(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            visible: false,\n            top: 0,\n            left: 0,\n            innerText: '',\n            status: 'k-i-cancel'\n        };\n        _this.hiddenElementRef = React.createRef();\n        return _this;\n    }\n    DragClue.prototype.render = function () {\n        var hiddenElement = this.hiddenElementRef.current;\n        var dragClue = this.state.visible && canUseDOM && createPortal((React.createElement(\"div\", { className: \"k-header k-drag-clue\", style: {\n                display: 'block',\n                position: 'absolute',\n                zIndex: 20000,\n                padding: '8px 12px',\n                top: this.state.top + 'px',\n                left: this.state.left + 'px'\n            } },\n            React.createElement(\"span\", { className: 'k-icon k-drag-status ' + this.state.status + ' k-icon-with-modifier' },\n                React.createElement(\"span\", { className: \"k-icon k-icon-modifier\" })),\n            this.state.innerText)), (hiddenElement && hiddenElement.ownerDocument ?\n            hiddenElement.ownerDocument.body :\n            document.body));\n        return (React.createElement(React.Fragment, null,\n            dragClue,\n            React.createElement(\"div\", { ref: this.hiddenElementRef, style: { display: 'none' } })));\n    };\n    return DragClue;\n}(React.PureComponent));\nexport { DragClue };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DropClue = /** @class */ (function (_super) {\n    __extends(DropClue, _super);\n    function DropClue(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            height: 0,\n            visible: false,\n            left: 0,\n            top: 0\n        };\n        _this.hiddenElementRef = React.createRef();\n        return _this;\n    }\n    DropClue.prototype.render = function () {\n        var hiddenElement = this.hiddenElementRef.current;\n        var dropClue = this.state.visible && canUseDOM && createPortal((React.createElement(\"div\", { className: \"k-grouping-dropclue\", style: {\n                zIndex: 10000,\n                display: 'block',\n                top: this.state.top + 'px',\n                left: this.state.left + 'px',\n                height: this.state.height + 'px'\n            } })), (hiddenElement && hiddenElement.ownerDocument ?\n            hiddenElement.ownerDocument.body :\n            document.body));\n        return (React.createElement(React.Fragment, null,\n            dropClue,\n            React.createElement(\"div\", { ref: this.hiddenElementRef, style: { display: 'none' } })));\n    };\n    return DropClue;\n}(React.PureComponent));\nexport { DropClue };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Input } from '@progress/kendo-react-inputs';\n/**\n * The TextFilter component used for editing text value of FilterDescriptor object.\n */\nvar TextFilter = /** @class */ (function (_super) {\n    __extends(TextFilter, _super);\n    function TextFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChange = function (event) {\n            _this.props.onFilterChange.call(undefined, {\n                nextFilter: __assign({}, _this.props.filter, { value: event.value })\n            });\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    TextFilter.prototype.render = function () {\n        return (React.createElement(Input, { value: this.props.filter.value || '', onChange: this.onChange }));\n    };\n    /**\n     * @hidden\n     */\n    TextFilter.propTypes = {\n        filter: PropTypes.object.isRequired,\n        onFilterChange: PropTypes.func.isRequired\n    };\n    return TextFilter;\n}(React.Component));\nexport { TextFilter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { NumericTextBox } from '@progress/kendo-react-inputs';\n/**\n * The NumericFilter component used for editing numeric value of FilterDescriptor object.\n */\nvar NumericFilter = /** @class */ (function (_super) {\n    __extends(NumericFilter, _super);\n    function NumericFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChange = function (event) {\n            _this.props.onFilterChange.call(undefined, {\n                nextFilter: __assign({}, _this.props.filter, { value: event.value })\n            });\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    NumericFilter.prototype.render = function () {\n        var filter = this.props.filter;\n        return (React.createElement(NumericTextBox, { value: typeof filter.value === 'number' ? filter.value : null, onChange: this.onChange }));\n    };\n    /**\n     * @hidden\n     */\n    NumericFilter.propTypes = {\n        filter: PropTypes.object.isRequired,\n        onFilterChange: PropTypes.func.isRequired\n    };\n    return NumericFilter;\n}(React.Component));\nexport { NumericFilter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { DatePicker } from '@progress/kendo-react-dateinputs';\n/**\n * The DateFilter component used for editing date value of FilterDescriptor object.\n */\nvar DateFilter = /** @class */ (function (_super) {\n    __extends(DateFilter, _super);\n    function DateFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChange = function (event) {\n            _this.props.onFilterChange.call(undefined, {\n                nextFilter: __assign({}, _this.props.filter, { value: event.value })\n            });\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    DateFilter.prototype.render = function () {\n        var filter = this.props.filter;\n        return (React.createElement(DatePicker, { value: filter.value || null, onChange: this.onChange }));\n    };\n    /**\n     * @hidden\n     */\n    DateFilter.propTypes = {\n        filter: PropTypes.object.isRequired,\n        onFilterChange: PropTypes.func.isRequired\n    };\n    return DateFilter;\n}(React.Component));\nexport { DateFilter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { messages } from './../../messages';\n/**\n * The EnumFilter component used for editing the value of FilterDescriptor object.\n * It renders a DropDownList and allows you to choose a value from the predefined list.\n */\nvar EnumFilter = /** @class */ (function (_super) {\n    __extends(EnumFilter, _super);\n    function EnumFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChange = function (event) {\n            _this.props.onFilterChange.call(undefined, {\n                nextFilter: __assign({}, _this.props.filter, { value: event.value.value })\n            });\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    EnumFilter.prototype.render = function () {\n        var locService = provideLocalizationService(this);\n        var _a = this.props, filter = _a.filter, _b = _a.data, data = _b === void 0 ? [] : _b, defaultItem = _a.defaultItem;\n        var locData = data.map(function (item) { return (__assign({}, item, { text: locService.toLanguageString(item.text, messages[item.text] || item.text) })); });\n        return (React.createElement(DropDownList, { value: locData.find(function (i) { return i.value === filter.value; }) || null, onChange: this.onChange, defaultItem: defaultItem, data: locData, textField: \"text\" }));\n    };\n    /**\n     * @hidden\n     */\n    EnumFilter.propTypes = {\n        filter: PropTypes.object.isRequired,\n        onFilterChange: PropTypes.func.isRequired,\n        data: PropTypes.arrayOf(PropTypes.shape({ text: PropTypes.string, value: PropTypes.any })),\n        defaultItem: PropTypes.any\n    };\n    return EnumFilter;\n}(React.Component));\nexport { EnumFilter };\nregisterForLocalization(EnumFilter);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { EnumFilter } from './EnumFilter';\nimport { filterIsTrue, filterIsFalse } from '../../messages';\n/**\n * The BooleanFilter component used for editing boolean value of FilterDescriptor object.\n */\nvar BooleanFilter = /** @class */ (function (_super) {\n    __extends(BooleanFilter, _super);\n    function BooleanFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.data = [{ text: filterIsTrue, value: true }, { text: filterIsFalse, value: false }];\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    BooleanFilter.prototype.render = function () {\n        return (React.createElement(EnumFilter, { filter: this.props.filter, onFilterChange: this.props.onFilterChange, data: this.props.data || this.data, defaultItem: this.props.defaultItem }));\n    };\n    /**\n     * @hidden\n     */\n    BooleanFilter.propTypes = {\n        filter: PropTypes.object.isRequired,\n        onFilterChange: PropTypes.func.isRequired,\n        data: PropTypes.arrayOf(PropTypes.shape({ text: PropTypes.string, value: PropTypes.any })),\n        defaultItem: PropTypes.any\n    };\n    return BooleanFilter;\n}(React.Component));\nexport { BooleanFilter };\n","import { filterEqOperator, filterNotEqOperator, filterIsNullOperator, filterIsNotNullOperator, filterIsEmptyOperator, filterIsNotEmptyOperator, filterStartsWithOperator, filterContainsOperator, filterNotContainsOperator, filterEndsWithOperator, filterGteOperator, filterGtOperator, filterLteOperator, filterLtOperator, filterAfterOrEqualOperator, filterAfterOperator, filterBeforeOperator, filterBeforeOrEqualOperator } from './../messages';\nvar textOperators = [\n    { text: filterContainsOperator, operator: 'contains' },\n    { text: filterNotContainsOperator, operator: 'doesnotcontain' },\n    { text: filterEqOperator, operator: 'eq' },\n    { text: filterNotEqOperator, operator: 'neq' },\n    { text: filterStartsWithOperator, operator: 'startswith' },\n    { text: filterEndsWithOperator, operator: 'endswith' },\n    { text: filterIsNullOperator, operator: 'isnull' },\n    { text: filterIsNotNullOperator, operator: 'isnotnull' },\n    { text: filterIsEmptyOperator, operator: 'isempty' },\n    { text: filterIsNotEmptyOperator, operator: 'isnotempty' }\n];\nvar numericOperators = [\n    { text: filterEqOperator, operator: 'eq' },\n    { text: filterNotEqOperator, operator: 'neq' },\n    { text: filterGteOperator, operator: 'gte' },\n    { text: filterGtOperator, operator: 'gt' },\n    { text: filterLteOperator, operator: 'lte' },\n    { text: filterLtOperator, operator: 'lt' },\n    { text: filterIsNullOperator, operator: 'isnull' },\n    { text: filterIsNotNullOperator, operator: 'isnotnull' }\n];\nvar dateOperators = [\n    { text: filterEqOperator, operator: 'eq' },\n    { text: filterNotEqOperator, operator: 'neq' },\n    { text: filterAfterOrEqualOperator, operator: 'gte' },\n    { text: filterAfterOperator, operator: 'gt' },\n    { text: filterBeforeOperator, operator: 'lt' },\n    { text: filterBeforeOrEqualOperator, operator: 'lte' },\n    { text: filterIsNullOperator, operator: 'isnull' },\n    { text: filterIsNotNullOperator, operator: 'isnotnull' }\n];\nvar booleanOperators = [\n    { text: filterEqOperator, operator: 'eq' },\n    { text: filterNotEqOperator, operator: 'neq' }\n];\n/**\n * Represents the operators for the TextFilter, NumericFilter, DateFilter and BooleanFilter components.\n *\n * The text field of each operator object will be resolved according to the\n * [localization messages]({% slug globalization_datatools %}#toc-messages).\n */\nvar Operators = /** @class */ (function () {\n    function Operators() {\n    }\n    Object.defineProperty(Operators, \"text\", {\n        /**\n         * An array containing the operators for the TextFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'filter.containsOperator', operator: 'contains' }\n         * - { text: 'filter.notContainsOperator', operator: 'doesnotcontain' }\n         * - { text: 'filter.eqOperator', operator: 'eq' }\n         * - { text: 'filter.notEqOperator', operator: 'neq' }\n         * - { text: 'filter.startsWithOperator', operator: 'startswith' }\n         * - { text: 'filter.endsWithOperator', operator: 'endswith' }\n         * - { text: 'filter.isNullOperator', operator: 'isnull' }\n         * - { text: 'filter.isNotNullOperator', operator: 'isnotnull' }\n         * - { text: 'filter.isEmptyOperator', operator: 'isempty' }\n         * - { text: 'filter.isNotEmptyOperator', operator: 'isnotempty' }\n         */\n        get: function () {\n            return textOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Operators, \"numeric\", {\n        /**\n         * An array containing the operators for the NumericFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'filter.eqOperator', operator: 'eq' }\n         * - { text: 'filter.notEqOperator', operator: 'neq' }\n         * - { text: 'filter.gteOperator', operator: 'gte' }\n         * - { text: 'filter.gtOperator', operator: 'gt' }\n         * - { text: 'filter.lteOperator', operator: 'lte' }\n         * - { text: 'filter.ltOperator', operator: 'lt' }\n         * - { text: 'filter.isNullOperator', operator: 'isnull' }\n         * - { text: 'filter.isNotNullOperator', operator: 'isnotnull' }\n         */\n        get: function () {\n            return numericOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Operators, \"date\", {\n        /**\n         * An array containing the operators for the DateFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'filter.eqOperator', operator: 'eq' }\n         * - { text: 'filter.notEqOperator', operator: 'neq' }\n         * - { text: 'filter.afterOrEqualOperator', operator: 'gte' }\n         * - { text: 'filter.afterOperator', operator: 'gt' }\n         * - { text: 'filter.beforeOperator', operator: 'lt' }\n         * - { text: 'filter.beforeOrEqualOperator', operator: 'lte' }\n         * - { text: 'filter.isNullOperator', operator: 'isnull' }\n         * - { text: 'filter.isNotNullOperator', operator: 'isnotnull' }\n         */\n        get: function () {\n            return dateOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Operators, \"boolean\", {\n        /**\n         * An array containing the operators for the BooleanFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'filter.eqOperator', operator: 'eq' }\n         * - { text: 'filter.notEqOperator', operator: 'neq' }\n         */\n        get: function () {\n            return booleanOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Operators;\n}());\nexport { Operators };\n/**\n * @hidden\n */\nexport var stringOperator = function (operator) {\n    return operator === 'contains' || operator === 'doesnotcontain' || operator === 'startswith' || operator === 'endswith';\n};\n/**\n * @hidden\n */\nexport var unaryOperator = function (operator) {\n    return operator === 'isnull' || operator === 'isnotnull' || operator === 'isempty' || operator === 'isnotempty';\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Button, Toolbar, ToolbarItem } from '@progress/kendo-react-buttons';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { unaryOperator, stringOperator } from './operators';\nimport { messages, filterClose } from '../messages';\nvar setInitialValue = function (filter) {\n    if (filter.value === undefined && !unaryOperator(filter.operator)) {\n        filter.value = stringOperator(filter.operator) ? '' : null;\n    }\n};\n/**\n * @hidden\n */\nvar Expression = /** @class */ (function (_super) {\n    __extends(Expression, _super);\n    function Expression() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onFieldChange = function (event) {\n            var nextFieldName = event.value.name;\n            var nextField = _this.props.fields.find(function (f) { return f.name === nextFieldName; });\n            var prevFilter = _this.props.filter;\n            var operator = (nextField && !nextField.operators.some(function (o) { return o.operator === prevFilter.operator; })) ?\n                nextField.operators[0].operator : prevFilter.operator;\n            var nextFilter = {\n                field: nextFieldName,\n                operator: operator\n            };\n            setInitialValue(nextFilter);\n            _this.triggerOnFilterChange(prevFilter, nextFilter, event);\n        };\n        _this.onOperatorChange = function (event) {\n            var operator = event.value.operator;\n            var prevFilter = _this.props.filter;\n            var nextFilter;\n            if (unaryOperator(operator)) {\n                var value = prevFilter.value, prevFilterNoValue = __rest(prevFilter, [\"value\"]);\n                nextFilter = __assign({}, prevFilterNoValue, { operator: operator });\n            }\n            else {\n                nextFilter = __assign({}, prevFilter, { operator: operator });\n            }\n            setInitialValue(nextFilter);\n            _this.triggerOnFilterChange(prevFilter, nextFilter, event);\n        };\n        _this.onInputChange = function (event) {\n            var prevFilter = _this.props.filter;\n            var nextFilter = event.nextFilter;\n            if (unaryOperator(nextFilter.operator)) {\n                var field = _this.props.fields.find(function (f) { return f.name === nextFilter.field; });\n                nextFilter = __assign({}, nextFilter, { operator: (field && field.operators[0].operator) || nextFilter.operator });\n            }\n            _this.triggerOnFilterChange(prevFilter, nextFilter, event);\n        };\n        _this.triggerOnFilterChange = function (prevFilter, nextFilter, event) {\n            var changeEvent = {\n                prevFilter: prevFilter,\n                nextFilter: nextFilter,\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onChange.call(undefined, changeEvent);\n        };\n        _this.onFilterRemove = function (event) {\n            var removeEvent = {\n                filter: _this.props.filter,\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onRemove.call(undefined, removeEvent);\n        };\n        return _this;\n    }\n    Expression.prototype.render = function () {\n        var _a = this.props, fields = _a.fields, filter = _a.filter;\n        var field = fields.find(function (f) { return f.name === filter.field; });\n        var locService = provideLocalizationService(this);\n        var operators = ((field && field.operators) || [])\n            .map(function (o) { return (__assign({}, o, { text: locService.toLanguageString(o.text, messages[o.text] || o.text) })); });\n        return (React.createElement(\"div\", { className: \"k-filter-toolbar\" },\n            React.createElement(Toolbar, { keyboardNavigation: false },\n                React.createElement(ToolbarItem, { className: \"k-filter-field\" },\n                    React.createElement(DropDownList, { className: \"k-filter-dropdown\", data: fields, textField: \"label\", value: fields.find(function (f) { return f.name === filter.field; }), onChange: this.onFieldChange })),\n                React.createElement(ToolbarItem, { className: \"k-filter-operator\" },\n                    React.createElement(DropDownList, { data: operators, textField: \"text\", value: operators.find(function (o) { return o.operator === filter.operator; }), onChange: this.onOperatorChange })),\n                React.createElement(ToolbarItem, { className: \"k-filter-value\" }, field && React.createElement(field.filter, { filter: filter, onFilterChange: this.onInputChange })),\n                React.createElement(ToolbarItem, null,\n                    React.createElement(Button, { title: locService.toLanguageString(filterClose, messages[filterClose]), icon: \"close\", look: \"flat\", type: \"button\", onClick: this.onFilterRemove })))));\n    };\n    Expression.propTypes = {\n        filter: PropTypes.object.isRequired,\n        fields: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired,\n        onRemove: PropTypes.func.isRequired\n    };\n    return Expression;\n}(React.Component));\nexport { Expression };\nregisterForLocalization(Expression);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { isCompositeFilterDescriptor } from '@progress/kendo-data-query';\nimport { Button, Toolbar, ToolbarItem, ButtonGroup } from '@progress/kendo-react-buttons';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { Expression } from './Expression';\nimport { stringOperator } from './operators';\nimport { messages, filterAndLogic, filterOrLogic, filterAddExpression, filterAddGroup, filterClose } from '../messages';\n/**\n * @hidden\n */\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onGroupRemove = function () {\n            _this.props.onRemove.call(undefined, {\n                filter: _this.props.filter\n            });\n        };\n        _this.onAddExpression = function () {\n            var prevFilter = _this.props.filter;\n            var firstField = _this.props.fields[0];\n            var newExpression = { field: firstField.name, operator: firstField.operators[0].operator };\n            newExpression.value = stringOperator(newExpression.operator) ? '' : null;\n            _this.props.onChange.call(undefined, {\n                nextFilter: __assign({}, prevFilter, { filters: prevFilter.filters.concat([newExpression]) }),\n                prevFilter: prevFilter\n            });\n        };\n        _this.onAddGroup = function () {\n            var prevFilter = _this.props.filter;\n            _this.props.onChange.call(undefined, {\n                nextFilter: __assign({}, prevFilter, { filters: prevFilter.filters.concat([__assign({}, _this.props.defaultGroupFilter)]) }),\n                prevFilter: prevFilter\n            });\n        };\n        _this.onLogicAnd = function () { return _this.changeLogic('and'); };\n        _this.onLogicOr = function () { return _this.changeLogic('or'); };\n        _this.changeLogic = function (logic) {\n            var prevFilter = _this.props.filter;\n            if (prevFilter.logic !== logic) {\n                _this.props.onChange.call(undefined, {\n                    nextFilter: __assign({}, prevFilter, { logic: logic }),\n                    prevFilter: prevFilter\n                });\n            }\n        };\n        _this.replaceFilter = function (prevFilter, nextFilter) {\n            var filter = _this.props.filter;\n            var filters = filter.filters.map(function (f) { return f === prevFilter ? nextFilter : f; });\n            return __assign({}, filter, { filters: filters });\n        };\n        _this.onChange = function (event) {\n            var nextFilter = _this.replaceFilter(event.prevFilter, event.nextFilter);\n            var changeEvent = {\n                nextFilter: nextFilter,\n                prevFilter: _this.props.filter,\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onChange.call(undefined, changeEvent);\n        };\n        _this.onRemove = function (event) {\n            var prevFilter = _this.props.filter;\n            var filters = prevFilter.filters.filter(function (f) { return f !== event.filter; });\n            var changeEvent = {\n                nextFilter: __assign({}, prevFilter, { filters: filters }),\n                prevFilter: prevFilter,\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onChange.call(undefined, changeEvent);\n        };\n        return _this;\n    }\n    Group.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, fields = _a.fields, filter = _a.filter;\n        var locService = provideLocalizationService(this);\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: \"k-filter-toolbar\" },\n                React.createElement(Toolbar, { keyboardNavigation: false },\n                    React.createElement(ToolbarItem, null,\n                        React.createElement(ButtonGroup, null,\n                            React.createElement(Button, { togglable: true, onClick: this.onLogicAnd, selected: filter.logic === 'and', type: \"button\" }, locService.toLanguageString(filterAndLogic, messages[filterAndLogic])),\n                            React.createElement(Button, { togglable: true, onClick: this.onLogicOr, selected: filter.logic === 'or', type: \"button\" }, locService.toLanguageString(filterOrLogic, messages[filterOrLogic])))),\n                    React.createElement(ToolbarItem, null,\n                        React.createElement(Button, { title: locService.toLanguageString(filterAddExpression, messages[filterAddExpression]), icon: \"filter-add-expression\", type: \"button\", onClick: this.onAddExpression })),\n                    React.createElement(ToolbarItem, null,\n                        React.createElement(Button, { title: locService.toLanguageString(filterAddGroup, messages[filterAddGroup]), icon: \"filter-add-group\", type: \"button\", onClick: this.onAddGroup })),\n                    React.createElement(ToolbarItem, null,\n                        React.createElement(Button, { title: locService.toLanguageString(filterClose, messages[filterClose]), icon: \"close\", look: \"flat\", type: \"button\", onClick: this.onGroupRemove })))),\n            filter.filters.length > 0 && (React.createElement(\"ul\", { className: \"k-filter-lines\" }, filter.filters.map(function (f, idx) {\n                return (React.createElement(\"li\", { key: idx, className: \"k-filter-item\" }, isCompositeFilterDescriptor(f) ?\n                    React.createElement(Group, { filter: f, fields: fields, onChange: _this.onChange, onRemove: _this.onRemove, defaultGroupFilter: _this.props.defaultGroupFilter })\n                    :\n                        React.createElement(Expression, { filter: f, fields: fields, onChange: _this.onChange, onRemove: _this.onRemove })));\n            })))));\n    };\n    Group.propTypes = {\n        filter: PropTypes.object.isRequired,\n        fields: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired,\n        onRemove: PropTypes.func.isRequired,\n        defaultGroupFilter: PropTypes.object.isRequired\n    };\n    return Group;\n}(React.Component));\nexport { Group };\nregisterForLocalization(Group);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Group } from './Group';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact Filter component]({% slug overview_filter %}).\n */\nvar Filter = /** @class */ (function (_super) {\n    __extends(Filter, _super);\n    function Filter(props) {\n        var _this = _super.call(this, props) || this;\n        _this.onFilterChange = function (event) {\n            var changeEvent = {\n                filter: event.nextFilter,\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onChange.call(undefined, changeEvent);\n        };\n        _this.onGroupRemove = function (event) {\n            var changeEvent = {\n                filter: __assign({}, _this.props.value, { filters: [] }),\n                syntheticEvent: event.syntheticEvent,\n                nativeEvent: event.nativeEvent,\n                target: _this\n            };\n            _this.props.onChange.call(undefined, changeEvent);\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Filter.prototype.render = function () {\n        return (React.createElement(\"div\", { className: 'k-widget k-filter' + (this.props.className ? ' ' + this.props.className : ''), style: this.props.style },\n            React.createElement(\"ul\", { className: \"k-filter-container\" },\n                React.createElement(\"li\", { className: \"k-filter-group-main\" },\n                    React.createElement(Group, { filter: this.props.value, fields: this.props.fields, onChange: this.onFilterChange, onRemove: this.onGroupRemove, defaultGroupFilter: this.props.defaultGroupFilter || { logic: 'and', filters: [] } })))));\n    };\n    /**\n     * @hidden\n     */\n    Filter.propTypes = {\n        className: PropTypes.string,\n        style: PropTypes.object,\n        fields: function (props, propName) {\n            var prop = props[propName];\n            if (prop === undefined) {\n                return new Error(\"Property '\" + propName + \"' is missing.\");\n            }\n            else if (!Array.isArray(prop)) {\n                return new Error(\"Property '\" + propName + \"' needs to be Array<FieldSettings>.\");\n            }\n            else if (Object.keys(prop.reduce(function (acc, cur) {\n                var _a;\n                return (__assign({}, acc, (_a = {}, _a[cur.name] = 1, _a)));\n            }, {})).length !== prop.length) {\n                return new Error(\"Property '\" + propName + \"' needs to contain objects with unique 'name' field.\");\n            }\n            return null;\n        },\n        value: PropTypes.object.isRequired,\n        onChange: PropTypes.func.isRequired\n    };\n    return Filter;\n}(React.Component));\nexport { Filter };\n","import { columnMenuFilterEqOperator, columnMenuFilterNotEqOperator, columnMenuFilterIsNullOperator, columnMenuFilterIsNotNullOperator, columnMenuFilterIsEmptyOperator, columnMenuFilterIsNotEmptyOperator, columnMenuFilterStartsWithOperator, columnMenuFilterContainsOperator, columnMenuFilterNotContainsOperator, columnMenuFilterEndsWithOperator, columnMenuFilterGteOperator, columnMenuFilterGtOperator, columnMenuFilterLteOperator, columnMenuFilterLtOperator, columnMenuFilterAfterOrEqualOperator, columnMenuFilterAfterOperator, columnMenuFilterBeforeOperator, columnMenuFilterBeforeOrEqualOperator, columnMenuFilterIsTrue } from '../messages';\nvar textOperators = [\n    { text: columnMenuFilterContainsOperator, operator: 'contains' },\n    { text: columnMenuFilterNotContainsOperator, operator: 'doesnotcontain' },\n    { text: columnMenuFilterEqOperator, operator: 'eq' },\n    { text: columnMenuFilterNotEqOperator, operator: 'neq' },\n    { text: columnMenuFilterStartsWithOperator, operator: 'startswith' },\n    { text: columnMenuFilterEndsWithOperator, operator: 'endswith' },\n    { text: columnMenuFilterIsNullOperator, operator: 'isnull' },\n    { text: columnMenuFilterIsNotNullOperator, operator: 'isnotnull' },\n    { text: columnMenuFilterIsEmptyOperator, operator: 'isempty' },\n    { text: columnMenuFilterIsNotEmptyOperator, operator: 'isnotempty' }\n];\nvar numericOperators = [\n    { text: columnMenuFilterEqOperator, operator: 'eq' },\n    { text: columnMenuFilterNotEqOperator, operator: 'neq' },\n    { text: columnMenuFilterGteOperator, operator: 'gte' },\n    { text: columnMenuFilterGtOperator, operator: 'gt' },\n    { text: columnMenuFilterLteOperator, operator: 'lte' },\n    { text: columnMenuFilterLtOperator, operator: 'lt' },\n    { text: columnMenuFilterIsNullOperator, operator: 'isnull' },\n    { text: columnMenuFilterIsNotNullOperator, operator: 'isnotnull' }\n];\nvar dateOperators = [\n    { text: columnMenuFilterEqOperator, operator: 'eq' },\n    { text: columnMenuFilterNotEqOperator, operator: 'neq' },\n    { text: columnMenuFilterAfterOrEqualOperator, operator: 'gte' },\n    { text: columnMenuFilterAfterOperator, operator: 'gt' },\n    { text: columnMenuFilterBeforeOperator, operator: 'lt' },\n    { text: columnMenuFilterBeforeOrEqualOperator, operator: 'lte' },\n    { text: columnMenuFilterIsNullOperator, operator: 'isnull' },\n    { text: columnMenuFilterIsNotNullOperator, operator: 'isnotnull' }\n];\nvar booleanOperators = [\n    { text: columnMenuFilterIsTrue, operator: '' }\n];\n/**\n * Represents the operators for the ColumnMenuTextFilter, ColumnMenuNumericFilter,\n * ColumnMenuDateFilter and ColumnMenuBooleanFilter components.\n *\n * The text field of each operator object will be resolved according to the\n * [localization messages]({% slug globalization_datatools %}#toc-messages).\n */\nvar ColumnMenuOperators = /** @class */ (function () {\n    function ColumnMenuOperators() {\n    }\n    Object.defineProperty(ColumnMenuOperators, \"text\", {\n        /**\n         * An array containing the operators for the ColumnMenuTextFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'columnMenu.filterContainsOperator', operator: 'contains' }\n         * - { text: 'columnMenu.filterNotContainsOperator', operator: 'doesnotcontain' }\n         * - { text: 'columnMenu.filterEqOperator', operator: 'eq' }\n         * - { text: 'columnMenu.filterNotEqOperator', operator: 'neq' }\n         * - { text: 'columnMenu.filterStartsWithOperator', operator: 'startswith' }\n         * - { text: 'columnMenu.filterEndsWithOperator', operator: 'endswith' }\n         * - { text: 'columnMenu.filterIsNullOperator', operator: 'isnull' }\n         * - { text: 'columnMenu.filterIsNotNullOperator', operator: 'isnotnull' }\n         * - { text: 'columnMenu.filterIsEmptyOperator', operator: 'isempty' }\n         * - { text: 'columnMenu.filterIsNotEmptyOperator', operator: 'isnotempty' }\n         */\n        get: function () {\n            return textOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColumnMenuOperators, \"numeric\", {\n        /**\n         * An array containing the operators for the ColumnMenuNumericFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'columnMenu.filterEqOperator', operator: 'eq' }\n         * - { text: 'columnMenu.filterNotEqOperator', operator: 'neq' }\n         * - { text: 'columnMenu.filterGteOperator', operator: 'gte' }\n         * - { text: 'columnMenu.filterGtOperator', operator: 'gt' }\n         * - { text: 'columnMenu.filterLteOperator', operator: 'lte' }\n         * - { text: 'columnMenu.filterLtOperator', operator: 'lt' }\n         * - { text: 'columnMenu.filterIsNullOperator', operator: 'isnull' }\n         * - { text: 'columnMenu.filterIsNotNullOperator', operator: 'isnotnull' }\n         */\n        get: function () {\n            return numericOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColumnMenuOperators, \"date\", {\n        /**\n         * An array containing the operators for the ColumnMenuDateFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'columnMenu.filterEqOperator', operator: 'eq' }\n         * - { text: 'columnMenu.filterNotEqOperator', operator: 'neq' }\n         * - { text: 'columnMenu.filterAfterOrEqualOperator', operator: 'gte' }\n         * - { text: 'columnMenu.filterAfterOperator', operator: 'gt' }\n         * - { text: 'columnMenu.filterBeforeOperator', operator: 'lt' }\n         * - { text: 'columnMenu.filterBeforeOrEqualOperator', operator: 'lte' }\n         * - { text: 'columnMenu.filterIsNullOperator', operator: 'isnull' }\n         * - { text: 'columnMenu.filterIsNotNullOperator', operator: 'isnotnull' }\n         */\n        get: function () {\n            return dateOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColumnMenuOperators, \"boolean\", {\n        /**\n         * An array containing the operators for the ColumnMenuBooleanFilter component.\n         *\n         * The operators are:\n         *\n         * - { text: 'columnMenu.filterIsTrue', operator: '' }\n         */\n        get: function () {\n            return booleanOperators.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ColumnMenuOperators;\n}());\nexport { ColumnMenuOperators };\n","import { extendDataItem, mapTree } from '@progress/kendo-react-common';\nvar GROUP_ID_FIELD = 'groupId';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\n/**\n * @hidden\n */\nvar setGroupId = function (group, depth, parentValue) {\n    if (group.items) {\n        group[GROUP_ID_FIELD] = \"\" + parentValue + (parentValue && '_') + group.value + group.field;\n        if (depth > 1) {\n            group.items.forEach(function (item) { return setGroupId(item, depth - 1, group[GROUP_ID_FIELD]); });\n        }\n    }\n};\n/**\n * Add unique ids to the group items inside data.\n *\n * @param {{data: any[], group: GroupDescriptor[]}} options - The options to be processed.\n */\nexport var setGroupIds = function (options) {\n    var group = options.group;\n    if (group && group.length && options.data) {\n        return options.data.forEach(function (item) { return setGroupId(item, group.length, ''); });\n    }\n};\n/**\n * Get all group ids from the data.\n *\n * @param {{data: any[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\nexport var getGroupIds = function (options) {\n    var groupIds = [];\n    mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n        if (item[GROUP_ID_FIELD]) {\n            groupIds.push(item[GROUP_ID_FIELD]);\n        }\n    });\n    return groupIds;\n};\n/**\n * Apply the `expanded` prop to the group items in data based on the provided collection of group ids.\n *\n * @param {{data: any[], collapsedIds: string[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\nexport var setExpandedState = function (options) {\n    // TODO: no need to traverse whole tree, only group levels\n    return mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n        return extendDataItem(item, GROUP_SUBITEMS_COLLECTION, {\n            expanded: !options.collapsedIds.some(function (groupId) { return groupId === item[GROUP_ID_FIELD]; })\n        });\n    });\n};\n","import { guid, Keys } from '@progress/kendo-react-common';\nimport { findId, findNextIdByCellIndex, findNextIdByRowIndex, getBodyElement, getHeaderElement, getNavigatableId, tableKeyboardNavigationTools as navigationTools } from './utils';\n/**\n * @hidden\n */\nvar onConstructor = function (options) {\n    var navigatable = options.navigatable, contextStateRef = options.contextStateRef, navigationStateRef = options.navigationStateRef, idPrefix = options.idPrefix;\n    // v.2: check if nested navigation\n    if (navigatable) {\n        contextStateRef.current = {\n            activeId: '',\n            level: 0\n        };\n        navigationStateRef.current = {\n            activeElementIsFocused: false,\n            prevNavigationIndexes: undefined,\n            idPrefix: idPrefix || guid(),\n            navigationMatrix: [],\n            lastHeaderIndex: -1\n        };\n    }\n};\n/**\n * @hidden\n */\nvar onComponentDidMount = function (options) {\n    var scope = options.scope, contextStateRef = options.contextStateRef, navigationStateRef = options.navigationStateRef;\n    if (contextStateRef.current && navigationStateRef.current && scope) {\n        generateMatrix(options);\n        var firstId = navigationStateRef.current.navigationMatrix[0][0];\n        var firstIdElement = navigationTools.getActiveElement(scope, firstId);\n        if (firstId && firstIdElement) {\n            contextStateRef.current.activeId = firstId;\n            firstIdElement.setAttribute('tabIndex', '0');\n        }\n    }\n};\n/**\n * @hidden\n */\nvar onGetSnapshotBeforeUpdate = function (options) {\n    var contextStateRef = options.contextStateRef, navigationStateRef = options.navigationStateRef, currentDocument = options.document;\n    if (contextStateRef.current && navigationStateRef.current && currentDocument) {\n        var activeElement = currentDocument.activeElement;\n        var activeId = navigationTools.getNavigatableId(activeElement);\n        if (activeId && activeId === contextStateRef.current.activeId) {\n            navigationStateRef.current.activeElementIsFocused = true;\n        }\n    }\n};\n/**\n * @hidden\n */\nvar onComponentDidUpdate = function (options) {\n    var scope = options.scope, contextStateRef = options.contextStateRef, navigationStateRef = options.navigationStateRef;\n    generateMatrix(options);\n    // check if nested navigation\n    if (contextStateRef.current && navigationStateRef.current && scope) {\n        var activeElement = navigationTools.getActiveElement(scope, contextStateRef.current.activeId);\n        if (!activeElement) {\n            var firstId = navigationStateRef.current.navigationMatrix[0][0];\n            var firstIdElement = navigationTools.getActiveElement(scope, firstId);\n            if (firstId && firstIdElement) {\n                contextStateRef.current.activeId = firstId;\n                firstIdElement.setAttribute('tabIndex', '0');\n                if (navigationStateRef.current.activeElementIsFocused) {\n                    firstIdElement.focus();\n                }\n            }\n        }\n        navigationStateRef.current.activeElementIsFocused = false;\n    }\n};\n/**\n * @hidden\n */\nvar onFocus = function (event, options) {\n    var contextStateRef = options.contextStateRef;\n    if (event.isDefaultPrevented()) {\n        return;\n    }\n    if (!contextStateRef.current) {\n        return;\n    }\n    var focusedElement = event.target;\n    var activeId = navigationTools.getNavigatableId(focusedElement);\n    if (activeId && activeId !== contextStateRef.current.activeId) {\n        var scope = navigationTools.getClosestScope(focusedElement);\n        if (!scope) {\n            return;\n        }\n        var prevElement = navigationTools.getActiveElement(scope, contextStateRef.current.activeId);\n        if (prevElement) {\n            prevElement.setAttribute('tabIndex', '-1');\n        }\n        focusedElement.setAttribute('tabIndex', '0');\n        contextStateRef.current.activeId = activeId;\n    }\n};\n/**\n * @hidden\n */\nvar onKeyDown = function (event, options) {\n    var contextStateRef = options.contextStateRef, navigationStateRef = options.navigationStateRef, onNavigationAction = options.onNavigationAction;\n    if (event.isDefaultPrevented()) {\n        return;\n    }\n    if (!contextStateRef.current || !navigationStateRef.current) {\n        return;\n    }\n    if (event.keyCode === Keys.esc) {\n        // activate navigation\n        var elementForFocus = navigationTools.getClosestNavigatableElement(event.target);\n        navigationTools.focusElement({ elementForFocus: elementForFocus, event: event, contextStateRef: contextStateRef });\n        return;\n    }\n    var element = event.target;\n    var elementId = navigationTools.getNavigatableId(element);\n    var dataLevel = navigationTools.getNavigatableLevel(element);\n    var scope = navigationTools.getClosestScope(element);\n    var matrix = navigationStateRef.current.navigationMatrix;\n    if (dataLevel !== undefined && scope) {\n        if (event.keyCode === Keys.enter) {\n            // activate nested navigation or focus focusable element\n            var navigatableElement = navigationTools.getNavigatableElement(element, { level: dataLevel + 1 });\n            if (navigatableElement) {\n                navigationTools.focusElement({\n                    elementForFocus: navigatableElement,\n                    event: event,\n                    contextStateRef: contextStateRef,\n                    prevElement: element\n                });\n                return;\n            }\n            else {\n                var elementForFocus = navigationTools.getFocusableElements(element)[0];\n                navigationTools.focusElement({ elementForFocus: elementForFocus, event: event, contextStateRef: contextStateRef, prevElement: element });\n                return;\n            }\n        }\n        if (event.keyCode === Keys.up ||\n            event.keyCode === Keys.down ||\n            event.keyCode === Keys.left ||\n            event.keyCode === Keys.right) {\n            var isReverse = event.keyCode === Keys.up || event.keyCode === Keys.left;\n            var isVertical = event.keyCode === Keys.up || event.keyCode === Keys.down;\n            var currentIdIndexes = void 0;\n            if (navigationStateRef.current && navigationStateRef.current.prevNavigationIndexes) {\n                var _a = navigationStateRef.current.prevNavigationIndexes, rowIndex = _a[0], cellIndex = _a[1];\n                if (matrix[rowIndex][cellIndex] === elementId) {\n                    currentIdIndexes = navigationStateRef.current.prevNavigationIndexes;\n                }\n                else {\n                    currentIdIndexes = findId(matrix, elementId);\n                }\n            }\n            else {\n                currentIdIndexes = findId(matrix, elementId);\n            }\n            if (currentIdIndexes) {\n                var rowIndex = currentIdIndexes[0], cellIndex = currentIdIndexes[1];\n                var _b = isVertical ?\n                    findNextIdByRowIndex(rowIndex, cellIndex, elementId, matrix, isReverse) :\n                    findNextIdByCellIndex(rowIndex, cellIndex, elementId, matrix, isReverse), idForFocus = _b[0], currentIndexes = _b[1];\n                if (idForFocus) {\n                    var elementForFocus = navigationTools.getActiveElement(scope, idForFocus);\n                    // emit event\n                    navigationTools.focusElement({ elementForFocus: elementForFocus, event: event, contextStateRef: contextStateRef, prevElement: element });\n                    navigationStateRef.current.prevNavigationIndexes = currentIndexes;\n                    if (onNavigationAction) {\n                        onNavigationAction({ focusElement: elementForFocus, event: event });\n                    }\n                }\n            }\n        }\n    }\n};\n/**\n * @hidden\n */\nvar generateMatrix = function (options) {\n    var navigationStateRef = options.navigationStateRef, scope = options.scope;\n    if (!navigationStateRef.current || !scope) {\n        return;\n    }\n    var matrix = [];\n    var thead = getHeaderElement(scope);\n    var tbody = getBodyElement(scope);\n    if (!thead || !tbody) {\n        return;\n    }\n    var headerRows = Array.from(thead.children);\n    var bodyRows = Array.from(tbody.children);\n    headerRows.concat(bodyRows).forEach(function (row, rowIndex) {\n        Array.from(row.children).forEach(function (cell) {\n            var cellId = getNavigatableId(cell);\n            if (!cellId) {\n                return;\n            } // cell is not navigatable\n            var rowSpan = cell.rowSpan || 1;\n            var cellSpan = cell.colSpan || 1;\n            var cellIndex;\n            for (var depth = rowIndex, maxDepth = rowIndex + rowSpan; depth < maxDepth; depth++) {\n                if (!matrix[depth]) {\n                    matrix[depth] = [];\n                }\n                if (cellIndex === undefined) {\n                    var freeSlotIndex = matrix[depth].findIndex(function (mi) { return !mi; });\n                    cellIndex = freeSlotIndex > -1 ? freeSlotIndex : matrix[depth].length;\n                }\n                matrix[depth][cellIndex] = cellId || '';\n            }\n            for (var depth = cellIndex + 1, maxDepth = cellIndex + cellSpan; depth < maxDepth; depth++) {\n                matrix[rowIndex][depth] = cellId || '';\n            }\n        });\n    });\n    navigationStateRef.current.navigationMatrix = matrix.filter(function (row) { return !!row; });\n    navigationStateRef.current.lastHeaderIndex = headerRows.length - 1;\n};\n/**\n * @hidden\n */\nexport var tableKeyboardNavigation = {\n    onConstructor: onConstructor,\n    onComponentDidMount: onComponentDidMount,\n    onGetSnapshotBeforeUpdate: onGetSnapshotBeforeUpdate,\n    onComponentDidUpdate: onComponentDidUpdate,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    generateMatrix: generateMatrix\n};\n","/** @hidden */\nexport var TABLE_ROW_INDEX_ATTRIBUTE = 'data-grid-row-index';\n/** @hidden */\nexport var TABLE_COL_INDEX_ATTRIBUTE = 'data-grid-col-index';\n/** @hidden */\nexport var TABLE_PREVENT_SELECTION_ELEMENT = 'data-prevent-selection';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extendDataItem, getter, Keys, mapTree, hasRelativeStackingContext } from '@progress/kendo-react-common';\nimport { TABLE_COL_INDEX_ATTRIBUTE, TABLE_ROW_INDEX_ATTRIBUTE } from './constants';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\nvar LAST_SELECTION_STATE = {};\nvar getCellSelection = function (currentSelection, selectedColumn) {\n    if (!currentSelection || (Array.isArray(currentSelection) && currentSelection.length === 0)) {\n        return [selectedColumn];\n    }\n    else {\n        var foundIndex = currentSelection.findIndex(function (columnIndex) { return columnIndex === selectedColumn; });\n        if (foundIndex > -1) {\n            return currentSelection.filter(function (columnIndex) { return columnIndex === selectedColumn; });\n        }\n        else {\n            return currentSelection.concat([selectedColumn]);\n        }\n    }\n};\n/** @hidden */\nexport var closestTagName = function (target, tagName) {\n    var currentTarget = target;\n    while (currentTarget) {\n        if (currentTarget.tagName === tagName) {\n            return currentTarget;\n        }\n        else if (currentTarget.tagName === 'TABLE') {\n            return null;\n        }\n        currentTarget = currentTarget.parentElement;\n    }\n    return null;\n};\n/** @hidden */\nexport var getRowIndex = function (element) {\n    if (!element) {\n        return;\n    }\n    var rowIndex = element.getAttribute(TABLE_ROW_INDEX_ATTRIBUTE);\n    return rowIndex ? parseInt(rowIndex, 10) : undefined;\n};\n/** @hidden */\nexport var getColumnIndex = function (element) {\n    if (!element) {\n        return;\n    }\n    var colIndex = element.getAttribute(TABLE_COL_INDEX_ATTRIBUTE);\n    return colIndex ? parseInt(colIndex, 10) : undefined;\n};\n/**\n * @hidden\n *\n * Apply the selected field to the data items based on the selected state.\n *\n * @param {{data: any, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string; selectedField: string; subItemsField?: string; }} options\n * @returns {any[]}\n */\nexport var setSelectedState = function (options) {\n    var subItemsField = options.subItemsField || GROUP_SUBITEMS_COLLECTION;\n    var idGetter = getter(options.dataItemKey);\n    return mapTree(options.data, subItemsField, function (item) {\n        var _a;\n        return extendDataItem(item, subItemsField, (_a = {},\n            _a[options.selectedField] = options.selectedState[idGetter(item)],\n            _a));\n    });\n};\n/**\n * Get selected state from the component KeyDown event.\n *\n * @param {{event: TableKeyDownEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\nexport var getSelectedStateFromKeyDown = function (options) {\n    var event = options.event, dataItemKey = options.dataItemKey, selectedState = options.selectedState;\n    var syntheticEvent = event.syntheticEvent, nativeEvent = event.nativeEvent, dataItems = event.dataItems, componentId = event.componentId, mode = event.mode, cell = event.cell, selectedField = event.selectedField;\n    var target = nativeEvent.target, ctrlKey = nativeEvent.ctrlKey, metaKey = nativeEvent.metaKey, altKey = nativeEvent.altKey, shiftKey = nativeEvent.shiftKey;\n    if (syntheticEvent.isDefaultPrevented() || nativeEvent.keyCode !== Keys.enter) {\n        return selectedState;\n    }\n    var tdElement = closestTagName(target, 'TD');\n    var trElement = closestTagName(target, 'TR');\n    var colIndex = getColumnIndex(tdElement);\n    var rowIndex = getRowIndex(trElement);\n    var selectionState = {};\n    if (tdElement && trElement && rowIndex !== undefined && colIndex !== undefined) {\n        selectionState = getSelectedState({\n            selectedState: selectedState,\n            dataItemKey: dataItemKey,\n            event: {\n                ctrlKey: ctrlKey, metaKey: metaKey, altKey: altKey, shiftKey: shiftKey,\n                dataItems: dataItems, cell: cell, mode: mode, selectedField: selectedField, componentId: componentId,\n                startColIndex: colIndex, endColIndex: colIndex, startRowIndex: rowIndex, endRowIndex: rowIndex,\n                isDrag: false,\n                syntheticEvent: syntheticEvent,\n                nativeEvent: nativeEvent,\n                target: event.target,\n                dataItem: null\n            }\n        });\n    }\n    return selectionState;\n};\n/**\n * Get selected state from the component selection event.\n *\n * @param {{event: TableSelectionChangeEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\nexport var getSelectedState = function (options) {\n    var event = options.event, dataItemKey = options.dataItemKey, prevSelectedState = options.selectedState;\n    var dataItems = event.dataItems, startRowIndex = event.startRowIndex, endRowIndex = event.endRowIndex, startColIndex = event.startColIndex, endColIndex = event.endColIndex, cell = event.cell, isDrag = event.isDrag, ctrlKey = event.ctrlKey, shiftKey = event.shiftKey, metaKey = event.metaKey, componentId = event.componentId, mode = event.mode, dataItem = event.dataItem;\n    var idGetter = getter(dataItemKey);\n    var selectionState = {};\n    var isInputEvent = dataItem !== null;\n    if (mode === 'single') {\n        var currentDataItem = dataItems.slice(startRowIndex, startRowIndex + 1)[0];\n        var itemId = idGetter(currentDataItem);\n        LAST_SELECTION_STATE[componentId] = {\n            rowIndex: startRowIndex,\n            colIndex: startColIndex\n        };\n        selectionState[itemId] = cell ? [startColIndex] : true;\n    }\n    else if (isDrag || (!shiftKey && !ctrlKey && !metaKey && !isInputEvent)) {\n        if (!isDrag) {\n            LAST_SELECTION_STATE[componentId] = {\n                rowIndex: startRowIndex,\n                colIndex: startColIndex\n            };\n        }\n        var selectedColumns_1 = [];\n        for (var i = startColIndex; i <= endColIndex; i++) {\n            selectedColumns_1.push(i);\n        }\n        var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n        selectedDataItems.forEach(function (currentItem) {\n            var itemId = idGetter(currentItem);\n            selectionState[itemId] = cell ? selectedColumns_1.slice() : true;\n        });\n    }\n    else {\n        if (ctrlKey || metaKey || isInputEvent) {\n            LAST_SELECTION_STATE[componentId] = {\n                rowIndex: startRowIndex,\n                colIndex: startColIndex\n            };\n            var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n            var currentDataItem = selectedDataItems[0];\n            var itemId = idGetter(currentDataItem);\n            selectionState = __assign({}, prevSelectedState);\n            selectionState[itemId] = cell && !isInputEvent ? getCellSelection(selectionState[itemId], startColIndex) : !selectionState[itemId];\n        }\n        else if (shiftKey) {\n            var lastRowIndex = (LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].rowIndex) || 0;\n            var lastColIndex = (LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].colIndex) || 0;\n            var currentStartRowIndex = Math.min(lastRowIndex, startRowIndex, endRowIndex);\n            var currentEndRowIndex = Math.max(lastRowIndex, startRowIndex, endRowIndex);\n            var currentStarColIndex = Math.min(lastColIndex, startColIndex, endColIndex);\n            var currentEndColIndex = Math.max(lastColIndex, startColIndex, endColIndex);\n            var selectedColumns_2 = [];\n            for (var i = currentStarColIndex; i <= currentEndColIndex; i++) {\n                selectedColumns_2.push(i);\n            }\n            var selectedDataItems = dataItems.slice(currentStartRowIndex, currentEndRowIndex + 1);\n            selectedDataItems.forEach(function (currentItem) {\n                var itemId = idGetter(currentItem);\n                selectionState[itemId] = cell ? selectedColumns_2.slice() : true;\n            });\n        }\n    }\n    return selectionState;\n};\n/** @hidden */\nvar HAS_RELATIVE_STACKING_CONTEXT = hasRelativeStackingContext();\n/** @hidden */\nexport var relativeContextElement = function (element) {\n    if (!element || !HAS_RELATIVE_STACKING_CONTEXT) {\n        return null;\n    }\n    var node = element.parentElement;\n    while (node) {\n        if (window.getComputedStyle(node).transform !== 'none') {\n            return node;\n        }\n        node = node.parentElement;\n    }\n};\n/** @hidden */\nexport var getOffset = function (offsetParent) {\n    if (offsetParent && offsetParent.ownerDocument) {\n        if (offsetParent !== offsetParent.ownerDocument.body) {\n            var rect = offsetParent.getBoundingClientRect();\n            return {\n                left: rect.left - offsetParent.scrollLeft,\n                top: rect.top - offsetParent.scrollTop\n            };\n        }\n    }\n    return { left: 0, top: 0 };\n};\n/** @hidden */\nexport var getSelectionOptions = function (selectable) {\n    var enabled = selectable ?\n        (typeof selectable.enabled === 'boolean' ? selectable.enabled : true) :\n        false;\n    var drag = selectable ? Boolean(selectable.drag) : false;\n    var mode = selectable && selectable.mode ? selectable.mode : 'multiple';\n    var cell = Boolean(selectable && selectable.cell);\n    return { enabled: enabled, drag: drag, mode: mode, cell: cell };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\nimport { closestTagName, getColumnIndex, getOffset, getRowIndex, getSelectionOptions, relativeContextElement } from './utils';\nimport { TABLE_PREVENT_SELECTION_ELEMENT } from './constants';\n/** @hidden */\nexport var TableSelection = function (props) {\n    var onRelease = props.onRelease, childRef = props.childRef;\n    var _a = getSelectionOptions(props.selectable), selectionEnabled = _a.enabled, selectionDrag = _a.drag, selectionMode = _a.mode, selectionCell = _a.cell;\n    var draggableRef = React.useRef(null);\n    var overlayElementRef = React.useRef(null);\n    var dragStartRef = React.useRef({ clientX: 0, clientY: 0 });\n    var _b = React.useState(null), overlaySettings = _b[0], setOverlaySettings = _b[1];\n    var offsetParentRef = React.useRef();\n    var isDraggedRef = React.useRef(false);\n    var isPreventedRef = React.useRef(false);\n    var onPressHandler = React.useCallback(function (eventData) {\n        var event = eventData.event;\n        isPreventedRef.current = event.originalEvent.target.hasAttribute(TABLE_PREVENT_SELECTION_ELEMENT);\n        if (isPreventedRef.current || !draggableRef.current) {\n            return;\n        }\n        offsetParentRef.current = relativeContextElement(draggableRef.current.element);\n        dragStartRef.current = {\n            clientY: event.clientY,\n            clientX: event.clientX\n        };\n    }, []);\n    var onDragHandler = React.useCallback(function (eventData) {\n        var event = eventData.event;\n        var _a = dragStartRef.current, clientX = _a.clientX, clientY = _a.clientY;\n        if (isPreventedRef.current) {\n            return;\n        }\n        if (!selectionDrag || selectionMode === 'single') {\n            return;\n        }\n        if (Math.abs(clientY - event.clientY) > 5 || Math.abs(clientX - event.clientX) > 5) {\n            isDraggedRef.current = true;\n        }\n        if (isDraggedRef.current) {\n            var offset = getOffset(offsetParentRef.current);\n            setOverlaySettings({\n                top: Math.min(clientY, event.clientY) - offset.top,\n                left: Math.min(clientX, event.clientX) - offset.left,\n                width: Math.abs(event.clientX - clientX),\n                height: Math.abs(event.clientY - clientY)\n            });\n        }\n    }, [setOverlaySettings, selectionDrag, selectionMode]);\n    var onReleaseHandler = React.useCallback(function (eventData) {\n        var event = eventData.event;\n        var _a = dragStartRef.current, clientX = _a.clientX, clientY = _a.clientY;\n        if (isPreventedRef.current || !draggableRef.current) {\n            return;\n        }\n        var currentDocument = draggableRef.current.element && draggableRef.current.element.ownerDocument;\n        if (!currentDocument) {\n            return;\n        }\n        if (!isDraggedRef.current) {\n            var startElement = currentDocument.elementFromPoint(clientX, clientY);\n            if (!startElement) {\n                return;\n            }\n            var tdElement = closestTagName(startElement, 'TD');\n            var trElement = closestTagName(startElement, 'TR');\n            var colIndex = getColumnIndex(tdElement);\n            var rowIndex = getRowIndex(trElement);\n            if (tdElement && trElement && rowIndex !== undefined && colIndex !== undefined) {\n                onRelease({\n                    nativeEvent: event.originalEvent,\n                    startRowIndex: rowIndex,\n                    startColIndex: colIndex,\n                    endRowIndex: rowIndex,\n                    endColIndex: colIndex,\n                    altKey: event.altKey,\n                    shiftKey: event.shiftKey,\n                    ctrlKey: event.ctrlKey,\n                    metaKey: event.originalEvent.metaKey,\n                    mode: selectionMode,\n                    cell: selectionCell,\n                    isDrag: false\n                });\n            }\n        }\n        else {\n            var top_1 = Math.min(clientY, event.clientY);\n            var left = Math.min(clientX, event.clientX);\n            var bottom = Math.max(clientY, event.clientY);\n            var right = Math.max(clientX, event.clientX);\n            var overlayElement = overlayElementRef.current;\n            if (!overlayElement) {\n                return;\n            }\n            overlayElement.style.visibility = 'hidden';\n            var startElement = currentDocument.elementFromPoint(left, top_1);\n            var endElement = currentDocument.elementFromPoint(right, bottom);\n            overlayElement.style.visibility = '';\n            if (!startElement || !endElement) {\n                return;\n            }\n            var startTdElement = closestTagName(startElement, 'TD');\n            var startTrElement = closestTagName(startTdElement, 'TR');\n            var endTdElement = closestTagName(endElement, 'TD');\n            var endTrElement = closestTagName(endTdElement, 'TR');\n            var startColIndex = getColumnIndex(startTdElement);\n            var startRowIndex = getRowIndex(startTrElement);\n            var endColIndex = getColumnIndex(endTdElement);\n            var endRowIndex = getRowIndex(endTrElement);\n            if (startColIndex !== undefined &&\n                startRowIndex !== undefined &&\n                endColIndex !== undefined &&\n                endRowIndex !== undefined) {\n                onRelease({\n                    nativeEvent: event.originalEvent,\n                    startRowIndex: startRowIndex,\n                    startColIndex: startColIndex,\n                    endRowIndex: endRowIndex,\n                    endColIndex: endColIndex,\n                    altKey: event.altKey,\n                    shiftKey: event.shiftKey,\n                    ctrlKey: event.ctrlKey,\n                    metaKey: event.originalEvent.metaKey,\n                    mode: selectionMode,\n                    cell: selectionCell,\n                    isDrag: true\n                });\n            }\n        }\n        setOverlaySettings(null);\n        isDraggedRef.current = false;\n        dragStartRef.current = { clientX: 0, clientY: 0 };\n    }, [setOverlaySettings, selectionMode, selectionCell, onRelease]);\n    if (!selectionEnabled) {\n        return (React.cloneElement(React.Children.only(props.children), { ref: childRef }));\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Draggable, { onPress: onPressHandler, onDrag: onDragHandler, onRelease: onReleaseHandler, ref: draggableRef, childRef: childRef }, props.children),\n        overlaySettings &&\n            React.createElement(\"div\", { ref: overlayElementRef, style: __assign({}, overlaySettings, { position: 'fixed' }), className: 'k-marquee k-marquee-color' })));\n};\n","import * as PropTypes from 'prop-types';\n/**\n * @hidden\n */\nexport var GridColumn = function (_) { return null; };\n/**\n * @hidden\n */\nGridColumn.displayName = 'KendoReactGridColumn';\n/**\n * @hidden\n */\nGridColumn.defaultProps = {\n    filterable: true,\n    editable: true,\n    sortable: true,\n    resizable: true,\n    reorderable: true,\n    groupable: true\n};\n/**\n * @hidden\n */\nGridColumn.propTypes = {\n    field: PropTypes.string,\n    title: PropTypes.string,\n    editable: PropTypes.bool,\n    sortable: PropTypes.oneOfType([\n        PropTypes.bool,\n        PropTypes.shape({\n            allowUnsort: PropTypes.bool\n        })\n    ]),\n    cell: PropTypes.any,\n    filterCell: PropTypes.any,\n    filterTitle: PropTypes.string,\n    filterable: PropTypes.bool,\n    filter: PropTypes.oneOf(['text', 'numeric', 'boolean', 'date']),\n    editor: PropTypes.oneOf(['text', 'numeric', 'boolean', 'date']),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    minResizableWidth: PropTypes.number,\n    headerCell: PropTypes.any,\n    footerCell: PropTypes.any,\n    headerSelectionValue: PropTypes.bool,\n    format: PropTypes.string,\n    headerClassName: PropTypes.string,\n    className: PropTypes.string,\n    reorderable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    orderIndex: PropTypes.number,\n    groupable: PropTypes.bool,\n    columnMenu: PropTypes.any,\n    locked: PropTypes.bool\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\n/**\n * @hidden\n */\nexport function getNestedValue(fieldName, dataItem) {\n    var path = (fieldName || '').split('.');\n    var data = dataItem;\n    path.forEach(function (p) {\n        data = data ? data[p] : undefined;\n    });\n    return data;\n}\n/**\n * @hidden\n */\nexport function flatData(output, input, footer, dataIndex, groupDefined, field, level) {\n    if (level === void 0) { level = 0; }\n    var maxLevel = level;\n    for (var i = 0; i < input.length; i++) {\n        if (!groupDefined || input[i].value === undefined || input[i].items === undefined) {\n            output[output.length] = {\n                dataIndex: dataIndex.index,\n                dataItem: input[i],\n                rowType: 'data',\n                level: level,\n                expanded: field === undefined || getNestedValue(field, input[i])\n            };\n            dataIndex.index++;\n            continue;\n        }\n        maxLevel = Math.max(maxLevel, level + 1);\n        var expanded = field === undefined ||\n            getNestedValue(field, input[i]) === undefined ||\n            getNestedValue(field, input[i]);\n        // header\n        output[output.length] = {\n            dataIndex: -1,\n            dataItem: input[i],\n            level: level,\n            rowType: 'groupHeader',\n            expanded: expanded\n        };\n        // children\n        if (expanded) {\n            maxLevel = Math.max(flatData(output, input[i].items, footer, dataIndex, groupDefined, field, level + 1), maxLevel);\n        }\n        // footer\n        if (footer === 'always' || (expanded && footer === 'visible')) {\n            output[output.length] = {\n                dataIndex: -1,\n                dataItem: input[i],\n                rowType: 'groupFooter',\n                level: level,\n                expanded: expanded\n            };\n        }\n    }\n    return maxLevel;\n}\nvar eventKeys = [\n    'sortChange',\n    'filterChange',\n    'groupChange',\n    'pageChange',\n    'expandChange',\n    'selectionChange',\n    'headerSelectionChange',\n    'rowClick',\n    'itemChange',\n    'dataStateChange',\n    'columnResize',\n    'columnReorder'\n];\nvar deprecatedHandlerMessage = function (oldKey, newKey) { return (\"The \" + oldKey + \" event handler property is deprecated, \" +\n    (\"use https://www.telerik.com/kendo-react-ui/components/grid/api/GridProps/#toc-\" + newKey + \" instead\")); };\n/**\n * @hidden\n */\nexport function checkPropCompatibility(props) {\n    for (var index = 0; index < eventKeys.length; index++) {\n        var eventKey = eventKeys[index];\n        if (props[eventKey] !== undefined) {\n            var newKey = 'on' + eventKey.charAt(0).toUpperCase() + eventKey.slice(1);\n            console.warn(deprecatedHandlerMessage(eventKey, newKey));\n        }\n    }\n}\nimport { GridColumn } from '../GridColumn';\nimport { tableKeyboardNavigationTools as navigationTools } from '@progress/kendo-react-data-tools';\n/**\n * @hidden\n */\nexport function readColumns(elements, oldColumns, idInfo, depth) {\n    if (depth === void 0) { depth = 0; }\n    var columns = [];\n    if (!elements) {\n        return [];\n    }\n    if (elements && elements.length === undefined) {\n        elements = [elements];\n    }\n    elements.forEach(function (columnProps, index) {\n        columnProps = columnProps.props ? columnProps.props : columnProps;\n        var oldColumn = oldColumns[index] || null;\n        var children = readColumns(columnProps.children, oldColumn && oldColumn.children || [], idInfo, depth + 1);\n        columns.push(Object.assign({ depth: depth }, GridColumn.defaultProps, (children.length) ? { cell: function () { return null; }, filterCell: function () { return null; } } : {}, oldColumn ? { width: oldColumn.width, orderIndex: oldColumn.orderIndex } : {}, columnProps, {\n            id: columnProps.id ? columnProps.id : navigationTools.generateNavigatableId(\"\" + idInfo.prevId++, idInfo.idPrefix, 'column'),\n            declarationIndex: columns.length,\n            children: children,\n            rowSpan: 0,\n            colSpan: 0,\n            isAccessible: true\n        }));\n    });\n    var comparator = function (a, b) {\n        return a.orderIndex === b.orderIndex ?\n            a.declarationIndex - b.declarationIndex :\n            ((a.orderIndex || 0) - (b.orderIndex || 0));\n    };\n    columns.sort(comparator);\n    if (depth === 0) {\n        var ret_1 = [];\n        var flat_1 = function (cols, pIndex) {\n            return cols.forEach(function (c) {\n                c.parentIndex = pIndex;\n                flat_1(c.children, ret_1.push(c) - 1);\n            });\n        };\n        flat_1(columns, -1);\n        return ret_1;\n    }\n    return columns;\n}\n/**\n * @hidden\n */\nexport function autoGenerateColumns(data, group, expandField, idInfo) {\n    var propData = [];\n    if (Array.isArray(data)) {\n        propData = data;\n    }\n    else if (data) {\n        propData = data.data;\n    }\n    var columns = [];\n    if (propData.length > 0) {\n        var itemForColumnsGen = propData[0];\n        if (group) {\n            for (var i = 0; i < group.length; i++) {\n                itemForColumnsGen = itemForColumnsGen.items && itemForColumnsGen.items[0];\n            }\n        }\n        var fields = Object.getOwnPropertyNames(itemForColumnsGen);\n        fields.forEach(function (field) {\n            if (field !== expandField) {\n                columns.push(Object.assign({\n                    id: navigationTools.generateNavigatableId(\"\" + idInfo.prevId++, idInfo.idPrefix, 'column'),\n                    declarationIndex: -1,\n                    parentIndex: -1,\n                    depth: 0,\n                    colSpan: 0,\n                    rowSpan: 0,\n                    index: 0,\n                    left: 0,\n                    right: 0,\n                    rightBorder: false,\n                    children: [],\n                    ariaColumnIndex: 0,\n                    isAccessible: true\n                }, GridColumn.defaultProps, { field: field }));\n            }\n        });\n    }\n    return columns;\n}\nvar hasParentFooterCell = function (columns, column) {\n    var parent = columns[column.parentIndex];\n    while (parent) {\n        if (parent.footerCell) {\n            return true;\n        }\n        parent = columns[parent.parentIndex];\n    }\n    return false;\n};\n/**\n * @hidden\n */\nexport var footerColumns = function (columns) {\n    return columns.filter(function (column) {\n        if (hasParentFooterCell(columns, column)) {\n            return false;\n        }\n        return Boolean(column.footerCell) || !(column.children && column.children.length > 0);\n    });\n};\n/**\n * @hidden\n */\nexport var sanitizeColumns = function (columns) {\n    columns.sort(function (a, b) {\n        return a.declarationIndex - b.declarationIndex;\n    });\n    return columns.map(function (column) {\n        var declarationIndex = column.declarationIndex, parentIndex = column.parentIndex, depth = column.depth, colSpan = column.colSpan, rowSpan = column.rowSpan, index = column.index, kFirst = column.kFirst, children = column.children, props = __rest(column, [\"declarationIndex\", \"parentIndex\", \"depth\", \"colSpan\", \"rowSpan\", \"index\", \"kFirst\", \"children\"]);\n        return children.length ? __assign({ children: sanitizeColumns(children) }, props) : props;\n    });\n};\n","var _a;\n/**\n * @hidden\n */\nexport var noRecords = 'grid.noRecords';\n/**\n * @hidden\n */\nexport var pagerInfo = 'grid.pagerInfo';\n/**\n * @hidden\n */\nexport var pagerFirstPage = 'grid.pagerFirstPage';\n/**\n * @hidden\n */\nexport var pagerPreviousPage = 'grid.pagerPreviousPage';\n/**\n * @hidden\n */\nexport var pagerNextPage = 'grid.pagerNextPage';\n/**\n * @hidden\n */\nexport var pagerLastPage = 'grid.pagerLastPage';\n/**\n * @hidden\n */\nexport var pagerItemPerPage = 'grid.pagerItemsPerPage';\n/**\n * @hidden\n */\nexport var pagerPage = 'grid.pagerPage';\n/**\n * @hidden\n */\nexport var pagerOf = 'grid.pagerOf';\n/**\n * @hidden\n */\nexport var pagerTotalPages = 'grid.pagerTotalPages';\n/**\n * @hidden\n */\nexport var groupPanelEmpty = 'grid.groupPanelEmpty';\n/**\n * @hidden\n */\nexport var groupColumn = 'grid.groupColumn';\n/**\n * @hidden\n */\nexport var ungroupColumn = 'grid.ungroupColumn';\n/**\n * @hidden\n */\nexport var filterClearButton = 'grid.filterClearButton';\n/**\n * @hidden\n */\nexport var filterSubmitButton = 'grid.filterSubmitButton';\n/**\n * @hidden\n */\nexport var filterTitle = 'grid.filterTitle';\n/**\n * @hidden\n */\nexport var sortAscending = 'grid.sortAscending';\n/**\n * @hidden\n */\nexport var sortDescending = 'grid.sortDescending';\n/**\n * @hidden\n */\nexport var searchPlaceholder = 'grid.searchPlaceholder';\n/**\n * @hidden\n */\nexport var filterCheckAll = 'grid.filterCheckAll';\n/**\n * @hidden\n */\nexport var filterChooseOperator = 'grid.filterChooseOperator';\n/**\n * @hidden\n */\nexport var filterSelectedItems = 'grid.filterSelectedItems';\n/**\n * @hidden\n */\nexport var sortAriaLabel = 'grid.sortAriaLabel';\n/**\n * @hidden\n */\nexport var filterAriaLabel = 'grid.filterAriaLabel';\n/**\n * @hidden\n */\nexport var messages = (_a = {},\n    _a[noRecords] = 'No records available',\n    _a[groupPanelEmpty] = 'Drag a column header and drop it here to group by that column',\n    _a[filterClearButton] = 'Clear',\n    _a[filterSubmitButton] = 'Filter',\n    _a[filterTitle] = 'Filter',\n    _a[sortAscending] = 'Sort Ascending',\n    _a[sortDescending] = 'Sort Descending',\n    _a[sortAriaLabel] = 'Sortable',\n    _a[groupColumn] = 'Group Column',\n    _a[ungroupColumn] = 'Ungroup Column',\n    _a[pagerItemPerPage] = 'items per page',\n    _a[pagerInfo] = '{0} - {1} of {2} items',\n    _a[pagerFirstPage] = 'Go to the first page',\n    _a[pagerPreviousPage] = 'Go to the previous page',\n    _a[pagerNextPage] = 'Go to the next page',\n    _a[pagerLastPage] = 'Go to the last page',\n    _a[pagerPage] = 'Page',\n    _a[pagerOf] = 'of',\n    _a[pagerTotalPages] = '{0}',\n    _a[searchPlaceholder] = 'Search',\n    _a[filterCheckAll] = 'Check All',\n    _a[filterChooseOperator] = 'Choose Operator',\n    _a[filterSelectedItems] = 'selected items',\n    _a[filterAriaLabel] = 'Filter',\n    _a['grid.filterEqOperator'] = 'Is equal to',\n    _a['grid.filterNotEqOperator'] = 'Is not equal to',\n    _a['grid.filterIsNullOperator'] = 'Is null',\n    _a['grid.filterIsNotNullOperator'] = 'Is not null',\n    _a['grid.filterIsEmptyOperator'] = 'Is empty',\n    _a['grid.filterIsNotEmptyOperator'] = 'Is not empty',\n    _a['grid.filterStartsWithOperator'] = 'Starts with',\n    _a['grid.filterContainsOperator'] = 'Contains',\n    _a['grid.filterNotContainsOperator'] = 'Does not contain',\n    _a['grid.filterEndsWithOperator'] = 'Ends with',\n    _a['grid.filterGteOperator'] = 'Is greater than or equal to',\n    _a['grid.filterGtOperator'] = 'Is greater than',\n    _a['grid.filterLteOperator'] = 'Is less than or equal to',\n    _a['grid.filterLtOperator'] = 'Is less than',\n    _a['grid.filterIsTrue'] = 'Is true',\n    _a['grid.filterIsFalse'] = 'Is false',\n    _a['grid.filterBooleanAll'] = '(All)',\n    _a['grid.filterAfterOrEqualOperator'] = 'Is after or equal to',\n    _a['grid.filterAfterOperator'] = 'Is after',\n    _a['grid.filterBeforeOperator'] = 'Is before',\n    _a['grid.filterBeforeOrEqualOperator'] = 'Is before or equal to',\n    _a['grid.filterAndLogic'] = 'And',\n    _a['grid.filterOrLogic'] = 'Or',\n    _a);\n/**\n * @hidden\n */\nexport function pagerMessagesMap(pagerMessageKey) {\n    var messageKey = pagerMessageKey.replace(/^pager\\.([a-z])/, function (_match, group) { return 'grid.pager' + group.toUpperCase(); });\n    return ({ messageKey: messageKey, defaultMessage: messages[messageKey] });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getNestedValue } from './../utils';\nimport { guid } from '@progress/kendo-react-common';\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\n/**\n * @hidden\n */\nexport var GridSelectionCell = function (props) {\n    var handleOnChange = React.useCallback(function (syntheticEvent) {\n        if (props.selectionChange) {\n            props.selectionChange({ syntheticEvent: syntheticEvent });\n        }\n    }, [props.selectionChange]);\n    var inputId = React.useMemo(function () { return guid(); }, []);\n    var selectedValue = getNestedValue(props.field, props.dataItem);\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    var defaultRendering = props.rowType !== 'groupHeader' ? (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: props.className, \"aria-colindex\": props.ariaColumnIndex, role: 'gridcell' }, navigationAttributes),\n        React.createElement(\"input\", { checked: typeof selectedValue === 'boolean' && selectedValue, id: inputId, type: \"checkbox\", className: \"k-checkbox\", onChange: handleOnChange }),\n        React.createElement(\"label\", { className: \"k-checkbox-label\", htmlFor: inputId }))) : null;\n    return props.render ?\n        props.render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getNestedValue } from './../utils';\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport { Keys } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nexport var GridHierarchyCell = function (props) {\n    var defaultRendering = null;\n    var expanded = getNestedValue(props.field, props.dataItem);\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    var onKeyDownHandler = React.useCallback(function (event) {\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if (event.keyCode === Keys.enter && props.onChange) {\n            event.preventDefault();\n            props.onChange({\n                dataItem: props.dataItem,\n                dataIndex: props.dataIndex,\n                syntheticEvent: event,\n                field: props.field,\n                value: !expanded\n            });\n        }\n    }, [props.dataItem, props.dataIndex, props.field, props.onChange, expanded]);\n    if (props.rowType === 'groupFooter') {\n        defaultRendering = React.createElement(\"td\", __assign({ className: \"k-hierarchy-cell\" }, navigationAttributes));\n    }\n    else if (props.rowType !== 'groupHeader') {\n        var className = expanded ? 'k-icon k-i-minus' : 'k-icon k-i-plus';\n        defaultRendering = (React.createElement(\"td\", __assign({ className: \"k-hierarchy-cell\", onKeyDown: onKeyDownHandler, \"aria-expanded\": expanded ? 'true' : 'false', role: 'gridcell', \"aria-colindex\": props.ariaColumnIndex }, navigationAttributes),\n            React.createElement(\"a\", { onClick: function (e) {\n                    e.preventDefault();\n                    if (props.onChange) {\n                        props.onChange({\n                            dataItem: props.dataItem,\n                            dataIndex: props.dataIndex,\n                            syntheticEvent: e,\n                            field: props.field,\n                            value: !expanded\n                        });\n                    }\n                }, className: className, href: \"#\", tabIndex: -1 })));\n    }\n    return props.render ?\n        props.render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getNestedValue } from './../utils';\nimport { NumericTextBox } from '@progress/kendo-react-inputs';\nimport { DatePicker } from '@progress/kendo-react-dateinputs';\nimport { guid, classNames } from '@progress/kendo-react-common';\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport { GRID_COL_INDEX_ATTRIBUTE } from '../constants';\n/**\n * @hidden\n */\nexport var GridEditCell = function (props) {\n    var _a, _b, _c, _d, _e;\n    var data = getNestedValue(props.field, props.dataItem);\n    var defaultRendering = null;\n    var editCellClasses = classNames('k-grid-edit-cell', (_a = {},\n        _a['k-state-selected'] = props.isSelected,\n        _a), props.className);\n    var inputId = React.useMemo(function () { return guid(); }, []);\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    var handleOnChange = React.useCallback(function (syntheticEvent) {\n        if (props.onChange) {\n            var value = syntheticEvent.target.type === 'checkbox' ?\n                syntheticEvent.target.checked :\n                syntheticEvent.target.value;\n            props.onChange({\n                dataItem: props.dataItem,\n                dataIndex: props.dataIndex,\n                field: props.field,\n                syntheticEvent: syntheticEvent,\n                value: value\n            });\n        }\n    }, [props.onChange, props.dataItem, props.dataIndex, props.field]);\n    var inputChange = React.useCallback(function (e) {\n        if (props.onChange) {\n            props.onChange({\n                dataItem: props.dataItem,\n                dataIndex: props.dataIndex,\n                field: props.field,\n                syntheticEvent: e.syntheticEvent,\n                value: e.value\n            });\n        }\n    }, [props.onChange, props.dataItem, props.dataIndex, props.field]);\n    switch (props.editor) {\n        case 'numeric':\n            defaultRendering = (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: editCellClasses, \"aria-colindex\": props.ariaColumnIndex, \"aria-selected\": props.isSelected }, (_b = {}, _b[GRID_COL_INDEX_ATTRIBUTE] = props.columnIndex, _b), { role: 'gridcell' }, navigationAttributes),\n                React.createElement(NumericTextBox, { width: \"100%\", value: (data === undefined) ? null : data, onChange: inputChange })));\n            break;\n        case 'date':\n            defaultRendering = (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: editCellClasses, \"aria-colindex\": props.ariaColumnIndex, \"aria-selected\": props.isSelected }, (_c = {}, _c[GRID_COL_INDEX_ATTRIBUTE] = props.columnIndex, _c), { role: 'gridcell' }, navigationAttributes),\n                React.createElement(DatePicker, { width: \"100%\", value: data, onChange: inputChange })));\n            break;\n        case 'boolean':\n            defaultRendering = (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: editCellClasses, \"aria-colindex\": props.ariaColumnIndex, \"aria-selected\": props.isSelected }, (_d = {}, _d[GRID_COL_INDEX_ATTRIBUTE] = props.columnIndex, _d), { role: 'gridcell' }, navigationAttributes),\n                React.createElement(\"input\", { checked: data || false, id: inputId, type: \"checkbox\", className: \"k-checkbox\", onChange: handleOnChange }),\n                React.createElement(\"label\", { className: \"k-checkbox-label\", htmlFor: inputId })));\n            break;\n        default:\n            defaultRendering = (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: editCellClasses, \"aria-colindex\": props.ariaColumnIndex, \"aria-selected\": props.isSelected }, (_e = {}, _e[GRID_COL_INDEX_ATTRIBUTE] = props.columnIndex, _e), { role: 'gridcell' }, navigationAttributes),\n                React.createElement(\"input\", { style: { width: '100%' }, className: \"k-textbox\", value: data || '', onChange: handleOnChange })));\n    }\n    return props.render ?\n        props.render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { classNames, getScrollbarWidth } from '@progress/kendo-react-common';\nimport { isRtl, tableKeyboardNavigationHeaderAttributes } from '@progress/kendo-react-data-tools';\n/**\n * @hidden\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = null;\n        _this.headerWrap = null;\n        _this.table = null;\n        _this.syncScroll = false;\n        _this.scrollbarWidth = getScrollbarWidth();\n        _this.onScroll = function (_event) {\n            if (_this.syncScroll) {\n                _this.syncScroll = false;\n                return;\n            }\n            if (!_this.headerWrap) {\n                return;\n            }\n            var scrollLeft = _this.headerWrap.scrollLeft;\n            var scrollableDataElement = _this.props.scrollableDataElement();\n            if (scrollableDataElement && scrollableDataElement.scrollLeft !== scrollLeft) {\n                scrollableDataElement.scrollLeft = scrollLeft;\n            }\n        };\n        return _this;\n    }\n    Header.prototype.componentDidMount = function () {\n        var rtl = isRtl(this.element);\n        if (this.props.columnResize) {\n            this.props.columnResize.setIsRtl(rtl);\n        }\n        this.forceUpdate();\n    };\n    /**\n     *\n     * @param scrollLeft - Scrolls to the left (in pixels).\n     */\n    Header.prototype.setScrollLeft = function (scrollLeft) {\n        if (this.headerWrap && this.headerWrap.scrollLeft !== scrollLeft) {\n            this.syncScroll = true;\n            this.headerWrap.scrollLeft = scrollLeft;\n        }\n    };\n    /**\n     *\n     * @param width - Scrolls the width (in pixels).\n     */\n    Header.prototype.setWidth = function (width) {\n        if (this.table) {\n            this.table.style.width = width + 'px';\n        }\n    };\n    Header.prototype.render = function () {\n        var _this = this;\n        if (!this.props.staticHeaders) {\n            return (React.createElement(\"thead\", { className: classNames('k-grid-header', { 'k-grid-draggable-header': this.props.draggable }) },\n                this.props.headerRow,\n                this.props.filterRow));\n        }\n        return (React.createElement(\"div\", { ref: function (div) { _this.element = div; }, className: classNames('k-grid-header', { 'k-grid-draggable-header': this.props.draggable }), role: \"presentation\" },\n            React.createElement(\"div\", { ref: function (div) { _this.headerWrap = div; }, className: \"k-grid-header-wrap\", style: this.scrollbarWidth ? {} : { borderWidth: 0 }, onScroll: this.onScroll, role: \"presentation\" },\n                React.createElement(\"table\", { ref: function (table) { _this.table = table; }, role: \"presentation\" },\n                    React.createElement(\"colgroup\", { ref: function (e) { _this.props.columnResize.colGroupHeader = e; }, role: \"presentation\" }, this.props.cols),\n                    React.createElement(\"thead\", __assign({ role: \"presentation\" }, tableKeyboardNavigationHeaderAttributes),\n                        this.props.headerRow,\n                        this.props.filterRow)))));\n    };\n    return Header;\n}(React.Component));\nexport { Header };\n","/**\n * @hidden\n */\nexport var normalize = function () {\n    var settings = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        settings[_i] = arguments[_i];\n    }\n    return Object.assign.apply(Object, [{ allowUnsort: true, mode: 'single' }].concat(settings));\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ColumnResizer = /** @class */ (function (_super) {\n    __extends(ColumnResizer, _super);\n    function ColumnResizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            _this.isDragged = true;\n            var element = _this.draggable && _this.draggable.element;\n            if (element) {\n                _this.props.resize(data.event, element, false);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            if (!_this.isDragged) {\n                return;\n            }\n            var element = _this.draggable && _this.draggable.element;\n            if (element) {\n                _this.props.resize(data.event, element, true);\n            }\n            _this.isDragged = false;\n        };\n        /**\n         * @hidden\n         */\n        _this.onDoubleClick = function (event) {\n            if (_this.isDragged) {\n                return;\n            }\n            var element = _this.draggable && _this.draggable.element;\n            if (element) {\n                _this.props.autofit(event, element);\n            }\n        };\n        return _this;\n    }\n    ColumnResizer.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Draggable, { onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { _this.draggable = component; } },\n            React.createElement(\"span\", { className: \"k-column-resizer\", style: { touchAction: 'none' }, draggable: false, onDoubleClick: this.onDoubleClick })));\n    };\n    return ColumnResizer;\n}(React.Component));\nexport { ColumnResizer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar ColumnDraggable = /** @class */ (function (_super) {\n    __extends(ColumnDraggable, _super);\n    function ColumnDraggable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onPress = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.pressHandler) {\n                _this.props.pressHandler(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.dragHandler) {\n                _this.props.dragHandler(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.releaseHandler) {\n                _this.props.releaseHandler(data.event);\n            }\n        };\n        return _this;\n    }\n    ColumnDraggable.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Draggable, { onPress: this.onPress, onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { _this.draggable = component; } },\n            React.createElement(\"tr\", { style: { touchAction: 'none' }, role: \"row\", \"aria-rowindex\": this.props.ariaRowIndex }, this.props.children)));\n    };\n    return ColumnDraggable;\n}(React.PureComponent));\nexport { ColumnDraggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\n/**\n * @example\n * ```jsx\n * class App extends React.PureComponent {\n *    state = {\n *        details: false,\n *        data: [\n *               { foo: 'A1', bar: 'B1', b1: 1, b2:2 },\n *               { foo: 'A2', bar: 'B2', b1: 3, b2:4 },\n *               { foo: 'A3', bar: 'B2', b1: 5, b2:6 }\n *           ]\n *    };\n *\n *    CustomHeaderCell = (props) =>\n *        <span>\n *            {props.title || props.field + ' '}\n *            <button onClick={() => this.setState({ barDetails: !this.state.barDetails })}>\n *                {this.state.barDetails ? 'collapse' : 'expand'}\n *            </button>\n *        </span>\n *\n *    render() {\n *        return (\n *            <Grid\n *                style={{ height: '420px' }}\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" headerCell={this.CustomHeaderCell}>\n *                    {this.state.barDetails && [\n *                        <GridColumn field=\"b1\" />,\n *                        <GridColumn field=\"b2\" />\n *                    ]}\n *                </GridColumn>\n *            </Grid>\n *        );\n *    }\n * }\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar GridHeaderCell = /** @class */ (function (_super) {\n    __extends(GridHeaderCell, _super);\n    function GridHeaderCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridHeaderCell.prototype.render = function () {\n        var clickProps = this.props.onClick ? {\n            onClick: this.props.onClick\n        } : {};\n        var defaultRendering = (React.createElement(\"span\", __assign({ className: 'k-link' }, clickProps),\n            React.createElement(\"span\", { className: 'k-column-title' }, this.props.title || this.props.field || '\\u00A0'),\n            this.props.children));\n        if (this.props.render) {\n            return this.props.render.call(undefined, defaultRendering, this.props);\n        }\n        return defaultRendering;\n    };\n    return GridHeaderCell;\n}(React.Component));\nexport { GridHeaderCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { Popup } from '@progress/kendo-react-popup';\n/**\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function (_super) {\n    __extends(ColumnMenu, _super);\n    function ColumnMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            show: false\n        };\n        _this.blurTimeout = undefined;\n        _this.blur = function () {\n            clearTimeout(_this.blurTimeout);\n            _this.blurTimeout = window.setTimeout(function () { _this.closeMenu(); });\n        };\n        _this.focus = function () {\n            clearTimeout(_this.blurTimeout);\n        };\n        _this.anchorClick = function () {\n            _this.setState({ show: !_this.state.show }, function () { return _this.state.show && _this._content && _this._content.focus(); });\n        };\n        _this.closeMenu = function () {\n            _this.setState({ show: false });\n        };\n        return _this;\n    }\n    ColumnMenu.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, ChildComponent = _a.render, others = __rest(_a, [\"render\"]);\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: 'k-grid-column-menu k-grid-filter', ref: function (e) { return _this._anchor = e; }, onClick: this.anchorClick },\n                React.createElement(\"span\", { className: 'k-icon k-i-more-vertical' })),\n            React.createElement(Popup, { anchor: this._anchor, show: this.state.show },\n                React.createElement(\"div\", { ref: function (e) { return _this._content = e; }, className: 'k-grid-columnmenu-popup', tabIndex: 0, onBlur: this.blur, onFocus: this.focus, style: { outline: 'none' } },\n                    React.createElement(ChildComponent, __assign({}, others, { onCloseMenu: this.closeMenu }))))));\n    };\n    return ColumnMenu;\n}(React.Component));\nexport { ColumnMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { normalize } from '../interfaces/GridSortSettings';\nimport { ColumnResizer } from '../drag/ColumnResizer';\nimport { ColumnDraggable } from '../drag/ColumnDraggable';\nimport { GridHeaderCell } from './GridHeaderCell';\nimport { ColumnMenu } from '../columnMenu/ColumnMenu';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { HeaderThElement } from '@progress/kendo-react-data-tools';\nimport { registerForLocalization, provideLocalizationService as intl } from '@progress/kendo-react-intl';\nimport { messages, sortAriaLabel } from '../messages';\n/**\n * @hidden\n */\nvar sortSeqMap = {\n    true: { 'asc': 'desc', 'desc': '', '': 'asc' },\n    false: { 'asc': 'desc', 'desc': 'asc', '': 'asc' }\n};\n/**\n * @hidden\n */\nvar ariaSortMap = {\n    'none': 'none',\n    'asc': 'ascending',\n    'desc': 'descending'\n};\n/**\n * @hidden\n */\nvar HeaderRow = /** @class */ (function (_super) {\n    __extends(HeaderRow, _super);\n    function HeaderRow(props) {\n        var _this = _super.call(this, props) || this;\n        _this.serviceIndex = 0;\n        _this.index = -1;\n        _this.cellKeyDown = function (event, column) {\n            if (event.isDefaultPrevented()) {\n                return;\n            }\n            if (event.keyCode === Keys.enter) {\n                _this.cellClick(event, column);\n            }\n        };\n        _this.cells = function (rowIndexes) { return rowIndexes.map(function (columnIndex) {\n            var column = _this.props.columns[columnIndex];\n            var sortable = _this.props.sortable && column.sortable;\n            var sortIndex = _this.props.sort ? _this.props.sort.findIndex(function (s) { return s.field === column.field; }) : -1;\n            var sortDir = sortIndex >= 0 ? ((_this.props.sort)[sortIndex].dir || 'none') : 'none';\n            var headerCellProps = {\n                field: column.field,\n                onClick: sortable && (function (e) { return _this.cellClick(e, column); }) || undefined,\n                selectionChange: _this.props.selectionChange,\n                title: column.title,\n                selectionValue: column.headerSelectionValue,\n                render: _this.props.cellRender,\n                children: _this.sortIcon(sortIndex),\n                key: 1\n            };\n            var columnMenu = (column.columnMenu === null) ? null : (column.columnMenu || _this.props.columnMenu);\n            var className = classNames({\n                'k-first': column.kFirst,\n                'k-filterable': Boolean(columnMenu),\n                'k-header': true,\n                'k-grid-header-sticky': column.locked,\n                'k-sorted': _this.props.sort && _this.props.sort.some(function (descriptor) { return descriptor.field === column.field; })\n            }, column.headerClassName);\n            var style = column.left !== undefined\n                ? !_this.props.isRtl\n                    ? { left: column.left, right: column.right }\n                    : { left: column.right, right: column.left }\n                : {};\n            var sortLabel = intl(_this).toLanguageString(sortAriaLabel, messages[sortAriaLabel]);\n            var ariaAttrs = column.isAccessible ? {\n                ariaSort: ariaSortMap[sortDir],\n                role: 'columnheader',\n                ariaColumnIndex: column.ariaColumnIndex,\n                ariaSelected: false,\n                ariaDescription: sortable ? sortLabel : ''\n            } : {\n                'role': 'presentation'\n            };\n            var key = (column.declarationIndex >= 0) ? ++_this.index : --_this.serviceIndex;\n            return (React.createElement(HeaderThElement, __assign({}, ariaAttrs, { key: key, colSpan: column.colSpan, rowSpan: column.rowSpan, className: className, style: style, columnId: column.id, navigatable: column.navigatable, onKeyDown: sortable && (function (e) { return _this.cellKeyDown(e, column); }) || undefined }),\n                column.headerCell && React.createElement(column.headerCell, __assign({}, headerCellProps)),\n                !column.headerCell && (React.createElement(\"span\", { className: 'k-cell-inner' },\n                    React.createElement(GridHeaderCell, __assign({}, headerCellProps)),\n                    columnMenu &&\n                        React.createElement(ColumnMenu, { key: 0, column: {\n                                field: column.field,\n                                filter: column.filter\n                            }, sortable: sortable && _this.props.sortable, sort: _this.props.sort, onSortChange: _this.props.sortChange, filter: _this.props.filter, filterable: _this.props.filterable && column.filterable, filterOperators: _this.props.filterOperators, onFilterChange: _this.props.filterChange, group: _this.props.group, groupable: _this.props.groupable, onGroupChange: _this.props.groupChange, render: columnMenu }))),\n                _this.props.columnResize && _this.props.columnResize.resizable && column.resizable &&\n                    React.createElement(ColumnResizer, { key: 2, resize: function (e, element, end) {\n                            return _this.props.columnResize &&\n                                _this.props.columnResize.dragHandler(e, column, element, end);\n                        }, autofit: function (e) {\n                            return _this.props.columnResize &&\n                                _this.props.columnResize.dblClickHandler(e, [column.id]);\n                        } })));\n        }); };\n        _this.cellClick = _this.cellClick.bind(_this);\n        return _this;\n    }\n    HeaderRow.prototype.cellClick = function (e, column) {\n        e.preventDefault();\n        if (!this.props.sortChange) {\n            return;\n        }\n        var _a = normalize(this.props.sortable || false, column.sortable || false), allowUnsort = _a.allowUnsort, mode = _a.mode;\n        var oldDescriptor = (this.props.sort || []).filter(function (d) { return d.field === column.field; })[0];\n        var dir = sortSeqMap[allowUnsort][oldDescriptor && oldDescriptor.dir || ''];\n        var newDescriptor = (mode === 'single') ?\n            [] : (this.props.sort || []).filter(function (d) { return d.field !== column.field; });\n        if (dir !== '' && column.field) {\n            newDescriptor.push({ field: column.field, dir: dir });\n        }\n        this.props.sortChange(newDescriptor, e);\n    };\n    HeaderRow.prototype.sortIcon = function (sortIndex) {\n        if (!this.props.sort) {\n            return null;\n        }\n        return sortIndex >= 0 && [\n            React.createElement(\"span\", { key: 1, className: 'k-icon k-i-sort-' + this.props.sort[sortIndex].dir + '-sm' }),\n            this.props.sort.length > 1 && React.createElement(\"span\", { key: 2, className: \"k-sort-order\" }, sortIndex + 1)\n        ];\n    };\n    HeaderRow.prototype.render = function () {\n        var _this = this;\n        this.serviceIndex = 0;\n        this.index = -1;\n        return this.props.columnsMap.map(function (rowIndexes, i) {\n            return _this.props.pressHandler && (React.createElement(ColumnDraggable, { key: i, pressHandler: _this.props.pressHandler, dragHandler: _this.props.dragHandler, releaseHandler: _this.props.releaseHandler, ariaRowIndex: i + 1 }, _this.cells(rowIndexes))) || React.createElement(\"tr\", { role: \"row\", \"aria-rowindex\": i + 1 }, _this.cells(rowIndexes));\n        });\n    };\n    return HeaderRow;\n}(React.Component));\nexport { HeaderRow };\nregisterForLocalization(HeaderRow);\n","import { messages } from './messages';\n/**\n * @hidden\n */\nexport var filterLogicList = [\n    { text: 'grid.filterAndLogic', operator: 'and' },\n    { text: 'grid.filterOrLogic', operator: 'or' }\n];\n/**\n * @hidden\n */\nexport var operators = {\n    'text': [\n        { text: 'grid.filterContainsOperator', operator: 'contains' },\n        { text: 'grid.filterNotContainsOperator', operator: 'doesnotcontain' },\n        { text: 'grid.filterEqOperator', operator: 'eq' },\n        { text: 'grid.filterNotEqOperator', operator: 'neq' },\n        { text: 'grid.filterStartsWithOperator', operator: 'startswith' },\n        { text: 'grid.filterEndsWithOperator', operator: 'endswith' },\n        { text: 'grid.filterIsNullOperator', operator: 'isnull' },\n        { text: 'grid.filterIsNotNullOperator', operator: 'isnotnull' },\n        { text: 'grid.filterIsEmptyOperator', operator: 'isempty' },\n        { text: 'grid.filterIsNotEmptyOperator', operator: 'isnotempty' }\n    ],\n    'numeric': [\n        { text: 'grid.filterEqOperator', operator: 'eq' },\n        { text: 'grid.filterNotEqOperator', operator: 'neq' },\n        { text: 'grid.filterGteOperator', operator: 'gte' },\n        { text: 'grid.filterGtOperator', operator: 'gt' },\n        { text: 'grid.filterLteOperator', operator: 'lte' },\n        { text: 'grid.filterLtOperator', operator: 'lt' },\n        { text: 'grid.filterIsNullOperator', operator: 'isnull' },\n        { text: 'grid.filterIsNotNullOperator', operator: 'isnotnull' }\n    ],\n    'date': [\n        { text: 'grid.filterEqOperator', operator: 'eq' },\n        { text: 'grid.filterNotEqOperator', operator: 'neq' },\n        { text: 'grid.filterAfterOrEqualOperator', operator: 'gte' },\n        { text: 'grid.filterAfterOperator', operator: 'gt' },\n        { text: 'grid.filterBeforeOperator', operator: 'lt' },\n        { text: 'grid.filterBeforeOrEqualOperator', operator: 'lte' },\n        { text: 'grid.filterIsNullOperator', operator: 'isnull' },\n        { text: 'grid.filterIsNotNullOperator', operator: 'isnotnull' }\n    ],\n    'boolean': [\n        { text: 'grid.filterEqOperator', operator: 'eq' }\n    ]\n};\n/**\n * @hidden\n */\nexport var IsUnaryFilter = function (operator) {\n    return operator === 'isnull' || operator === 'isnotnull' || operator === 'isempty' || operator === 'isnotempty';\n};\n/**\n * @hidden\n */\nexport var operatorMap = function (iterable, service) { return iterable.map(function (operator) { return ({\n    text: service.toLanguageString(operator.text, messages[operator.text]),\n    operator: operator.operator\n}); }); };\n/**\n * @hidden\n */\nexport var defaultBooleanOperator = 'eq';\n/**\n * @hidden\n */\nexport var booleanFilterValues = [\n    { text: 'grid.filterBooleanAll', operator: '' },\n    { text: 'grid.filterIsTrue', operator: true },\n    { text: 'grid.filterIsFalse', operator: false }\n];\n/**\n * @hidden\n */\nexport var defaultHideSecondFilter = {\n    text: false,\n    numeric: false,\n    date: false,\n    boolean: true\n};\n/**\n * @hidden\n */\nexport var cellInputChange = function (value, e, props) {\n    var defaultOperator = getDefaultOperator(props.operators);\n    var operator = props.operator;\n    switch (props.filterType) {\n        case 'numeric':\n            if (!operator || IsUnaryFilter(operator)) {\n                // change the operator to default\n                operator = defaultOperator;\n            }\n            if (value === null && operator === defaultOperator) {\n                // clear only the default operator\n                operator = '';\n            }\n            break;\n        case 'date':\n            if (!operator || IsUnaryFilter(operator)) {\n                operator = defaultOperator;\n            }\n            if (value === null && operator === defaultOperator) {\n                operator = '';\n            }\n            break;\n        case 'text':\n            if (!operator || IsUnaryFilter(operator)) {\n                operator = defaultOperator;\n            }\n            if (!value && operator === defaultOperator) {\n                operator = '';\n            }\n            break;\n        default: return;\n    }\n    props.onChange({ value: value, operator: operator, syntheticEvent: e });\n};\n/**\n * @hidden\n */\nexport var getDefaultOperator = function (filterOperators, filterType) {\n    if (filterType) {\n        return filterOperators[filterType][0].operator;\n    }\n    else {\n        return filterOperators[0].operator;\n    }\n};\n/**\n * @hidden\n */\nexport var getFilterType = function (filterType) {\n    return filterType || 'text';\n};\n/**\n * @hidden\n */\nexport var cellBoolDropdownChange = function (event, onChange) {\n    var item = event.target.value;\n    onChange({\n        value: item.operator,\n        operator: item.operator === '' ? '' : defaultBooleanOperator,\n        syntheticEvent: event.syntheticEvent\n    });\n};\n/**\n * @hidden\n */\nexport var cellOperatorChange = function (event, currentValue, onChange) {\n    var value = currentValue;\n    var item = event.target.value;\n    if (!event.target.state.opened) {\n        return;\n    }\n    if (IsUnaryFilter(item.operator)) {\n        // clear the value to avoid confusion on what is filtered\n        value = null;\n    }\n    if (currentValue === null && !IsUnaryFilter(item.operator)) {\n        value = undefined;\n    }\n    onChange({ value: value, operator: item.operator, syntheticEvent: event.syntheticEvent });\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nimport { NumericTextBox } from '@progress/kendo-react-inputs';\nimport { DatePicker } from '@progress/kendo-react-dateinputs';\nimport { messages, filterClearButton, filterChooseOperator } from '../messages';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { cellBoolDropdownChange, cellInputChange, cellOperatorChange } from '../filterCommon';\nvar GridFilterCell = /** @class */ (function (_super) {\n    __extends(GridFilterCell, _super);\n    function GridFilterCell(props) {\n        var _this = _super.call(this, props) || this;\n        _this.renderOperatorEditor = function (localization) {\n            if (_this.props.filterType === 'boolean') {\n                return;\n            }\n            var value = _this.props.operators.find(function (item) { return item.operator === _this.props.operator; }) || null;\n            return (React.createElement(DropDownList, { value: value, onChange: _this.operatorChange, className: \"k-dropdown-operator\", iconClassName: \"k-i-filter k-icon\", data: _this.props.operators, textField: \"text\", title: localization.toLanguageString(filterChooseOperator, messages[filterChooseOperator]), popupSettings: {\n                    width: ''\n                } }));\n        };\n        _this.inputChange = _this.inputChange.bind(_this);\n        _this.clear = _this.clear.bind(_this);\n        _this.operatorChange = _this.operatorChange.bind(_this);\n        _this.boolDropdownChange = _this.boolDropdownChange.bind(_this);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridFilterCell.prototype.render = function () {\n        var localizationService = provideLocalizationService(this);\n        var defaultRendering = (React.createElement(\"div\", { className: \"k-filtercell\" },\n            React.createElement(\"div\", { className: \"k-filtercell-wrapper\" },\n                this.filterComponent(this.props.filterType, this.props.value, this.props.booleanValues),\n                React.createElement(\"div\", { className: \"k-filtercell-operator\" },\n                    this.renderOperatorEditor(localizationService),\n                    React.createElement(\"button\", { className: \n                        /* button is always visible if there is either value or operator */\n                        (!(this.props.value === null || this.props.value === '') || this.props.operator) ?\n                            'k-button k-button-icon k-clear-button-visible' :\n                            'k-button k-button-icon', title: localizationService.toLanguageString(filterClearButton, messages[filterClearButton]), type: \"button\", onClick: this.clear },\n                        React.createElement(\"span\", { className: \"k-icon k-i-filter-clear\" }))))));\n        if (this.props.render) {\n            return this.props.render.call(undefined, defaultRendering, this.props);\n        }\n        return defaultRendering;\n    };\n    GridFilterCell.prototype.inputChange = function (value, e) {\n        cellInputChange(value, e, this.props);\n    };\n    GridFilterCell.prototype.operatorChange = function (event) {\n        cellOperatorChange(event, this.props.value, this.props.onChange);\n    };\n    GridFilterCell.prototype.boolDropdownChange = function (event) {\n        cellBoolDropdownChange(event, this.props.onChange);\n    };\n    GridFilterCell.prototype.clear = function (e) {\n        e.preventDefault();\n        this.props.onChange({ value: '', operator: '', syntheticEvent: e });\n    };\n    GridFilterCell.prototype.filterComponent = function (filterType, value, booleanValues) {\n        var _this = this;\n        switch (filterType) {\n            case 'numeric':\n                return (React.createElement(NumericTextBox, { value: value, onChange: function (e) { _this.inputChange(e.value, e.syntheticEvent); }, title: this.props.title }));\n            case 'date':\n                return (React.createElement(DatePicker, { value: value, onChange: function (e) { _this.inputChange(e.value, e.syntheticEvent); }, title: this.props.title }));\n            case 'boolean':\n                var noFilterSet_1 = function (filter) { return filter === null || filter === undefined; };\n                return (React.createElement(DropDownList, { onChange: this.boolDropdownChange, value: booleanValues.find(function (item) { return item.operator === (noFilterSet_1(value) ? '' : value); }), data: booleanValues, textField: \"text\", title: this.props.title }));\n            default: return (React.createElement(\"input\", { className: \"k-textbox\", value: value || '', onChange: function (e) { _this.inputChange(e.target.value, e); }, title: this.props.title }));\n        }\n    };\n    return GridFilterCell;\n}(React.Component));\nexport { GridFilterCell };\nregisterForLocalization(GridFilterCell);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { GridFilterCell } from '../cells/GridFilterCell';\nimport { operatorMap, booleanFilterValues, getFilterType } from '../filterCommon';\nimport { tableKeyboardNavigationTools as navigationTools, HeaderThElement } from '@progress/kendo-react-data-tools';\nimport { filterAriaLabel, messages } from '../messages';\n/**\n * @hidden\n */\nexport var FILTER_ROW_CLASS = 'k-filter-row';\n/**\n *\n * @hidden\n */\nvar FilterRow = /** @class */ (function (_super) {\n    __extends(FilterRow, _super);\n    function FilterRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterRow.prototype.headerCellClassName = function (field, locked) {\n        var result = \"\" + (locked ? 'k-grid-header-sticky' : '');\n        if (this.props.sort &&\n            this.props.sort.filter(function (descriptor) { return descriptor.field === field; }).length > 0) {\n            result += ' k-sorted';\n        }\n        return result;\n    };\n    FilterRow.prototype.setFilter = function (value, operator, field, e) {\n        if (!this.props.filterChange) {\n            return;\n        }\n        var filters = [];\n        if (value !== '' && value !== null || operator !== '') {\n            filters.push({\n                field: field,\n                operator: operator,\n                value: value\n            });\n        }\n        if (this.props.filter && this.props.filter.filters) {\n            var oldFilters = this.props.filter.filters || [];\n            oldFilters.forEach(function (filter) {\n                var descriptor = filter;\n                if (descriptor && descriptor.field !== field) {\n                    filters.push(descriptor);\n                }\n            });\n        }\n        var logic = this.props.filter && this.props.filter.logic ? this.props.filter.logic : 'and';\n        this.props.filterChange(filters.length > 0 ? { logic: logic, filters: filters } : null, e);\n    };\n    FilterRow.prototype.render = function () {\n        var _this = this;\n        var intl = provideLocalizationService(this);\n        var oldFilters = this.props.filter && this.props.filter.filters || [];\n        var activeFilter = function (field) {\n            if (field === undefined) {\n                return;\n            }\n            var currentFilters = oldFilters.filter(function (filter) { return filter.field === field; });\n            return currentFilters.length ? currentFilters[0] : undefined;\n        };\n        var serviceIndex = 0, index = -1;\n        var filterCells = this.props.columns.filter(function (c) { return c.children.length === 0; })\n            .map(function (column) {\n            var filterType = getFilterType(column.filter);\n            var currentActiveFilter = activeFilter(column.field);\n            var filterCellProps = column.filterable && {\n                render: _this.props.cellRender,\n                field: column.field,\n                title: column.filterTitle,\n                value: currentActiveFilter ? currentActiveFilter.value : filterType === 'text' ? '' : null,\n                operator: currentActiveFilter && currentActiveFilter.operator,\n                operators: operatorMap(_this.props.filterOperators[filterType] || [], intl),\n                booleanValues: operatorMap(booleanFilterValues, intl),\n                filterType: filterType,\n                onChange: function (e) { _this.setFilter(e.value, e.operator, column.field, e.syntheticEvent); }\n            };\n            var key = (column.declarationIndex >= 0) ? ++index : --serviceIndex;\n            var ariaAttrs = {\n                ariaLabel: column.filterable ? intl.toLanguageString(filterAriaLabel, messages[filterAriaLabel]) : undefined,\n                ariaColumnIndex: column.ariaColumnIndex\n            };\n            var style = column.left !== undefined\n                ? !_this.props.isRtl\n                    ? { left: column.left, right: column.right }\n                    : { left: column.right, right: column.left }\n                : {};\n            return (React.createElement(HeaderThElement, __assign({ key: key, columnId: navigationTools.getFilterColumnId(column.id), navigatable: column.navigatable, style: style, className: _this.headerCellClassName(column.field, column.locked) || undefined }, ariaAttrs), filterCellProps && (column.filterCell ?\n                React.createElement(column.filterCell, __assign({}, filterCellProps)) :\n                React.createElement(GridFilterCell, __assign({}, filterCellProps)))));\n        });\n        return React.createElement(\"tr\", { className: FILTER_ROW_CLASS, \"aria-rowindex\": this.props.ariaRowIndex, role: \"row\" }, filterCells);\n    };\n    return FilterRow;\n}(React.Component));\nexport { FilterRow };\nregisterForLocalization(FilterRow);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Draggable } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar GroupingIndicator = /** @class */ (function (_super) {\n    __extends(GroupingIndicator, _super);\n    function GroupingIndicator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onPress = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.onPress) {\n                _this.props.onPress(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.onDrag) {\n                _this.props.onDrag(data.event, element);\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            var element = _this.draggable && _this.draggable.element;\n            if (element && _this.props.onRelease) {\n                _this.props.onRelease(data.event);\n            }\n        };\n        _this.sortChange = function (event) {\n            event.preventDefault();\n            if (_this.props.onSortChange) {\n                var sort = (_this.props.dir === 'asc') ? 'desc' : 'asc';\n                _this.props.onSortChange(event, sort);\n            }\n        };\n        _this.groupRemove = function (event) {\n            event.preventDefault();\n            if (_this.props.onRemove) {\n                _this.props.onRemove(event);\n            }\n        };\n        return _this;\n    }\n    GroupingIndicator.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Draggable, { onPress: this.onPress, onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { _this.draggable = component; } },\n            React.createElement(\"div\", { className: \"k-indicator-container\", style: { touchAction: 'none' } },\n                React.createElement(\"div\", { className: \"k-group-indicator\" },\n                    React.createElement(\"a\", { className: \"k-link\", href: \"#\", tabIndex: -1, onClick: this.sortChange },\n                        React.createElement(\"span\", { className: 'k-icon k-i-sort-' + this.props.dir + '-sm' }),\n                        this.props.title),\n                    React.createElement(\"a\", { className: \"k-button k-button-icon k-flat\", tabIndex: -1, onClick: this.groupRemove },\n                        React.createElement(\"span\", { className: \"k-icon k-i-group-delete\" }))))));\n    };\n    return GroupingIndicator;\n}(React.Component));\nexport { GroupingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { GroupingIndicator } from '../drag/GroupingIndicator';\nimport { registerForLocalization, provideLocalizationService as intl } from '@progress/kendo-react-intl';\nimport { messages, groupPanelEmpty as messageKey } from './../messages';\n/**\n * @hidden\n */\nvar GroupPanel = /** @class */ (function (_super) {\n    __extends(GroupPanel, _super);\n    function GroupPanel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onGroupRemove = function (event, index) {\n            var newGroups = _this.props.group.slice();\n            newGroups.splice(index, 1);\n            _this.props.groupChange(newGroups, event);\n        };\n        _this.onGroupSortChange = function (event, index, groupDesc, dir) {\n            var group = Object.assign({}, groupDesc, { dir: dir });\n            var newGroups = _this.props.group.slice();\n            newGroups.splice(index, 1, group);\n            _this.props.groupChange(newGroups, event);\n        };\n        return _this;\n    }\n    GroupPanel.prototype.render = function () {\n        var _this = this;\n        var groupsProp = this.props.group || [];\n        var groups = groupsProp.map(function (groupDesc, index) { return (React.createElement(GroupingIndicator, { key: index, dir: groupDesc.dir || 'asc', title: _this.props.resolveTitle(groupDesc.field), onRemove: function (event) {\n                _this.onGroupRemove(event, index);\n            }, onSortChange: function (event, dir) {\n                _this.onGroupSortChange(event, index, groupDesc, dir);\n            }, onPress: _this.props.pressHandler, onDrag: _this.props.dragHandler, onRelease: _this.props.releaseHandler })); });\n        return (React.createElement(\"div\", { ref: this.props.refCallback, className: \"k-grouping-header k-grouping-header-flex\" },\n            groups,\n            React.createElement(\"div\", { className: \"k-indicator-container\" },\n                !groups.length && intl(this).toLanguageString(messageKey, messages[messageKey]),\n                \"\\u00A0\")));\n    };\n    return GroupPanel;\n}(React.Component));\nexport { GroupPanel };\nregisterForLocalization(GroupPanel);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getScrollbarWidth } from '@progress/kendo-react-common';\nimport * as React from 'react';\n/**\n * @hidden\n */\nvar Footer = /** @class */ (function (_super) {\n    __extends(Footer, _super);\n    function Footer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.footerWrap = null;\n        _this.table = null;\n        _this.scrollbarWidth = getScrollbarWidth();\n        return _this;\n    }\n    Footer.prototype.componentDidMount = function () {\n        this.setState({});\n    };\n    /**\n     *\n     * @param scrollLeft - Scrolls to the left (in pixels).\n     */\n    Footer.prototype.setScrollLeft = function (scrollLeft) {\n        if (this.footerWrap) {\n            this.footerWrap.scrollLeft = scrollLeft;\n        }\n    };\n    /**\n     *\n     * @param width - Scrolls the width (in pixels).\n     */\n    Footer.prototype.setWidth = function (width) {\n        if (this.table) {\n            this.table.style.width = width + 'px';\n        }\n    };\n    Footer.prototype.render = function () {\n        var _this = this;\n        if (!this.props.staticHeaders) {\n            return (React.createElement(\"tfoot\", { className: \"k-grid-footer\" }, this.props.row));\n        }\n        return (React.createElement(\"div\", { className: \"k-grid-footer\", role: \"presentation\" },\n            React.createElement(\"div\", { ref: function (div) { _this.footerWrap = div; }, className: \"k-grid-footer-wrap\", style: this.scrollbarWidth ? {} : { borderWidth: 0 }, role: \"presentation\" },\n                React.createElement(\"table\", { ref: function (table) { _this.table = table; }, role: \"presentation\" },\n                    React.createElement(\"colgroup\", { ref: function (e) { _this.props.columnResize.colGroupFooter = e; }, role: \"presentation\" }, this.props.cols),\n                    React.createElement(\"tfoot\", { role: \"presentation\" }, this.props.row)))));\n    };\n    return Footer;\n}(React.Component));\nexport { Footer };\n","/**\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(cached) {\n        this.containerHeight = 0;\n        this.topCacheCount = 0; // 4;\n        this.attendedSkip = 0; // -4;\n        this.propsSkip = 0;\n        this.total = 0;\n        this.scrollableVirtual = false;\n        this.realSkip = 0;\n        this.pageSize = 0;\n        this.heightContainer = null;\n        this.fixedScroll = false;\n        this.askedSkip = undefined;\n        this.prevScrollPos = 0;\n        this.tableTranslate = 0;\n        this.scrollSyncing = false;\n        if (cached) {\n            this.topCacheCount = 4;\n            this.attendedSkip = -this.topCacheCount;\n        }\n        this.scrollHandler = this.scrollHandler.bind(this);\n    }\n    Object.defineProperty(VirtualScroll.prototype, \"rowHeights\", {\n        /**\n         * @return - The row heights in an array.\n         */\n        get: function () {\n            var result = [];\n            var allRows = this.tableBody && this.tableBody.children || [];\n            var accumulate = 0;\n            for (var i = 0; i < allRows.length; i++) {\n                if (allRows[i].className.indexOf('k-grouping-row') > -1) {\n                    accumulate += allRows[i].scrollHeight;\n                    continue;\n                }\n                if (allRows[i].className.indexOf('k-detail-row') > -1) {\n                    result[result.length - 1].line += allRows[i].scrollHeight;\n                }\n                else {\n                    result.push({\n                        line: allRows[i].scrollHeight,\n                        acc: accumulate\n                    });\n                    accumulate = 0;\n                }\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VirtualScroll.prototype.changePage = function (skip, e) {\n        this.attendedSkip = skip - this.topCacheCount;\n        this.PageChange({\n            skip: Math.max(0, skip - this.topCacheCount),\n            take: this.pageSize\n        }, e);\n    };\n    VirtualScroll.prototype.translate = function (dY) {\n        this.tableTranslate = dY;\n        if (this.scrollableVirtual && this.table) {\n            this.table.style.transform = 'translateY(' + dY + 'px)';\n        }\n    };\n    VirtualScroll.prototype.syncScroll = function () {\n        if (!this.scrollableVirtual || !this.container) {\n            return;\n        }\n        this.syncTimeout = null;\n        var scrollTop = this.container.scrollTop;\n        var containerHeight = this.containerHeight; // = this.container.scrollHeight;\n        var rowHeights = this.rowHeights;\n        var percentage = (scrollTop - this.tableTranslate) / rowHeights[0].line;\n        var targetFloorScrollPosition = Math.floor((containerHeight) * (this.propsSkip + percentage) / this.total);\n        if (this.container.scrollTop !== (this.prevScrollPos = targetFloorScrollPosition)) {\n            this.scrollSyncing = true;\n            this.container.scrollTop = (this.prevScrollPos = targetFloorScrollPosition);\n        }\n        this.translate(this.tableTranslate + targetFloorScrollPosition - scrollTop);\n    };\n    VirtualScroll.prototype.reset = function () {\n        this.scrollSyncing = true;\n        if (this.fixedScroll) {\n            return;\n        }\n        if (this.container) {\n            this.container.scrollTop = 0;\n        }\n        this.translate(0);\n    };\n    VirtualScroll.prototype.localScrollUp = function (e) {\n        if (!this.container) {\n            return;\n        }\n        var heights = this.rowHeights;\n        var scrollTop = this.container.scrollTop;\n        var targetTranslate = this.tableTranslate;\n        var rowsCount = 0;\n        var additionalOnTop = scrollTop - targetTranslate;\n        if (additionalOnTop > 0) {\n            return;\n        }\n        while ((rowsCount < this.topCacheCount + this.attendedSkip - this.realSkip)\n            && this.propsSkip - rowsCount > 0 &&\n            !(targetTranslate + (heights[heights.length - 1 - rowsCount].line + heights[heights.length - 1 - rowsCount].acc) + additionalOnTop <= scrollTop)) {\n            targetTranslate -= heights[heights.length - 1 - rowsCount].line +\n                heights[heights.length - 1 - rowsCount].acc;\n            rowsCount++;\n        }\n        if (rowsCount === 0 && this.topCacheCount === 0 && this.attendedSkip > 0) {\n            // allows local scrolling up, when top caching is disabled\n            // for variable heights 'topCacheCount' should be atleast 1 to avoid flickering\n            targetTranslate = Math.max(targetTranslate - heights[0].line, 0);\n            rowsCount = 1;\n        }\n        if (this.propsSkip - rowsCount <= 0 && targetTranslate > scrollTop) {\n            this.translate(0);\n            this.changePage(0, e);\n            this.container.scrollTop = 0;\n            return;\n        }\n        if (targetTranslate > scrollTop) {\n            targetTranslate = scrollTop;\n            // need to handle these cases\n            // if the item height is not available:\n            //    floor the translate to beginning of the item in absolute value\n        }\n        if (targetTranslate !== this.tableTranslate) {\n            this.translate(targetTranslate);\n            this.changePage(this.propsSkip - rowsCount, e);\n        }\n    };\n    VirtualScroll.prototype.localScrollDown = function (e) {\n        if (!this.container) {\n            return;\n        }\n        var heights = this.rowHeights;\n        var scrollTop = this.container.scrollTop;\n        var targetTranslate = this.tableTranslate;\n        var rowsCount = 0;\n        while (rowsCount < heights.length - this.topCacheCount &&\n            !(targetTranslate + heights[rowsCount].line + heights[rowsCount].acc > scrollTop)) {\n            targetTranslate += heights[rowsCount].line + heights[rowsCount].acc;\n            rowsCount++;\n        }\n        if (rowsCount >= heights.length - this.topCacheCount && this.propsSkip + rowsCount >= this.total) {\n            this.translate(targetTranslate);\n            this.changePage(this.total - 1, e);\n        }\n        else if (targetTranslate !== this.tableTranslate) {\n            this.translate(targetTranslate);\n            this.changePage(this.propsSkip + rowsCount, e);\n        }\n    };\n    VirtualScroll.prototype.scrollNonStrict = function (e) {\n        var floatRowIndex = this.total * this.prevScrollPos / (this.containerHeight);\n        var rowIndex = Math.floor(floatRowIndex);\n        if (rowIndex >= this.total) {\n            rowIndex = this.total - 1;\n        }\n        var rowpercentage = Math.min(floatRowIndex - rowIndex, 1);\n        var microAdjust = 0;\n        var rowIndexOffset = rowIndex - this.propsSkip;\n        var heights = this.rowHeights;\n        if (rowIndexOffset >= 0 && rowIndexOffset <= 1) {\n            microAdjust = -((heights[0].line + heights[0].acc) * rowpercentage);\n        }\n        else if (rowIndexOffset === -1) {\n            microAdjust = -((heights[heights.length - 1].line + heights[heights.length - 1].acc) * rowpercentage);\n        }\n        this.translate(microAdjust + this.containerHeight * floatRowIndex / this.total);\n        this.changePage(rowIndex, e);\n    };\n    VirtualScroll.prototype.scrollHandler = function (e) {\n        if (!this.scrollableVirtual) {\n            return;\n        }\n        if (this.scrollSyncing || !this.container || !this.table) {\n            this.scrollSyncing = false;\n            return;\n        }\n        var grid = this;\n        clearTimeout(this.syncTimeout);\n        this.syncTimeout = window.setTimeout(function () { grid.syncScroll(); }, 200);\n        var scrollTop = this.container.scrollTop;\n        var prev = this.prevScrollPos;\n        this.prevScrollPos = scrollTop;\n        if (this.askedSkip !== undefined) {\n            this.translate(this.containerHeight * this.askedSkip / this.total);\n            this.changePage(this.askedSkip, e);\n            this.prevScrollPos = scrollTop;\n            this.askedSkip = undefined;\n            return;\n        }\n        if (scrollTop - prev < 0 && scrollTop > this.tableTranslate - this.table.scrollHeight / 10) {\n            this.localScrollUp(e);\n        }\n        else if (scrollTop - prev > 0 && scrollTop < this.tableTranslate + this.table.scrollHeight * 2 / 3) {\n            this.localScrollDown(e);\n        }\n        else {\n            this.scrollNonStrict(e);\n        }\n        this.prevScrollPos = scrollTop;\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","// offsetWidth() is slowly transition to reporting double instead of integet in all browsers\n// during this process (which is a bit back-and-forth) we need to make sure we are working across all browsers and versions\nvar OFFSET_ROUND = 1;\n/**\n * @hidden\n */\nvar ColumnResize = /** @class */ (function () {\n    function ColumnResize(triggerResize) {\n        var _this = this;\n        /**\n         * The settings for resizing the Grid.\n         */\n        this.resizable = false;\n        this.isRtl = false;\n        this.setIsRtl = function (isRtl) {\n            _this.isRtl = isRtl;\n        };\n        this.dragHandler = function (event, column, dragCue, end) {\n            var e = event.originalEvent;\n            if (!end) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n            }\n            var tdElement = dragCue.parentElement;\n            if (!tdElement || !tdElement.parentElement) {\n                return;\n            }\n            var oldWidth = tdElement.clientWidth;\n            var newWidth = oldWidth;\n            if (_this.isRtl) {\n                newWidth += (dragCue.getBoundingClientRect().right - (dragCue.offsetWidth / 2)) - event.clientX;\n            }\n            else {\n                newWidth += event.clientX - dragCue.getBoundingClientRect().left - (dragCue.offsetWidth / 2);\n            }\n            if (!end && Math.abs(newWidth - oldWidth) < 1) {\n                return;\n            }\n            _this.fixateInitialWidths(tdElement.parentElement.clientWidth);\n            _this.setWidths(column, Math.floor(newWidth) / oldWidth);\n            var index = _this.columns.filter(function (c) { return !c.children.length; }).findIndex(function (c) { return c.id === column.id; });\n            _this.onResize(index, oldWidth, newWidth, e, end, column.id);\n        };\n        this.dblClickHandler = function (event, columnIds) {\n            var columns = _this.columns.filter(function (c) { return columnIds.indexOf(c.id) > -1; });\n            if (!_this.colGroupMain || !columns.length) {\n                return;\n            }\n            var leafsForAdjust = {};\n            var stack = columns;\n            while (stack.length > 0) {\n                var currentCol = stack.pop();\n                if (!currentCol) {\n                    break;\n                }\n                if (currentCol.children.length) {\n                    stack.push.apply(stack, currentCol.children);\n                }\n                else {\n                    leafsForAdjust[currentCol.id] = currentCol;\n                }\n            }\n            var leafs = _this.columns.filter(function (c) { return !c.children.length; });\n            var indexesForAdjust = [];\n            leafs.forEach(function (currentColumn, index) {\n                if (leafsForAdjust[currentColumn.id]) {\n                    indexesForAdjust.push(index);\n                }\n            });\n            var tables = [_this.colGroupMain.parentElement];\n            var colgroups = [_this.colGroupMain];\n            if (_this.colGroupHeader) {\n                tables.push(_this.colGroupHeader.parentElement);\n                colgroups.push(_this.colGroupHeader);\n            }\n            if (_this.colGroupFooter) {\n                tables.push(_this.colGroupFooter.parentElement);\n                colgroups.push(_this.colGroupFooter);\n            }\n            tables.forEach(function (table) { return table.classList.add('k-autofitting'); });\n            var maxWidths = [];\n            colgroups.forEach(function (colgroup) {\n                indexesForAdjust.forEach(function (columnIndex) {\n                    if (colgroup.children[columnIndex]) {\n                        colgroup.children[columnIndex].width = '';\n                        maxWidths[columnIndex] = Math.max(maxWidths[columnIndex] || 0, colgroup.children[columnIndex].offsetWidth + OFFSET_ROUND);\n                    }\n                });\n            });\n            colgroups.forEach(function (colgroup) {\n                indexesForAdjust.forEach(function (columnIndex) {\n                    if (colgroup.children[columnIndex]) {\n                        colgroup.children[columnIndex].width = maxWidths[columnIndex] + 'px';\n                        leafs[columnIndex].width = maxWidths[columnIndex];\n                    }\n                });\n            });\n            tables.forEach(function (table) { return table.classList.remove('k-autofitting'); });\n            _this.onResize(indexesForAdjust[0], 0, 0, event, true, columnIds[0]);\n        };\n        this.updateColElements = function (affectedColumns) {\n            var leafColumns = _this.columns.filter(function (c) { return !c.children.length; });\n            var difference = 1e-10;\n            var _loop_1 = function (i) {\n                var currentColumn = affectedColumns[i];\n                var colIndex = leafColumns.findIndex(function (c) { return c.id === currentColumn.id; });\n                var currentColumnFloatWidth = parseFloat((currentColumn.width || 0).toString());\n                var currentColumnFloorWidth = Math.floor(currentColumnFloatWidth);\n                difference += currentColumnFloatWidth - currentColumnFloorWidth;\n                var currentWidth = currentColumnFloorWidth + Math.floor(difference);\n                difference -= Math.floor(difference);\n                if (_this.colGroupMain && _this.colGroupMain.children[colIndex]) {\n                    _this.colGroupMain.children[colIndex].width = currentWidth + 'px';\n                }\n                if (_this.colGroupHeader && _this.colGroupHeader.children[colIndex]) {\n                    // static headers\n                    _this.colGroupHeader.children[colIndex].width = currentWidth + 'px';\n                }\n                if (_this.colGroupFooter && _this.colGroupFooter.children[colIndex]) {\n                    // static footers\n                    _this.colGroupFooter.children[colIndex].width = currentWidth + 'px';\n                }\n            };\n            for (var i = 0; i < affectedColumns.length; i++) {\n                _loop_1(i);\n            }\n        };\n        this.onResize = triggerResize;\n    }\n    ColumnResize.prototype.fixateInitialWidths = function (width) {\n        var columns = this.columns.filter(function (c) { return !c.children.length; });\n        var remainingCount = 0;\n        var cols = this.colGroupMain ? this.colGroupMain.children : [];\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].width) {\n                width -= parseFloat(cols[i].width);\n            }\n            else {\n                remainingCount++;\n            }\n        }\n        if (remainingCount === 0) {\n            return;\n        }\n        var perCol = Math.floor(width / remainingCount);\n        for (var i = 0; i < cols.length; i++) {\n            var col = cols[i];\n            if (!col.width) {\n                col.width = perCol;\n                columns[i].width = perCol.toString();\n                if (this.colGroupHeader) {\n                    this.colGroupHeader.children[i].width = perCol;\n                }\n                if (this.colGroupFooter) {\n                    this.colGroupFooter.children[i].width = perCol;\n                }\n            }\n        }\n    };\n    ColumnResize.prototype.setWidths = function (column, coef) {\n        var indexInOriginal = this.columns.findIndex(function (c) { return c.id === column.id; });\n        var toAdjust = [];\n        var more = column.children.length;\n        for (var i = indexInOriginal + 1; more > 0 && i < this.columns.length; i++, more--) {\n            var cc = this.columns[i];\n            if (!cc.children.length) {\n                toAdjust.push(cc);\n            }\n            else {\n                more += cc.children.length;\n            }\n        }\n        if (toAdjust.length === 0) {\n            toAdjust.push(column);\n        }\n        toAdjust.forEach(function (colToAdjust) {\n            var targetWidth = colToAdjust.width ? parseFloat(colToAdjust.width.toString()) * coef : 0;\n            var min = colToAdjust.minResizableWidth === undefined ? 10 : colToAdjust.minResizableWidth;\n            if (targetWidth < min) {\n                targetWidth = min;\n            }\n            colToAdjust.width = targetWidth;\n        });\n        this.updateColElements(toAdjust);\n        return toAdjust;\n    };\n    return ColumnResize;\n}());\nexport { ColumnResize };\n","import { getIndex } from '@progress/kendo-react-data-tools';\n/**\n * @hidden\n */\nvar CommonDragLogic = /** @class */ (function () {\n    function CommonDragLogic(columnReorder, groupReorder, columnToGroup) {\n        var _this = this;\n        this.reorderable = false;\n        this.groupable = false;\n        this.startColumn = -1;\n        this.startGroup = -1;\n        this.currentColumn = -1;\n        this.currentGroup = -1;\n        this.dropElementClue = null;\n        this.dragElementClue = null;\n        this.groupPanelDivElement = null;\n        this.refGroupPanelDiv = function (e) {\n            _this.groupPanelDivElement = e;\n        };\n        this.refDropElementClue = function (e) {\n            _this.dropElementClue = e;\n        };\n        this.refDragElementClue = function (e) {\n            _this.dragElementClue = e;\n        };\n        this.pressHandler = function (event, element) {\n            var startColumn = _this.getColumnIndex(event, element);\n            _this.startGroup = _this.getGroupIndex(event);\n            if (startColumn >= 0) {\n                var col = _this.columns[startColumn];\n                if (col.reorderable && _this.reorderable || col.groupable && _this.groupable) {\n                    _this.startColumn = startColumn;\n                }\n            }\n        };\n        this.dragHandler = function (event, element) {\n            if (!event.isTouch) {\n                event.originalEvent.preventDefault();\n            }\n            event.originalEvent.stopPropagation();\n            if (_this.startColumn === -1 && _this.startGroup === -1) {\n                return;\n            }\n            _this.currentColumn = _this.getColumnIndex(event, element);\n            _this.currentGroup = _this.getGroupIndex(event);\n            if (_this.groupPanelDivElement && _this.startGroup >= 0) {\n                _this.currentGroup = Math.min(_this.currentGroup, _this.groupPanelDivElement.children.length - 2);\n            }\n            var invalidIndex = !_this.isValid();\n            if (invalidIndex) {\n                _this.currentColumn = -1;\n                _this.currentGroup = -1;\n            }\n            var targetElement = (_this.currentColumn >= 0) ?\n                element.children[_this.columns[_this.currentColumn].index] :\n                _this.groupPanelDivElement && _this.groupPanelDivElement.children[_this.currentGroup];\n            _this.updateDragElementClue(event, element, targetElement, invalidIndex);\n            _this.updateDropElementClue(event, element, targetElement, invalidIndex);\n        };\n        this.releaseHandler = function (event) {\n            var prevColumnIndex = _this.startColumn;\n            var nextColumnIndex = _this.currentColumn;\n            var prevGroupIndex = _this.startGroup;\n            var nextGroupIndex = _this.currentGroup;\n            event.originalEvent.preventDefault();\n            if (_this.dropElementClue) {\n                _this.dropElementClue.setState({ visible: false });\n            }\n            if (_this.dragElementClue) {\n                _this.dragElementClue.setState({ visible: false });\n            }\n            var isValid = _this.isValid();\n            _this.startColumn = _this.startGroup = _this.currentColumn = _this.currentGroup = -1;\n            if (!isValid) {\n                return;\n            }\n            if (prevColumnIndex >= 0 && nextColumnIndex >= 0) {\n                _this.columnReorder(prevColumnIndex, nextColumnIndex, event.originalEvent);\n            }\n            else if (prevGroupIndex >= 0 && nextGroupIndex >= 0) {\n                _this.groupReorder(prevGroupIndex, nextGroupIndex, event.originalEvent);\n            }\n            else if (prevColumnIndex >= 0 && nextGroupIndex >= 0) {\n                _this.columnToGroup(prevColumnIndex, nextGroupIndex, event.originalEvent);\n            }\n        };\n        this.columnReorder = columnReorder;\n        this.groupReorder = groupReorder;\n        this.columnToGroup = columnToGroup;\n    }\n    CommonDragLogic.prototype.getColumnIndex = function (event, parent) {\n        if (!parent || (parent.parentElement === this.groupPanelDivElement)) {\n            return -1;\n        }\n        var index = getIndex(event, parent);\n        if (index === -1) {\n            return -1;\n        }\n        var _loop_1 = function (i) {\n            if (parent.parentNode.children[i] === parent) {\n                return { value: this_1.columns.findIndex(function (c) { return ((c.index === index) && (c.depth === i)); }) };\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < parent.parentNode.children.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1;\n    };\n    CommonDragLogic.prototype.getGroupIndex = function (event) {\n        return getIndex(event, this.groupPanelDivElement);\n    };\n    CommonDragLogic.prototype.isValid = function () {\n        if (this.startGroup >= 0) {\n            // group can be moved into group only\n            return this.currentGroup >= 0 && this.currentGroup !== this.startGroup;\n        }\n        if (this.startColumn === -1) {\n            return false;\n        }\n        if (this.currentGroup >= 0) {\n            // column to group is possible\n            return this.columns[this.startColumn].groupable === true && this.groupable === true;\n        }\n        // reorder is possible\n        return this.reorderable === true &&\n            this.currentColumn >= 0 &&\n            this.currentColumn !== this.startColumn &&\n            this.columns[this.startColumn].reorderable === true &&\n            this.columns[this.currentColumn].parentIndex === this.columns[this.startColumn].parentIndex;\n    };\n    CommonDragLogic.prototype.updateDragElementClue = function (event, element, targetElement, invalidIndex) {\n        if (!this.dragElementClue) {\n            return;\n        }\n        var innerText = this.startColumn >= 0 ?\n            element.children[this.columns[this.startColumn].index].innerText :\n            element.innerText;\n        this.dragElementClue.setState({\n            visible: true,\n            top: (event.pageY + 10),\n            left: event.pageX,\n            innerText: innerText,\n            status: (invalidIndex || !targetElement) ? 'k-i-cancel' : 'k-i-add'\n        });\n    };\n    CommonDragLogic.prototype.updateDropElementClue = function (event, element, targetElement, invalidIndex) {\n        if (!this.dropElementClue) {\n            return;\n        }\n        if (invalidIndex || !targetElement) {\n            this.dropElementClue.setState({ visible: false });\n            return;\n        }\n        var rect = targetElement.getBoundingClientRect();\n        var left = rect.left + event.pageX - event.clientX - 6;\n        if (this.currentColumn > this.startColumn || this.currentGroup > this.startGroup && this.startGroup !== -1) {\n            left += rect.width;\n        }\n        var top = rect.top + event.pageY - event.clientY;\n        this.dropElementClue.setState({\n            visible: true,\n            top: top,\n            left: left,\n            height: (this.currentColumn >= 0) ? element.clientHeight : rect.height\n        });\n    };\n    return CommonDragLogic;\n}());\nexport { CommonDragLogic };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getNestedValue } from './../utils';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport { GRID_COL_INDEX_ATTRIBUTE } from '../constants';\nimport { classNames } from '@progress/kendo-react-common';\nexport var GridCell = function (props) {\n    var _a;\n    var defaultRendering = null;\n    var intl = useInternationalization();\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    if (props.rowType === 'groupFooter') {\n        defaultRendering = React.createElement(\"td\", { className: props.className });\n    }\n    else if (props.field !== undefined && props.rowType !== 'groupHeader') {\n        var data = getNestedValue(props.field, props.dataItem);\n        var dataAsString = '';\n        if (data !== undefined && data !== null) {\n            dataAsString = props.format ?\n                intl.format(props.format, data) :\n                data.toString();\n        }\n        var className = classNames(props.className, { 'k-state-selected': props.isSelected });\n        defaultRendering = (React.createElement(\"td\", __assign({ colSpan: props.colSpan, style: props.style, className: className, role: 'gridcell', \"aria-colindex\": props.ariaColumnIndex, \"aria-selected\": props.isSelected }, (_a = {}, _a[GRID_COL_INDEX_ATTRIBUTE] = props.columnIndex, _a), navigationAttributes), dataAsString));\n    }\n    return props.render ?\n        props.render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Keys } from '@progress/kendo-react-common';\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport * as React from 'react';\n/**\n * @hidden\n */\nexport var GridGroupCell = function (props) {\n    var defaultRendering = null;\n    var columnIndex = props.columnIndex, level = props.level, columnsCount = props.columnsCount, rowType = props.rowType, dataItem = props.dataItem, field = props.field, onChange = props.onChange, expanded = props.expanded, render = props.render, dataIndex = props.dataIndex, ariaColumnIndex = props.ariaColumnIndex;\n    var definedField = field || '';\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    var onKeyDownHandler = React.useCallback(function (event) {\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if (event.keyCode === Keys.enter && onChange) {\n            event.preventDefault();\n            onChange({\n                dataItem: dataItem,\n                dataIndex: dataIndex,\n                syntheticEvent: event,\n                field: undefined,\n                value: !expanded\n            });\n        }\n    }, [expanded, onChange, dataItem, dataIndex]);\n    if (columnIndex === undefined || level === undefined || columnIndex < level ||\n        columnsCount === undefined || rowType !== 'groupHeader' || dataItem[definedField] === undefined) {\n        defaultRendering = (React.createElement(\"td\", { style: props.style, key: 'g' + columnIndex, className: \"k-group-cell\", role: \"presentation\" }));\n    }\n    else if (columnIndex <= level) {\n        defaultRendering = (React.createElement(\"td\", __assign({ style: props.style, key: 'g-colspan', colSpan: columnsCount - columnIndex, role: 'gridcell', \"aria-selected\": false, \"aria-expanded\": expanded, \"aria-colindex\": ariaColumnIndex, onKeyDown: onKeyDownHandler }, navigationAttributes),\n            React.createElement(\"p\", { className: \"k-reset\" },\n                React.createElement(\"a\", { onClick: function (e) {\n                        e.preventDefault();\n                        if (onChange) {\n                            onChange({\n                                dataItem: dataItem,\n                                dataIndex: dataIndex,\n                                syntheticEvent: e,\n                                field: undefined,\n                                value: !expanded\n                            });\n                        }\n                    }, href: \"#\", tabIndex: -1, className: expanded ? 'k-i-collapse k-icon' : 'k-i-expand k-icon' }),\n                ((dataItem[definedField] instanceof Date) && dataItem[definedField].toString) ?\n                    dataItem[definedField].toString() :\n                    dataItem[definedField])));\n    }\n    return render ?\n        render.call(undefined, defaultRendering, props) :\n        defaultRendering;\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { classNames } from '@progress/kendo-react-common';\nimport { GRID_ROW_INDEX_ATTRIBUTE } from '../constants';\n/**\n * The component for each of the items in the `data` property which the Grid renders.\n */\nvar GridRow = /** @class */ (function (_super) {\n    __extends(GridRow, _super);\n    function GridRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridRow.prototype.render = function () {\n        var _a;\n        var className = classNames({\n            'k-grouping-row': this.props.rowType === 'groupHeader',\n            'k-group-footer': this.props.rowType === 'groupFooter',\n            'k-master-row': this.props.rowType !== 'groupHeader' &&\n                this.props.rowType !== 'groupFooter',\n            'k-alt': this.props.rowType !== 'groupHeader' &&\n                this.props.rowType !== 'groupFooter' &&\n                this.props.isAltRow,\n            'k-state-selected': this.props.isSelected,\n            'k-grid-edit-row': this.props.isInEdit\n        });\n        var defaultRendering = (React.createElement(\"tr\", __assign({ onClick: this.props.onClick, onDoubleClick: this.props.onDoubleClick, className: className, style: {\n                height: this.props.rowHeight ? this.props.rowHeight + 'px' : '',\n                visibility: this.props.isHidden ? 'hidden' : ''\n            }, role: \"row\", \"aria-rowindex\": this.props.ariaRowIndex }, (_a = {}, _a[GRID_ROW_INDEX_ATTRIBUTE] = this.props.rowType === 'data' ? this.props.dataIndex : undefined, _a)), this.props.children));\n        return this.props.render ?\n            this.props.render.call(undefined, defaultRendering, this.props) :\n            defaultRendering;\n    };\n    return GridRow;\n}(React.Component));\nexport { GridRow };\n","import { TABLE_COL_INDEX_ATTRIBUTE, TABLE_PREVENT_SELECTION_ELEMENT, TABLE_ROW_INDEX_ATTRIBUTE } from '@progress/kendo-react-data-tools';\n/** The attribute required by the Grid selection on Grid `tr` elements. */\nexport var GRID_ROW_INDEX_ATTRIBUTE = TABLE_ROW_INDEX_ATTRIBUTE;\n/** The attribute required by the Grid selection on Grid `td` elements. */\nexport var GRID_COL_INDEX_ATTRIBUTE = TABLE_COL_INDEX_ATTRIBUTE;\n/** Attribute which disable selection start from this element. */\nexport var GRID_PREVENT_SELECTION_ELEMENT = TABLE_PREVENT_SELECTION_ELEMENT;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { guid } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar GridHeaderSelectionCell = /** @class */ (function (_super) {\n    __extends(GridHeaderSelectionCell, _super);\n    function GridHeaderSelectionCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._inputId = guid();\n        return _this;\n    }\n    GridHeaderSelectionCell.prototype.render = function () {\n        var _this = this;\n        var defaultRendering = [\n            (React.createElement(\"input\", { key: 0, checked: this.props.selectionValue, id: this._inputId, type: \"checkbox\", className: \"k-checkbox\", onChange: function (e) {\n                    return _this.props.selectionChange({\n                        field: _this.props.field,\n                        syntheticEvent: e\n                    });\n                } })),\n            (React.createElement(\"label\", { key: 1, className: \"k-checkbox-label\", htmlFor: this._inputId }))\n        ];\n        return this.props.render ?\n            this.props.render.call(undefined, defaultRendering, this.props) :\n            defaultRendering;\n    };\n    return GridHeaderSelectionCell;\n}(React.Component));\nexport { GridHeaderSelectionCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { registerForLocalization, provideLocalizationService as intl } from '@progress/kendo-react-intl';\nimport { messages, noRecords } from './messages';\n/* eslint-disable max-len */\n/**\n * Represents the GridNoRecords component. The component is rendered when the `data` property of the Grid is empty or `null`.\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return (\n *             <Grid data={[]}>\n *                 <GridNoRecords>\n *                     There is no data available\n *                 </GridNoRecords>\n *                 <GridColumn field=\"id\" />\n *                 <GridColumn field=\"name\" />\n *             </Grid>\n *         );\n *     }\n * }\n * ReactDOM.render(\n *     <App />,\n *     document.querySelector('my-app')\n * );\n * ```\n */\n// tslint:enable:max-line-length\nvar GridNoRecords = /** @class */ (function (_super) {\n    __extends(GridNoRecords, _super);\n    function GridNoRecords() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridNoRecords.prototype.render = function () {\n        return this.props.children || intl(this).toLanguageString(noRecords, messages[noRecords]);\n    };\n    /**\n     * @hidden\n     */\n    GridNoRecords.displayName = 'KendoReactGridNoRecords';\n    return GridNoRecords;\n}(React.Component));\nexport { GridNoRecords };\nregisterForLocalization(GridNoRecords);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { footerColumns } from './../utils';\n/**\n * @hidden\n */\nvar FooterRow = /** @class */ (function (_super) {\n    __extends(FooterRow, _super);\n    function FooterRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._element = null;\n        _this.renderCell = function (column, index) {\n            var tdProps = {\n                colSpan: column.colSpan !== 1 ? column.colSpan : undefined,\n                style: column.left !== undefined\n                    ? !_this.props.isRtl\n                        ? { left: column.left, right: column.right }\n                        : { left: column.right, right: column.left }\n                    : {},\n                className: column.locked && column.left !== undefined ? 'k-grid-footer-sticky' : ''\n            };\n            var cellProps = __assign({ field: column.field, ariaColumnIndex: column.ariaColumnIndex }, tdProps);\n            return (column.footerCell && React.createElement(column.footerCell, __assign({}, cellProps, { key: index }))) || (React.createElement(\"td\", __assign({ key: index }, tdProps, { role: 'columnfooter', \"aria-selected\": false, \"aria-colindex\": column.ariaColumnIndex })));\n        };\n        return _this;\n    }\n    Object.defineProperty(FooterRow.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FooterRow.prototype.render = function () {\n        return React.createElement(\"tr\", { role: \"row\", \"aria-rowindex\": this.props.ariaRowIndex }, footerColumns(this.props.columns).map(this.renderCell));\n    };\n    return FooterRow;\n}(React.Component));\nexport { FooterRow };\n","/**\n * @hidden\n */\nexport var packageMetadata = {\n    name: '@progress/kendo-react-grid',\n    productName: 'KendoReact',\n    productCodes: ['KENDOUIREACT', 'KENDOUICOMPLETE'],\n    publishDate: 1635345203,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning'\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport * as React from 'react';\n/** @hidden */\nexport var GridDetailCell = function (props) {\n    var colSpan = props.colSpan, ariaColIndex = props.ariaColIndex, dataItem = props.dataItem, dataIndex = props.dataIndex, id = props.id;\n    var navigationAttributes = useTableKeyboardNavigation(id);\n    return (React.createElement(\"td\", __assign({ className: \"k-detail-cell\", colSpan: colSpan, \"aria-colindex\": ariaColIndex, role: 'gridcell' }, navigationAttributes),\n        React.createElement(props.detail, { dataItem: dataItem, dataIndex: dataIndex })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useTableKeyboardNavigation } from '@progress/kendo-react-data-tools';\nimport * as React from 'react';\n/** @hidden */\nexport var GridDetailHierarchyCell = function (props) {\n    var navigationAttributes = useTableKeyboardNavigation(props.id);\n    return (React.createElement(\"td\", __assign({ className: \"k-hierarchy-cell\" }, navigationAttributes)));\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent, classNames, getter, guid, setScrollbarWidth, canUseDOM } from '@progress/kendo-react-common';\nimport { tableColumnsVirtualization, Pager, mapColumns, isRtl, tableKeyboardNavigation, TableKeyboardNavigationContext, tableKeyboardNavigationScopeAttributes, tableKeyboardNavigationTools as navigationTools, tableKeyboardNavigationBodyAttributes, getSelectionOptions, TableSelection, DropClue, DragClue } from '@progress/kendo-react-data-tools';\nimport { GridSelectionCell } from './cells/GridSelectionCell';\nimport { GridHierarchyCell } from './cells/GridHierarchyCell';\nimport { GridEditCell } from './cells/GridEditCell';\nimport { Header } from './header/Header';\nimport { HeaderRow } from './header/HeaderRow';\nimport { FilterRow } from './header/FilterRow';\nimport { GroupPanel } from './header/GroupPanel';\nimport { Footer } from './footer/Footer';\nimport { VirtualScroll } from './VirtualScroll';\nimport { ColumnResize } from './drag/ColumnResize';\nimport { CommonDragLogic } from './drag/CommonDragLogic';\nimport { getNestedValue, flatData, readColumns, autoGenerateColumns, sanitizeColumns } from './utils/index';\nimport { GridCell } from './cells/GridCell';\nimport { GridGroupCell } from './cells/GridGroupCell';\nimport { GridRow } from './rows/GridRow';\nimport { GridHeaderSelectionCell } from './header/GridHeaderSelectionCell';\nimport { GridNoRecords } from './GridNoRecords';\nimport { operators } from './filterCommon';\nimport { FooterRow } from './footer/FooterRow';\nimport { normalize } from './paging/GridPagerSettings';\nimport { pagerMessagesMap } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { GridDetailCell } from './cells/GridDetailCell';\nimport { GridDetailHierarchyCell } from './cells/GridDetailHierarchyCell';\n/**\n * Represents the [KendoReact Grid component]({% slug overview_grid %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    constructor(props) {\n *        super(props);\n *        this.state = {\n *            data: [\n *                { 'foo': 'A1', 'bar': 'B1' },\n *                { 'foo': 'A2', 'bar': 'B2' },\n *                { 'foo': 'A3', 'bar': 'B2' }\n *            ]\n *        };\n *    }\n *    render() {\n *        return (\n *            <Grid\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" />\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    function Grid(props) {\n        var _this = _super.call(this, props) || this;\n        _this._columns = [];\n        _this._columnsMap = [[]];\n        _this.contextStateRef = { current: undefined };\n        _this.navigationStateRef = { current: undefined };\n        _this.element = null;\n        _this.tableElement = null;\n        _this._header = null;\n        _this._footer = null;\n        _this.forceUpdateTimeout = undefined;\n        _this.isRtl = false;\n        _this._gridId = guid();\n        /**\n         * Method to allow the scroll to be set to a specific row index.\n         *\n         * @param options - Object, containing the rowIndex to which is going to be scrolled.\n         */\n        _this.scrollIntoView = function (options) {\n            if (!_this.vs.container || _this.props.scrollable === 'none') {\n                return;\n            }\n            var rowIndex = options.rowIndex;\n            if (_this.props.scrollable === 'virtual') {\n                _this.vs.askedSkip = rowIndex;\n                _this.vs.container.scroll(0, Math.round(_this.vs.askedSkip / _this.vs.total * _this.vs.container.scrollHeight));\n            }\n            else if (_this.element) {\n                var selectedRow = rowIndex < 1\n                    ? _this.element.querySelector(\"tbody > tr:nth-child(\" + 1 + \")\")\n                    : _this.element.querySelector(\"tbody > tr:nth-child(\" + rowIndex + \")\");\n                if (selectedRow) {\n                    selectedRow.scrollIntoView(true);\n                }\n            }\n        };\n        /**\n         * Method to fit columns according to their content.\n         *\n         * @param columnIds - Array of column ids to be fitted.\n         */\n        _this.fitColumns = function (columnIds) {\n            _this.columnResize.dblClickHandler(null, columnIds);\n        };\n        _this.scrollHandler = function (event) {\n            if (event.target !== event.currentTarget) {\n                return;\n            }\n            clearTimeout(_this.forceUpdateTimeout);\n            if (_this.props.columnVirtualization && !_this.vs.scrollableVirtual) {\n                _this.forceUpdateTimeout = window.setTimeout(function () { _this.forceUpdate(); }, 0);\n            }\n            if (_this._header) {\n                _this._header.setScrollLeft(event.currentTarget.scrollLeft);\n            }\n            if (_this._footer) {\n                _this._footer.setScrollLeft(event.currentTarget.scrollLeft);\n            }\n            if (_this.vs) {\n                _this.vs.scrollHandler(event);\n            }\n            dispatchEvent(_this.props.onScroll, event, _this, undefined);\n        };\n        _this.onKeyDown = function (event) {\n            tableKeyboardNavigation.onKeyDown(event, {\n                contextStateRef: _this.contextStateRef,\n                navigationStateRef: _this.navigationStateRef,\n                onNavigationAction: _this.onNavigationAction\n            });\n            if (_this.props.onKeyDown) {\n                var _a = getSelectionOptions(_this.props.selectable), mode = _a.mode, cell = _a.cell;\n                _this.props.onKeyDown.call(undefined, __assign({ dataItems: _this.getLeafDataItems(), mode: mode,\n                    cell: cell, componentId: _this._gridId, selectedField: _this.props.selectedField }, _this.getArguments(event)));\n            }\n        };\n        _this.onFocus = function (event) {\n            tableKeyboardNavigation.onFocus(event, {\n                contextStateRef: _this.contextStateRef\n            });\n        };\n        _this.onNavigationAction = function (options) {\n            if (_this.props.onNavigationAction) {\n                _this.props.onNavigationAction.call(undefined, __assign({ focusElement: options.focusElement }, _this.getArguments(options.event)));\n            }\n        };\n        _this.rowClick = function (e, item) {\n            if (_this.props.onRowClick && e.target.nodeName === 'TD') {\n                _this.props.onRowClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.rowDblClick = function (e, item) {\n            if (_this.props.onRowDoubleClick && e.target.nodeName === 'TD') {\n                _this.props.onRowDoubleClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.itemChange = function (event) {\n            var itemChange = _this.props.onItemChange;\n            if (event.field === _this.props.expandField || _this.props.group && event.field === undefined) {\n                var expandChange = _this.props.onExpandChange;\n                if (expandChange) {\n                    expandChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), { dataItem: event.dataItem, dataIndex: event.dataIndex, value: event.value }));\n                }\n                return;\n            }\n            if (itemChange) {\n                itemChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), { dataItem: event.dataItem, field: event.field, value: event.value }));\n            }\n        };\n        _this.onHeaderSelectionChange = function (event) {\n            if (_this.props.onHeaderSelectionChange) {\n                _this.props.onHeaderSelectionChange.call(undefined, {\n                    field: event.field,\n                    nativeEvent: event.syntheticEvent && event.syntheticEvent.nativeEvent,\n                    syntheticEvent: event.syntheticEvent,\n                    target: _this,\n                    dataItems: _this.getLeafDataItems(),\n                    selectedField: _this.props.selectedField\n                });\n            }\n        };\n        _this.selectionRelease = function (event) {\n            if (_this.props.onSelectionChange) {\n                var selectionEvent = __assign({ syntheticEvent: undefined, target: _this, selectedField: _this.props.selectedField || '', componentId: _this._gridId, dataItems: _this.getLeafDataItems(), dataItem: null }, event);\n                _this.props.onSelectionChange.call(undefined, selectionEvent);\n            }\n        };\n        _this.pageChange = function (page, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onPageChange, { page: page }, { skip: page.skip, take: page.take }, syntheticEvent);\n        };\n        _this.pagerPageChange = function (event) {\n            _this.pageChange({ skip: event.skip, take: event.take }, event.syntheticEvent);\n        };\n        _this.sortChange = function (sort, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onSortChange, { sort: sort }, { sort: sort }, syntheticEvent);\n        };\n        _this.filterChange = function (filter, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onFilterChange, { filter: filter }, { filter: filter, skip: 0 }, syntheticEvent);\n        };\n        _this.groupChange = function (groups, event) {\n            var syntheticEvent = event.nativeEvent ?\n                event : { nativeEvent: event.nativeEvent || event.originalEvent };\n            _this.raiseDataEvent(_this.props.onGroupChange, { group: groups }, { group: groups, skip: 0 }, syntheticEvent);\n        };\n        _this.onResize = function (index, newWidth, oldWidth, nativeEvent, end, targetId) {\n            _this.resetTableWidth();\n            if (_this.props.onColumnResize) {\n                _this.props.onColumnResize.call(undefined, {\n                    columns: _this.columns,\n                    nativeEvent: nativeEvent,\n                    targetColumnId: targetId,\n                    index: index,\n                    newWidth: newWidth,\n                    oldWidth: oldWidth,\n                    end: end,\n                    target: _this\n                });\n            }\n        };\n        _this.resolveTitle = function (field) {\n            var column = _this._columns.find(function (c) { return c.field === field; });\n            var title = column && (column.title || column.field);\n            return title === undefined ? field : title;\n        };\n        _this.getLeafDataItems = function () {\n            return _this._data.filter(function (item) { return item.rowType === 'data'; }).map(function (item) { return item.dataItem; });\n        };\n        validatePackage(packageMetadata);\n        var groupable = _this.props.groupable === true ||\n            (typeof _this.props.groupable === 'object') && _this.props.groupable.enabled !== false;\n        _this.vs = new VirtualScroll(groupable || props.rowHeight === undefined || props.rowHeight === 0);\n        _this.dragLogic = new CommonDragLogic(_this.columnReorder.bind(_this), _this.groupReorder.bind(_this), _this.columnToGroup.bind(_this));\n        _this.columnResize = new ColumnResize(_this.onResize);\n        tableKeyboardNavigation.onConstructor({\n            navigatable: Boolean(props.navigatable),\n            contextStateRef: _this.contextStateRef,\n            navigationStateRef: _this.navigationStateRef,\n            idPrefix: _this._gridId\n        });\n        return _this;\n    }\n    Object.defineProperty(Grid.prototype, \"columns\", {\n        /* eslint-disable max-len */\n        /**\n         * A getter of the current columns. Gets the current column width or current columns, or any other [`GridColumnProps`]({% slug api_grid_gridcolumnprops %}) for each defined column. Can be used on each Grid instance. To obtain the instance of the rendered Grid, use the `ref` callback. The following example demonstrates how to reorder the columns by dragging their handlers and check the properties afterwards. You can check the result in the browser console.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *         this.state = {\n         *             data: [\n         *                 { 'foo': 'A1', 'bar': 'B1' },\n         *                 { 'foo': 'A2', 'bar': 'B2' },\n         *                 { 'foo': 'A3', 'bar': 'B2' }\n         *             ]\n         *         };\n         *         this.grid = null;\n         *     }\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <Grid\n         *                     data={this.state.data}\n         *                     reorderable={true}\n         *                     ref={(g) => { this.grid = g; }}\n         *                 >\n         *                     <GridColumn field=\"foo\" />\n         *                     <GridColumn field=\"bar\" />\n         *                 </Grid>\n         *                 <button onClick={() => console.log(JSON.stringify(this.grid.columns))}>\n         *                     log current properties into browser console.\n         *                 </button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         * ReactDOM.render(<App />, document.querySelector('my-app'));\n         * ```\n         */\n        // tslint:enable:max-line-length\n        get: function () {\n            var shuffledColumns = this._columns.filter(function (q) { return q.declarationIndex >= 0 && q.parentIndex === -1; });\n            return sanitizeColumns(shuffledColumns);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Grid.prototype, \"document\", {\n        get: function () {\n            if (!canUseDOM) {\n                return;\n            }\n            // useful only for user actions\n            return (this.element && this.element.ownerDocument) || document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentDidMount = function () {\n        setScrollbarWidth();\n        var rtl = isRtl(this.element);\n        this.isRtl = rtl;\n        tableKeyboardNavigation.onComponentDidMount({\n            scope: this.element || undefined,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n        if (this.isRtl) {\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.getSnapshotBeforeUpdate = function () {\n        tableKeyboardNavigation.onGetSnapshotBeforeUpdate({\n            document: this.document,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentDidUpdate = function () {\n        setScrollbarWidth();\n        tableKeyboardNavigation.onComponentDidUpdate({\n            scope: this.element || undefined,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentWillUnmount = function () {\n        clearTimeout(this.forceUpdateTimeout);\n        this.columnResize.columns = [];\n        this.dragLogic.columns = [];\n        this._columns = [];\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.render = function () {\n        var _this = this;\n        var total = this.props.total || 0;\n        var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n        var propsData = [];\n        if (Array.isArray(this.props.data)) {\n            propsData = this.props.data;\n            total = total || this.props.data.length;\n        }\n        else if (this.props.data) {\n            propsData = this.props.data.data;\n            total = total || this.props.data.total;\n        }\n        var groupable = this.props.groupable === true ||\n            (typeof this.props.groupable === 'object') && this.props.groupable.enabled !== false;\n        this.columnResize.resizable = this.props.resizable || false;\n        this.dragLogic.reorderable = this.props.reorderable || false;\n        this.dragLogic.groupable = groupable;\n        var tableUserSelect = this.props.selectable && this.props.selectable.drag ? 'none' : undefined;\n        if (total !== this.vs.total) {\n            this.vs.reset();\n            this.vs = new VirtualScroll(groupable || this.props.rowHeight === undefined || this.props.rowHeight === 0);\n            this.vs.table = this.tableElement;\n        }\n        this.vs.fixedScroll = this.props.fixedScroll || false;\n        this.vs.PageChange = this.pageChange;\n        this.vs.realSkip = this.props.skip || 0;\n        this.vs.pageSize = (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 0;\n        this.vs.scrollableVirtual = (this.props.scrollable === 'virtual');\n        this.vs.total = total;\n        this.vs.propsSkip = (this.props.skip || 0) + (this.props.scrollable === 'virtual' ?\n            this.vs.topCacheCount + (this.vs.attendedSkip - (this.props.skip || 0)) : 0);\n        if (this.props.rowHeight !== undefined && this.props.rowHeight > 0 && !groupable) {\n            this.vs.containerHeight = Math.min(1533915, this.props.rowHeight * (total || 0));\n        }\n        else {\n            this.vs.containerHeight = 1533915;\n        }\n        var groupingFooter = (typeof this.props.groupable === 'object') && this.props.groupable.footer || 'none';\n        this._data = [];\n        var resolvedGroupsCount = flatData(this._data, propsData, groupingFooter, { index: this.props.skip || 0 }, this.props.group !== undefined, this.props.expandField);\n        var children = React.Children.toArray(this.props.children);\n        this.initColumns(children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridColumn'; }), resolvedGroupsCount);\n        var toolbar = children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridToolbar'; });\n        var noRecords = children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridNoRecords'; });\n        var leafColumns = this._columns.filter(function (c) { return c.children.length === 0; });\n        var groupingPanel = groupable && (React.createElement(GroupPanel, { group: this.props.group || [], groupChange: this.groupChange, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, refCallback: this.dragLogic.refGroupPanelDiv, resolveTitle: this.resolveTitle }));\n        var header = (React.createElement(Header, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', scrollableDataElement: function () { return _this.vs.container; }, draggable: this.props.reorderable || groupable, ref: function (h) {\n                _this._header = h;\n            }, headerRow: React.createElement(HeaderRow, { sort: this.props.sort, sortable: this.props.sortable, sortChange: this.sortChange, group: this.props.group || [], groupable: groupable, groupChange: this.groupChange, filter: this.props.filter, filterable: this.props.filterable, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, columnMenu: this.props.columnMenu, selectionChange: this.onHeaderSelectionChange, columns: this._columns, columnResize: this.columnResize, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, columnsMap: this._columnsMap, cellRender: this.props.headerCellRender, isRtl: this.isRtl }), filterRow: this.props.filterable && React.createElement(FilterRow, { columns: this._columns, filter: this.props.filter, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, sort: this.props.sort, cellRender: this.props.filterCellRender, isRtl: this.isRtl, ariaRowIndex: this._columnsMap.length + 1 }) || undefined, cols: leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); }) }));\n        var scrollLeft = this.vs && this.vs.container && this.vs.container.scrollLeft || 0;\n        var tableWidth = parseFloat(((this.props.style || {}).width || '').toString());\n        var _a = tableColumnsVirtualization({\n            enabled: this.props.columnVirtualization,\n            columns: leafColumns,\n            tableViewPortWidth: tableWidth,\n            scrollLeft: scrollLeft\n        }), colSpans = _a.colSpans, isColHidden = _a.hiddenColumns;\n        var dataRow = function (item, rowId, rowDataIndex) {\n            var isInEdit = false;\n            var selectedValue = _this.props.selectedField ? getNestedValue(_this.props.selectedField, item.dataItem) : undefined;\n            return {\n                row: leafColumns.map(function (column, columnIndex) {\n                    if (isColHidden[columnIndex]) {\n                        return null;\n                    }\n                    var className = \"\" + (column.className ? column.className + ' ' : '')\n                        + (\"\" + (column.locked ? 'k-grid-content-sticky' : ''));\n                    var style = column.left !== undefined\n                        ? !_this.isRtl\n                            ? { left: column.left, right: column.right }\n                            : { left: column.right, right: column.left }\n                        : {};\n                    var cellProps = {\n                        id: navigationTools.generateNavigatableId(rowId + \"-\" + String(columnIndex), idPrefix),\n                        colSpan: colSpans[columnIndex],\n                        dataItem: item.dataItem,\n                        field: column.field,\n                        editor: column.editor,\n                        format: column.format,\n                        className: className,\n                        render: _this.props.cellRender,\n                        onChange: _this.itemChange,\n                        selectionChange: (_this.props.onSelectionChange) ?\n                            (function (e) { _this.selectionChange({ event: e, dataItem: item.dataItem, dataIndex: rowDataIndex, columnIndex: columnIndex }); }) :\n                            undefined,\n                        columnIndex: columnIndex,\n                        columnsCount: leafColumns.length,\n                        rowType: item.rowType,\n                        level: item.level,\n                        expanded: item.expanded,\n                        dataIndex: item.dataIndex,\n                        style: style,\n                        ariaColumnIndex: column.ariaColumnIndex,\n                        isSelected: Array.isArray(selectedValue) && selectedValue.indexOf(columnIndex) > -1\n                    };\n                    var currentColumnIsInEdit = false;\n                    if (column.editable && _this.props.editField) {\n                        var inEdit = getNestedValue(_this.props.editField, item.dataItem);\n                        if (inEdit === true || inEdit === column.field) {\n                            isInEdit = true;\n                            currentColumnIsInEdit = true;\n                        }\n                    }\n                    if (column.cell) {\n                        return React.createElement(column.cell, __assign({ key: columnIndex }, cellProps));\n                    }\n                    return currentColumnIsInEdit\n                        ? React.createElement(GridEditCell, __assign({ key: columnIndex }, cellProps))\n                        : React.createElement(GridCell, __assign({ key: columnIndex }, cellProps));\n                }),\n                isInEdit: isInEdit,\n                isSelected: typeof selectedValue === 'boolean' && selectedValue\n            };\n        };\n        var hiddenRows = 0;\n        if (this.props.scrollable === 'virtual') {\n            for (var i = 0; i < this.vs.topCacheCount + this.vs.attendedSkip - (this.props.skip || 0); i++) {\n                var item = this._data.shift();\n                if (item) {\n                    this._data.push(item);\n                    hiddenRows++;\n                    if (item.rowType === 'groupHeader') {\n                        i--;\n                    }\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var hidden = function (index) {\n            return (index >= _this._data.length - hiddenRows);\n        };\n        var absoluteDataIndex = this.vs.propsSkip || 0;\n        var body = [];\n        var rowIndexStart = this._columnsMap.length + (this.props.filterable ? 1 : 0) + 1;\n        var currentAriaRowIndex;\n        if (this._data.length) {\n            var dataIndex_1 = -1;\n            var detailRowCount_1 = 0;\n            this._data.forEach(function (item, rowIndex) {\n                if (item.rowType === 'data') {\n                    absoluteDataIndex++;\n                    dataIndex_1++;\n                }\n                var isAlt = absoluteDataIndex % 2 === 0;\n                var dataItemKey = _this.props.dataItemKey && getter(_this.props.dataItemKey)(item.dataItem);\n                var absoluteIndex = rowIndex + (_this.vs.propsSkip || 0);\n                var rowId = dataItemKey ? dataItemKey : 'ai' + absoluteIndex;\n                var detailRowId = rowId + '_1';\n                var gridRow = dataRow(item, rowId, dataIndex_1);\n                currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n                body.push((React.createElement(GridRow, { key: rowId, dataItem: item.dataItem, isAltRow: isAlt, isInEdit: gridRow.isInEdit, rowType: item.rowType, isHidden: hidden(rowIndex), onClick: function (e) { return _this.rowClick(e, item); }, onDoubleClick: function (e) { return _this.rowDblClick(e, item); }, selectedField: _this.props.selectedField, rowHeight: _this.props.rowHeight, render: _this.props.rowRender, ariaRowIndex: currentAriaRowIndex, dataIndex: dataIndex_1, isSelected: gridRow.isSelected }, gridRow.row)));\n                if (_this.props.detail && item.rowType === 'data' && item.expanded) {\n                    var detailColspan = (leafColumns.length\n                        - (_this.props.expandField ? 1 : 0)\n                        - (_this.props.group ? _this.props.group.length : 0)) || 1;\n                    detailRowCount_1++;\n                    currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n                    body.push((React.createElement(\"tr\", { key: detailRowId, className: isAlt ? 'k-detail-row k-alt' : 'k-detail-row', style: { visibility: hidden(rowIndex) ? 'hidden' : '' }, role: \"row\", \"aria-rowindex\": currentAriaRowIndex },\n                        _this.props.group && _this.props.group.map(function (group, idx) {\n                            return (React.createElement(GridGroupCell, { id: '', dataIndex: item.dataIndex, field: group.field, dataItem: item.dataItem, key: idx, style: {}, ariaColumnIndex: 1 + idx, isSelected: false }));\n                        }),\n                        _this.props.expandField &&\n                            React.createElement(GridDetailHierarchyCell, { id: navigationTools.generateNavigatableId(detailRowId + \"-dhcell\", idPrefix) }),\n                        React.createElement(GridDetailCell, { dataItem: item.dataItem, dataIndex: item.dataIndex, colSpan: detailColspan, ariaColIndex: 2 + (_this.props.group ? _this.props.group.length : 0), detail: _this.props.detail, id: navigationTools.generateNavigatableId(detailRowId + \"-dcell\", idPrefix) }))));\n                }\n            });\n        }\n        else {\n            body.push((React.createElement(\"tr\", { key: \"no-records\", className: \"k-grid-norecords\", \"aria-rowindex\": rowIndexStart },\n                React.createElement(\"td\", { colSpan: leafColumns.length }, noRecords.length ? noRecords : React.createElement(GridNoRecords, null)))));\n        }\n        var pagerProps = __assign({ className: 'k-grid-pager', onPageChange: this.pagerPageChange, total: total, skip: this.vs.propsSkip || 0, take: (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 10, messagesMap: pagerMessagesMap }, (normalize(this.props.pageable || {})));\n        var pager = this.props.pager ? React.createElement(this.props.pager, __assign({}, pagerProps)) : React.createElement(Pager, __assign({}, pagerProps));\n        var sorted = function (field) {\n            return _this.props.sort && _this.props.sort.filter(function (descriptor) { return descriptor.field === field; }).length > 0;\n        };\n        var footer = this._columns.some(function (c) { return Boolean(c.footerCell); }) ? (React.createElement(Footer, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', ref: function (f) { return _this._footer = f; }, row: React.createElement(FooterRow, { columns: this._columns, isRtl: this.isRtl, ariaRowIndex: currentAriaRowIndex + 1 }), cols: leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); }) })) : null;\n        var colGroups = (React.createElement(\"colgroup\", { ref: function (c) {\n                _this.columnResize.colGroupMain = c;\n            }, role: \"presentation\" }, leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), className: sorted(column.field) ? 'k-sorted' : undefined, width: column.width !== undefined ?\n                Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); })));\n        var enableDragClues = this.dragLogic.reorderable || this.dragLogic.groupable;\n        if (this.props.scrollable === 'none') {\n            return (React.createElement(TableKeyboardNavigationContext.Provider, { value: this.contextStateRef.current },\n                React.createElement(\"div\", __assign({ style: this.props.style, className: classNames('k-widget k-grid', this.props.className), \"aria-colcount\": leafColumns.length, \"aria-rowcount\": total, ref: function (el) { _this.element = el; }, onKeyDown: this.onKeyDown, onFocus: this.onFocus }, tableKeyboardNavigationScopeAttributes),\n                    toolbar,\n                    groupingPanel,\n                    React.createElement(TableSelection, { selectable: this.props.selectable, onRelease: this.selectionRelease, childRef: function (table) {\n                            _this.vs.table = table;\n                            _this.tableElement = table;\n                            _this.resetTableWidth();\n                        } },\n                        React.createElement(\"table\", { style: { userSelect: tableUserSelect } },\n                            colGroups,\n                            header,\n                            React.createElement(\"tbody\", __assign({}, tableKeyboardNavigationBodyAttributes), body),\n                            footer)),\n                    this.props.pageable && pager,\n                    enableDragClues && (React.createElement(React.Fragment, null,\n                        React.createElement(DropClue, { ref: this.dragLogic.refDropElementClue }),\n                        React.createElement(DragClue, { ref: this.dragLogic.refDragElementClue }))))));\n        }\n        var wrapperStyle = this.props.style || {};\n        if (this.props.scrollable === 'virtual') {\n            // Set the default height for vs if not existing.\n            if (!wrapperStyle.height) {\n                wrapperStyle = Object.assign({}, wrapperStyle, { height: '450px' });\n            }\n        }\n        return (React.createElement(TableKeyboardNavigationContext.Provider, { value: this.contextStateRef.current },\n            React.createElement(\"div\", __assign({ style: wrapperStyle, className: classNames('k-widget k-grid', {\n                    'k-grid-virtual': this.props.scrollable === 'virtual'\n                }, this.props.className), ref: function (el) {\n                    _this.element = el;\n                    _this.resetTableWidth();\n                }, role: \"grid\", \"aria-colcount\": leafColumns.length, \"aria-rowcount\": total, onKeyDown: this.onKeyDown, onFocus: this.onFocus }, tableKeyboardNavigationScopeAttributes),\n                toolbar,\n                groupingPanel,\n                header,\n                React.createElement(\"div\", { className: \"k-grid-container\", role: \"presentation\" },\n                    React.createElement(\"div\", { ref: function (container) {\n                            _this.vs.container = container;\n                        }, className: \"k-grid-content k-virtual-content\", onScroll: this.scrollHandler, role: \"presentation\" },\n                        React.createElement(\"div\", { style: { 'position': 'relative' }, role: \"presentation\" },\n                            React.createElement(TableSelection, { selectable: this.props.selectable, onRelease: this.selectionRelease, childRef: function (table) {\n                                    _this.vs.table = table;\n                                    _this.tableElement = table;\n                                } },\n                                React.createElement(\"table\", { className: 'k-grid-table', role: \"presentation\", style: { userSelect: tableUserSelect } },\n                                    colGroups,\n                                    React.createElement(\"tbody\", __assign({ ref: function (tableBody) {\n                                            _this.vs.tableBody = tableBody;\n                                        }, role: \"presentation\" }, tableKeyboardNavigationBodyAttributes), body)))),\n                        React.createElement(\"div\", { className: \"k-height-container\", role: \"presentation\" },\n                            React.createElement(\"div\", { style: this.props.scrollable === 'virtual' ?\n                                    { 'height': (this.vs.containerHeight) + 'px' } : {} })))),\n                footer,\n                this.props.pageable && pager,\n                enableDragClues && (React.createElement(React.Fragment, null,\n                    React.createElement(DropClue, { ref: this.dragLogic.refDropElementClue }),\n                    React.createElement(DragClue, { ref: this.dragLogic.refDragElementClue }))))));\n    };\n    Grid.prototype.selectionChange = function (options) {\n        if (this.props.onSelectionChange) {\n            var event_1 = options.event, dataItem = options.dataItem, dataIndex = options.dataIndex, columnIndex = options.columnIndex;\n            var _a = getSelectionOptions(this.props.selectable), mode = _a.mode, cell = _a.cell;\n            var selectionEvent = __assign({}, this.getArguments(event_1.syntheticEvent), { dataItem: dataItem, startColIndex: columnIndex, endColIndex: columnIndex, startRowIndex: dataIndex, endRowIndex: dataIndex, dataItems: this.getLeafDataItems(), altKey: false, ctrlKey: false, shiftKey: false, metaKey: false, mode: mode,\n                cell: cell, isDrag: false, componentId: this._gridId, selectedField: this.props.selectedField || '' });\n            this.props.onSelectionChange.call(undefined, selectionEvent);\n        }\n    };\n    Grid.prototype.raiseDataEvent = function (handler, data, moreData, syntheticEvent) {\n        var dataStateChange = this.props.onDataStateChange;\n        if (handler) {\n            handler.call(undefined, __assign({}, this.getArguments(syntheticEvent), data));\n        }\n        else if (dataStateChange) {\n            dataStateChange.call(undefined, __assign({}, this.getArguments(syntheticEvent), { dataState: __assign({}, this.getDataState(), moreData) }));\n        }\n    };\n    Grid.prototype.columnReorder = function (prev, next, nativeEvent) {\n        var _this = this;\n        var _a;\n        var depth = this._columns[prev].depth;\n        var end = function (index) {\n            do {\n                index++;\n            } while (index < _this._columns.length && _this._columns[index].depth > depth);\n            return index;\n        };\n        var spliced = this._columns.splice(prev, end(prev) - prev);\n        (_a = this._columns).splice.apply(_a, [prev < next ? end(next - spliced.length) : next, 0].concat(spliced));\n        this._columns.filter(function (q) { return q.declarationIndex >= 0; }).forEach(function (c, i) { return c.orderIndex = i; });\n        var eventColumnProps = this.columns;\n        this.forceUpdate();\n        if (this.props.onColumnReorder) {\n            this.props.onColumnReorder.call(undefined, {\n                target: this,\n                columns: eventColumnProps,\n                nativeEvent: nativeEvent\n            });\n        }\n    };\n    Grid.prototype.groupReorder = function (prevIndex, nextIndex, nativeEvent) {\n        if (this.props.group === undefined) {\n            return;\n        }\n        var group = this.props.group.slice();\n        group.splice.apply(group, [nextIndex, 0].concat(group.splice(prevIndex, 1)));\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.columnToGroup = function (columnIndex, groupIndex, nativeEvent) {\n        var field = this._columns[columnIndex].field;\n        if (!field) {\n            return;\n        }\n        var group = (this.props.group || []).slice();\n        group.splice(groupIndex, 0, { field: field });\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.resetTableWidth = function () {\n        var totalWidth = 0;\n        if (!this.columnResize.colGroupMain) {\n            return;\n        }\n        var colElements = this.columnResize.colGroupMain.children;\n        for (var i = 0; i < colElements.length; i++) {\n            var width = colElements[i].width;\n            if (!width) {\n                return;\n            }\n            totalWidth += parseFloat(width.toString());\n        }\n        totalWidth = Math.round(totalWidth);\n        if (this._header) {\n            this._header.setWidth(totalWidth);\n        }\n        if (this._footer) {\n            this._footer.setWidth(totalWidth);\n        }\n        if (this.vs.table) {\n            this.vs.table.style.width = totalWidth + 'px';\n        }\n    };\n    Grid.prototype.initColumns = function (columnElements, groupCount) {\n        var _this = this;\n        var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n        this._columns = readColumns(columnElements, this.columns, { prevId: 0, idPrefix: idPrefix });\n        if (this._columns.length === 0) {\n            this._columns = autoGenerateColumns(this.props.data, this.props.group, this.props.expandField, { prevId: 0, idPrefix: idPrefix });\n        }\n        if (this.props.selectedField) {\n            this._columns.filter(function (c) { return c.field === _this.props.selectedField; }).forEach(function (c) {\n                c.width = c.width || '50px';\n                c.cell = c.cell || GridSelectionCell;\n                c.headerCell = c.headerCell || GridHeaderSelectionCell;\n            });\n        }\n        var defaultServiceProps = {\n            id: '',\n            resizable: true,\n            width: '32px',\n            title: ' ',\n            declarationIndex: -1,\n            orderIndex: -1,\n            children: [],\n            parentIndex: -1,\n            depth: 0,\n            colSpan: 0,\n            rowSpan: 0,\n            left: 0,\n            right: 0,\n            index: 0,\n            rightBorder: false,\n            ariaColumnIndex: 0,\n            isAccessible: true\n        };\n        var columnIndexOffset = 0;\n        if (this.props.expandField && (this.props.onExpandChange) && this.props.detail) {\n            this._columns.unshift(__assign({}, defaultServiceProps, { cell: GridHierarchyCell, field: this.props.expandField, headerClassName: 'k-hierarchy-cell k-header', id: navigationTools.generateNavigatableId(\"\" + this._columns.length, idPrefix, 'column') }));\n            columnIndexOffset++;\n        }\n        for (var i = 0; i < groupCount; i++) {\n            this._columns.unshift(__assign({}, defaultServiceProps, { isAccessible: false, cell: GridGroupCell, field: 'value' }));\n            columnIndexOffset++;\n        }\n        this._columns.slice(columnIndexOffset).forEach(function (c) { return c.parentIndex >= 0 && (c.parentIndex += columnIndexOffset); });\n        this._columnsMap = mapColumns(this._columns);\n        this.columnResize.columns = this._columns;\n        this.dragLogic.columns = this._columns;\n    };\n    Grid.prototype.getDataState = function () {\n        return {\n            filter: this.props.filter,\n            sort: this.props.sort,\n            skip: this.props.skip,\n            take: (this.props.take !== undefined ? this.props.take : this.props.pageSize),\n            group: this.props.group\n        };\n    };\n    Grid.prototype.getArguments = function (syntheticEvent) {\n        return {\n            nativeEvent: syntheticEvent && syntheticEvent.nativeEvent,\n            syntheticEvent: syntheticEvent,\n            target: this\n        };\n    };\n    /**\n     * @hidden\n     */\n    Grid.displayName = 'KendoReactGrid';\n    /**\n     * @hidden\n     */\n    Grid.defaultProps = {\n    // never use this\n    };\n    /**\n     * @hidden\n     */\n    Grid.propTypes = {\n        data: PropTypes.oneOfType([\n            PropTypes.array,\n            PropTypes.shape({\n                data: PropTypes.array,\n                total: PropTypes.number\n            })\n        ]),\n        sortable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                mode: PropTypes.oneOf(['single', 'multiple']),\n                allowUnsort: PropTypes.bool\n            })\n        ]),\n        onSortChange: PropTypes.func,\n        sort: PropTypes.array,\n        filterable: PropTypes.bool,\n        filter: PropTypes.any,\n        onFilterChange: PropTypes.func,\n        pageable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                buttonCount: PropTypes.number,\n                info: PropTypes.bool,\n                type: PropTypes.oneOf(['numeric', 'input']),\n                pageSizes: PropTypes.oneOfType([PropTypes.bool, PropTypes.arrayOf(PropTypes.number)]),\n                previousNext: PropTypes.bool\n            })\n        ]),\n        pageSize: PropTypes.number,\n        onPageChange: PropTypes.func,\n        total: PropTypes.number,\n        skip: PropTypes.number,\n        take: PropTypes.number,\n        fixedScroll: PropTypes.bool,\n        onExpandChange: PropTypes.func,\n        expandField: PropTypes.string,\n        selectedField: PropTypes.string,\n        onSelectionChange: PropTypes.func,\n        onHeaderSelectionChange: PropTypes.func,\n        resizable: PropTypes.bool,\n        reorderable: PropTypes.bool,\n        group: PropTypes.any,\n        groupable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                enabled: PropTypes.bool,\n                footer: PropTypes.oneOf(['always', 'visible', 'none'])\n            })\n        ]),\n        onGroupChange: PropTypes.func,\n        onRowClick: PropTypes.func,\n        onRowDoubleClick: PropTypes.func,\n        onItemChange: PropTypes.func,\n        editField: PropTypes.string,\n        scrollable: PropTypes.oneOf(['none', 'scrollable', 'virtual']),\n        rowHeight: PropTypes.number,\n        detail: PropTypes.any,\n        style: PropTypes.object,\n        onDataStateChange: PropTypes.func,\n        onColumnResize: PropTypes.func,\n        onColumnReorder: PropTypes.func,\n        dataItemKey: PropTypes.string,\n        navigatable: PropTypes.bool\n    };\n    /** @hidden */\n    Grid.contextType = TableKeyboardNavigationContext;\n    return Grid;\n}(React.Component));\nexport { Grid };\n","/**\n * @hidden\n */\nexport function tableColumnsVirtualization(args) {\n    var enabled = args.enabled, _a = args.columns, columns = _a === void 0 ? [] : _a, tableViewPortWidth = args.tableViewPortWidth, scrollLeft = args.scrollLeft;\n    var colSpans = columns.map(function () { return 1; });\n    var hiddenColumns = columns.map(function () { return false; });\n    if (!enabled) {\n        return { colSpans: colSpans, hiddenColumns: hiddenColumns };\n    }\n    var widths = columns.map(function (c) { return parseFloat((c.width || '').toString()) || 10; });\n    var widthOfHiddenColumns = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (columns[i].locked) {\n            continue;\n        }\n        var considerNext = (i < widths.length - 1) ? widths[i + 1] : 0;\n        if (widthOfHiddenColumns + widths[i] + considerNext < scrollLeft) {\n            hiddenColumns[i] = true;\n            widthOfHiddenColumns += widths[i];\n        }\n        else {\n            break;\n        }\n    }\n    var totalWidth = widths.reduce(function (acc, current) { return acc + current; }, 0);\n    widthOfHiddenColumns = 0;\n    for (var i = columns.length - 1; i >= 0; i--) {\n        if (columns[i].locked) {\n            continue;\n        }\n        if (widthOfHiddenColumns + 2 * widths[i] < totalWidth - tableViewPortWidth - scrollLeft) {\n            hiddenColumns[i] = true;\n            widthOfHiddenColumns += widths[i];\n        }\n        else {\n            break;\n        }\n    }\n    var hiddenCols = hiddenColumns.slice();\n    var hidden = function (value) { return value; };\n    var lastVisible = hiddenCols.lastIndexOf(false);\n    var anyHidden = hiddenCols.some(hidden);\n    var allHidden = hiddenCols.every(hidden);\n    var hiddenSeqLength;\n    var updateIndex;\n    while (anyHidden && hiddenCols.length && (lastVisible !== -1 || allHidden)) {\n        if (lastVisible < hiddenCols.length - 1) {\n            hiddenSeqLength = allHidden ? hiddenCols.length : hiddenCols.length - lastVisible - 1;\n            updateIndex = hiddenCols.length - hiddenSeqLength;\n            if (updateIndex === 0) {\n                updateIndex = hiddenSeqLength - 1;\n            }\n            hiddenColumns[updateIndex] = false;\n            colSpans[updateIndex] = hiddenSeqLength;\n            hiddenCols.splice(lastVisible + 1, hiddenSeqLength);\n        }\n        while (hiddenCols.length && !hiddenCols[hiddenCols.length - 1]) {\n            hiddenCols.pop();\n        }\n        lastVisible = hiddenCols.lastIndexOf(false);\n        anyHidden = hiddenCols.some(hidden);\n        allHidden = hiddenCols.every(hidden);\n    }\n    return { colSpans: colSpans, hiddenColumns: hiddenColumns };\n}\n","/**\n * @hidden\n */\nvar normalizeSettings = function (_a) {\n    var _b = _a.buttonCount, buttonCount = _b === void 0 ? 10 : _b, _c = _a.info, info = _c === void 0 ? true : _c, _d = _a.type, type = _d === void 0 ? 'numeric' : _d, _e = _a.pageSizes, pageSizes = _e === void 0 ? undefined : _e, _f = _a.previousNext, previousNext = _f === void 0 ? true : _f;\n    return ({\n        buttonCount: buttonCount,\n        info: info,\n        pageSizes: pageSizes === true ? [5, 10, 20] : (pageSizes || undefined),\n        previousNext: previousNext,\n        type: type\n    });\n};\n/**\n * @hidden\n */\nexport var normalize = function (settings) {\n    return normalizeSettings(settings === true ? {} : settings);\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/**\n * The GridColumnMenuItemGroup that will be used inside the Grid ColumnMenu.\n */\nvar GridColumnMenuItemGroup = /** @class */ (function (_super) {\n    __extends(GridColumnMenuItemGroup, _super);\n    function GridColumnMenuItemGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuItemGroup.prototype.render = function () {\n        var children = this.props.children;\n        return (React.createElement(\"div\", { className: \"k-columnmenu-item-wrapper\" }, children));\n    };\n    return GridColumnMenuItemGroup;\n}(React.Component));\nexport { GridColumnMenuItemGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/**\n * The GridColumnMenuItem component that is used inside the Grid ColumnMenu.\n */\nvar GridColumnMenuItem = /** @class */ (function (_super) {\n    __extends(GridColumnMenuItem, _super);\n    function GridColumnMenuItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onClick = function (e) {\n            if (_this.props.onClick) {\n                _this.props.onClick(e);\n            }\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuItem.prototype.render = function () {\n        var _a = this.props, title = _a.title, iconClass = _a.iconClass, selected = _a.selected;\n        return (React.createElement(\"div\", { onClick: this.onClick, className: \"k-columnmenu-item \" + (selected ? 'k-state-selected' : '') },\n            iconClass && React.createElement(\"span\", { className: \"k-icon \" + iconClass }),\n            title));\n    };\n    return GridColumnMenuItem;\n}(React.Component));\nexport { GridColumnMenuItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { provideLocalizationService, registerForIntl, registerForLocalization } from '@progress/kendo-react-intl';\nimport { GridColumnMenuItemGroup } from './GridColumnMenuItemGroup';\nimport { GridColumnMenuItem } from './GridColumnMenuItem';\nimport { groupColumn, ungroupColumn, messages } from '../messages';\n/**\n * @example\n * ```jsx-no-run\n * class TextColumnMenu extends React.Component {\n *     render() {\n *         return (\n *         <div>\n *             <GridColumnMenuSort {...this.props} />\n *             <GridColumnMenuGroup {...this.props} />\n *         </div>);\n *     }\n * }\n *\n * class App extends React.PureComponent {\n *     constructor(props) {\n *         super(props);\n *\n *         this.state = this.createAppState({\n *             take: 10,\n *             skip: 0\n *         });\n *     }\n *\n *     createAppState(dataState) {\n *         return {\n *             result: process(products.slice(0), dataState),\n *             dataState: dataState\n *         };\n *     }\n *\n *     dataStateChange = (event) => {\n *         this.setState(this.createAppState(event.dataState));\n *     }\n *\n *     render() {\n *         return (\n *             <div>\n *                 <Grid\n *                     data={this.state.result}\n *                     {...this.state.dataState}\n *                     onDataStateChange={this.dataStateChange}\n *                     sortable={true}\n *                     pageable={true}\n *                 >\n *                     <Column field=\"ProductID\" title=\"Product ID\" />\n *                     <Column field=\"ProductName\" columnMenu={TextColumnMenu} />\n *                 </Grid>\n *                 <br />\n *             </div>\n *         );\n *     }\n * }\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar GridColumnMenuGroup = /** @class */ (function (_super) {\n    __extends(GridColumnMenuGroup, _super);\n    function GridColumnMenuGroup() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onGroupClick = function (event) {\n            event.preventDefault();\n            if (_this.props.onGroupChange) {\n                var column_1 = _this.props.column;\n                if (!column_1.field) {\n                    return;\n                }\n                var newGroup = (_this.props.group || []).slice();\n                var groupIndex = newGroup.findIndex(function (group) { return group.field === column_1.field; });\n                if (groupIndex > -1) {\n                    newGroup.splice(groupIndex, 1);\n                }\n                else {\n                    newGroup.push({\n                        field: column_1.field\n                    });\n                }\n                _this.props.onGroupChange(newGroup, event);\n            }\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuGroup.prototype.render = function () {\n        var _a = this.props, group = _a.group, column = _a.column;\n        var localizationService = provideLocalizationService(this);\n        var isGrouped = Boolean(group && column.field && group.find(function (currentGroup) { return currentGroup.field === column.field; }));\n        var message = !isGrouped ? groupColumn : ungroupColumn;\n        var iconClass = !isGrouped ? 'k-i-group' : 'k-i-ungroup';\n        return (React.createElement(GridColumnMenuItemGroup, null,\n            React.createElement(GridColumnMenuItem, { title: localizationService.toLanguageString(message, messages[message]), iconClass: iconClass, onClick: this.onGroupClick })));\n    };\n    return GridColumnMenuGroup;\n}(React.Component));\nexport { GridColumnMenuGroup };\nregisterForIntl(GridColumnMenuGroup);\nregisterForLocalization(GridColumnMenuGroup);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { GridColumnMenuItem } from './GridColumnMenuItem';\nimport { GridColumnMenuItemGroup } from './GridColumnMenuItemGroup';\nimport { normalize } from '../interfaces/GridSortSettings';\nimport { provideLocalizationService, registerForIntl, registerForLocalization } from '@progress/kendo-react-intl';\nimport { messages, sortAscending, sortDescending } from '../messages';\n/**\n * @hidden\n */\nvar ASC_DIR = 'asc';\n/**\n * @hidden\n */\nvar DESC_DIR = 'desc';\n/**\n * @hidden\n */\nvar sortSeqMap = {\n    true: {\n        'asc': { 'asc': '', 'desc': 'desc' },\n        'desc': { 'asc': 'asc', 'desc': '' },\n        '': { 'asc': 'asc', 'desc': 'desc' }\n    },\n    false: {\n        'asc': { 'asc': 'asc', 'desc': 'desc' },\n        'desc': { 'asc': 'asc', 'desc': 'desc' },\n        '': { 'asc': 'asc', 'desc': 'desc' }\n    }\n};\n/**\n * @hidden\n */\nvar sortIndex = function (field, sort) {\n    if (!sort) {\n        return -1;\n    }\n    return sort.findIndex(function (s) { return s.field === field; });\n};\n/**\n * @hidden\n */\nvar sortedAsc = function (sortedIndex, sort) {\n    return !!(sort && sortedIndex > -1 && sort[sortedIndex].dir === ASC_DIR);\n};\n/**\n * @hidden\n */\nvar sortedDesc = function (sortedIndex, sort) {\n    return !!(sort && sortedIndex > -1 && sort[sortedIndex].dir === DESC_DIR);\n};\n/**\n * @example\n * ```jsx-no-run\n * class ColumnMenu extends React.Component {\n *     render() {\n *         return (\n *         <div>\n *             <GridColumnMenuSort {...this.props} />\n *         </div>);\n *     }\n * }\n *\n * class App extends React.PureComponent {\n *     constructor(props) {\n *         super(props);\n *\n *         this.state = this.createAppState({\n *             take: 10,\n *             skip: 0\n *         });\n *     }\n *\n *     createAppState(dataState) {\n *         return {\n *             result: process(products.slice(0), dataState),\n *             dataState: dataState\n *         };\n *     }\n *\n *     dataStateChange = (event) => {\n *         this.setState(this.createAppState(event.dataState));\n *     }\n *\n *     render() {\n *         return (\n *             <div>\n *                 <Grid\n *                     data={this.state.result}\n *                     {...this.state.dataState}\n *                     onDataStateChange={this.dataStateChange}\n *                     sortable={true}\n *                     pageable={true}\n *                 >\n *                     <Column field=\"ProductID\" title=\"Product ID\" columnMenu={ColumnMenu}/>\n *                     <Column field=\"ProductName\" />\n *                 </Grid>\n *                 <br />\n *             </div>\n *         );\n *     }\n * }\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar GridColumnMenuSort = /** @class */ (function (_super) {\n    __extends(GridColumnMenuSort, _super);\n    function GridColumnMenuSort() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.onAscClick = function (event) {\n            _this.onSort(event, ASC_DIR);\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onDescClick = function (event) {\n            _this.onSort(event, DESC_DIR);\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onSort = function (event, selectedDir) {\n            event.preventDefault();\n            if (!_this.props.onSortChange) {\n                return;\n            }\n            var _a = _this.props, column = _a.column, sortable = _a.sortable, sort = _a.sort;\n            var _b = normalize(sortable || false, false), allowUnsort = _b.allowUnsort, mode = _b.mode;\n            var oldDescriptor = (sort || []).filter(function (d) { return d.field === column.field; })[0];\n            var dir = sortSeqMap[allowUnsort][oldDescriptor && oldDescriptor.dir || ''][selectedDir];\n            var newDescriptor = (mode === 'single') ?\n                [] : (_this.props.sort || []).filter(function (d) { return d.field !== column.field; });\n            if (dir !== '' && column.field) {\n                newDescriptor.push({ field: column.field, dir: dir });\n            }\n            _this.props.onSortChange(newDescriptor, event);\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuSort.prototype.render = function () {\n        var _a = this.props, sort = _a.sort, column = _a.column;\n        var currentSortIndex = sortIndex(column.field, sort);\n        var localizationService = provideLocalizationService(this);\n        return (React.createElement(GridColumnMenuItemGroup, null,\n            React.createElement(GridColumnMenuItem, { title: localizationService.toLanguageString(sortAscending, messages[sortAscending]), iconClass: 'k-i-sort-asc-sm', selected: sortedAsc(currentSortIndex, sort), onClick: this.onAscClick }),\n            React.createElement(GridColumnMenuItem, { title: localizationService.toLanguageString(sortDescending, messages[sortDescending]), iconClass: 'k-i-sort-desc-sm', selected: sortedDesc(currentSortIndex, sort), onClick: this.onDescClick })));\n    };\n    /* eslint-disable max-len */\n    /**\n     * Can be used to check if sorting is applied to a specific field ([see example]({% slug column_menu_grid %}#toc-styling-the-column-menu-icon)). Useful for creating active sort indicators.\n     */\n    // tslint:enable:max-line-length\n    GridColumnMenuSort.active = function (field, sort) {\n        var currentSortIndex = sortIndex(field, sort);\n        return sortedDesc(currentSortIndex, sort) || sortedAsc(currentSortIndex, sort);\n    };\n    return GridColumnMenuSort;\n}(React.Component));\nexport { GridColumnMenuSort };\nregisterForIntl(GridColumnMenuSort);\nregisterForLocalization(GridColumnMenuSort);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Reveal } from '@progress/kendo-react-animation';\n/**\n * The GridColumnMenuItemContent that will be used inside the Grid ColumnMenu.\n */\nvar GridColumnMenuItemContent = /** @class */ (function (_super) {\n    __extends(GridColumnMenuItemContent, _super);\n    function GridColumnMenuItemContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuItemContent.prototype.render = function () {\n        return (React.createElement(\"div\", { className: 'k-columnmenu-item-content' },\n            React.createElement(Reveal, { style: { position: 'relative', display: 'block' } }, this.props.show ? this.props.children : null)));\n    };\n    return GridColumnMenuItemContent;\n}(React.Component));\nexport { GridColumnMenuItemContent };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\nimport { NumericTextBox } from '@progress/kendo-react-inputs';\nimport { DatePicker } from '@progress/kendo-react-dateinputs';\nimport { cellBoolDropdownChange, cellInputChange, cellOperatorChange } from '../filterCommon';\n/**\n * @hidden\n */\nvar GridColumnMenuFilterCell = /** @class */ (function (_super) {\n    __extends(GridColumnMenuFilterCell, _super);\n    function GridColumnMenuFilterCell(props) {\n        var _this = _super.call(this, props) || this;\n        _this.renderOperatorEditor = function () {\n            if (_this.props.filterType === 'boolean') {\n                return;\n            }\n            var value = _this.props.operators.find(function (item) { return item.operator === _this.props.operator; }) || null;\n            return (React.createElement(DropDownList, { value: value, onChange: _this.operatorChange, data: _this.props.operators, textField: \"text\" }));\n        };\n        _this.inputChange = _this.inputChange.bind(_this);\n        _this.operatorChange = _this.operatorChange.bind(_this);\n        _this.boolDropdownChange = _this.boolDropdownChange.bind(_this);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuFilterCell.prototype.render = function () {\n        return (React.createElement(\"div\", null,\n            this.renderOperatorEditor(),\n            this.filterComponent(this.props.filterType, this.props.value, this.props.booleanValues)));\n    };\n    GridColumnMenuFilterCell.prototype.inputChange = function (value, e) {\n        cellInputChange(value, e, this.props);\n    };\n    GridColumnMenuFilterCell.prototype.operatorChange = function (event) {\n        cellOperatorChange(event, this.props.value, this.props.onChange);\n    };\n    GridColumnMenuFilterCell.prototype.boolDropdownChange = function (event) {\n        cellBoolDropdownChange(event, this.props.onChange);\n    };\n    GridColumnMenuFilterCell.prototype.filterComponent = function (filterType, value, booleanValues) {\n        var _this = this;\n        switch (filterType) {\n            case 'numeric':\n                return (React.createElement(NumericTextBox, { value: value, onChange: function (e) { _this.inputChange(e.value, e.syntheticEvent); }, rangeOnEnter: false }));\n            case 'date':\n                return (React.createElement(DatePicker, { value: value, onChange: function (e) { _this.inputChange(e.value, e.syntheticEvent); } }));\n            case 'boolean':\n                var noFilterSet_1 = function (filter) { return filter === null || filter === undefined; };\n                return (React.createElement(DropDownList, { onChange: this.boolDropdownChange, value: booleanValues.find(function (item) { return item.operator === (noFilterSet_1(value) ? '' : value); }), data: booleanValues, textField: \"text\" }));\n            default: return (React.createElement(\"input\", { className: \"k-textbox\", value: value || '', onChange: function (e) { _this.inputChange(e.target.value, e); } }));\n        }\n    };\n    return GridColumnMenuFilterCell;\n}(React.Component));\nexport { GridColumnMenuFilterCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { GridColumnMenuFilterCell } from './GridColumnMenuFilterCell';\nimport { DropDownList } from '@progress/kendo-react-dropdowns';\n/**\n * @hidden\n */\nvar GridColumnMenuFilterUI = /** @class */ (function (_super) {\n    __extends(GridColumnMenuFilterUI, _super);\n    function GridColumnMenuFilterUI() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridColumnMenuFilterUI.prototype.render = function () {\n        var _a = this.props, firstFilterProps = _a.firstFilterProps, hideSecondFilter = _a.hideSecondFilter, secondFilterProps = _a.secondFilterProps, logicData = _a.logicData, logicValue = _a.logicValue, onLogicChange = _a.onLogicChange;\n        return (React.createElement(\"div\", null,\n            React.createElement(GridColumnMenuFilterCell, __assign({}, firstFilterProps)),\n            !hideSecondFilter && (React.createElement(\"div\", null,\n                React.createElement(DropDownList, { data: logicData, value: logicValue, onChange: onLogicChange, className: 'k-filter-and', textField: \"text\" }),\n                React.createElement(GridColumnMenuFilterCell, __assign({}, secondFilterProps))))));\n    };\n    return GridColumnMenuFilterUI;\n}(React.Component));\nexport { GridColumnMenuFilterUI };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { isCompositeFilterDescriptor } from '@progress/kendo-data-query';\nimport { GridColumnMenuItem } from './GridColumnMenuItem';\nimport { GridColumnMenuItemGroup } from './GridColumnMenuItemGroup';\nimport { GridColumnMenuItemContent } from './GridColumnMenuItemContent';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { operatorMap, getDefaultOperator, filterLogicList, defaultHideSecondFilter, booleanFilterValues, getFilterType, IsUnaryFilter } from '../filterCommon';\nimport { messages, filterClearButton, filterSubmitButton, filterTitle } from '../messages';\nimport { GridColumnMenuFilterUI } from './GridColumnMenuFilterUI';\n/**\n * @hidden\n */\nexport var rootFilterOrDefault = function (rootFilter) {\n    return (rootFilter || { filters: [], logic: 'and' });\n};\n/**\n * @hidden\n */\nexport var filterGroupByField = function (field, filter) {\n    var rootFilter = rootFilterOrDefault(filter);\n    var compositeFilters = rootFilter.filters\n        .filter(function (f) {\n        if (isCompositeFilterDescriptor(f)) {\n            return f.filters &&\n                f.filters.length &&\n                f.filters.length <= 2 &&\n                !f.filters.find(function (nf) { return isCompositeFilterDescriptor(nf) || nf.field !== field; });\n        }\n        return false;\n    });\n    return compositeFilters[0] || null;\n};\n/**\n * @example\n * ```jsx-no-run\n * class TextColumnMenu extends React.Component {\n *     render() {\n *         return (\n *         <div>\n *             <GridColumnMenuSort {...this.props} />\n *             <GridColumnMenuFilter {...this.props} />\n *         </div>);\n *     }\n * }\n *\n * class App extends React.PureComponent {\n *     constructor(props) {\n *         super(props);\n *\n *         this.state = this.createAppState({\n *             take: 10,\n *             skip: 0\n *         });\n *     }\n *\n *     createAppState(dataState) {\n *         return {\n *             result: process(products.slice(0), dataState),\n *             dataState: dataState\n *         };\n *     }\n *\n *     dataStateChange = (event) => {\n *         this.setState(this.createAppState(event.dataState));\n *     }\n *\n *     render() {\n *         return (\n *             <div>\n *                 <Grid\n *                     data={this.state.result}\n *                     {...this.state.dataState}\n *                     onDataStateChange={this.dataStateChange}\n *                     sortable={true}\n *                     pageable={true}\n *                 >\n *                     <Column field=\"ProductID\" title=\"Product ID\" />\n *                     <Column field=\"ProductName\" columnMenu={TextColumnMenu} />\n *                 </Grid>\n *                 <br />\n *             </div>\n *         );\n *     }\n * }\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar GridColumnMenuFilter = /** @class */ (function (_super) {\n    __extends(GridColumnMenuFilter, _super);\n    function GridColumnMenuFilter(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.removeGroup = function (group, rootFilter) {\n            var filters = rootFilter.filters.slice();\n            var groupIndex = filters\n                .findIndex(function (f) { return f === group; });\n            if (groupIndex > -1) {\n                filters.splice(groupIndex, 1);\n            }\n            return __assign({}, rootFilter, { filters: filters });\n        };\n        /**\n         * @hidden\n         */\n        _this.insertGroup = function (group, rootFilter) {\n            return __assign({}, rootFilter, { filters: [\n                    group\n                ].concat(rootFilter.filters) });\n        };\n        /**\n         * @hidden\n         */\n        _this.isControlled = function () { return _this.props.expanded !== undefined; };\n        /**\n         * @hidden\n         */\n        _this.onFilterExpand = function () {\n            var isControlled = _this.isControlled();\n            var nextValue = !(isControlled ? _this.props.expanded : _this.state.expanded);\n            if (_this.props.onExpandChange) {\n                _this.props.onExpandChange(nextValue);\n            }\n            if (!isControlled) {\n                _this.setState({\n                    expanded: nextValue\n                });\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.firstFilterChange = function (event) {\n            _this.filterChange(0, event);\n        };\n        /**\n         * @hidden\n         */\n        _this.secondFilterChange = function (event) {\n            _this.filterChange(1, event);\n        };\n        /**\n         * @hidden\n         */\n        _this.filterChange = function (filterIndex, e) {\n            var filters = _this.state.filterGroup.filters.map(function (f, i) {\n                if (i === filterIndex) {\n                    return __assign({}, f, { value: e.value, operator: e.operator });\n                }\n                return f;\n            });\n            _this.setState({\n                filterGroup: __assign({}, _this.state.filterGroup, { filters: filters })\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.logicChange = function (event) {\n            _this.setState({\n                filterGroup: __assign({}, _this.state.filterGroup, { logic: event.target.value.operator })\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.clear = function (event) {\n            event.preventDefault();\n            if (!_this.props.onFilterChange) {\n                return;\n            }\n            var field = _this.props.column.field;\n            var rootFilter = rootFilterOrDefault(_this.props.filter);\n            var filterGroup = filterGroupByField(field, _this.props.filter);\n            var rootFilters = rootFilter.filters.filter(function (f) { return f !== filterGroup; });\n            if (!rootFilters.length) {\n                _this.props.onFilterChange(null, event);\n            }\n            else {\n                _this.props.onFilterChange(__assign({}, rootFilter, { filters: rootFilters }), event);\n            }\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.currentFilterGroup = function () {\n            return __assign({}, _this.state.filterGroup, { filters: _this.state\n                    .filterGroup\n                    .filters\n                    .filter(function (nf) {\n                    return (nf.value !== undefined && nf.value !== null && nf.value !== '') ||\n                        (nf.value === null && nf.operator);\n                }) });\n        };\n        /**\n         * @hidden\n         */\n        _this.submit = function (event) {\n            event.preventDefault();\n            if (!_this.props.onFilterChange) {\n                return;\n            }\n            var field = _this.props.column.field;\n            var rootFilter = rootFilterOrDefault(_this.props.filter);\n            var filterGroup = filterGroupByField(field, _this.props.filter);\n            var currentFilterGroup = _this.currentFilterGroup();\n            var updatedFilter = null;\n            if (filterGroup && currentFilterGroup.filters.length > 0) {\n                var rootFilters = rootFilter.filters.map(function (f) {\n                    if (f === filterGroup) {\n                        return currentFilterGroup;\n                    }\n                    return f;\n                });\n                updatedFilter = __assign({}, rootFilter, { filters: rootFilters });\n            }\n            else if (currentFilterGroup.filters.length === 0) {\n                var rootFilters = rootFilter\n                    .filters\n                    .filter(function (f) { return f !== filterGroup; });\n                if (rootFilters.length) {\n                    updatedFilter = __assign({}, rootFilter, { filters: rootFilters });\n                }\n            }\n            else {\n                updatedFilter = __assign({}, rootFilter, { filters: rootFilter.filters.concat([currentFilterGroup]) });\n            }\n            _this.props.onFilterChange(updatedFilter, event);\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        var filterGroup;\n        if (props.column && props.column.field) {\n            var filterType = getFilterType(props.column.filter);\n            var defaultOperator = getDefaultOperator(props.filterOperators, filterType);\n            filterGroup = filterGroupByField(props.column.field, props.filter);\n            filterGroup = filterGroup ? __assign({}, filterGroup, { filters: filterGroup.filters.map(function (f) {\n                    return __assign({}, f);\n                }) }) : {\n                logic: 'and',\n                filters: [\n                    { field: props.column.field, operator: defaultOperator, value: IsUnaryFilter(defaultOperator) ? null : undefined },\n                    { field: props.column.field, operator: defaultOperator, value: IsUnaryFilter(defaultOperator) ? null : undefined }\n                ]\n            };\n            if (filterGroup.filters.filter(function (x) { return x.field === props.column.field; }).length === 1) {\n                filterGroup.filters.splice(1, 0, { field: props.column.field, operator: defaultOperator });\n            }\n        }\n        _this.state = {\n            expanded: props.expanded || false,\n            filterGroup: filterGroup\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuFilter.prototype.render = function () {\n        var _a = this.props, column = _a.column, filterUI = _a.filterUI, hideSecondFilter = _a.hideSecondFilter, filterOperators = _a.filterOperators;\n        if (!column || !column.field) {\n            return React.createElement(\"div\", null);\n        }\n        var filterType = getFilterType(column.filter);\n        var currentHideSecondFilter = hideSecondFilter !== undefined ?\n            hideSecondFilter : defaultHideSecondFilter[filterType];\n        var localizationService = provideLocalizationService(this);\n        var filters = this.state.filterGroup.filters;\n        var currentOperators = operatorMap(filterOperators[filterType], localizationService);\n        var booleanValues = operatorMap(booleanFilterValues, localizationService);\n        var firstFilterCellProps = {\n            field: column.field,\n            value: filters[0].value,\n            operator: filters[0].operator,\n            operators: currentOperators,\n            booleanValues: booleanValues,\n            onChange: this.firstFilterChange,\n            filterType: filterType\n        };\n        var secondFilterCellProps = {\n            field: column.field,\n            value: filters[1].value,\n            operator: filters[1].operator,\n            operators: currentOperators,\n            booleanValues: booleanValues,\n            onChange: this.secondFilterChange,\n            filterType: filterType\n        };\n        var filterLogic = this.state.filterGroup.logic;\n        var logicData = operatorMap(filterLogicList, localizationService);\n        var logicProps = {\n            value: logicData.find(function (item) { return item.operator === (filterLogic === null ? '' : filterLogic); }),\n            onChange: this.logicChange,\n            data: logicData\n        };\n        var FilterUI = filterUI;\n        var filterUIProps = {\n            firstFilterProps: firstFilterCellProps,\n            secondFilterProps: secondFilterCellProps,\n            logicData: logicProps.data,\n            logicValue: logicProps.value,\n            onLogicChange: logicProps.onChange,\n            hideSecondFilter: currentHideSecondFilter\n        };\n        var isFilterValid = this.currentFilterGroup().filters.length !== 0 ||\n            IsUnaryFilter(filters[0].operator) ||\n            IsUnaryFilter(filters[1].operator);\n        var expandState = this.isControlled() ? this.props.expanded : this.state.expanded;\n        return (React.createElement(GridColumnMenuItemGroup, null,\n            React.createElement(GridColumnMenuItem, { title: localizationService.toLanguageString(filterTitle, messages[filterTitle]), iconClass: 'k-i-filter', onClick: this.onFilterExpand }),\n            React.createElement(GridColumnMenuItemContent, { show: !!expandState },\n                React.createElement(\"div\", { className: 'kendo-grid-filter-menu-container' },\n                    React.createElement(\"form\", { className: 'k-filter-menu k-group k-reset k-state-border-up', onSubmit: this.submit, onReset: this.clear },\n                        React.createElement(\"div\", { className: 'k-filter-menu-container' },\n                            FilterUI ?\n                                React.createElement(FilterUI, __assign({}, filterUIProps)) :\n                                React.createElement(GridColumnMenuFilterUI, __assign({}, filterUIProps)),\n                            React.createElement(\"div\", { className: 'k-actions k-hstack k-justify-content-stretch' },\n                                React.createElement(\"button\", { className: 'k-button', type: 'reset' }, localizationService\n                                    .toLanguageString(filterClearButton, messages[filterClearButton])),\n                                React.createElement(\"button\", { className: 'k-button k-primary', disabled: !isFilterValid }, localizationService\n                                    .toLanguageString(filterSubmitButton, messages[filterSubmitButton])))))))));\n    };\n    /* eslint-disable max-len */\n    /**\n     * Can be used to check if filtering is applied to a specific field ([see example]({% slug column_menu_grid %}#toc-styling-the-column-menu-icon)). Useful for creating active filter indicators.\n     */\n    // tslint:enable:max-line-length\n    GridColumnMenuFilter.active = function (field, filter) {\n        return !!filterGroupByField(field, filter);\n    };\n    return GridColumnMenuFilter;\n}(React.Component));\nexport { GridColumnMenuFilter };\nregisterForLocalization(GridColumnMenuFilter);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { GridColumnMenuItem } from './GridColumnMenuItem';\nimport { GridColumnMenuItemGroup } from './GridColumnMenuItemGroup';\nimport { GridColumnMenuItemContent } from './GridColumnMenuItemContent';\nimport { Checkbox } from '@progress/kendo-react-inputs';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { messages, filterClearButton, filterSubmitButton, filterTitle, searchPlaceholder, filterCheckAll, filterSelectedItems } from '../messages';\nimport { filterBy } from '@progress/kendo-data-query';\nimport { clone } from '@progress/kendo-react-common';\nimport { getNestedValue } from '../utils';\n/**\n * @hidden\n */\nvar isArrayEqual = function (firstArray, secondArray) {\n    if (firstArray.length !== secondArray.length) {\n        return false;\n    }\n    return firstArray.every(function (ex, i) { return ex === secondArray[i]; });\n};\nvar GridColumnMenuCheckboxFilter = /** @class */ (function (_super) {\n    __extends(GridColumnMenuCheckboxFilter, _super);\n    function GridColumnMenuCheckboxFilter(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.defaultFilter = function () {\n            if (_this.props.filter) {\n                return clone(_this.props.filter);\n            }\n            return { filters: [], logic: 'and' };\n        };\n        /**\n         * @hidden\n         */\n        _this.isControlled = function () { return _this.props.expanded !== undefined; };\n        /**\n         * @hidden\n         */\n        _this.parseData = function (originalData, isUnique) {\n            var field = _this.props.column.field || '';\n            var data = originalData.map(function (item) { return getNestedValue(field, item); });\n            if (isUnique) {\n                return data.filter(function (item, index) { return data.indexOf(item) === index; });\n            }\n            return data;\n        };\n        /**\n         * @hidden\n         */\n        _this.getFilterIndex = function () {\n            var field = _this.props.column.field;\n            var currentFilter = _this.defaultFilter();\n            var compositeFilterIndex = currentFilter.filters.findIndex(function (filter) {\n                return filter.filters && filter.filters.length > 0 && filter.filters[0].field === field;\n            });\n            return compositeFilterIndex;\n        };\n        /**\n         * @hidden\n         */\n        _this.onFilterExpand = function () {\n            var isControlled = _this.isControlled();\n            var nextValue = !(isControlled ? _this.props.expanded : _this.state.expanded);\n            if (_this.props.onExpandChange) {\n                _this.props.onExpandChange(nextValue);\n            }\n            if (!isControlled) {\n                _this.setState({\n                    expanded: nextValue\n                });\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleSearchChange = function (e) {\n            var filterOperator = _this.props.searchBoxFilterOperator ? _this.props.searchBoxFilterOperator : 'startswith';\n            var filterExpression = {\n                logic: 'and',\n                filters: [\n                    { field: _this.props.column.field, operator: filterOperator, value: e.target.value, ignoreCase: true }\n                ]\n            };\n            _this.setState({\n                value: e.target.value,\n                data: _this.parseData(filterBy(_this.props.data || [], filterExpression), _this.props.uniqueData)\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.handleClear = function () {\n            var filterOperator = _this.props.searchBoxFilterOperator ? _this.props.searchBoxFilterOperator : 'startswith';\n            var filterExpression = {\n                logic: 'and',\n                filters: [\n                    { field: _this.props.column.field, operator: filterOperator, value: '', ignoreCase: true }\n                ]\n            };\n            _this.setState({\n                value: '',\n                data: _this.parseData(filterBy(_this.props.data || [], filterExpression), _this.props.uniqueData)\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.clear = function (e) {\n            e.preventDefault();\n            if (!_this.props.onFilterChange) {\n                return;\n            }\n            var updatedFilter = _this.state.currentFilter || null;\n            if (updatedFilter !== null && updatedFilter.filters.length > 0) {\n                if (_this.compositeFilterIndex >= 0) {\n                    updatedFilter.filters.splice(_this.compositeFilterIndex, 1);\n                }\n                _this.props.onFilterChange(updatedFilter, e);\n            }\n            else {\n                _this.props.onFilterChange(null, e);\n            }\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.submit = function (e) {\n            e.preventDefault();\n            if (!_this.props.onFilterChange) {\n                return;\n            }\n            var updatedFilter = _this.state.currentFilter || null;\n            _this.props.onFilterChange(updatedFilter, e);\n            if (_this.props.onCloseMenu) {\n                _this.props.onCloseMenu();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleCheckBoxChange = function (e, value) {\n            var field = _this.props.column.field || '';\n            var newFilter = __assign({}, _this.state.currentFilter);\n            var filters = _this.state.currentFilter.filters.slice() || [];\n            var fieldFilters = [];\n            if (_this.compositeFilterIndex !== -1 && newFilter.filters[_this.compositeFilterIndex].filters && value !== 'all') {\n                fieldFilters = newFilter.filters[_this.compositeFilterIndex].filters;\n            }\n            if (e.value && value === 'all') {\n                _this.state.data.forEach(function (item) {\n                    fieldFilters.push({ field: field, operator: 'eq', value: item });\n                });\n            }\n            else if (e.value) {\n                fieldFilters.push({ field: field, operator: 'eq', value: value });\n            }\n            else if (_this.state.currentFilter) {\n                var index = fieldFilters.findIndex(function (filter) { return filter.value === value; });\n                fieldFilters.splice(index, 1);\n            }\n            newFilter.logic = 'and';\n            if (_this.compositeFilterIndex !== -1) {\n                filters[_this.compositeFilterIndex] = {\n                    logic: 'or',\n                    filters: fieldFilters\n                };\n            }\n            else {\n                filters.push({\n                    logic: 'or',\n                    filters: fieldFilters\n                });\n            }\n            if (!e.value && value === 'all' || fieldFilters.length === 0) {\n                filters.splice(_this.compositeFilterIndex, 1);\n            }\n            newFilter.filters = filters;\n            _this.setState({ currentFilter: newFilter });\n        };\n        /**\n         * @hidden\n         */\n        _this.isAllSelected = function () {\n            var isAllChecked = false;\n            if (_this.state.currentFilter) {\n                var filters_1 = _this.state.currentFilter.filters.slice();\n                if (_this.compositeFilterIndex === -1) {\n                    return false;\n                }\n                isAllChecked = _this.state.data.every(function (item) {\n                    if (_this.compositeFilterIndex !== -1 && filters_1[_this.compositeFilterIndex].filters) {\n                        var index = filters_1[_this.compositeFilterIndex].filters.findIndex(function (filter) { return filter.value === item; });\n                        return index >= 0;\n                    }\n                    return false;\n                });\n                return isAllChecked;\n            }\n            return isAllChecked;\n        };\n        _this.compositeFilterIndex = _this.getFilterIndex();\n        _this.state = {\n            expanded: props.expanded || false,\n            value: '',\n            data: _this.parseData(_this.props.data, _this.props.uniqueData) || [],\n            dataFromProps: _this.parseData(_this.props.data, false) || [],\n            currentFilter: _this.defaultFilter()\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    GridColumnMenuCheckboxFilter.prototype.componentDidUpdate = function () {\n        var field = this.props.column.field || '';\n        var data = this.props.data.map(function (item) { return getNestedValue(field, item); });\n        if (!isArrayEqual(data, this.state.dataFromProps)) {\n            this.setState({\n                data: data,\n                dataFromProps: data\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    GridColumnMenuCheckboxFilter.prototype.render = function () {\n        var _this = this;\n        var column = this.props.column;\n        if (!column || !column.field) {\n            return React.createElement(\"div\", null);\n        }\n        var localizationService = provideLocalizationService(this);\n        var expandState = this.isControlled() ? this.props.expanded : this.state.expanded;\n        var filterValues = [];\n        if (this.state.currentFilter) {\n            var currentFilter = this.state.currentFilter.filters.slice();\n            this.compositeFilterIndex = currentFilter.findIndex(function (filter) {\n                if (filter.filters && filter.filters.length > 0) {\n                    return filter.filters[0].field === column.field;\n                }\n                return false;\n            });\n            if (this.compositeFilterIndex !== -1 && currentFilter[this.compositeFilterIndex].filters.length > 0) {\n                currentFilter[this.compositeFilterIndex].filters.forEach(function (filterItem) {\n                    if (filterItem.field === _this.props.column.field) {\n                        filterValues.push(filterItem.value);\n                    }\n                });\n            }\n        }\n        var searchBox = this.props.searchBox ?\n            React.createElement(this.props.searchBox, { value: this.state.value, onChange: this.handleSearchChange }) :\n            (React.createElement(\"div\", { className: \"k-searchbox\" },\n                React.createElement(\"span\", { className: \"k-input-prefix\" },\n                    React.createElement(\"span\", { className: \"k-icon k-i-search\" })),\n                React.createElement(\"input\", { className: \"k-input\", type: \"text\", placeholder: localizationService.toLanguageString(searchPlaceholder, messages[searchPlaceholder]), value: this.state.value, onChange: this.handleSearchChange }),\n                React.createElement(\"span\", { className: \"k-input-suffix\" },\n                    React.createElement(\"button\", { type: \"button\", className: \"k-button k-icon-button k-button-clear\", onClick: this.handleClear },\n                        React.createElement(\"span\", { className: \"k-icon k-i-close\" })))));\n        var uniqueFilterValues = filterValues.filter(function (item, index) { return filterValues.indexOf(item) === index; });\n        return (React.createElement(GridColumnMenuItemGroup, null,\n            React.createElement(GridColumnMenuItem, { title: localizationService.toLanguageString(filterTitle, messages[filterTitle]), iconClass: \"k-i-filter\", onClick: this.onFilterExpand }),\n            React.createElement(GridColumnMenuItemContent, { show: !!expandState },\n                React.createElement(\"div\", { className: \"kendo-grid-filter-menu-container\" },\n                    React.createElement(\"form\", { className: \"k-filter-menu k-group k-reset k-state-border-up\", onSubmit: this.submit, onReset: this.clear },\n                        React.createElement(\"div\", { className: \"k-filter-menu-container\" },\n                            searchBox,\n                            React.createElement(\"ul\", { className: \"k-reset k-multicheck-wrap\" },\n                                React.createElement(\"li\", { className: \"k-item k-check-all-wrap\" },\n                                    React.createElement(Checkbox, { label: localizationService.toLanguageString(filterCheckAll, messages[filterCheckAll]), onChange: function (e) { return _this.handleCheckBoxChange(e, 'all'); }, checked: this.isAllSelected() })),\n                                this.state.data.map(function (item, index) {\n                                    return (React.createElement(\"li\", { className: \"k-item\", key: index },\n                                        React.createElement(Checkbox, { label: String(item), onChange: function (e) { return _this.handleCheckBoxChange(e, item); }, checked: uniqueFilterValues.includes(item) })));\n                                })),\n                            React.createElement(\"div\", { className: \"k-filter-selected-items\" }, uniqueFilterValues.length + ' ' + localizationService.toLanguageString(filterSelectedItems, messages[filterSelectedItems])),\n                            React.createElement(\"div\", { className: \"k-actions k-hstack k-justify-content-stretch\" },\n                                React.createElement(\"button\", { className: 'k-button k-primary', type: 'submit' }, localizationService.toLanguageString(filterSubmitButton, messages[filterSubmitButton])),\n                                React.createElement(\"button\", { className: \"k-button\", type: 'reset' }, localizationService.toLanguageString(filterClearButton, messages[filterClearButton])))))))));\n    };\n    /**\n     * @hidden\n     */\n    GridColumnMenuCheckboxFilter.defaultProps = {\n        uniqueData: true\n    };\n    return GridColumnMenuCheckboxFilter;\n}(React.Component));\nexport { GridColumnMenuCheckboxFilter };\nregisterForLocalization(GridColumnMenuCheckboxFilter);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/* eslint-disable max-len */\n/**\n * Represents the detail row class of the KendoReact Grid. Used to define custom details for each row. Can be applied for building the hierarchy. If `expandField` is set, the details for each row will be visible or hidden depending on the current data item and its `expandField` value.\n *\n * @example\n * ```jsx\n * class CustomGridDetailRow extends GridDetailRow {\n *     render() {\n *         const detailData = this.props.dataItem.MasterField2;\n *         return (\n *             <div>\n *               This is detail template with another grid inside it\n *               <Grid scrollable=\"none\" data={detailData} />\n *             </div>\n *         );\n *     }\n * }\n *\n * class App extends React.Component {\n *     constructor(props) {\n *         super(props);\n *         this.state = {\n *             data: [{MasterField1:'A1', MasterField2: [{DetailField1: 1, DetailField2: 2}]},\n *                   {MasterField1:'B1', MasterField2: [{DetailField1: 3, DetailField2: 4}]},\n *                   {MasterField1:'C1', MasterField2: [{DetailField1: 5, DetailField2: 6}]}]\n *         };\n *     }\n *     render() {\n *         return (\n *             <Grid\n *                  data={this.state.data}\n *                  detail={CustomGridDetailRow}\n *              >\n *              <GridColumn field=\"MasterField1\" />\n *             </Grid>\n *         );\n *     }\n * }\n * ReactDOM.render(\n *     <App />,\n *     document.querySelector('my-app')\n * );\n * ```\n */\n// tslint:enable:max-line-length\nvar GridDetailRow = /** @class */ (function (_super) {\n    __extends(GridDetailRow, _super);\n    function GridDetailRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridDetailRow.prototype.render = function () {\n        return null;\n    };\n    return GridDetailRow;\n}(React.Component));\nexport { GridDetailRow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/**\n * Represents the GridToolbar component.\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    state = {\n *       data: [\n *            {'Column1':'A1', 'Column2':'A2'},\n *            {'Column1':'B1', 'Column2':'B2'},\n *            {'Column1':'C1', 'Column2':'C2'}\n *        ]\n *    }\n *\n *    customClick = () => {\n *        alert(\"Custom handler in custom toolbar\");\n *    }\n *    render() {\n *        return (\n *           <Grid data={this.state.data}>\n *                <GridToolbar>\n *                    <button\n *                        title=\"Click\"\n *                        className=\"k-button k-primary\"\n *                        onClick={this.customClick}\n *                    >Click\n *                    </button>\n *                </GridToolbar>\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(\n *    <App />,\n *    document.querySelector('my-app')\n * );\n * ```\n */\nvar GridToolbar = /** @class */ (function (_super) {\n    __extends(GridToolbar, _super);\n    function GridToolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @hidden\n     */\n    GridToolbar.prototype.render = function () {\n        return (React.createElement(\"div\", { className: \"k-toolbar k-grid-toolbar\" }, this.props.children));\n    };\n    /**\n     * @hidden\n     */\n    GridToolbar.displayName = 'KendoReactGridToolbar';\n    return GridToolbar;\n}(React.Component));\nexport { GridToolbar };\n"],"sourceRoot":""}