{"version":3,"sources":["components/Layout/HeaderPage/HeaderPage.js","hooks/useLoaderTable.js","hooks/useDimensionTable.js","actions/marcasActions.js","components/Shared/Modal/BasicModal/BasicModal.js","components/Marcas/FormMarcas/FormMarcas.js","pages/Marcas/Marcas.js"],"names":["HeaderPage","children","className","id","style","height","useLoaderTable","url","params","take","useState","skip","dataState","setDataState","urlBase","process","siHayParams","Object","keys","length","forEach","key","index","getUrlBase","baseUrl","setBaseUrl","dataResul","setDataResult","dataReceived","products","lastSuccess","useRef","pending","infoHelperRef","requestDataIfNeeded","a","reload","infoHelper","toODataString","current","addUrl","convertQueryString","loadAxios","method","response","json","data","call","undefined","body","total","count","console","log","error","useEffect","handleCustomSearch","e","valueSearch","target","value","search","dataStateChange","objQuery","queryString","useDimensionTable","width","window","innerWidth","innerHeight","windowSize","handleResize","gridElement","document","querySelector","newHeight","addEventListener","removeEventListener","getMarcaById","authAxios","get","res","status","STATUS_OK","addMarca","datos","post","Notify","success","msg","updateMarca","put","deleteMarca","delete","getMarcasAsync","Promise","resolve","BasicModal","title","size","actions","show","rest","setShow","Modal","open","Header","Content","Actions","FormMarcas","forwardRef","props","ref","loadDataTable","formik","useFormik","initialValues","validationSchema","Yup","name","required","onSubmit","values","Loading","pulse","remove","useImperativeHandle","handleSubmit","submitForm","getCategoria","setValues","failure","Form","Group","widths","Input","label","errors","onChange","handleChange","Marcas","setId","formRef","class","onClick","Button","sortable","pageable","onDataStateChange","cell","dataItem","overflow","Dropdown","icon","floating","button","Menu","Item","text","handleEditar","nombre","Confirm","handleEliminar","field","primary"],"mappings":"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","file":"static/js/8.7dadacaf.chunk.js","sourcesContent":["import './HeaderPage.scss';\n\nconst HeaderPage = ({ children }) => {\n  return ( \n    <div className=\"navslide navwrap\" id=\"app_content_toolbar\" >\n      <div className=\"ui menu icon borderless\" data-color=\"inverted white\" style={{height:40}}>\n        { children }\n      </div>\n    </div>\n  );\n}\n\nexport default HeaderPage;","import { useEffect, useRef, useState } from \"react\";\nimport { toODataString } from \"@progress/kendo-data-query\";\nimport response from \"../config/network/response\";\nimport loadAxios from \"../config/network/loadAxios\";\n\nconst useLoaderTable = ({ url = null, params = {}, take = 20 }) => {\n  const [dataState, setDataState] = useState({\n    take: take,\n    skip: 0,\n  });\n\n  const getUrlBase = () => {\n    let urlBase = `${process.env.REACT_APP_API_URL}/${url}`;\n    let siHayParams = false;\n\n    if(Object.keys(params).length > 0)\n    {\n\n      siHayParams = true;\n      \n      (Object.keys(params)).forEach((key, index) => {\n        \n        if(index === 0) {\n          urlBase += `?${key}=${params[key]}&`;\n        } else {\n          urlBase += `${key}=${params[key]}&`;\n        }\n      })\n    }\n\n    if(!siHayParams) {\n      urlBase += '?';\n    }\n\n    return urlBase;\n  }\n\n  const [baseUrl, setBaseUrl] = useState(getUrlBase());\n\n  const [dataResul, setDataResult] = useState();\n\n  const dataStateChange = (e) => {\n    setDataState(e.dataState);\n  };\n\n  const dataReceived = (products) => {\n    setDataResult(products);\n  };\n\n  const lastSuccess = useRef(\"\");\n  const pending = useRef(\"\");\n  const infoHelperRef = useRef(null);\n\n  const handleCustomSearch = (e) => {\n    if (e.key === 'Enter') {\n      const valueSearch = e.target.value;\n      requestDataIfNeeded(true, {search: valueSearch});\n    }\n  }\n\n  const requestDataIfNeeded = async (reload = false, infoHelper = null) => {\n    \n    if ((toODataString(dataState) === lastSuccess.current) && !reload) {\n      return;\n    }\n\n    pending.current = toODataString(dataState);\n    \n    try {\n\n      let addUrl = '';\n\n      if(infoHelper || infoHelperRef.current) {\n       \n        if(infoHelper !== infoHelperRef.current && infoHelper) {\n          infoHelperRef.current = infoHelper;\n        }\n        addUrl = convertQueryString(infoHelperRef.current);\n      }\n\n      const response = await loadAxios({ url: baseUrl + pending.current + addUrl, method: \"GET\" });\n      const json = response.data; \n      \n      lastSuccess.current = pending.current;\n      pending.current = \"\";\n\n      if (toODataString(dataState) === lastSuccess.current) {\n        dataReceived.call(undefined, {\n          data: json.body.data,\n          total: json.body.count,\n        });\n      } else {\n        requestDataIfNeeded();\n      }\n    } catch (error) {\n      console.log(error);\n      response.error(error);\n    }\n  };\n\n  useEffect(() => {\n    requestDataIfNeeded();\n  }, [dataState]);\n\n  return { dataResul, dataState, handleCustomSearch, setBaseUrl, setDataState, baseUrl, dataStateChange, requestDataIfNeeded };\n};\n\nexport default useLoaderTable;\n\nconst convertQueryString = (objQuery = {}) => {\n  if (!Object.keys(objQuery).length) {\n    return '';\n  }\n\n  let queryString = '';\n\n  (Object.keys(objQuery)).forEach(key => {\n    queryString += `&$${key}=${objQuery[key]}&`;\n  })\n\n  return queryString;\n\n}\n","import { useEffect, useState } from \"react\";\n\nconst useDimensionTable = () => {\n\n  const [windowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      \n      // let containerBody = document.querySelector('.app__container_body');\n\n      // let newHeight = window.innerHeight - 90;\n      let gridElement = document.querySelector('.k-widget.k-grid.grid');\n      // var dataArea = gridElement.querySelector(\".k-grid-container\");\n\n\n      var newHeight = window.innerHeight - 90;\n      // let diffContainer = containerBody.clientHeight - newHeight;\n\n      // console.log(diffContainer)\n\n      // newHeight = newHeight - diffContainer;\n\n      // var diff = gridElement.clientHeight - dataArea.clientHeight;\n      //gridElement.height(newHeight);\n      // dataArea.style.height = (newHeight - diff) + 'px';\n      if (gridElement) {\n        gridElement.style.height = `${newHeight}px`; \n      }\n      // setWindowSize({\n      //   width: window.innerWidth,\n      //   height: newHeight\n      // })\n  \n    }\n  \n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize())\n  \n  }, [])\n\n  return { width: windowSize.width, height: windowSize.height }\n\n}\n\nexport default useDimensionTable;\n","import { Notify } from \"notiflix\";\r\nimport authAxios from \"../config/authAxios\";\r\nimport { STATUS_OK } from \"../config/constants\";\r\nimport response from \"../config/network/response\";\r\n\r\nexport const getMarcaById = async (id) => {\r\n  \r\n    try {\r\n      const res = await authAxios.get(`/brand/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        return (res.data.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n}\r\n\r\n\r\nexport const addMarca = async (datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.post('/brand', datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se creo correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const updateMarca = async (id, datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.put(`/brand/${id}`, datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se editó correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n} \r\n\r\n\r\nexport const deleteMarca = async id => {\r\n  try {\r\n    const res = await authAxios.delete(`/brand/${id}`);\r\n\r\n    if(res.data.status === STATUS_OK) {\r\n      response.success(null, 'Se elimino correctamente.');\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getMarcas = async () => {\r\n  try {\r\n    const res = await authAxios.get('/brand');\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getMarcasAsync = async () => {\r\n  \r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const res = await authAxios.get('/brand');\r\n    \r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body.data);\r\n      } else {\r\n        resolve(false);\r\n      }\r\n  \r\n    } catch (error) {\r\n      resolve(false);\r\n    }\r\n  })\r\n}\r\n","import { Modal } from \"semantic-ui-react\";\r\n\r\nconst BasicModal = ({ title = '', children, size = 'small', actions, show = false, setShow, ...rest }) => {\r\n\r\n  return ( \r\n    <Modal open={show} size={size} {...rest}>\r\n      <Modal.Header>\r\n        {title}\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        {children}      \r\n      </Modal.Content>\r\n      {\r\n        actions && (\r\n          <Modal.Actions>\r\n          {actions}\r\n        </Modal.Actions>\r\n        )\r\n      }\r\n    </Modal>\r\n  );\r\n}\r\n \r\nexport default BasicModal;","import { forwardRef, useImperativeHandle } from 'react';\r\nimport { useFormik } from \"formik\";\r\nimport { Form } from \"semantic-ui-react\";\r\nimport * as Yup from 'yup';\r\nimport { addMarca, getMarcaById, updateMarca } from '../../../actions/marcasActions';\r\nimport { Loading, Notify } from 'notiflix';\r\nimport { useEffect } from 'react';\r\n\r\nconst FormMarcas = forwardRef((props, ref) => {\r\n  \r\n  const { setShow, loadDataTable, id } = props;\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      'name': ''\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required('Este campo es requerido.'),\r\n    }),\r\n    onSubmit: async values => {\r\n      Loading.pulse();\r\n\r\n      let res = null;\r\n\r\n      if(id) {\r\n        res = await updateMarca(id, values);\r\n      } else {\r\n        res = await addMarca(values);\r\n      }\r\n      \r\n      if(res) {\r\n        setShow(false);\r\n        loadDataTable(true);\r\n        return;\r\n      }\r\n      Loading.remove();\r\n    }\r\n  });\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleSubmit() {\r\n      formik.submitForm();\r\n    }\r\n  }))\r\n\r\n  const getCategoria = async () => {\r\n\r\n    Loading.pulse();\r\n    const res = await getMarcaById(id);\r\n\r\n    if(res) {\r\n      formik.setValues(res);\r\n    } else {\r\n      Notify.failure('No se encontro la categoria');\r\n    }\r\n\r\n    Loading.remove();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(id) {\r\n      getCategoria();\r\n    }\r\n  }, [id])\r\n  \r\n  return ( \r\n    <Form onSubmit={formik.handleSubmit}>\r\n      <Form.Group widths='equal'>\r\n        <Form.Input\r\n          label=\"Nombre\"\r\n          name=\"name\"\r\n          value={formik.values.name}\r\n          error={formik.errors.name}\r\n          onChange={formik.handleChange}\r\n        />\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n})\r\n \r\nexport default FormMarcas;","import HeaderPage from \"../../components/Layout/HeaderPage\";\r\nimport BasicModal from \"../../components/Shared/Modal/BasicModal\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { Button, Dropdown } from \"semantic-ui-react\";\r\nimport FormMarcas from \"../../components/Marcas/FormMarcas\";\r\nimport { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport useLoaderTable from \"../../hooks/useLoaderTable\";\r\nimport {\r\n  Grid,\r\n  GridColumn as Column\r\n} from \"@progress/kendo-react-grid\";\r\nimport { deleteMarca } from \"../../actions/marcasActions\";\r\nimport { Loading, Confirm } from \"notiflix\";\r\nimport useDimensionTable from \"../../hooks/useDimensionTable\";\r\n\r\nconst Marcas = () => {\r\n\r\n  const { dataResul, dataState, dataStateChange, requestDataIfNeeded } = useLoaderTable({ url: 'brand'});\r\n  const [id, setId] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const formRef = useRef();\r\n  useDimensionTable();\r\n\r\n  const handleEditar = id => {\r\n    setId(id)\r\n    setShow(true);\r\n  }\r\n\r\n  const handleEliminar = (id, nombre) => {\r\n    Confirm.show(\r\n      'OPERADORES',\r\n      `¿Desea eliminar a la marca ${nombre}?`,\r\n      'Aceptar',\r\n      'Cancelar',\r\n      async function(){\r\n        \r\n        Loading.pulse();\r\n        const res = await deleteMarca(id);\r\n\r\n        if(res) {\r\n          requestDataIfNeeded(true);\r\n          return;\r\n        }\r\n        Loading.remove();\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"Marcas\">\r\n      <HeaderPage>\r\n        <div class=\"item ui colhidden\">\r\n          <button class=\"ui icon button\" onClick={() => requestDataIfNeeded(true)}>\r\n            <i class=\"sync icon\"></i>\r\n          </button>\r\n        </div>\r\n        <div className=\"item ui colhidden\">\r\n          <div className=\"ui big breadcrumb\">\r\n            <h2 className=\"section active\">MARCAS</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"item ui colhidden\">\r\n            <Button onClick={() => {\r\n              setId(null);\r\n              setShow(true)\r\n            }} className=\"ui button\">\r\n              <FaPlus /> Nueva marca\r\n            </Button>\r\n          </div>\r\n      </HeaderPage>\r\n      <div className=\"Marcas__body app__container_body\">\r\n          <div className=\"Marcas__tabla\">\r\n          <Grid\r\n            sortable={true}\r\n            pageable={true}\r\n            {...dataState}\r\n            {...dataResul}\r\n            onDataStateChange={dataStateChange}\r\n            className=\"grid\"\r\n          >\r\n            <Column\r\n              width={50}\r\n              cell={({ dataItem }) => (\r\n                <td style={{overflow: \"inherit\"}}>\r\n                  <Dropdown\r\n                    icon='ellipsis vertical'\r\n                    floating\r\n                    button\r\n                    className='icon circular compact ui left pointing'\r\n                  >\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item\r\n                        icon=\"edit\"\r\n                        className=\"blue\"\r\n                        text='Editar'\r\n                        onClick={() => handleEditar(dataItem.id)}\r\n                      />\r\n                      <Dropdown.Item\r\n                        icon=\"delete\"\r\n                        className=\"red\"\r\n                        text='Eliminar'\r\n                        onClick={() => handleEliminar(dataItem.id, dataItem.name)}\r\n                      />\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </td>\r\n              )}\r\n            />\r\n            <Column\r\n              width={100}\r\n              title='ID'\r\n              field=\"id\"\r\n            />\r\n            <Column field=\"name\" title=\"NOMBRES\" />\r\n            <Column field=\"slug\" title=\"URL\" />\r\n          </Grid>\r\n          </div>\r\n      </div>\r\n      <BasicModal \r\n        title=\"Ficha marca\" \r\n        show={show}\r\n        size=\"mini\"\r\n        actions={<>\r\n          <Button onClick={() => setShow(false)}>Cancelar</Button>\r\n          <Button primary onClick={() => formRef.current.handleSubmit()}>Guardar</Button>\r\n        </>}\r\n      >\r\n        <FormMarcas\r\n          ref={formRef}\r\n          setShow={setShow}\r\n          loadDataTable={requestDataIfNeeded}\r\n          id={id}\r\n        />\r\n      </BasicModal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Marcas;"],"sourceRoot":""}