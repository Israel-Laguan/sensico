{"version":3,"sources":["components/Layout/HeaderPage/HeaderPage.js","actions/categoriasActions.js","actions/seccionActions.js","actions/marcasActions.js","actions/productosActions.js","components/Productos/FormProducto/FormProducto.js","pages/Productos/Ficha/Ficha.js"],"names":["HeaderPage","children","className","id","style","height","getCategoriaByIdAsync","Promise","resolve","a","authAxios","get","res","data","status","STATUS_OK","body","addCategoria","datos","post","Notify","success","msg","response","error","updateCategoria","put","deleteCategoria","delete","getSubCategorias","idParent","getCategoriasAsync","getDataFichaCategoria","all","getSeccionsAsync","secciones","categoria","console","log","getSeccionById","addSeccion","updateSeccion","deleteSeccion","getMarcaById","addMarca","updateMarca","deleteMarca","getMarcasAsync","addProducto","datosPlato","loadAxios","url","method","message","getProductoByIdAsync","idProducto","getDataFichaProducto","producto","marcas","categorias","getProductosAsync","updateProducto","idPlato","dataPlato","deleteProducto","DropzoneWithoutClick","onDrop","accept","useDropzone","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","FormProducto","forwardRef","props","ref","formRef","useState","subcategorias","setSubCategorias","history","useHistory","formik","useFormik","initialValues","validationSchema","Yup","onSubmit","values","formProducto","document","getElementById","formData","FormData","append","category_id","toString","subcategory_id","imagesBim","length","forEach","imagen","filesBim","file","JSON","stringify","images","files","push","deleteImageFile","labelState","label","value","items","filter","item","setFieldValue","onDropImage","useCallback","acceptedFiles","onDropFile","getCategoriasOptions","rows","listCategoria","text","key","name","useImperativeHandle","handleSubmit","submitForm","useEffect","setValues","Form","Grid","Column","width","Group","Input","required","onChange","handleChange","errors","Field","control","Dropdown","options","search","selection","_","Header","as","Divider","type","TextArea","description","technical_specifications","links","related_information","classification","properties","marginBottom","map","image","index","Image","size","src","fileReader","Object","assign","preview","URL","createObjectURL","Button","onClick","lastModified","color","icon","process","path","Label","fontSize","href","rel","target","positive","Ficha","setCategorias","setMarcas","setProducto","useRef","params","useParams","Loading","pulse","remove","current","primary","to","Card","fluid","Content","header"],"mappings":"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","file":"static/js/6.04998e8a.chunk.js","sourcesContent":["import './HeaderPage.scss';\n\nconst HeaderPage = ({ children }) => {\n  return ( \n    <div className=\"navslide navwrap\" id=\"app_content_toolbar\" >\n      <div className=\"ui menu icon borderless\" data-color=\"inverted white\" style={{height:40}}>\n        { children }\n      </div>\n    </div>\n  );\n}\n\nexport default HeaderPage;","import { Notify } from \"notiflix\";\r\nimport authAxios from \"../config/authAxios\";\r\nimport { STATUS_OK } from \"../config/constants\";\r\nimport response from \"../config/network/response\";\r\nimport { getSeccionsAsync } from './seccionActions';\r\n\r\nexport const getCategoriaById = async (id) => {\r\n  \r\n    try {\r\n      const res = await authAxios.get(`/category/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        return (res.data.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n}\r\n\r\nexport const getCategoriaByIdAsync = (id) => {\r\n  return new Promise( async (resolve) => {\r\n    try {\r\n\r\n      if(!id) {\r\n        resolve(null);\r\n      }\r\n\r\n      const res = await authAxios.get(`/category/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n\r\n    } catch (error) {\r\n      resolve(null);\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport const addCategoria = async (datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.post('/category', datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se creo correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const updateCategoria = async (id, datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.put(`/category/${id}`, datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se editó correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n} \r\n\r\n\r\nexport const deleteCategoria = async id => {\r\n  try {\r\n    const res = await authAxios.delete(`/category/${id}`);\r\n\r\n    if(res.data.status === STATUS_OK) {\r\n      response.success(null, 'Se elimino correctamente.');\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nexport const getCategorias = async () => {\r\n  try {\r\n    const res = await authAxios.get('/category');\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getSubCategorias = async (idParent) => {\r\n  try {\r\n    const res = await authAxios.get(`/category?level=1&parent=${idParent}`);\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getCategoriasAsync = async () => {\r\n  \r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const res = await authAxios.get('/category');\r\n    \r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body.data);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n  \r\n    } catch (error) {\r\n      resolve(null);\r\n    }\r\n  })\r\n}\r\n\r\nexport const getDataFichaCategoria= async (id) => {\r\n  try {\r\n    const res = await Promise.all([getSeccionsAsync(), getCategoriaByIdAsync(id)]);\r\n\r\n    return {\r\n      secciones: res[0] ? res[0] : [],\r\n      categoria: res[1] ? res[1] : null\r\n    }\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n    response.error(null, 'Opps... hubo un error inesperado');\r\n    return null;\r\n  }\r\n}\r\n","import { Notify } from \"notiflix\";\r\nimport authAxios from \"../config/authAxios\";\r\nimport { STATUS_OK } from \"../config/constants\";\r\nimport response from \"../config/network/response\";\r\n\r\nexport const getSeccionById = async (id) => {\r\n  \r\n    try {\r\n      const res = await authAxios.get(`/section/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        return (res.data.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n}\r\n\r\nexport const addSeccion = async (datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.post('/section', datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se creo correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const updateSeccion = async (id, datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.put(`/section/${id}`, datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se editó correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n} \r\n\r\n\r\nexport const deleteSeccion = async id => {\r\n  try {\r\n    const res = await authAxios.delete(`/section/${id}`);\r\n\r\n    if(res.data.status === STATUS_OK) {\r\n      response.success(null, 'Se elimino correctamente.');\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getSecciones = async () => {\r\n  try {\r\n    const res = await authAxios.get('/sections');\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getSeccionsAsync = async () => {\r\n  \r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const res = await authAxios.get('/sections');\r\n    \r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body.data);\r\n      } else {\r\n        resolve(false);\r\n      }\r\n  \r\n    } catch (error) {\r\n      resolve(false);\r\n    }\r\n  })\r\n}\r\n","import { Notify } from \"notiflix\";\r\nimport authAxios from \"../config/authAxios\";\r\nimport { STATUS_OK } from \"../config/constants\";\r\nimport response from \"../config/network/response\";\r\n\r\nexport const getMarcaById = async (id) => {\r\n  \r\n    try {\r\n      const res = await authAxios.get(`/brand/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        return (res.data.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n}\r\n\r\n\r\nexport const addMarca = async (datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.post('/brand', datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se creo correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const updateMarca = async (id, datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.put(`/brand/${id}`, datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se editó correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n} \r\n\r\n\r\nexport const deleteMarca = async id => {\r\n  try {\r\n    const res = await authAxios.delete(`/brand/${id}`);\r\n\r\n    if(res.data.status === STATUS_OK) {\r\n      response.success(null, 'Se elimino correctamente.');\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getMarcas = async () => {\r\n  try {\r\n    const res = await authAxios.get('/brand');\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getMarcasAsync = async () => {\r\n  \r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const res = await authAxios.get('/brand');\r\n    \r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body.data);\r\n      } else {\r\n        resolve(false);\r\n      }\r\n  \r\n    } catch (error) {\r\n      resolve(false);\r\n    }\r\n  })\r\n}\r\n","import { Notify } from \"notiflix\";\nimport authAxios from \"../config/authAxios\";\nimport { STATUS_OK } from \"../config/constants\";\nimport loadAxios from \"../config/network/loadAxios\";\nimport response from \"../config/network/response\"\nimport { getCategoriasAsync } from \"./categoriasActions\";\nimport { getMarcasAsync } from \"./marcasActions\";\n\n\nexport const addProducto = async (datosPlato) => {\n  try {\n    \n    const res = await loadAxios({ url: '/product', body: datosPlato, method: 'POST' });\n\n    if(res.data.status === STATUS_OK){\n      Notify.success('Se creo nuevo producto correctamente.');\n      return true;\n    } else {\n      if(res.data.message) {\n        response.error(null, res.data.message);\n      } else {\n        response.error('Opps... hubo un error inesperador.');\n      }\n      return false;\n    }\n\n  } catch (error) {\n    response.error(error);\n    return false;\n  }\n} \n\nexport const getProductoByIdAsync = (idProducto) => {\n  return new Promise( async (resolve) => {\n    try {\n\n      if(!idProducto) {\n        resolve(null);\n      }\n\n      const res = await authAxios.get(`/product/${idProducto}`);\n\n      if(res.data.status === STATUS_OK) {\n        resolve(res.data.body);\n      } else {\n        resolve(null);\n      }\n\n    } catch (error) {\n      resolve(null);\n    }\n  })\n}\n\nexport const getDataFichaProducto = async (idProducto) => {\n  \n  try {\n\n    const res = await Promise.all([getCategoriasAsync(), getMarcasAsync(), getProductoByIdAsync(idProducto)]);\n    \n    return {\n      producto: res[2] ? res[2] : {},\n      marcas: res[1],\n      categorias: res[0] \n    }\n   \n  } catch (error) {\n    console.log(error);\n    response.error(null, 'Opps... hubo un error inesperado');\n    return null;\n  }\n}\n\nexport const getProductosAsync = () => {\n  return new Promise(async (resolve) => {\n      try {\n        const res = await authAxios.get(`/product`);\n  \n        if(res.data.status === STATUS_OK) {\n          resolve(res.data.body);\n        } else {\n          response.error(null, res.data.message);\n          resolve([]);\n        }\n      } catch (error) {\n        response.error(error);\n        resolve([]);\n      }\n  })\n}\n\nexport const updateProducto = async (idPlato, dataPlato) => {\n  try {\n    const res = await loadAxios({ url: `/product/${idPlato}`, body: dataPlato, method: 'POST' })\n\n    if(res.data.status === STATUS_OK) {\n      Notify.success('Se editó el plato correctamente.');\n      return true;\n    } else {\n      if(res.data.message) {\n        response.error(null, res.data.message);\n      } else {\n        response.error('Opps... hubo un error inesperador.');\n      }\n    }\n\n  } catch (error) {\n    response.error(error);\n    return false;\n  }\n}\n\nexport const deleteProducto = async idProducto => {\n  try {\n    const res = await authAxios.delete(`/product/${idProducto}`);\n\n    if(res.data.status === STATUS_OK) {\n      Notify.success('Se elimino el producto correctamente.')\n      return true;\n    }\n    \n    if(res.data.message) {\n      response.error(null, res.data.message);\n    } else {\n      response.error('Opps... hubo un error inesperador.');\n    }\n\n    return false;\n\n  } catch (error) {\n    response.error(error);\n  }\n}\n","import { Form, Grid, Dropdown, Image, Header, Divider, TextArea, Button, Label } from \"semantic-ui-react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport {useDropzone} from 'react-dropzone';\nimport { forwardRef, useCallback } from \"react\";\nimport { useHistory} from 'react-router-dom';\nimport { addProducto, updateProducto } from \"../../../actions/productosActions\";\nimport { getSubCategorias } from \"../../../actions/categoriasActions\";\nimport './FormProducto.scss';\nimport { FaCheck, FaTrash } from \"react-icons/fa\";\nimport { useImperativeHandle } from \"react\";\nimport { FaFileAlt } from 'react-icons/fa'\nimport { useEffect, useState } from \"react\";\n\nfunction DropzoneWithoutClick({ onDrop, accept = '.jpeg,.png' }) {\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = useDropzone({\n    onDrop: onDrop,\n    accept: accept\n  });\n\n\n  return (\n    <div className=\"container\">\n      <div {...getRootProps({className: 'dropzone'})}>\n        <input {...getInputProps()} />\n        {isDragAccept && (<p>Se aceptarán todos los archivos</p>)}\n        {isDragReject && (<p>Algunos archivos serán rechazados</p>)}\n        {!isDragActive && (<p>📂 Suelta algunos archivos aquí ({accept})</p>)}\n      </div>\n    </div>\n  );\n}\n\nconst FormProducto = forwardRef((props, ref) => {\n  \n  const { categorias = [], formRef, producto = {} } = props;\n\n  const [subcategorias, setSubCategorias] = useState([]);\n  const history = useHistory();\n\n  const formik = useFormik({\n    initialValues: initialValues(),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: async (values) => {\n\n      const formProducto = document.getElementById('formProducto');\n      const formData = new FormData(formProducto);\n      \n      formData.append('category_id', (values.category_id).toString())\n      formData.append('subcategory_id', (values.subcategory_id).toString())\n      // formData.append('brand_id', (values.brand_id).toString())\n\n      if((values.imagesBim).length > 0) {\n        (values.imagesBim).forEach(imagen => {\n          formData.append('imagesBim[]', imagen)\n        })\n      }\n\n      if((values.filesBim).length > 0) {\n        (values.filesBim).forEach(file => {\n          formData.append('filesBim[]', file)\n        })\n      }\n\n      formData.append('images', JSON.stringify(values.images));\n      formData.append('filesProduct', JSON.stringify(values.files));\n\n      let res = null;\n      if(values.id) {\n        res = await updateProducto(values.id, formData);\n      } else {\n        res = await addProducto(formData);\n      }\n      if(res) {\n        history.push('/productos');\n      }\n    },\n  });\n\n  const deleteImageFile = (labelState, label, value) => {\n    const items = (formik.values[labelState]).filter(item => item[label] !== value);\n  \n    formik.setFieldValue(labelState, items);\n  }\n\n  const onDropImage = useCallback((acceptedFiles) => {\n    formik.setFieldValue('imagesBim', [...formik.values.imagesBim, ...acceptedFiles]);\n  }, [formik]);\n\n  const onDropFile = useCallback((acceptedFiles) => {\n    formik.setFieldValue('filesBim', [...formik.values.filesBim, ...acceptedFiles]);\n  }, [formik]);\n\n\n  const getImage = (fileReader) => {\n    const reader = (Object.assign(fileReader, {\n      preview: URL.createObjectURL(fileReader)\n    }))\n    \n    return reader.preview;\n  }\n\n  const getCategoriasOptions = (rows = []) => {\n    let listCategoria = [{ text: 'Seleccione', value:'0', key: 0 }];\n\n    rows.forEach(categoria => {\n      listCategoria = [...listCategoria, {\n        key: categoria.id,\n        text: categoria.name,\n        value: categoria.id\n      }];\n    })\n\n    return listCategoria;\n  }\n\n  // const getMarcasOptions = () => {\n  //   let listCategoria = [{ text: 'Seleccione', value:'0', key: 0 }];\n\n  //   marcas.forEach(marca => {\n  //     listCategoria = [...listCategoria, {\n  //       key: marca.id,\n  //       text: marca.name,\n  //       value: marca.id\n  //     }];\n  //   })\n\n  //   return listCategoria;\n  // }\n\n  useImperativeHandle(ref, () => ({\n    handleSubmit() {\n      formik.submitForm();\n    }\n  }))\n  \n  useEffect(() => {\n    if(producto.id) {\n      \n      formik.setValues({...producto, imagesBim: [],\n        filesBim: [],})\n    }\n    \n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [producto.id])\n\n  useEffect(() => {\n    (async () => {\n      if(formik.values.category_id) {\n        const res = await getSubCategorias(formik.values.category_id);\n\n        if(res) {\n          setSubCategorias(res.data);\n        }\n\n      }\n    })()\n    \n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formik.values.category_id])\n\n  return (\n    <Form className=\"FormProducto\" onSubmit={formik.handleSubmit} id=\"formProducto\" ref={formRef}>\n      <Grid>\n        <Grid.Column width={16}>\n          <Form.Group>\n            <Form.Input\n              label=\"Nombre\"\n              required\n              width={5}\n              name=\"name\"\n              value={formik.values.name}\n              onChange={formik.handleChange}\n              error={formik.errors.name}\n            />\n            {/* <Form.Field required={true} width={4}>\n              <label>Marca</label>\n              <Form.Input \n                control={Dropdown}\n                options={getMarcasOptions()}\n                name='brand_id'\n                search selection\n                value={formik.values.brand_id}\n                onChange={(_, data) => formik.setFieldValue('brand_id', data.value)}\n                error={formik.errors.brand_id}\n              />\n            </Form.Field> */}\n            <Form.Field required={true} width={4}>\n              <label>Categoria</label>\n              <Form.Input \n                control={Dropdown}\n                options={getCategoriasOptions(categorias)}\n                name='category_id'\n                search selection\n                value={formik.values.category_id}\n                onChange={(_, data) => formik.setFieldValue('category_id', data.value)}\n                error={formik.errors.category_id}\n              />\n            </Form.Field>\n            {\n              (subcategorias.length > 0) && (\n                <Form.Field width={5}>\n                  <label>SubCategoria</label>\n                  <Form.Input \n                    control={Dropdown}\n                    options={getCategoriasOptions(subcategorias)}\n                    name='subcategory_id'\n                    search selection\n                    value={formik.values.subcategory_id}\n                    onChange={(_, data) => formik.setFieldValue('subcategory_id', data.value)}\n                    error={formik.errors.subcategory_id}\n                  />\n                </Form.Field>\n              )\n            }\n          </Form.Group>\n          <Header as=\"h3\">Detalles</Header>\n          <Divider />\n          <Form.Group>\n            <Form.Input\n              label=\"Descripción\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"description\"\n              value={formik.values.description}\n              onChange={formik.handleChange}\n              error={formik.errors.description}\n            />\n            <Form.Input\n              label=\"Especificaciones técnicas\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"technical_specifications\"\n              value={formik.values.technical_specifications}\n              onChange={formik.handleChange}\n              error={formik.errors.technical_specifications}\n            />\n            <Form.Input\n              label=\"Links\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"links\"\n              value={formik.values.links}\n              onChange={formik.handleChange}\n              error={formik.errors.links}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Input\n              label=\"Links\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"links\"\n              value={formik.values.links}\n              onChange={formik.handleChange}\n              error={formik.errors.links}\n            />\n            <Form.Input\n              label=\"Información relacionada\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"related_information\"\n              value={formik.values.related_information}\n              onChange={formik.handleChange}\n              error={formik.errors.related_information}\n            />\n            <Form.Input\n              label=\"Clasificación\"\n              type=\"text\"\n              control={TextArea}\n              width={16}\n              name=\"classification\"\n              value={formik.values.classification}\n              onChange={formik.handleChange}\n              error={formik.errors.classification}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Input\n              label=\"Propiedades\"\n              type=\"text\"\n              control={TextArea}\n              width={6}\n              name=\"properties\"\n              value={formik.values.properties}\n              onChange={formik.handleChange}\n              error={formik.errors.properties}\n            />\n          </Form.Group>\n          <Header as=\"h3\">Imágenes</Header>\n          <Divider />\n          \n          <DropzoneWithoutClick onDrop={onDropImage} accept=\".jpeg,.png\"/>\n          <div className=\"images-productos\" style={{marginBottom: 20}}>\n          {(formik.values.imagesBim).map((image, index) => (\n            <div className=\"images-productos__item\" key={index}>\n              <Image size=\"small\" src={getImage(image)} />\n              <div className=\"images-productos__item__actions\">\n                <Button type=\"button\" onClick={() => deleteImageFile('imagesBim', 'lastModified', image.lastModified)} size=\"tiny\" color=\"red\" icon><FaTrash /></Button>\n              </div>\n              \n            </div>\n          ))}\n          \n          </div>\n          \n          <div className=\"images-productos\">\n          {(formik.values.images).map((image, index) => (\n            <div className=\"images-productos__item\" key={index}>\n              <Image size=\"small\" src={`${process.env.REACT_APP_HOST_URL}/${image.path}`} />\n              <div className=\"images-productos__item__actions\">\n                <Label color=\"green\"><FaCheck /></Label>\n                <Button type=\"button\" size=\"tiny\" color=\"red\" onClick={() => deleteImageFile('images', 'id', image.id)} icon><FaTrash /></Button>\n              </div>\n              \n            </div>\n          ))}\n          </div>\n          <Header as=\"h3\">Archivos</Header>\n          <Divider />\n\n          <DropzoneWithoutClick onDrop={onDropFile} accept=\".pdf,.rtv,.rvt,.doc,.csv,.docx,.xls,.xlsx,.rfa,.rar,.zip,.ifc\"/>\n          <div className=\"images-productos\" style={{marginBottom: 20}}>\n          \n            {(formik.values.filesBim).map((file, index) => (\n              <div className=\"images-productos__item\" key={index}>\n                <div className=\"file\">\n                  <FaFileAlt style={{fontSize: 70}} /><br/>\n                  <p>{file.name}</p>\n                </div>\n\n                <div className=\"images-productos__item__actions\">\n                  <Button type=\"button\" size=\"tiny\" color=\"red\" onClick={() => deleteImageFile('filesBim', 'lastModified', file.lastModified)} icon><FaTrash /></Button>\n                </div>\n                \n              </div>\n            ))}\n          </div>\n          <div className=\"images-productos\">\n          \n            {(formik.values.files).map((file, index) => (\n              <div className=\"images-productos__item\" key={index}>\n                <div className=\"file\">\n                  <a href={`${process.env.REACT_APP_HOST_URL}/${file.path}`} rel=\"noreferrer\" target='_blank'>\n                    <FaFileAlt style={{fontSize: 70}} />\n                  </a><br/>\n                  <p>{file.name}</p>\n                </div>\n\n                <div className=\"images-productos__item__actions\">\n                  <Label color=\"green\"><FaCheck /></Label>\n                  <Button type=\"button\" size=\"tiny\" color=\"red\" onClick={() => deleteImageFile('files', 'id', file.id)} icon><FaTrash /></Button>\n                </div>\n                \n              </div>\n            ))}\n          </div>\n        </Grid.Column>\n        {/* <Grid.Column width={4}>\n        </Grid.Column> */}\n      </Grid>\n    </Form>\n  );\n});\n\nexport default FormProducto;\n\nconst initialValues = () => {\n  return {\n    name: \"\",\n    description: \"\",\n    technical_specifications: \"\",\n    links: \"\",\n    related_information: \"\",\n    classification: \"\",\n    properties: \"\",\n    // precio: \"\",\n    category_id: \"0\",\n    subcategory_id: \"0\",\n    // brand_id: \"0\",\n    imagesBim: [],\n    filesBim: [],\n    images: [],\n    files: []\n  };\n};\n\nconst validationSchema = () => {\n  const validation = {\n    name: Yup.string().required(\"Este campo es obligatorio\"),\n    // precio: Yup.number()\n    //   .positive(\"Solo números positivos\")\n    //   .required(\"Este campo es requerido\")\n    //   .typeError(\"Solo se permiten números\"),\n    category_id: Yup.number().positive('Este campo es requerido').required('Este campo es requerido.'),\n    // brand_id: Yup.number().positive('Este campo es requerido').required('Este campo es requerido.')\n  };\n  return validation;\n};\n","import { FaSave, FaTrash } from \"react-icons/fa\";\nimport { Button, Card } from \"semantic-ui-react\";\nimport HeaderPage from \"../../../components/Layout/HeaderPage\";\nimport { Link, useParams } from 'react-router-dom';\nimport FormProducto from '../../../components/Productos/FormProducto';\nimport { useEffect, useState } from \"react\";\nimport { getDataFichaProducto } from \"../../../actions/productosActions\";\nimport { Loading } from \"notiflix\";\nimport { useRef } from \"react\";\n\nconst Ficha = () => {\n\n  const [categorias, setCategorias] = useState([]);\n  const [marcas, setMarcas] = useState([]);\n  const [producto, setProducto] = useState({});\n  const formRef = useRef(null);\n  const params = useParams();\n\n  const handleForm = () => {\n    formRef.current.handleSubmit();\n  }\n\n  useEffect(() => {\n    (async () => {\n      \n      Loading.pulse();\n      const { id } = params;\n\n      if(id) {\n        const res = await getDataFichaProducto(id);\n        \n        if(res) {\n          setProducto(res.producto);\n          setCategorias(res.categorias);\n          setMarcas(res.marcas);\n        }\n\n      } else {\n        \n        const res = await getDataFichaProducto();\n        \n        if(res) {\n          setMarcas(res.marcas);\n          setCategorias(res.categorias);\n        }\n      }\n      \n      Loading.remove();\n      \n    })()\n  }, [])\n\n  return ( \n    <div className=\"Fichas\">\n      <HeaderPage>\n        <div className=\"item ui colhidden\">\n          <Button onClick={handleForm} primary className=\"ui button\">\n            <FaSave /> &nbsp;Guardar\n          </Button>\n        </div>\n        <div className=\"item ui colhidden\">\n          <Link to=\"/productos\" className=\"ui button\">\n            <FaTrash /> &nbsp;Cancelar\n          </Link>\n        </div>\n      </HeaderPage>\n      <div className=\"Ficha__body app__container_body\">\n        <div className=\"app_content__padded_view\">\n          <Card fluid>\n            <Card.Content header='Datos del producto' />\n            <Card.Content>\n              <FormProducto \n                categorias={categorias}\n                formRef={formRef}\n                producto={producto}\n                marcas={marcas}\n              />\n            </Card.Content>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n \nexport default Ficha;"],"sourceRoot":""}