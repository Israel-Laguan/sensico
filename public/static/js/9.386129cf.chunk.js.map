{"version":3,"sources":["components/Layout/HeaderPage/HeaderPage.js","hooks/useLoaderTable.js","actions/seccionActions.js","hooks/useDimensionTable.js","components/Shared/Modal/BasicModal/BasicModal.js","components/Secciones/FormSeccion/FormSeccion.js","pages/Secciones/Secciones.js"],"names":["HeaderPage","children","className","id","style","height","useLoaderTable","url","params","take","useState","skip","dataState","setDataState","urlBase","process","siHayParams","Object","keys","length","forEach","key","index","getUrlBase","baseUrl","setBaseUrl","dataResul","setDataResult","dataReceived","products","lastSuccess","useRef","pending","infoHelperRef","requestDataIfNeeded","a","reload","infoHelper","toODataString","current","addUrl","convertQueryString","loadAxios","method","response","json","data","call","undefined","body","total","count","console","log","error","useEffect","handleCustomSearch","e","valueSearch","target","value","search","dataStateChange","objQuery","queryString","getSeccionById","authAxios","get","res","status","STATUS_OK","addSeccion","datos","post","Notify","success","msg","updateSeccion","put","deleteSeccion","delete","getSeccionsAsync","Promise","resolve","useDimensionTable","width","window","innerWidth","innerHeight","windowSize","handleResize","gridElement","document","querySelector","newHeight","addEventListener","removeEventListener","BasicModal","title","size","actions","show","rest","setShow","Modal","open","Header","Content","Actions","FormSeccion","forwardRef","props","ref","loadDataTable","formik","useFormik","initialValues","validationSchema","Yup","name","required","onSubmit","values","Loading","pulse","remove","useImperativeHandle","handleSubmit","submitForm","getSeccion","setValues","failure","Form","Group","widths","Input","label","errors","onChange","handleChange","Secciones","idSeccion","setIdSeccion","formRef","class","onClick","Button","sortable","pageable","onDataStateChange","cell","dataItem","overflow","Dropdown","icon","floating","button","Menu","Item","text","nombre","Confirm","field","primary"],"mappings":"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","file":"static/js/9.386129cf.chunk.js","sourcesContent":["import './HeaderPage.scss';\n\nconst HeaderPage = ({ children }) => {\n  return ( \n    <div className=\"navslide navwrap\" id=\"app_content_toolbar\" >\n      <div className=\"ui menu icon borderless\" data-color=\"inverted white\" style={{height:40}}>\n        { children }\n      </div>\n    </div>\n  );\n}\n\nexport default HeaderPage;","import { useEffect, useRef, useState } from \"react\";\nimport { toODataString } from \"@progress/kendo-data-query\";\nimport response from \"../config/network/response\";\nimport loadAxios from \"../config/network/loadAxios\";\n\nconst useLoaderTable = ({ url = null, params = {}, take = 20 }) => {\n  const [dataState, setDataState] = useState({\n    take: take,\n    skip: 0,\n  });\n\n  const getUrlBase = () => {\n    let urlBase = `${process.env.REACT_APP_API_URL}/${url}`;\n    let siHayParams = false;\n\n    if(Object.keys(params).length > 0)\n    {\n\n      siHayParams = true;\n      \n      (Object.keys(params)).forEach((key, index) => {\n        \n        if(index === 0) {\n          urlBase += `?${key}=${params[key]}&`;\n        } else {\n          urlBase += `${key}=${params[key]}&`;\n        }\n      })\n    }\n\n    if(!siHayParams) {\n      urlBase += '?';\n    }\n\n    return urlBase;\n  }\n\n  const [baseUrl, setBaseUrl] = useState(getUrlBase());\n\n  const [dataResul, setDataResult] = useState();\n\n  const dataStateChange = (e) => {\n    setDataState(e.dataState);\n  };\n\n  const dataReceived = (products) => {\n    setDataResult(products);\n  };\n\n  const lastSuccess = useRef(\"\");\n  const pending = useRef(\"\");\n  const infoHelperRef = useRef(null);\n\n  const handleCustomSearch = (e) => {\n    if (e.key === 'Enter') {\n      const valueSearch = e.target.value;\n      requestDataIfNeeded(true, {search: valueSearch});\n    }\n  }\n\n  const requestDataIfNeeded = async (reload = false, infoHelper = null) => {\n    \n    if ((toODataString(dataState) === lastSuccess.current) && !reload) {\n      return;\n    }\n\n    pending.current = toODataString(dataState);\n    \n    try {\n\n      let addUrl = '';\n\n      if(infoHelper || infoHelperRef.current) {\n       \n        if(infoHelper !== infoHelperRef.current && infoHelper) {\n          infoHelperRef.current = infoHelper;\n        }\n        addUrl = convertQueryString(infoHelperRef.current);\n      }\n\n      const response = await loadAxios({ url: baseUrl + pending.current + addUrl, method: \"GET\" });\n      const json = response.data; \n      \n      lastSuccess.current = pending.current;\n      pending.current = \"\";\n\n      if (toODataString(dataState) === lastSuccess.current) {\n        dataReceived.call(undefined, {\n          data: json.body.data,\n          total: json.body.count,\n        });\n      } else {\n        requestDataIfNeeded();\n      }\n    } catch (error) {\n      console.log(error);\n      response.error(error);\n    }\n  };\n\n  useEffect(() => {\n    requestDataIfNeeded();\n  }, [dataState]);\n\n  return { dataResul, dataState, handleCustomSearch, setBaseUrl, setDataState, baseUrl, dataStateChange, requestDataIfNeeded };\n};\n\nexport default useLoaderTable;\n\nconst convertQueryString = (objQuery = {}) => {\n  if (!Object.keys(objQuery).length) {\n    return '';\n  }\n\n  let queryString = '';\n\n  (Object.keys(objQuery)).forEach(key => {\n    queryString += `&$${key}=${objQuery[key]}&`;\n  })\n\n  return queryString;\n\n}\n","import { Notify } from \"notiflix\";\r\nimport authAxios from \"../config/authAxios\";\r\nimport { STATUS_OK } from \"../config/constants\";\r\nimport response from \"../config/network/response\";\r\n\r\nexport const getSeccionById = async (id) => {\r\n  \r\n    try {\r\n      const res = await authAxios.get(`/section/${id}`);\r\n\r\n      if(res.data.status === STATUS_OK) {\r\n        return (res.data.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n}\r\n\r\nexport const addSeccion = async (datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.post('/section', datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se creo correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const updateSeccion = async (id, datos) => {\r\n  try {\r\n    \r\n    const res = await authAxios.put(`/section/${id}`, datos);\r\n\r\n    if(res.data.status === STATUS_OK){\r\n      Notify.success('Se editó correctamente.');\r\n      return true;\r\n    } else {\r\n      if(res.data.msg) {\r\n        response.error(null, res.data.msg);\r\n      } else {\r\n        response.error('Opps... hubo un error inesperador.');\r\n      }\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n} \r\n\r\n\r\nexport const deleteSeccion = async id => {\r\n  try {\r\n    const res = await authAxios.delete(`/section/${id}`);\r\n\r\n    if(res.data.status === STATUS_OK) {\r\n      response.success(null, 'Se elimino correctamente.');\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getSecciones = async () => {\r\n  try {\r\n    const res = await authAxios.get('/sections');\r\n  \r\n    if(res.data.status === STATUS_OK) {\r\n      return res.data.body;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  } catch (error) {\r\n    response.error(error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const getSeccionsAsync = async () => {\r\n  \r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const res = await authAxios.get('/sections');\r\n    \r\n      if(res.data.status === STATUS_OK) {\r\n        resolve(res.data.body.data);\r\n      } else {\r\n        resolve(false);\r\n      }\r\n  \r\n    } catch (error) {\r\n      resolve(false);\r\n    }\r\n  })\r\n}\r\n","import { useEffect, useState } from \"react\";\n\nconst useDimensionTable = () => {\n\n  const [windowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      \n      // let containerBody = document.querySelector('.app__container_body');\n\n      // let newHeight = window.innerHeight - 90;\n      let gridElement = document.querySelector('.k-widget.k-grid.grid');\n      // var dataArea = gridElement.querySelector(\".k-grid-container\");\n\n\n      var newHeight = window.innerHeight - 90;\n      // let diffContainer = containerBody.clientHeight - newHeight;\n\n      // console.log(diffContainer)\n\n      // newHeight = newHeight - diffContainer;\n\n      // var diff = gridElement.clientHeight - dataArea.clientHeight;\n      //gridElement.height(newHeight);\n      // dataArea.style.height = (newHeight - diff) + 'px';\n      if (gridElement) {\n        gridElement.style.height = `${newHeight}px`; \n      }\n      // setWindowSize({\n      //   width: window.innerWidth,\n      //   height: newHeight\n      // })\n  \n    }\n  \n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize())\n  \n  }, [])\n\n  return { width: windowSize.width, height: windowSize.height }\n\n}\n\nexport default useDimensionTable;\n","import { Modal } from \"semantic-ui-react\";\r\n\r\nconst BasicModal = ({ title = '', children, size = 'small', actions, show = false, setShow, ...rest }) => {\r\n\r\n  return ( \r\n    <Modal open={show} size={size} {...rest}>\r\n      <Modal.Header>\r\n        {title}\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        {children}      \r\n      </Modal.Content>\r\n      {\r\n        actions && (\r\n          <Modal.Actions>\r\n          {actions}\r\n        </Modal.Actions>\r\n        )\r\n      }\r\n    </Modal>\r\n  );\r\n}\r\n \r\nexport default BasicModal;","import { forwardRef, useImperativeHandle } from 'react';\r\nimport { useFormik } from \"formik\";\r\nimport { Form } from \"semantic-ui-react\";\r\nimport * as Yup from 'yup';\r\nimport { Loading, Notify } from 'notiflix';\r\nimport { useEffect } from 'react';\r\nimport { addSeccion, getSeccionById, updateSeccion } from '../../../actions/seccionActions';\r\n\r\nconst FormSeccion = forwardRef((props, ref) => {\r\n  \r\n  const { setShow, loadDataTable, id } = props;\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      'name': ''\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required('Este campo es requerido.'),\r\n    }),\r\n    onSubmit: async values => {\r\n      Loading.pulse();\r\n\r\n      let res = null;\r\n\r\n      if(id) {\r\n        res = await updateSeccion(id, values);\r\n      } else {\r\n        res = await addSeccion(values);\r\n      }\r\n      \r\n      if(res) {\r\n        setShow(false);\r\n        loadDataTable(true);\r\n        return;\r\n      }\r\n      Loading.remove();\r\n    }\r\n  });\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleSubmit() {\r\n      formik.submitForm();\r\n    }\r\n  }))\r\n\r\n  const getSeccion = async () => {\r\n\r\n    Loading.pulse();\r\n    const res = await getSeccionById(id);\r\n\r\n    if(res) {\r\n      formik.setValues(res);\r\n    } else {\r\n      Notify.failure('No se encontro la sección');\r\n    }\r\n\r\n    Loading.remove();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(id) {\r\n      getSeccion();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id])\r\n  \r\n  return ( \r\n    <Form onSubmit={formik.handleSubmit}>\r\n      <Form.Group widths='equal'>\r\n        <Form.Input\r\n          label=\"Nombre\"\r\n          name=\"name\"\r\n          required\r\n          value={formik.values.name}\r\n          error={formik.errors.name}\r\n          onChange={formik.handleChange}\r\n        />\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n})\r\n \r\nexport default FormSeccion;","import HeaderPage from \"../../components/Layout/HeaderPage\";\r\nimport BasicModal from \"../../components/Shared/Modal/BasicModal\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { Button, Dropdown } from \"semantic-ui-react\";\r\nimport { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport useLoaderTable from \"../../hooks/useLoaderTable\";\r\nimport {\r\n  Grid,\r\n  GridColumn as Column\r\n} from \"@progress/kendo-react-grid\";\r\nimport { Loading, Confirm } from \"notiflix\";\r\nimport useDimensionTable from \"../../hooks/useDimensionTable\";\r\nimport FormSeccion from \"../../components/Secciones/FormSeccion\";\r\nimport { deleteSeccion } from \"../../actions/seccionActions\";\r\n\r\nconst Secciones = () => {\r\n\r\n  const { dataResul, dataState, dataStateChange, requestDataIfNeeded } = useLoaderTable({ url: 'sections'});\r\n  const [idSeccion, setIdSeccion] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const formRef = useRef();\r\n  useDimensionTable();\r\n\r\n  const handleEditar = id => {\r\n    setIdSeccion(id)\r\n    setShow(true);\r\n  }\r\n\r\n  const handleEliminar = (id, nombre) => {\r\n    Confirm.show(\r\n      'SECCIONES',\r\n      `¿Desea eliminar a la sección ${nombre}?`,\r\n      'Aceptar',\r\n      'Cancelar',\r\n      async function(){\r\n        \r\n        Loading.pulse();\r\n        const res = await deleteSeccion(id);\r\n\r\n        if(res) {\r\n          requestDataIfNeeded(true);\r\n          return;\r\n        }\r\n        Loading.remove();\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"Sections\">\r\n      <HeaderPage>\r\n        <div class=\"item ui colhidden\">\r\n          <button class=\"ui icon button\" onClick={() => requestDataIfNeeded(true)}>\r\n            <i class=\"sync icon\"></i>\r\n          </button>\r\n        </div>\r\n        <div className=\"item ui colhidden\">\r\n          <div className=\"ui big breadcrumb\">\r\n            <h2 className=\"section active\">SECCIONES</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"item ui colhidden\">\r\n            <Button onClick={() => {\r\n              setIdSeccion(null);\r\n              setShow(true)\r\n            }} className=\"ui button\">\r\n              <FaPlus /> Nueva sección\r\n            </Button>\r\n          </div>\r\n      </HeaderPage>\r\n      <div className=\"Sections__body app__container_body\">\r\n          <div className=\"Sections__tabla\">\r\n          <Grid\r\n            sortable={true}\r\n            pageable={true}\r\n            {...dataState}\r\n            {...dataResul}\r\n            onDataStateChange={dataStateChange}\r\n            className=\"grid\"\r\n          >\r\n            <Column\r\n              width={50}\r\n              cell={({ dataItem }) => (\r\n                <td style={{overflow: \"inherit\"}}>\r\n                  <Dropdown\r\n                    icon='ellipsis vertical'\r\n                    floating\r\n                    button\r\n                    className='icon circular compact ui left pointing'\r\n                  >\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item\r\n                        icon=\"edit\"\r\n                        className=\"blue\"\r\n                        text='Editar'\r\n                        onClick={() => handleEditar(dataItem.id)}\r\n                      />\r\n                      <Dropdown.Item\r\n                        icon=\"delete\"\r\n                        className=\"red\"\r\n                        text='Eliminar'\r\n                        onClick={() => handleEliminar(dataItem.id, dataItem.name)}\r\n                      />\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </td>\r\n              )}\r\n            />\r\n            <Column\r\n              width={100}\r\n              title='ID'\r\n              field=\"id\"\r\n            />\r\n            <Column field=\"name\" title=\"NOMBRES\" />\r\n            <Column field=\"slug\" title=\"URL\" />\r\n          </Grid>\r\n          </div>\r\n      </div>\r\n      <BasicModal \r\n        title=\"Ficha sección\" \r\n        show={show}\r\n        size=\"mini\"\r\n        actions={<>\r\n          <Button onClick={() => setShow(false)}>Cancelar</Button>\r\n          <Button primary onClick={() => formRef.current.handleSubmit()}>Guardar</Button>\r\n        </>}\r\n      >\r\n        <FormSeccion\r\n          ref={formRef}\r\n          setShow={setShow}\r\n          loadDataTable={requestDataIfNeeded}\r\n          id={idSeccion}\r\n        />\r\n      </BasicModal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Secciones;"],"sourceRoot":""}